var n_=Object.defineProperty;var Lw=t=>{throw TypeError(t)};var i_=(t,e,r)=>e in t?n_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var rp=(t,e,r)=>i_(t,typeof e!="symbol"?e+"":e,r),sp=(t,e,r)=>e.has(t)||Lw("Cannot "+r);var se=(t,e,r)=>(sp(t,e,"read from private field"),r?r.call(t):e.get(t)),et=(t,e,r)=>e.has(t)?Lw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),We=(t,e,r,s)=>(sp(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),ft=(t,e,r)=>(sp(t,e,"access private method"),r);var Of=(t,e,r,s)=>({set _(a){We(t,e,a,r)},get _(){return se(t,e,s)}});function $C(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Vv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),r}var XC={exports:{}},nx={},GC={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=Symbol.for("react.element"),l_=Symbol.for("react.portal"),c_=Symbol.for("react.fragment"),d_=Symbol.for("react.strict_mode"),u_=Symbol.for("react.profiler"),h_=Symbol.for("react.provider"),f_=Symbol.for("react.context"),m_=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),p_=Symbol.for("react.memo"),g_=Symbol.for("react.lazy"),Iw=Symbol.iterator;function y_(t){return t===null||typeof t!="object"?null:(t=Iw&&t[Iw]||t["@@iterator"],typeof t=="function"?t:null)}var KC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qC=Object.assign,ZC={};function Vd(t,e,r){this.props=t,this.context=e,this.refs=ZC,this.updater=r||KC}Vd.prototype.isReactComponent={};Vd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QC(){}QC.prototype=Vd.prototype;function $v(t,e,r){this.props=t,this.context=e,this.refs=ZC,this.updater=r||KC}var Xv=$v.prototype=new QC;Xv.constructor=$v;qC(Xv,Vd.prototype);Xv.isPureReactComponent=!0;var Ow=Array.isArray,JC=Object.prototype.hasOwnProperty,Gv={current:null},ek={key:!0,ref:!0,__self:!0,__source:!0};function tk(t,e,r){var s,a={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)JC.call(e,s)&&!ek.hasOwnProperty(s)&&(a[s]=e[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:nf,type:t,key:i,ref:o,props:a,_owner:Gv.current}}function v_(t,e){return{$$typeof:nf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===nf}function b_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Bw=/\/+/g;function ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b_(""+t.key):e.toString(36)}function j0(t,e,r,s,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nf:case l_:o=!0}}if(o)return o=t,a=a(o),t=s===""?"."+ap(o,0):s,Ow(a)?(r="",t!=null&&(r=t.replace(Bw,"$&/")+"/"),j0(a,e,r,"",function(d){return d})):a!=null&&(Kv(a)&&(a=v_(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Bw,"$&/")+"/")+t)),e.push(a)),1;if(o=0,s=s===""?".":s+":",Ow(t))for(var l=0;l<t.length;l++){i=t[l];var c=s+ap(i,l);o+=j0(i,e,r,c,a)}else if(c=y_(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=s+ap(i,l++),o+=j0(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bf(t,e,r){if(t==null)return t;var s=[],a=0;return j0(t,s,"","",function(i){return e.call(r,i,a++)}),s}function w_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var aa={current:null},S0={transition:null},N_={ReactCurrentDispatcher:aa,ReactCurrentBatchConfig:S0,ReactCurrentOwner:Gv};function rk(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:Bf,forEach:function(t,e,r){Bf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Bf(t,function(){e++}),e},toArray:function(t){return Bf(t,function(e){return e})||[]},only:function(t){if(!Kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Component=Vd;Nt.Fragment=c_;Nt.Profiler=u_;Nt.PureComponent=$v;Nt.StrictMode=d_;Nt.Suspense=x_;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_;Nt.act=rk;Nt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=qC({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Gv.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)JC.call(e,c)&&!ek.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:nf,type:t.type,key:a,ref:i,props:s,_owner:o}};Nt.createContext=function(t){return t={$$typeof:f_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h_,_context:t},t.Consumer=t};Nt.createElement=tk;Nt.createFactory=function(t){var e=tk.bind(null,t);return e.type=t,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:m_,render:t}};Nt.isValidElement=Kv;Nt.lazy=function(t){return{$$typeof:g_,_payload:{_status:-1,_result:t},_init:w_}};Nt.memo=function(t,e){return{$$typeof:p_,type:t,compare:e===void 0?null:e}};Nt.startTransition=function(t){var e=S0.transition;S0.transition={};try{t()}finally{S0.transition=e}};Nt.unstable_act=rk;Nt.useCallback=function(t,e){return aa.current.useCallback(t,e)};Nt.useContext=function(t){return aa.current.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t){return aa.current.useDeferredValue(t)};Nt.useEffect=function(t,e){return aa.current.useEffect(t,e)};Nt.useId=function(){return aa.current.useId()};Nt.useImperativeHandle=function(t,e,r){return aa.current.useImperativeHandle(t,e,r)};Nt.useInsertionEffect=function(t,e){return aa.current.useInsertionEffect(t,e)};Nt.useLayoutEffect=function(t,e){return aa.current.useLayoutEffect(t,e)};Nt.useMemo=function(t,e){return aa.current.useMemo(t,e)};Nt.useReducer=function(t,e,r){return aa.current.useReducer(t,e,r)};Nt.useRef=function(t){return aa.current.useRef(t)};Nt.useState=function(t){return aa.current.useState(t)};Nt.useSyncExternalStore=function(t,e,r){return aa.current.useSyncExternalStore(t,e,r)};Nt.useTransition=function(){return aa.current.useTransition()};Nt.version="18.3.1";GC.exports=Nt;var P=GC.exports;const Le=Vv(P),j_=$C({__proto__:null,default:Le},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_=P,C_=Symbol.for("react.element"),k_=Symbol.for("react.fragment"),A_=Object.prototype.hasOwnProperty,T_=S_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E_={key:!0,ref:!0,__self:!0,__source:!0};function sk(t,e,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)A_.call(e,s)&&!E_.hasOwnProperty(s)&&(a[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)a[s]===void 0&&(a[s]=e[s]);return{$$typeof:C_,type:t,key:i,ref:o,props:a,_owner:T_.current}}nx.Fragment=k_;nx.jsx=sk;nx.jsxs=sk;XC.exports=nx;var n=XC.exports,ak={exports:{}},Va={},nk={exports:{}},ik={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,J){var Z=Y.length;Y.push(J);e:for(;0<Z;){var ne=Z-1>>>1,F=Y[ne];if(0<a(F,J))Y[ne]=J,Y[Z]=F,Z=ne;else break e}}function r(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var J=Y[0],Z=Y.pop();if(Z!==J){Y[0]=Z;e:for(var ne=0,F=Y.length,Q=F>>>1;ne<Q;){var W=2*(ne+1)-1,G=Y[W],te=W+1,ee=Y[te];if(0>a(G,Z))te<F&&0>a(ee,G)?(Y[ne]=ee,Y[te]=Z,ne=te):(Y[ne]=G,Y[W]=Z,ne=W);else if(te<F&&0>a(ee,Z))Y[ne]=ee,Y[te]=Z,ne=te;else break e}}return J}function a(Y,J){var Z=Y.sortIndex-J.sortIndex;return Z!==0?Z:Y.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,p=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Y){for(var J=r(d);J!==null;){if(J.callback===null)s(d);else if(J.startTime<=Y)s(d),J.sortIndex=J.expirationTime,e(c,J);else break;J=r(d)}}function w(Y){if(x=!1,b(Y),!p)if(r(c)!==null)p=!0,q(N);else{var J=r(d);J!==null&&K(w,J.startTime-Y)}}function N(Y,J){p=!1,x&&(x=!1,y(k),k=-1),m=!0;var Z=f;try{for(b(J),h=r(c);h!==null&&(!(h.expirationTime>J)||Y&&!E());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var F=ne(h.expirationTime<=J);J=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(c)&&s(c),b(J)}else s(c);h=r(c)}if(h!==null)var Q=!0;else{var W=r(d);W!==null&&K(w,W.startTime-J),Q=!1}return Q}finally{h=null,f=Z,m=!1}}var C=!1,S=null,k=-1,A=5,T=-1;function E(){return!(t.unstable_now()-T<A)}function D(){if(S!==null){var Y=t.unstable_now();T=Y;var J=!0;try{J=S(!0,Y)}finally{J?_():(C=!1,S=null)}}else C=!1}var _;if(typeof v=="function")_=function(){v(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,H=z.port2;z.port1.onmessage=D,_=function(){H.postMessage(null)}}else _=function(){g(D,0)};function q(Y){S=Y,C||(C=!0,_())}function K(Y,J){k=g(function(){Y(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,q(N))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var Z=f;f=J;try{return Y()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=f;f=Y;try{return J()}finally{f=Z}},t.unstable_scheduleCallback=function(Y,J,Z){var ne=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ne+Z:ne):Z=ne,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Z+F,Y={id:u++,callback:J,priorityLevel:Y,startTime:Z,expirationTime:F,sortIndex:-1},Z>ne?(Y.sortIndex=Z,e(d,Y),r(c)===null&&Y===r(d)&&(x?(y(k),k=-1):x=!0,K(w,Z-ne))):(Y.sortIndex=F,e(c,Y),p||m||(p=!0,q(N))),Y},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(Y){var J=f;return function(){var Z=f;f=J;try{return Y.apply(this,arguments)}finally{f=Z}}}})(ik);nk.exports=ik;var P_=nk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __=P,za=P_;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ok=new Set,dh={};function nc(t,e){bd(t,e),bd(t+"Capture",e)}function bd(t,e){for(dh[t]=e,t=0;t<e.length;t++)ok.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=Object.prototype.hasOwnProperty,D_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uw={},Hw={};function M_(t){return Og.call(Hw,t)?!0:Og.call(Uw,t)?!1:D_.test(t)?Hw[t]=!0:(Uw[t]=!0,!1)}function R_(t,e,r,s){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F_(t,e,r,s){if(e===null||typeof e>"u"||R_(t,e,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function na(t,e,r,s,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ds={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ds[t]=new na(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ds[e]=new na(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ds[t]=new na(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ds[t]=new na(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ds[t]=new na(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ds[t]=new na(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ds[t]=new na(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ds[t]=new na(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ds[t]=new na(t,5,!1,t.toLowerCase(),null,!1,!1)});var qv=/[\-:]([a-z])/g;function Zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qv,Zv);Ds[e]=new na(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qv,Zv);Ds[e]=new na(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qv,Zv);Ds[e]=new na(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ds[t]=new na(t,1,!1,t.toLowerCase(),null,!1,!1)});Ds.xlinkHref=new na("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ds[t]=new na(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qv(t,e,r,s){var a=Ds.hasOwnProperty(e)?Ds[e]:null;(a!==null?a.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F_(e,r,a,s)&&(r=null),s||a===null?M_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,s=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?t.setAttributeNS(s,e,r):t.setAttribute(e,r))))}var Ui=__.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uf=Symbol.for("react.element"),Tc=Symbol.for("react.portal"),Ec=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),lk=Symbol.for("react.provider"),ck=Symbol.for("react.context"),eb=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),Hg=Symbol.for("react.suspense_list"),tb=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),dk=Symbol.for("react.offscreen"),zw=Symbol.iterator;function fu(t){return t===null||typeof t!="object"?null:(t=zw&&t[zw]||t["@@iterator"],typeof t=="function"?t:null)}var Pr=Object.assign,np;function _u(t){if(np===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);np=e&&e[1]||""}return`
`+np+t}var ip=!1;function op(t,e){if(!t||ip)return"";ip=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ip=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_u(t):""}function L_(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=op(t.type,!1),t;case 11:return t=op(t.type.render,!1),t;case 1:return t=op(t.type,!0),t;default:return""}}function zg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ec:return"Fragment";case Tc:return"Portal";case Bg:return"Profiler";case Jv:return"StrictMode";case Ug:return"Suspense";case Hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ck:return(t.displayName||"Context")+".Consumer";case lk:return(t._context.displayName||"Context")+".Provider";case eb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tb:return e=t.displayName||null,e!==null?e:zg(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return zg(t(e))}catch{}}return null}function I_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zg(e);case 8:return e===Jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function O_(t){var e=uk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hf(t){t._valueTracker||(t._valueTracker=O_(t))}function hk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),s="";return t&&(s=uk(t)?t.checked?"true":"false":t.value),t=s,t!==r?(e.setValue(t),!0):!1}function K0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wg(t,e){var r=e.checked;return Pr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ww(t,e){var r=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;r=Eo(e.value!=null?e.value:r),t._wrapperState={initialChecked:s,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fk(t,e){e=e.checked,e!=null&&Qv(t,"checked",e,!1)}function Yg(t,e){fk(t,e);var r=Eo(e.value),s=e.type;if(r!=null)s==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vg(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vg(t,e.type,Eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vg(t,e,r){(e!=="number"||K0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Du=Array.isArray;function Gc(t,e,r,s){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&s&&(t[r].defaultSelected=!0)}else{for(r=""+Eo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,s&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function $g(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Pr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ke(92));if(Du(r)){if(1<r.length)throw Error(ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Eo(r)}}function mk(t,e){var r=Eo(e.value),s=Eo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),s!=null&&(t.defaultValue=""+s)}function $w(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zf,pk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,s,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,s,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zf=zf||document.createElement("div"),zf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B_=["Webkit","ms","Moz","O"];Object.keys(zu).forEach(function(t){B_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zu[e]=zu[t]})});function gk(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zu.hasOwnProperty(t)&&zu[t]?(""+e).trim():e+"px"}function yk(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=gk(r,e[r],s);r==="float"&&(r="cssFloat"),s?t.setProperty(r,a):t[r]=a}}var U_=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gg(t,e){if(e){if(U_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function Kg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qg=null;function rb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zg=null,Kc=null,qc=null;function Xw(t){if(t=cf(t)){if(typeof Zg!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=dx(e),Zg(t.stateNode,t.type,e))}}function vk(t){Kc?qc?qc.push(t):qc=[t]:Kc=t}function bk(){if(Kc){var t=Kc,e=qc;if(qc=Kc=null,Xw(t),e)for(t=0;t<e.length;t++)Xw(e[t])}}function wk(t,e){return t(e)}function Nk(){}var lp=!1;function jk(t,e,r){if(lp)return t(e,r);lp=!0;try{return wk(t,e,r)}finally{lp=!1,(Kc!==null||qc!==null)&&(Nk(),bk())}}function hh(t,e){var r=t.stateNode;if(r===null)return null;var s=dx(r);if(s===null)return null;r=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ke(231,e,typeof r));return r}var Qg=!1;if(Ei)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){Qg=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{Qg=!1}function H_(t,e,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var Wu=!1,q0=null,Z0=!1,Jg=null,z_={onError:function(t){Wu=!0,q0=t}};function W_(t,e,r,s,a,i,o,l,c){Wu=!1,q0=null,H_.apply(z_,arguments)}function Y_(t,e,r,s,a,i,o,l,c){if(W_.apply(this,arguments),Wu){if(Wu){var d=q0;Wu=!1,q0=null}else throw Error(ke(198));Z0||(Z0=!0,Jg=d)}}function ic(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Sk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gw(t){if(ic(t)!==t)throw Error(ke(188))}function V_(t){var e=t.alternate;if(!e){if(e=ic(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var r=t,s=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Gw(a),t;if(i===s)return Gw(a),e;i=i.sibling}throw Error(ke(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(ke(189))}}if(r.alternate!==s)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?t:e}function Ck(t){return t=V_(t),t!==null?kk(t):null}function kk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kk(t);if(e!==null)return e;t=t.sibling}return null}var Ak=za.unstable_scheduleCallback,Kw=za.unstable_cancelCallback,$_=za.unstable_shouldYield,X_=za.unstable_requestPaint,Wr=za.unstable_now,G_=za.unstable_getCurrentPriorityLevel,sb=za.unstable_ImmediatePriority,Tk=za.unstable_UserBlockingPriority,Q0=za.unstable_NormalPriority,K_=za.unstable_LowPriority,Ek=za.unstable_IdlePriority,ix=null,Qn=null;function q_(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(ix,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:J_,Z_=Math.log,Q_=Math.LN2;function J_(t){return t>>>=0,t===0?32:31-(Z_(t)/Q_|0)|0}var Wf=64,Yf=4194304;function Mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function J0(t,e){var r=t.pendingLanes;if(r===0)return 0;var s=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=Mu(l):(i&=o,i!==0&&(s=Mu(i)))}else o=r&~a,o!==0?s=Mu(o):i!==0&&(s=Mu(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&a)&&(a=s&-s,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(s&4&&(s|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)r=31-Dn(e),a=1<<r,s|=t[r],e&=~a;return s}function eD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tD(t,e){for(var r=t.suspendedLanes,s=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Dn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=eD(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function ey(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pk(){var t=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),t}function cp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function of(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=r}function rD(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Dn(r),i=1<<a;e[a]=0,s[a]=-1,t[a]=-1,r&=~i}}function ab(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var s=31-Dn(r),a=1<<s;a&e|t[s]&e&&(t[s]|=e),r&=~a}}var er=0;function _k(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dk,nb,Mk,Rk,Fk,ty=!1,Vf=[],vo=null,bo=null,wo=null,fh=new Map,mh=new Map,Ji=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qw(t,e){switch(t){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(e.pointerId)}}function xu(t,e,r,s,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},e!==null&&(e=cf(e),e!==null&&nb(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function aD(t,e,r,s,a){switch(e){case"focusin":return vo=xu(vo,t,e,r,s,a),!0;case"dragenter":return bo=xu(bo,t,e,r,s,a),!0;case"mouseover":return wo=xu(wo,t,e,r,s,a),!0;case"pointerover":var i=a.pointerId;return fh.set(i,xu(fh.get(i)||null,t,e,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,xu(mh.get(i)||null,t,e,r,s,a)),!0}return!1}function Lk(t){var e=pl(t.target);if(e!==null){var r=ic(e);if(r!==null){if(e=r.tag,e===13){if(e=Sk(r),e!==null){t.blockedOn=e,Fk(t.priority,function(){Mk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function C0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ry(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);qg=s,r.target.dispatchEvent(s),qg=null}else return e=cf(r),e!==null&&nb(e),t.blockedOn=r,!1;e.shift()}return!0}function Zw(t,e,r){C0(t)&&r.delete(e)}function nD(){ty=!1,vo!==null&&C0(vo)&&(vo=null),bo!==null&&C0(bo)&&(bo=null),wo!==null&&C0(wo)&&(wo=null),fh.forEach(Zw),mh.forEach(Zw)}function pu(t,e){t.blockedOn===e&&(t.blockedOn=null,ty||(ty=!0,za.unstable_scheduleCallback(za.unstable_NormalPriority,nD)))}function xh(t){function e(a){return pu(a,t)}if(0<Vf.length){pu(Vf[0],t);for(var r=1;r<Vf.length;r++){var s=Vf[r];s.blockedOn===t&&(s.blockedOn=null)}}for(vo!==null&&pu(vo,t),bo!==null&&pu(bo,t),wo!==null&&pu(wo,t),fh.forEach(e),mh.forEach(e),r=0;r<Ji.length;r++)s=Ji[r],s.blockedOn===t&&(s.blockedOn=null);for(;0<Ji.length&&(r=Ji[0],r.blockedOn===null);)Lk(r),r.blockedOn===null&&Ji.shift()}var Zc=Ui.ReactCurrentBatchConfig,em=!0;function iD(t,e,r,s){var a=er,i=Zc.transition;Zc.transition=null;try{er=1,ib(t,e,r,s)}finally{er=a,Zc.transition=i}}function oD(t,e,r,s){var a=er,i=Zc.transition;Zc.transition=null;try{er=4,ib(t,e,r,s)}finally{er=a,Zc.transition=i}}function ib(t,e,r,s){if(em){var a=ry(t,e,r,s);if(a===null)vp(t,e,s,tm,r),qw(t,s);else if(aD(a,t,e,r,s))s.stopPropagation();else if(qw(t,s),e&4&&-1<sD.indexOf(t)){for(;a!==null;){var i=cf(a);if(i!==null&&Dk(i),i=ry(t,e,r,s),i===null&&vp(t,e,s,tm,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else vp(t,e,s,null,r)}}var tm=null;function ry(t,e,r,s){if(tm=null,t=rb(s),t=pl(t),t!==null)if(e=ic(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Sk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tm=t,null}function Ik(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G_()){case sb:return 1;case Tk:return 4;case Q0:case K_:return 16;case Ek:return 536870912;default:return 16}default:return 16}}var fo=null,ob=null,k0=null;function Ok(){if(k0)return k0;var t,e=ob,r=e.length,s,a="value"in fo?fo.value:fo.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(s=1;s<=o&&e[r-s]===a[i-s];s++);return k0=a.slice(t,1<s?1-s:void 0)}function A0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $f(){return!0}function Qw(){return!1}function $a(t){function e(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$f:Qw,this.isPropagationStopped=Qw,this}return Pr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$f)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$f)},persist:function(){},isPersistent:$f}),e}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lb=$a($d),lf=Pr({},$d,{view:0,detail:0}),lD=$a(lf),dp,up,gu,ox=Pr({},lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gu&&(gu&&t.type==="mousemove"?(dp=t.screenX-gu.screenX,up=t.screenY-gu.screenY):up=dp=0,gu=t),dp)},movementY:function(t){return"movementY"in t?t.movementY:up}}),Jw=$a(ox),cD=Pr({},ox,{dataTransfer:0}),dD=$a(cD),uD=Pr({},lf,{relatedTarget:0}),hp=$a(uD),hD=Pr({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),fD=$a(hD),mD=Pr({},$d,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xD=$a(mD),pD=Pr({},$d,{data:0}),e2=$a(pD),gD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vD[t])?!!e[t]:!1}function cb(){return bD}var wD=Pr({},lf,{key:function(t){if(t.key){var e=gD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=A0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cb,charCode:function(t){return t.type==="keypress"?A0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?A0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ND=$a(wD),jD=Pr({},ox,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t2=$a(jD),SD=Pr({},lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cb}),CD=$a(SD),kD=Pr({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),AD=$a(kD),TD=Pr({},ox,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ED=$a(TD),PD=[9,13,27,32],db=Ei&&"CompositionEvent"in window,Yu=null;Ei&&"documentMode"in document&&(Yu=document.documentMode);var _D=Ei&&"TextEvent"in window&&!Yu,Bk=Ei&&(!db||Yu&&8<Yu&&11>=Yu),r2=" ",s2=!1;function Uk(t,e){switch(t){case"keyup":return PD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pc=!1;function DD(t,e){switch(t){case"compositionend":return Hk(e);case"keypress":return e.which!==32?null:(s2=!0,r2);case"textInput":return t=e.data,t===r2&&s2?null:t;default:return null}}function MD(t,e){if(Pc)return t==="compositionend"||!db&&Uk(t,e)?(t=Ok(),k0=ob=fo=null,Pc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bk&&e.locale!=="ko"?null:e.data;default:return null}}var RD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RD[t.type]:e==="textarea"}function zk(t,e,r,s){vk(s),e=rm(e,"onChange"),0<e.length&&(r=new lb("onChange","change",null,r,s),t.push({event:r,listeners:e}))}var Vu=null,ph=null;function FD(t){Jk(t,0)}function lx(t){var e=Mc(t);if(hk(e))return t}function LD(t,e){if(t==="change")return e}var Wk=!1;if(Ei){var fp;if(Ei){var mp="oninput"in document;if(!mp){var n2=document.createElement("div");n2.setAttribute("oninput","return;"),mp=typeof n2.oninput=="function"}fp=mp}else fp=!1;Wk=fp&&(!document.documentMode||9<document.documentMode)}function i2(){Vu&&(Vu.detachEvent("onpropertychange",Yk),ph=Vu=null)}function Yk(t){if(t.propertyName==="value"&&lx(ph)){var e=[];zk(e,ph,t,rb(t)),jk(FD,e)}}function ID(t,e,r){t==="focusin"?(i2(),Vu=e,ph=r,Vu.attachEvent("onpropertychange",Yk)):t==="focusout"&&i2()}function OD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lx(ph)}function BD(t,e){if(t==="click")return lx(e)}function UD(t,e){if(t==="input"||t==="change")return lx(e)}function HD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:HD;function gh(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Og.call(e,a)||!On(t[a],e[a]))return!1}return!0}function o2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function l2(t,e){var r=o2(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=e&&s>=e)return{node:r,offset:e-t};t=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=o2(r)}}function Vk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $k(){for(var t=window,e=K0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=K0(t.document)}return e}function ub(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zD(t){var e=$k(),r=t.focusedElem,s=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Vk(r.ownerDocument.documentElement,r)){if(s!==null&&ub(r)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!t.extend&&i>s&&(a=s,s=i,i=a),a=l2(r,i);var o=l2(r,s);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WD=Ei&&"documentMode"in document&&11>=document.documentMode,_c=null,sy=null,$u=null,ay=!1;function c2(t,e,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ay||_c==null||_c!==K0(s)||(s=_c,"selectionStart"in s&&ub(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),$u&&gh($u,s)||($u=s,s=rm(sy,"onSelect"),0<s.length&&(e=new lb("onSelect","select",null,e,r),t.push({event:e,listeners:s}),e.target=_c)))}function Xf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Dc={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},xp={},Xk={};Ei&&(Xk=document.createElement("div").style,"AnimationEvent"in window||(delete Dc.animationend.animation,delete Dc.animationiteration.animation,delete Dc.animationstart.animation),"TransitionEvent"in window||delete Dc.transitionend.transition);function cx(t){if(xp[t])return xp[t];if(!Dc[t])return t;var e=Dc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Xk)return xp[t]=e[r];return t}var Gk=cx("animationend"),Kk=cx("animationiteration"),qk=cx("animationstart"),Zk=cx("transitionend"),Qk=new Map,d2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(t,e){Qk.set(t,e),nc(e,[t])}for(var pp=0;pp<d2.length;pp++){var gp=d2[pp],YD=gp.toLowerCase(),VD=gp[0].toUpperCase()+gp.slice(1);Bo(YD,"on"+VD)}Bo(Gk,"onAnimationEnd");Bo(Kk,"onAnimationIteration");Bo(qk,"onAnimationStart");Bo("dblclick","onDoubleClick");Bo("focusin","onFocus");Bo("focusout","onBlur");Bo(Zk,"onTransitionEnd");bd("onMouseEnter",["mouseout","mouseover"]);bd("onMouseLeave",["mouseout","mouseover"]);bd("onPointerEnter",["pointerout","pointerover"]);bd("onPointerLeave",["pointerout","pointerover"]);nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$D=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ru));function u2(t,e,r){var s=t.type||"unknown-event";t.currentTarget=r,Y_(s,e,void 0,t),t.currentTarget=null}function Jk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],a=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;u2(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;u2(a,l,d),i=c}}}if(Z0)throw t=Jg,Z0=!1,Jg=null,t}function gr(t,e){var r=e[cy];r===void 0&&(r=e[cy]=new Set);var s=t+"__bubble";r.has(s)||(eA(e,t,2,!1),r.add(s))}function yp(t,e,r){var s=0;e&&(s|=4),eA(r,t,s,e)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function yh(t){if(!t[Gf]){t[Gf]=!0,ok.forEach(function(r){r!=="selectionchange"&&($D.has(r)||yp(r,!1,t),yp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gf]||(e[Gf]=!0,yp("selectionchange",!1,e))}}function eA(t,e,r,s){switch(Ik(e)){case 1:var a=iD;break;case 4:a=oD;break;default:a=ib}r=a.bind(null,e,r,t),a=void 0,!Qg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),s?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function vp(t,e,r,s,a){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=pl(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}jk(function(){var d=i,u=rb(r),h=[];e:{var f=Qk.get(t);if(f!==void 0){var m=lb,p=t;switch(t){case"keypress":if(A0(r)===0)break e;case"keydown":case"keyup":m=ND;break;case"focusin":p="focus",m=hp;break;case"focusout":p="blur",m=hp;break;case"beforeblur":case"afterblur":m=hp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CD;break;case Gk:case Kk:case qk:m=fD;break;case Zk:m=AD;break;case"scroll":m=lD;break;case"wheel":m=ED;break;case"copy":case"cut":case"paste":m=xD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=t2}var x=(e&4)!==0,g=!x&&t==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var v=d,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=hh(v,y),w!=null&&x.push(vh(v,w,b)))),g)break;v=v.return}0<x.length&&(f=new m(f,p,null,r,u),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==qg&&(p=r.relatedTarget||r.fromElement)&&(pl(p)||p[Pi]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=d,p=p?pl(p):null,p!==null&&(g=ic(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=d),m!==p)){if(x=Jw,w="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=t2,w="onPointerLeave",y="onPointerEnter",v="pointer"),g=m==null?f:Mc(m),b=p==null?f:Mc(p),f=new x(w,v+"leave",m,r,u),f.target=g,f.relatedTarget=b,w=null,pl(u)===d&&(x=new x(y,v+"enter",p,r,u),x.target=b,x.relatedTarget=g,w=x),g=w,m&&p)t:{for(x=m,y=p,v=0,b=x;b;b=gc(b))v++;for(b=0,w=y;w;w=gc(w))b++;for(;0<v-b;)x=gc(x),v--;for(;0<b-v;)y=gc(y),b--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=gc(x),y=gc(y)}x=null}else x=null;m!==null&&h2(h,f,m,x,!1),p!==null&&g!==null&&h2(h,g,p,x,!0)}}e:{if(f=d?Mc(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=LD;else if(a2(f))if(Wk)N=UD;else{N=OD;var C=ID}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=BD);if(N&&(N=N(t,d))){zk(h,N,r,u);break e}C&&C(t,f,d),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Vg(f,"number",f.value)}switch(C=d?Mc(d):window,t){case"focusin":(a2(C)||C.contentEditable==="true")&&(_c=C,sy=d,$u=null);break;case"focusout":$u=sy=_c=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,c2(h,r,u);break;case"selectionchange":if(WD)break;case"keydown":case"keyup":c2(h,r,u)}var S;if(db)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Pc?Uk(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Bk&&r.locale!=="ko"&&(Pc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Pc&&(S=Ok()):(fo=u,ob="value"in fo?fo.value:fo.textContent,Pc=!0)),C=rm(d,k),0<C.length&&(k=new e2(k,t,null,r,u),h.push({event:k,listeners:C}),S?k.data=S:(S=Hk(r),S!==null&&(k.data=S)))),(S=_D?DD(t,r):MD(t,r))&&(d=rm(d,"onBeforeInput"),0<d.length&&(u=new e2("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}Jk(h,e)})}function vh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function rm(t,e){for(var r=e+"Capture",s=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=hh(t,r),i!=null&&s.unshift(vh(t,i,a)),i=hh(t,e),i!=null&&s.push(vh(t,i,a))),t=t.return}return s}function gc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h2(t,e,r,s,a){for(var i=e._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=hh(r,i),c!=null&&o.unshift(vh(r,c,l))):a||(c=hh(r,i),c!=null&&o.push(vh(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var XD=/\r\n?/g,GD=/\u0000|\uFFFD/g;function f2(t){return(typeof t=="string"?t:""+t).replace(XD,`
`).replace(GD,"")}function Kf(t,e,r){if(e=f2(e),f2(t)!==e&&r)throw Error(ke(425))}function sm(){}var ny=null,iy=null;function oy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ly=typeof setTimeout=="function"?setTimeout:void 0,KD=typeof clearTimeout=="function"?clearTimeout:void 0,m2=typeof Promise=="function"?Promise:void 0,qD=typeof queueMicrotask=="function"?queueMicrotask:typeof m2<"u"?function(t){return m2.resolve(null).then(t).catch(ZD)}:ly;function ZD(t){setTimeout(function(){throw t})}function bp(t,e){var r=e,s=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){t.removeChild(a),xh(e);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);xh(e)}function No(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function x2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Xd=Math.random().toString(36).slice(2),qn="__reactFiber$"+Xd,bh="__reactProps$"+Xd,Pi="__reactContainer$"+Xd,cy="__reactEvents$"+Xd,QD="__reactListeners$"+Xd,JD="__reactHandles$"+Xd;function pl(t){var e=t[qn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pi]||r[qn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=x2(t);t!==null;){if(r=t[qn])return r;t=x2(t)}return e}t=r,r=t.parentNode}return null}function cf(t){return t=t[qn]||t[Pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function dx(t){return t[bh]||null}var dy=[],Rc=-1;function Uo(t){return{current:t}}function yr(t){0>Rc||(t.current=dy[Rc],dy[Rc]=null,Rc--)}function pr(t,e){Rc++,dy[Rc]=t.current,t.current=e}var Po={},Vs=Uo(Po),ba=Uo(!1),Wl=Po;function wd(t,e){var r=t.type.contextTypes;if(!r)return Po;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function wa(t){return t=t.childContextTypes,t!=null}function am(){yr(ba),yr(Vs)}function p2(t,e,r){if(Vs.current!==Po)throw Error(ke(168));pr(Vs,e),pr(ba,r)}function tA(t,e,r){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in e))throw Error(ke(108,I_(t)||"Unknown",a));return Pr({},r,s)}function nm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Po,Wl=Vs.current,pr(Vs,t),pr(ba,ba.current),!0}function g2(t,e,r){var s=t.stateNode;if(!s)throw Error(ke(169));r?(t=tA(t,e,Wl),s.__reactInternalMemoizedMergedChildContext=t,yr(ba),yr(Vs),pr(Vs,t)):yr(ba),pr(ba,r)}var fi=null,ux=!1,wp=!1;function rA(t){fi===null?fi=[t]:fi.push(t)}function eM(t){ux=!0,rA(t)}function Ho(){if(!wp&&fi!==null){wp=!0;var t=0,e=er;try{var r=fi;for(er=1;t<r.length;t++){var s=r[t];do s=s(!0);while(s!==null)}fi=null,ux=!1}catch(a){throw fi!==null&&(fi=fi.slice(t+1)),Ak(sb,Ho),a}finally{er=e,wp=!1}}return null}var Fc=[],Lc=0,im=null,om=0,sn=[],an=0,Yl=null,pi=1,gi="";function tl(t,e){Fc[Lc++]=om,Fc[Lc++]=im,im=t,om=e}function sA(t,e,r){sn[an++]=pi,sn[an++]=gi,sn[an++]=Yl,Yl=t;var s=pi;t=gi;var a=32-Dn(s)-1;s&=~(1<<a),r+=1;var i=32-Dn(e)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,pi=1<<32-Dn(e)+a|r<<a|s,gi=i+t}else pi=1<<i|r<<a|s,gi=t}function hb(t){t.return!==null&&(tl(t,1),sA(t,1,0))}function fb(t){for(;t===im;)im=Fc[--Lc],Fc[Lc]=null,om=Fc[--Lc],Fc[Lc]=null;for(;t===Yl;)Yl=sn[--an],sn[an]=null,gi=sn[--an],sn[an]=null,pi=sn[--an],sn[an]=null}var Ba=null,La=null,jr=!1,Sn=null;function aA(t,e){var r=nn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function y2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ba=t,La=No(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ba=t,La=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yl!==null?{id:pi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=nn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ba=t,La=null,!0):!1;default:return!1}}function uy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hy(t){if(jr){var e=La;if(e){var r=e;if(!y2(t,e)){if(uy(t))throw Error(ke(418));e=No(r.nextSibling);var s=Ba;e&&y2(t,e)?aA(s,r):(t.flags=t.flags&-4097|2,jr=!1,Ba=t)}}else{if(uy(t))throw Error(ke(418));t.flags=t.flags&-4097|2,jr=!1,Ba=t}}}function v2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ba=t}function qf(t){if(t!==Ba)return!1;if(!jr)return v2(t),jr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oy(t.type,t.memoizedProps)),e&&(e=La)){if(uy(t))throw nA(),Error(ke(418));for(;e;)aA(t,e),e=No(e.nextSibling)}if(v2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){La=No(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}La=null}}else La=Ba?No(t.stateNode.nextSibling):null;return!0}function nA(){for(var t=La;t;)t=No(t.nextSibling)}function Nd(){La=Ba=null,jr=!1}function mb(t){Sn===null?Sn=[t]:Sn.push(t)}var tM=Ui.ReactCurrentBatchConfig;function yu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var s=r.stateNode}if(!s)throw Error(ke(147,t));var a=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,t))}return t}function Zf(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function b2(t){var e=t._init;return e(t._payload)}function iA(t){function e(y,v){if(t){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function s(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=ko(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,w){return v===null||v.tag!==6?(v=Tp(b,y.mode,w),v.return=y,v):(v=a(v,b),v.return=y,v)}function c(y,v,b,w){var N=b.type;return N===Ec?u(y,v,b.props.children,w,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qi&&b2(N)===v.type)?(w=a(v,b.props),w.ref=yu(y,v,b),w.return=y,w):(w=R0(b.type,b.key,b.props,null,y.mode,w),w.ref=yu(y,v,b),w.return=y,w)}function d(y,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Ep(b,y.mode,w),v.return=y,v):(v=a(v,b.children||[]),v.return=y,v)}function u(y,v,b,w,N){return v===null||v.tag!==7?(v=Ll(b,y.mode,w,N),v.return=y,v):(v=a(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Tp(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Uf:return b=R0(v.type,v.key,v.props,null,y.mode,b),b.ref=yu(y,null,v),b.return=y,b;case Tc:return v=Ep(v,y.mode,b),v.return=y,v;case qi:var w=v._init;return h(y,w(v._payload),b)}if(Du(v)||fu(v))return v=Ll(v,y.mode,b,null),v.return=y,v;Zf(y,v)}return null}function f(y,v,b,w){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uf:return b.key===N?c(y,v,b,w):null;case Tc:return b.key===N?d(y,v,b,w):null;case qi:return N=b._init,f(y,v,N(b._payload),w)}if(Du(b)||fu(b))return N!==null?null:u(y,v,b,w,null);Zf(y,b)}return null}function m(y,v,b,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,l(v,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uf:return y=y.get(w.key===null?b:w.key)||null,c(v,y,w,N);case Tc:return y=y.get(w.key===null?b:w.key)||null,d(v,y,w,N);case qi:var C=w._init;return m(y,v,b,C(w._payload),N)}if(Du(w)||fu(w))return y=y.get(b)||null,u(v,y,w,N,null);Zf(v,w)}return null}function p(y,v,b,w){for(var N=null,C=null,S=v,k=v=0,A=null;S!==null&&k<b.length;k++){S.index>k?(A=S,S=null):A=S.sibling;var T=f(y,S,b[k],w);if(T===null){S===null&&(S=A);break}t&&S&&T.alternate===null&&e(y,S),v=i(T,v,k),C===null?N=T:C.sibling=T,C=T,S=A}if(k===b.length)return r(y,S),jr&&tl(y,k),N;if(S===null){for(;k<b.length;k++)S=h(y,b[k],w),S!==null&&(v=i(S,v,k),C===null?N=S:C.sibling=S,C=S);return jr&&tl(y,k),N}for(S=s(y,S);k<b.length;k++)A=m(S,y,k,b[k],w),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?k:A.key),v=i(A,v,k),C===null?N=A:C.sibling=A,C=A);return t&&S.forEach(function(E){return e(y,E)}),jr&&tl(y,k),N}function x(y,v,b,w){var N=fu(b);if(typeof N!="function")throw Error(ke(150));if(b=N.call(b),b==null)throw Error(ke(151));for(var C=N=null,S=v,k=v=0,A=null,T=b.next();S!==null&&!T.done;k++,T=b.next()){S.index>k?(A=S,S=null):A=S.sibling;var E=f(y,S,T.value,w);if(E===null){S===null&&(S=A);break}t&&S&&E.alternate===null&&e(y,S),v=i(E,v,k),C===null?N=E:C.sibling=E,C=E,S=A}if(T.done)return r(y,S),jr&&tl(y,k),N;if(S===null){for(;!T.done;k++,T=b.next())T=h(y,T.value,w),T!==null&&(v=i(T,v,k),C===null?N=T:C.sibling=T,C=T);return jr&&tl(y,k),N}for(S=s(y,S);!T.done;k++,T=b.next())T=m(S,y,k,T.value,w),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?k:T.key),v=i(T,v,k),C===null?N=T:C.sibling=T,C=T);return t&&S.forEach(function(D){return e(y,D)}),jr&&tl(y,k),N}function g(y,v,b,w){if(typeof b=="object"&&b!==null&&b.type===Ec&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Uf:e:{for(var N=b.key,C=v;C!==null;){if(C.key===N){if(N=b.type,N===Ec){if(C.tag===7){r(y,C.sibling),v=a(C,b.props.children),v.return=y,y=v;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qi&&b2(N)===C.type){r(y,C.sibling),v=a(C,b.props),v.ref=yu(y,C,b),v.return=y,y=v;break e}r(y,C);break}else e(y,C);C=C.sibling}b.type===Ec?(v=Ll(b.props.children,y.mode,w,b.key),v.return=y,y=v):(w=R0(b.type,b.key,b.props,null,y.mode,w),w.ref=yu(y,v,b),w.return=y,y=w)}return o(y);case Tc:e:{for(C=b.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=a(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=Ep(b,y.mode,w),v.return=y,y=v}return o(y);case qi:return C=b._init,g(y,v,C(b._payload),w)}if(Du(b))return p(y,v,b,w);if(fu(b))return x(y,v,b,w);Zf(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,b),v.return=y,y=v):(r(y,v),v=Tp(b,y.mode,w),v.return=y,y=v),o(y)):r(y,v)}return g}var jd=iA(!0),oA=iA(!1),lm=Uo(null),cm=null,Ic=null,xb=null;function pb(){xb=Ic=cm=null}function gb(t){var e=lm.current;yr(lm),t._currentValue=e}function fy(t,e,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===r)break;t=t.return}}function Qc(t,e){cm=t,xb=Ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ya=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(xb!==t)if(t={context:t,memoizedValue:e,next:null},Ic===null){if(cm===null)throw Error(ke(308));Ic=t,cm.dependencies={lanes:0,firstContext:t}}else Ic=Ic.next=t;return e}var gl=null;function yb(t){gl===null?gl=[t]:gl.push(t)}function lA(t,e,r,s){var a=e.interleaved;return a===null?(r.next=r,yb(e)):(r.next=a.next,a.next=r),e.interleaved=r,_i(t,s)}function _i(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Zi=!1;function vb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jo(t,e,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ft&2){var a=s.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),s.pending=e,_i(t,r)}return a=s.interleaved,a===null?(e.next=e,yb(s)):(e.next=a.next,a.next=e),s.interleaved=e,_i(t,r)}function T0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,ab(t,r)}}function w2(t,e){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function dm(t,e,r,s){var a=t.updateQueue;Zi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,x=l;switch(f=e,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=Pr({},h,f);break e;case 2:Zi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);$l|=o,t.lanes=o,t.memoizedState=h}}function N2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(ke(191,a));a.call(s)}}}var df={},Jn=Uo(df),wh=Uo(df),Nh=Uo(df);function yl(t){if(t===df)throw Error(ke(174));return t}function bb(t,e){switch(pr(Nh,e),pr(wh,t),pr(Jn,df),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xg(e,t)}yr(Jn),pr(Jn,e)}function Sd(){yr(Jn),yr(wh),yr(Nh)}function dA(t){yl(Nh.current);var e=yl(Jn.current),r=Xg(e,t.type);e!==r&&(pr(wh,t),pr(Jn,r))}function wb(t){wh.current===t&&(yr(Jn),yr(wh))}var Ar=Uo(0);function um(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function Nb(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var E0=Ui.ReactCurrentDispatcher,jp=Ui.ReactCurrentBatchConfig,Vl=0,Er=null,as=null,hs=null,hm=!1,Xu=!1,jh=0,rM=0;function Ls(){throw Error(ke(321))}function jb(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!On(t[r],e[r]))return!1;return!0}function Sb(t,e,r,s,a,i){if(Vl=i,Er=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,E0.current=t===null||t.memoizedState===null?iM:oM,t=r(s,a),Xu){i=0;do{if(Xu=!1,jh=0,25<=i)throw Error(ke(301));i+=1,hs=as=null,e.updateQueue=null,E0.current=lM,t=r(s,a)}while(Xu)}if(E0.current=fm,e=as!==null&&as.next!==null,Vl=0,hs=as=Er=null,hm=!1,e)throw Error(ke(300));return t}function Cb(){var t=jh!==0;return jh=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hs===null?Er.memoizedState=hs=t:hs=hs.next=t,hs}function un(){if(as===null){var t=Er.alternate;t=t!==null?t.memoizedState:null}else t=as.next;var e=hs===null?Er.memoizedState:hs.next;if(e!==null)hs=e,as=t;else{if(t===null)throw Error(ke(310));as=t,t={memoizedState:as.memoizedState,baseState:as.baseState,baseQueue:as.baseQueue,queue:as.queue,next:null},hs===null?Er.memoizedState=hs=t:hs=hs.next=t}return hs}function Sh(t,e){return typeof e=="function"?e(t):e}function Sp(t){var e=un(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var s=as,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Vl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Er.lanes|=u,$l|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,On(s,e.memoizedState)||(ya=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Er.lanes|=i,$l|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Cp(t){var e=un(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var s=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);On(i,e.memoizedState)||(ya=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,s]}function uA(){}function hA(t,e){var r=Er,s=un(),a=e(),i=!On(s.memoizedState,a);if(i&&(s.memoizedState=a,ya=!0),s=s.queue,kb(xA.bind(null,r,s,t),[t]),s.getSnapshot!==e||i||hs!==null&&hs.memoizedState.tag&1){if(r.flags|=2048,Ch(9,mA.bind(null,r,s,a,e),void 0,null),ps===null)throw Error(ke(349));Vl&30||fA(r,e,a)}return a}function fA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Er.updateQueue,e===null?(e={lastEffect:null,stores:null},Er.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function mA(t,e,r,s){e.value=r,e.getSnapshot=s,pA(e)&&gA(t)}function xA(t,e,r){return r(function(){pA(e)&&gA(t)})}function pA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!On(t,r)}catch{return!0}}function gA(t){var e=_i(t,1);e!==null&&Mn(e,t,1,-1)}function j2(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:t},e.queue=t,t=t.dispatch=nM.bind(null,Er,t),[e.memoizedState,t]}function Ch(t,e,r,s){return t={tag:t,create:e,destroy:r,deps:s,next:null},e=Er.updateQueue,e===null?(e={lastEffect:null,stores:null},Er.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,e.lastEffect=t)),t}function yA(){return un().memoizedState}function P0(t,e,r,s){var a=$n();Er.flags|=t,a.memoizedState=Ch(1|e,r,void 0,s===void 0?null:s)}function hx(t,e,r,s){var a=un();s=s===void 0?null:s;var i=void 0;if(as!==null){var o=as.memoizedState;if(i=o.destroy,s!==null&&jb(s,o.deps)){a.memoizedState=Ch(e,r,i,s);return}}Er.flags|=t,a.memoizedState=Ch(1|e,r,i,s)}function S2(t,e){return P0(8390656,8,t,e)}function kb(t,e){return hx(2048,8,t,e)}function vA(t,e){return hx(4,2,t,e)}function bA(t,e){return hx(4,4,t,e)}function wA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NA(t,e,r){return r=r!=null?r.concat([t]):null,hx(4,4,wA.bind(null,e,t),r)}function Ab(){}function jA(t,e){var r=un();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&jb(e,s[1])?s[0]:(r.memoizedState=[t,e],t)}function SA(t,e){var r=un();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&jb(e,s[1])?s[0]:(t=t(),r.memoizedState=[t,e],t)}function CA(t,e,r){return Vl&21?(On(r,e)||(r=Pk(),Er.lanes|=r,$l|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ya=!0),t.memoizedState=r)}function sM(t,e){var r=er;er=r!==0&&4>r?r:4,t(!0);var s=jp.transition;jp.transition={};try{t(!1),e()}finally{er=r,jp.transition=s}}function kA(){return un().memoizedState}function aM(t,e,r){var s=Co(t);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},AA(t))TA(e,r);else if(r=lA(t,e,r,s),r!==null){var a=ra();Mn(r,t,s,a),EA(r,e,s)}}function nM(t,e,r){var s=Co(t),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(AA(t))TA(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,On(l,o)){var c=e.interleaved;c===null?(a.next=a,yb(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=lA(t,e,a,s),r!==null&&(a=ra(),Mn(r,t,s,a),EA(r,e,s))}}function AA(t){var e=t.alternate;return t===Er||e!==null&&e===Er}function TA(t,e){Xu=hm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function EA(t,e,r){if(r&4194240){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,ab(t,r)}}var fm={readContext:dn,useCallback:Ls,useContext:Ls,useEffect:Ls,useImperativeHandle:Ls,useInsertionEffect:Ls,useLayoutEffect:Ls,useMemo:Ls,useReducer:Ls,useRef:Ls,useState:Ls,useDebugValue:Ls,useDeferredValue:Ls,useTransition:Ls,useMutableSource:Ls,useSyncExternalStore:Ls,useId:Ls,unstable_isNewReconciler:!1},iM={readContext:dn,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:S2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,P0(4194308,4,wA.bind(null,e,t),r)},useLayoutEffect:function(t,e){return P0(4194308,4,t,e)},useInsertionEffect:function(t,e){return P0(4,2,t,e)},useMemo:function(t,e){var r=$n();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var s=$n();return e=r!==void 0?r(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=aM.bind(null,Er,t),[s.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:j2,useDebugValue:Ab,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=j2(!1),e=t[0];return t=sM.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var s=Er,a=$n();if(jr){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=e(),ps===null)throw Error(ke(349));Vl&30||fA(s,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,S2(xA.bind(null,s,i,t),[t]),s.flags|=2048,Ch(9,mA.bind(null,s,i,r,e),void 0,null),r},useId:function(){var t=$n(),e=ps.identifierPrefix;if(jr){var r=gi,s=pi;r=(s&~(1<<32-Dn(s)-1)).toString(32)+r,e=":"+e+"R"+r,r=jh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=rM++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oM={readContext:dn,useCallback:jA,useContext:dn,useEffect:kb,useImperativeHandle:NA,useInsertionEffect:vA,useLayoutEffect:bA,useMemo:SA,useReducer:Sp,useRef:yA,useState:function(){return Sp(Sh)},useDebugValue:Ab,useDeferredValue:function(t){var e=un();return CA(e,as.memoizedState,t)},useTransition:function(){var t=Sp(Sh)[0],e=un().memoizedState;return[t,e]},useMutableSource:uA,useSyncExternalStore:hA,useId:kA,unstable_isNewReconciler:!1},lM={readContext:dn,useCallback:jA,useContext:dn,useEffect:kb,useImperativeHandle:NA,useInsertionEffect:vA,useLayoutEffect:bA,useMemo:SA,useReducer:Cp,useRef:yA,useState:function(){return Cp(Sh)},useDebugValue:Ab,useDeferredValue:function(t){var e=un();return as===null?e.memoizedState=t:CA(e,as.memoizedState,t)},useTransition:function(){var t=Cp(Sh)[0],e=un().memoizedState;return[t,e]},useMutableSource:uA,useSyncExternalStore:hA,useId:kA,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Pr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function my(t,e,r,s){e=t.memoizedState,r=r(s,e),r=r==null?e:Pr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var fx={isMounted:function(t){return(t=t._reactInternals)?ic(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var s=ra(),a=Co(t),i=vi(s,a);i.payload=e,r!=null&&(i.callback=r),e=jo(t,i,a),e!==null&&(Mn(e,t,a,s),T0(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var s=ra(),a=Co(t),i=vi(s,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=jo(t,i,a),e!==null&&(Mn(e,t,a,s),T0(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ra(),s=Co(t),a=vi(r,s);a.tag=2,e!=null&&(a.callback=e),e=jo(t,a,s),e!==null&&(Mn(e,t,s,r),T0(e,t,s))}};function C2(t,e,r,s,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!gh(r,s)||!gh(a,i):!0}function PA(t,e,r){var s=!1,a=Po,i=e.contextType;return typeof i=="object"&&i!==null?i=dn(i):(a=wa(e)?Wl:Vs.current,s=e.contextTypes,i=(s=s!=null)?wd(t,a):Po),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fx,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function k2(t,e,r,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,s),e.state!==t&&fx.enqueueReplaceState(e,e.state,null)}function xy(t,e,r,s){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},vb(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=dn(i):(i=wa(e)?Wl:Vs.current,a.context=wd(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(my(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&fx.enqueueReplaceState(a,a.state,null),dm(t,r,a,s),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Cd(t,e){try{var r="",s=e;do r+=L_(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function kp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function py(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cM=typeof WeakMap=="function"?WeakMap:Map;function _A(t,e,r){r=vi(-1,r),r.tag=3,r.payload={element:null};var s=e.value;return r.callback=function(){xm||(xm=!0,ky=s),py(t,e)},r}function DA(t,e,r){r=vi(-1,r),r.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var a=e.value;r.payload=function(){return s(a)},r.callback=function(){py(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){py(t,e),typeof s!="function"&&(So===null?So=new Set([this]):So.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function A2(t,e,r){var s=t.pingCache;if(s===null){s=t.pingCache=new cM;var a=new Set;s.set(e,a)}else a=s.get(e),a===void 0&&(a=new Set,s.set(e,a));a.has(r)||(a.add(r),t=jM.bind(null,t,e,r),e.then(t,t))}function T2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E2(t,e,r,s,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vi(-1,1),e.tag=2,jo(r,e,1))),r.lanes|=1),t)}var dM=Ui.ReactCurrentOwner,ya=!1;function Ks(t,e,r,s){e.child=t===null?oA(e,null,r,s):jd(e,t.child,r,s)}function P2(t,e,r,s,a){r=r.render;var i=e.ref;return Qc(e,a),s=Sb(t,e,r,s,i,a),r=Cb(),t!==null&&!ya?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Di(t,e,a)):(jr&&r&&hb(e),e.flags|=1,Ks(t,e,s,a),e.child)}function _2(t,e,r,s,a){if(t===null){var i=r.type;return typeof i=="function"&&!Fb(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,MA(t,e,i,s,a)):(t=R0(r.type,null,s,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gh,r(o,s)&&t.ref===e.ref)return Di(t,e,a)}return e.flags|=1,t=ko(i,s),t.ref=e.ref,t.return=e,e.child=t}function MA(t,e,r,s,a){if(t!==null){var i=t.memoizedProps;if(gh(i,s)&&t.ref===e.ref)if(ya=!1,e.pendingProps=s=i,(t.lanes&a)!==0)t.flags&131072&&(ya=!0);else return e.lanes=t.lanes,Di(t,e,a)}return gy(t,e,r,s,a)}function RA(t,e,r){var s=e.pendingProps,a=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pr(Bc,Pa),Pa|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pr(Bc,Pa),Pa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,pr(Bc,Pa),Pa|=s}else i!==null?(s=i.baseLanes|r,e.memoizedState=null):s=r,pr(Bc,Pa),Pa|=s;return Ks(t,e,a,r),e.child}function FA(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gy(t,e,r,s,a){var i=wa(r)?Wl:Vs.current;return i=wd(e,i),Qc(e,a),r=Sb(t,e,r,s,i,a),s=Cb(),t!==null&&!ya?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Di(t,e,a)):(jr&&s&&hb(e),e.flags|=1,Ks(t,e,r,a),e.child)}function D2(t,e,r,s,a){if(wa(r)){var i=!0;nm(e)}else i=!1;if(Qc(e,a),e.stateNode===null)_0(t,e),PA(e,r,s),xy(e,r,s,a),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=dn(d):(d=wa(r)?Wl:Vs.current,d=wd(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&k2(e,o,s,d),Zi=!1;var f=e.memoizedState;o.state=f,dm(e,s,o,a),c=e.memoizedState,l!==s||f!==c||ba.current||Zi?(typeof u=="function"&&(my(e,r,u,s),c=e.memoizedState),(l=Zi||C2(e,r,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,cA(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:vn(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=wa(r)?Wl:Vs.current,c=wd(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&k2(e,o,s,c),Zi=!1,f=e.memoizedState,o.state=f,dm(e,s,o,a);var p=e.memoizedState;l!==h||f!==p||ba.current||Zi?(typeof m=="function"&&(my(e,r,m,s),p=e.memoizedState),(d=Zi||C2(e,r,d,s,f,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return yy(t,e,r,s,i,a)}function yy(t,e,r,s,a,i){FA(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return a&&g2(e,r,!1),Di(t,e,i);s=e.stateNode,dM.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=jd(e,t.child,null,i),e.child=jd(e,null,l,i)):Ks(t,e,l,i),e.memoizedState=s.state,a&&g2(e,r,!0),e.child}function LA(t){var e=t.stateNode;e.pendingContext?p2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p2(t,e.context,!1),bb(t,e.containerInfo)}function M2(t,e,r,s,a){return Nd(),mb(a),e.flags|=256,Ks(t,e,r,s),e.child}var vy={dehydrated:null,treeContext:null,retryLane:0};function by(t){return{baseLanes:t,cachePool:null,transitions:null}}function IA(t,e,r){var s=e.pendingProps,a=Ar.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),pr(Ar,a&1),t===null)return hy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=px(o,s,0,null),t=Ll(t,s,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=by(r),e.memoizedState=vy,t):Tb(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return uM(t,e,o,s,l,a,r);if(i){i=s.fallback,o=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==a?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=ko(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ko(l,i):(i=Ll(i,o,r,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?by(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=vy,s}return i=t.child,t=i.sibling,s=ko(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=r),s.return=e,s.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=s,e.memoizedState=null,s}function Tb(t,e){return e=px({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qf(t,e,r,s){return s!==null&&mb(s),jd(e,t.child,null,r),t=Tb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uM(t,e,r,s,a,i,o){if(r)return e.flags&256?(e.flags&=-257,s=kp(Error(ke(422))),Qf(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,a=e.mode,s=px({mode:"visible",children:s.children},a,0,null),i=Ll(i,a,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&jd(e,t.child,null,o),e.child.memoizedState=by(o),e.memoizedState=vy,i);if(!(e.mode&1))return Qf(t,e,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(ke(419)),s=kp(i,s,void 0),Qf(t,e,o,s)}if(l=(o&t.childLanes)!==0,ya||l){if(s=ps,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,_i(t,a),Mn(s,t,a,-1))}return Rb(),s=kp(Error(ke(421))),Qf(t,e,o,s)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=SM.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,La=No(a.nextSibling),Ba=e,jr=!0,Sn=null,t!==null&&(sn[an++]=pi,sn[an++]=gi,sn[an++]=Yl,pi=t.id,gi=t.overflow,Yl=e),e=Tb(e,s.children),e.flags|=4096,e)}function R2(t,e,r){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),fy(t.return,e,r)}function Ap(t,e,r,s,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function OA(t,e,r){var s=e.pendingProps,a=s.revealOrder,i=s.tail;if(Ks(t,e,s.children,r),s=Ar.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R2(t,r,e);else if(t.tag===19)R2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(pr(Ar,s),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&um(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Ap(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&um(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Ap(e,!0,r,null,i);break;case"together":Ap(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Di(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),$l|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,r=ko(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ko(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function hM(t,e,r){switch(e.tag){case 3:LA(e),Nd();break;case 5:dA(e);break;case 1:wa(e.type)&&nm(e);break;case 4:bb(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,a=e.memoizedProps.value;pr(lm,s._currentValue),s._currentValue=a;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(pr(Ar,Ar.current&1),e.flags|=128,null):r&e.child.childLanes?IA(t,e,r):(pr(Ar,Ar.current&1),t=Di(t,e,r),t!==null?t.sibling:null);pr(Ar,Ar.current&1);break;case 19:if(s=(r&e.childLanes)!==0,t.flags&128){if(s)return OA(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),pr(Ar,Ar.current),s)break;return null;case 22:case 23:return e.lanes=0,RA(t,e,r)}return Di(t,e,r)}var BA,wy,UA,HA;BA=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wy=function(){};UA=function(t,e,r,s){var a=t.memoizedProps;if(a!==s){t=e.stateNode,yl(Jn.current);var i=null;switch(r){case"input":a=Wg(t,a),s=Wg(t,s),i=[];break;case"select":a=Pr({},a,{value:void 0}),s=Pr({},s,{value:void 0}),i=[];break;case"textarea":a=$g(t,a),s=$g(t,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=sm)}Gg(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(dh.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(dh.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&gr("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};HA=function(t,e,r,s){r!==s&&(e.flags|=4)};function vu(t,e){if(!jr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Is(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=s,t.childLanes=r,e}function fM(t,e,r){var s=e.pendingProps;switch(fb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Is(e),null;case 1:return wa(e.type)&&am(),Is(e),null;case 3:return s=e.stateNode,Sd(),yr(ba),yr(Vs),Nb(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(qf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Ey(Sn),Sn=null))),wy(t,e),Is(e),null;case 5:wb(e);var a=yl(Nh.current);if(r=e.type,t!==null&&e.stateNode!=null)UA(t,e,r,s,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(ke(166));return Is(e),null}if(t=yl(Jn.current),qf(e)){s=e.stateNode,r=e.type;var i=e.memoizedProps;switch(s[qn]=e,s[bh]=i,t=(e.mode&1)!==0,r){case"dialog":gr("cancel",s),gr("close",s);break;case"iframe":case"object":case"embed":gr("load",s);break;case"video":case"audio":for(a=0;a<Ru.length;a++)gr(Ru[a],s);break;case"source":gr("error",s);break;case"img":case"image":case"link":gr("error",s),gr("load",s);break;case"details":gr("toggle",s);break;case"input":Ww(s,i),gr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},gr("invalid",s);break;case"textarea":Vw(s,i),gr("invalid",s)}Gg(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Kf(s.textContent,l,t),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Kf(s.textContent,l,t),a=["children",""+l]):dh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&gr("scroll",s)}switch(r){case"input":Hf(s),Yw(s,i,!0);break;case"textarea":Hf(s),$w(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=sm)}s=a,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(r,{is:s.is}):(t=o.createElement(r),r==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,r),t[qn]=e,t[bh]=s,BA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kg(r,s),r){case"dialog":gr("cancel",t),gr("close",t),a=s;break;case"iframe":case"object":case"embed":gr("load",t),a=s;break;case"video":case"audio":for(a=0;a<Ru.length;a++)gr(Ru[a],t);a=s;break;case"source":gr("error",t),a=s;break;case"img":case"image":case"link":gr("error",t),gr("load",t),a=s;break;case"details":gr("toggle",t),a=s;break;case"input":Ww(t,s),a=Wg(t,s),gr("invalid",t);break;case"option":a=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},a=Pr({},s,{value:void 0}),gr("invalid",t);break;case"textarea":Vw(t,s),a=$g(t,s),gr("invalid",t);break;default:a=s}Gg(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?yk(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pk(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&uh(t,c):typeof c=="number"&&uh(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&gr("scroll",t):c!=null&&Qv(t,i,c,o))}switch(r){case"input":Hf(t),Yw(t,s,!1);break;case"textarea":Hf(t),$w(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Eo(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?Gc(t,!!s.multiple,i,!1):s.defaultValue!=null&&Gc(t,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=sm)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Is(e),null;case 6:if(t&&e.stateNode!=null)HA(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(ke(166));if(r=yl(Nh.current),yl(Jn.current),qf(e)){if(s=e.stateNode,r=e.memoizedProps,s[qn]=e,(i=s.nodeValue!==r)&&(t=Ba,t!==null))switch(t.tag){case 3:Kf(s.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(s.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[qn]=e,e.stateNode=s}return Is(e),null;case 13:if(yr(Ar),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jr&&La!==null&&e.mode&1&&!(e.flags&128))nA(),Nd(),e.flags|=98560,i=!1;else if(i=qf(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(ke(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ke(317));i[qn]=e}else Nd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Is(e),i=!1}else Sn!==null&&(Ey(Sn),Sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Ar.current&1?is===0&&(is=3):Rb())),e.updateQueue!==null&&(e.flags|=4),Is(e),null);case 4:return Sd(),wy(t,e),t===null&&yh(e.stateNode.containerInfo),Is(e),null;case 10:return gb(e.type._context),Is(e),null;case 17:return wa(e.type)&&am(),Is(e),null;case 19:if(yr(Ar),i=e.memoizedState,i===null)return Is(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)vu(i,!1);else{if(is!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=um(t),o!==null){for(e.flags|=128,vu(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=r,r=e.child;r!==null;)i=r,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pr(Ar,Ar.current&1|2),e.child}t=t.sibling}i.tail!==null&&Wr()>kd&&(e.flags|=128,s=!0,vu(i,!1),e.lanes=4194304)}else{if(!s)if(t=um(o),t!==null){if(e.flags|=128,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!jr)return Is(e),null}else 2*Wr()-i.renderingStartTime>kd&&r!==1073741824&&(e.flags|=128,s=!0,vu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Wr(),e.sibling=null,r=Ar.current,pr(Ar,s?r&1|2:r&1),e):(Is(e),null);case 22:case 23:return Mb(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Pa&1073741824&&(Is(e),e.subtreeFlags&6&&(e.flags|=8192)):Is(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function mM(t,e){switch(fb(e),e.tag){case 1:return wa(e.type)&&am(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sd(),yr(ba),yr(Vs),Nb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wb(e),null;case 13:if(yr(Ar),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));Nd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yr(Ar),null;case 4:return Sd(),null;case 10:return gb(e.type._context),null;case 22:case 23:return Mb(),null;case 24:return null;default:return null}}var Jf=!1,Us=!1,xM=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Oc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Fr(t,e,s)}else r.current=null}function Ny(t,e,r){try{r()}catch(s){Fr(t,e,s)}}var F2=!1;function pM(t,e){if(ny=em,t=$k(),ub(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++d===a&&(l=o),f===i&&++u===s&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(iy={focusedElem:t,selectionRange:r},em=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,g=p.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:vn(e.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(w){Fr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return p=F2,F2=!1,p}function Gu(t,e,r){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ny(e,r,i)}a=a.next}while(a!==s)}}function mx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var s=r.create;r.destroy=s()}r=r.next}while(r!==e)}}function jy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function zA(t){var e=t.alternate;e!==null&&(t.alternate=null,zA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[bh],delete e[cy],delete e[QD],delete e[JD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WA(t){return t.tag===5||t.tag===3||t.tag===4}function L2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sy(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sm));else if(s!==4&&(t=t.child,t!==null))for(Sy(t,e,r),t=t.sibling;t!==null;)Sy(t,e,r),t=t.sibling}function Cy(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Cy(t,e,r),t=t.sibling;t!==null;)Cy(t,e,r),t=t.sibling}var bs=null,Nn=!1;function Yi(t,e,r){for(r=r.child;r!==null;)YA(t,e,r),r=r.sibling}function YA(t,e,r){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(ix,r)}catch{}switch(r.tag){case 5:Us||Oc(r,e);case 6:var s=bs,a=Nn;bs=null,Yi(t,e,r),bs=s,Nn=a,bs!==null&&(Nn?(t=bs,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):bs.removeChild(r.stateNode));break;case 18:bs!==null&&(Nn?(t=bs,r=r.stateNode,t.nodeType===8?bp(t.parentNode,r):t.nodeType===1&&bp(t,r),xh(t)):bp(bs,r.stateNode));break;case 4:s=bs,a=Nn,bs=r.stateNode.containerInfo,Nn=!0,Yi(t,e,r),bs=s,Nn=a;break;case 0:case 11:case 14:case 15:if(!Us&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ny(r,e,o),a=a.next}while(a!==s)}Yi(t,e,r);break;case 1:if(!Us&&(Oc(r,e),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Fr(r,e,l)}Yi(t,e,r);break;case 21:Yi(t,e,r);break;case 22:r.mode&1?(Us=(s=Us)||r.memoizedState!==null,Yi(t,e,r),Us=s):Yi(t,e,r);break;default:Yi(t,e,r)}}function I2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xM),e.forEach(function(s){var a=CM.bind(null,t,s);r.has(s)||(r.add(s),s.then(a,a))})}}function mn(t,e){var r=e.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:bs=l.stateNode,Nn=!1;break e;case 3:bs=l.stateNode.containerInfo,Nn=!0;break e;case 4:bs=l.stateNode.containerInfo,Nn=!0;break e}l=l.return}if(bs===null)throw Error(ke(160));YA(i,o,a),bs=null,Nn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Fr(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VA(e,t),e=e.sibling}function VA(t,e){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),zn(t),s&4){try{Gu(3,t,t.return),mx(3,t)}catch(x){Fr(t,t.return,x)}try{Gu(5,t,t.return)}catch(x){Fr(t,t.return,x)}}break;case 1:mn(e,t),zn(t),s&512&&r!==null&&Oc(r,r.return);break;case 5:if(mn(e,t),zn(t),s&512&&r!==null&&Oc(r,r.return),t.flags&32){var a=t.stateNode;try{uh(a,"")}catch(x){Fr(t,t.return,x)}}if(s&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&fk(a,i),Kg(l,o);var d=Kg(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?yk(a,h):u==="dangerouslySetInnerHTML"?pk(a,h):u==="children"?uh(a,h):Qv(a,u,h,d)}switch(l){case"input":Yg(a,i);break;case"textarea":mk(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Gc(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Gc(a,!!i.multiple,i.defaultValue,!0):Gc(a,!!i.multiple,i.multiple?[]:"",!1))}a[bh]=i}catch(x){Fr(t,t.return,x)}}break;case 6:if(mn(e,t),zn(t),s&4){if(t.stateNode===null)throw Error(ke(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(x){Fr(t,t.return,x)}}break;case 3:if(mn(e,t),zn(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{xh(e.containerInfo)}catch(x){Fr(t,t.return,x)}break;case 4:mn(e,t),zn(t);break;case 13:mn(e,t),zn(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(_b=Wr())),s&4&&I2(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Us=(d=Us)||u,mn(e,t),Us=d):mn(e,t),zn(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Ve=t,u=t.child;u!==null;){for(h=Ve=u;Ve!==null;){switch(f=Ve,m=f.child,f.tag){case 0:case 11:case 14:case 15:Gu(4,f,f.return);break;case 1:Oc(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){s=f,r=f.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(x){Fr(s,r,x)}}break;case 5:Oc(f,f.return);break;case 22:if(f.memoizedState!==null){B2(h);continue}}m!==null?(m.return=f,Ve=m):B2(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=gk("display",o))}catch(x){Fr(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Fr(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mn(e,t),zn(t),s&4&&I2(t);break;case 21:break;default:mn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(WA(r)){var s=r;break e}r=r.return}throw Error(ke(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(uh(a,""),s.flags&=-33);var i=L2(t);Cy(t,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=L2(t);Sy(t,l,o);break;default:throw Error(ke(161))}}catch(c){Fr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gM(t,e,r){Ve=t,$A(t)}function $A(t,e,r){for(var s=(t.mode&1)!==0;Ve!==null;){var a=Ve,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Jf;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Us;l=Jf;var d=Us;if(Jf=o,(Us=c)&&!d)for(Ve=a;Ve!==null;)o=Ve,c=o.child,o.tag===22&&o.memoizedState!==null?U2(a):c!==null?(c.return=o,Ve=c):U2(a);for(;i!==null;)Ve=i,$A(i),i=i.sibling;Ve=a,Jf=l,Us=d}O2(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ve=i):O2(t)}}function O2(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Us||mx(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Us)if(r===null)s.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:vn(e.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&N2(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}N2(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&xh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Us||e.flags&512&&jy(e)}catch(f){Fr(e,e.return,f)}}if(e===t){Ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ve=r;break}Ve=e.return}}function B2(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ve=r;break}Ve=e.return}}function U2(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{mx(4,e)}catch(c){Fr(e,r,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var a=e.return;try{s.componentDidMount()}catch(c){Fr(e,a,c)}}var i=e.return;try{jy(e)}catch(c){Fr(e,i,c)}break;case 5:var o=e.return;try{jy(e)}catch(c){Fr(e,o,c)}}}catch(c){Fr(e,e.return,c)}if(e===t){Ve=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ve=l;break}Ve=e.return}}var yM=Math.ceil,mm=Ui.ReactCurrentDispatcher,Eb=Ui.ReactCurrentOwner,ln=Ui.ReactCurrentBatchConfig,Ft=0,ps=null,qr=null,As=0,Pa=0,Bc=Uo(0),is=0,kh=null,$l=0,xx=0,Pb=0,Ku=null,pa=null,_b=0,kd=1/0,hi=null,xm=!1,ky=null,So=null,e0=!1,mo=null,pm=0,qu=0,Ay=null,D0=-1,M0=0;function ra(){return Ft&6?Wr():D0!==-1?D0:D0=Wr()}function Co(t){return t.mode&1?Ft&2&&As!==0?As&-As:tM.transition!==null?(M0===0&&(M0=Pk()),M0):(t=er,t!==0||(t=window.event,t=t===void 0?16:Ik(t.type)),t):1}function Mn(t,e,r,s){if(50<qu)throw qu=0,Ay=null,Error(ke(185));of(t,r,s),(!(Ft&2)||t!==ps)&&(t===ps&&(!(Ft&2)&&(xx|=r),is===4&&eo(t,As)),Na(t,s),r===1&&Ft===0&&!(e.mode&1)&&(kd=Wr()+500,ux&&Ho()))}function Na(t,e){var r=t.callbackNode;tD(t,e);var s=J0(t,t===ps?As:0);if(s===0)r!==null&&Kw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(r!=null&&Kw(r),e===1)t.tag===0?eM(H2.bind(null,t)):rA(H2.bind(null,t)),qD(function(){!(Ft&6)&&Ho()}),r=null;else{switch(_k(s)){case 1:r=sb;break;case 4:r=Tk;break;case 16:r=Q0;break;case 536870912:r=Ek;break;default:r=Q0}r=e4(r,XA.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function XA(t,e){if(D0=-1,M0=0,Ft&6)throw Error(ke(327));var r=t.callbackNode;if(Jc()&&t.callbackNode!==r)return null;var s=J0(t,t===ps?As:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=gm(t,s);else{e=s;var a=Ft;Ft|=2;var i=KA();(ps!==t||As!==e)&&(hi=null,kd=Wr()+500,Fl(t,e));do try{wM();break}catch(l){GA(t,l)}while(!0);pb(),mm.current=i,Ft=a,qr!==null?e=0:(ps=null,As=0,e=is)}if(e!==0){if(e===2&&(a=ey(t),a!==0&&(s=a,e=Ty(t,a))),e===1)throw r=kh,Fl(t,0),eo(t,s),Na(t,Wr()),r;if(e===6)eo(t,s);else{if(a=t.current.alternate,!(s&30)&&!vM(a)&&(e=gm(t,s),e===2&&(i=ey(t),i!==0&&(s=i,e=Ty(t,i))),e===1))throw r=kh,Fl(t,0),eo(t,s),Na(t,Wr()),r;switch(t.finishedWork=a,t.finishedLanes=s,e){case 0:case 1:throw Error(ke(345));case 2:rl(t,pa,hi);break;case 3:if(eo(t,s),(s&130023424)===s&&(e=_b+500-Wr(),10<e)){if(J0(t,0)!==0)break;if(a=t.suspendedLanes,(a&s)!==s){ra(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=ly(rl.bind(null,t,pa,hi),e);break}rl(t,pa,hi);break;case 4:if(eo(t,s),(s&4194240)===s)break;for(e=t.eventTimes,a=-1;0<s;){var o=31-Dn(s);i=1<<o,o=e[o],o>a&&(a=o),s&=~i}if(s=a,s=Wr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*yM(s/1960))-s,10<s){t.timeoutHandle=ly(rl.bind(null,t,pa,hi),s);break}rl(t,pa,hi);break;case 5:rl(t,pa,hi);break;default:throw Error(ke(329))}}}return Na(t,Wr()),t.callbackNode===r?XA.bind(null,t):null}function Ty(t,e){var r=Ku;return t.current.memoizedState.isDehydrated&&(Fl(t,e).flags|=256),t=gm(t,e),t!==2&&(e=pa,pa=r,e!==null&&Ey(e)),t}function Ey(t){pa===null?pa=t:pa.push.apply(pa,t)}function vM(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!On(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function eo(t,e){for(e&=~Pb,e&=~xx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Dn(e),s=1<<r;t[r]=-1,e&=~s}}function H2(t){if(Ft&6)throw Error(ke(327));Jc();var e=J0(t,0);if(!(e&1))return Na(t,Wr()),null;var r=gm(t,e);if(t.tag!==0&&r===2){var s=ey(t);s!==0&&(e=s,r=Ty(t,s))}if(r===1)throw r=kh,Fl(t,0),eo(t,e),Na(t,Wr()),r;if(r===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rl(t,pa,hi),Na(t,Wr()),null}function Db(t,e){var r=Ft;Ft|=1;try{return t(e)}finally{Ft=r,Ft===0&&(kd=Wr()+500,ux&&Ho())}}function Xl(t){mo!==null&&mo.tag===0&&!(Ft&6)&&Jc();var e=Ft;Ft|=1;var r=ln.transition,s=er;try{if(ln.transition=null,er=1,t)return t()}finally{er=s,ln.transition=r,Ft=e,!(Ft&6)&&Ho()}}function Mb(){Pa=Bc.current,yr(Bc)}function Fl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,KD(r)),qr!==null)for(r=qr.return;r!==null;){var s=r;switch(fb(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&am();break;case 3:Sd(),yr(ba),yr(Vs),Nb();break;case 5:wb(s);break;case 4:Sd();break;case 13:yr(Ar);break;case 19:yr(Ar);break;case 10:gb(s.type._context);break;case 22:case 23:Mb()}r=r.return}if(ps=t,qr=t=ko(t.current,null),As=Pa=e,is=0,kh=null,Pb=xx=$l=0,pa=Ku=null,gl!==null){for(e=0;e<gl.length;e++)if(r=gl[e],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}gl=null}return t}function GA(t,e){do{var r=qr;try{if(pb(),E0.current=fm,hm){for(var s=Er.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}hm=!1}if(Vl=0,hs=as=Er=null,Xu=!1,jh=0,Eb.current=null,r===null||r.return===null){is=1,kh=e,qr=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=As,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=T2(o);if(m!==null){m.flags&=-257,E2(m,o,l,i,e),m.mode&1&&A2(i,d,e),e=m,c=d;var p=e.updateQueue;if(p===null){var x=new Set;x.add(c),e.updateQueue=x}else p.add(c);break e}else{if(!(e&1)){A2(i,d,e),Rb();break e}c=Error(ke(426))}}else if(jr&&l.mode&1){var g=T2(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),E2(g,o,l,i,e),mb(Cd(c,l));break e}}i=c=Cd(c,l),is!==4&&(is=2),Ku===null?Ku=[i]:Ku.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=_A(i,c,e);w2(i,y);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(So===null||!So.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=DA(i,l,e);w2(i,w);break e}}i=i.return}while(i!==null)}ZA(r)}catch(N){e=N,qr===r&&r!==null&&(qr=r=r.return);continue}break}while(!0)}function KA(){var t=mm.current;return mm.current=fm,t===null?fm:t}function Rb(){(is===0||is===3||is===2)&&(is=4),ps===null||!($l&268435455)&&!(xx&268435455)||eo(ps,As)}function gm(t,e){var r=Ft;Ft|=2;var s=KA();(ps!==t||As!==e)&&(hi=null,Fl(t,e));do try{bM();break}catch(a){GA(t,a)}while(!0);if(pb(),Ft=r,mm.current=s,qr!==null)throw Error(ke(261));return ps=null,As=0,is}function bM(){for(;qr!==null;)qA(qr)}function wM(){for(;qr!==null&&!$_();)qA(qr)}function qA(t){var e=JA(t.alternate,t,Pa);t.memoizedProps=t.pendingProps,e===null?ZA(t):qr=e,Eb.current=null}function ZA(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=mM(r,e),r!==null){r.flags&=32767,qr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{is=6,qr=null;return}}else if(r=fM(r,e,Pa),r!==null){qr=r;return}if(e=e.sibling,e!==null){qr=e;return}qr=e=t}while(e!==null);is===0&&(is=5)}function rl(t,e,r){var s=er,a=ln.transition;try{ln.transition=null,er=1,NM(t,e,r,s)}finally{ln.transition=a,er=s}return null}function NM(t,e,r,s){do Jc();while(mo!==null);if(Ft&6)throw Error(ke(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(rD(t,i),t===ps&&(qr=ps=null,As=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||e0||(e0=!0,e4(Q0,function(){return Jc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=er;er=1;var l=Ft;Ft|=4,Eb.current=null,pM(t,r),VA(r,t),zD(iy),em=!!ny,iy=ny=null,t.current=r,gM(r),X_(),Ft=l,er=o,ln.transition=i}else t.current=r;if(e0&&(e0=!1,mo=t,pm=a),i=t.pendingLanes,i===0&&(So=null),q_(r.stateNode),Na(t,Wr()),e!==null)for(s=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(xm)throw xm=!1,t=ky,ky=null,t;return pm&1&&t.tag!==0&&Jc(),i=t.pendingLanes,i&1?t===Ay?qu++:(qu=0,Ay=t):qu=0,Ho(),null}function Jc(){if(mo!==null){var t=_k(pm),e=ln.transition,r=er;try{if(ln.transition=null,er=16>t?16:t,mo===null)var s=!1;else{if(t=mo,mo=null,pm=0,Ft&6)throw Error(ke(331));var a=Ft;for(Ft|=4,Ve=t.current;Ve!==null;){var i=Ve,o=i.child;if(Ve.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ve=d;Ve!==null;){var u=Ve;switch(u.tag){case 0:case 11:case 15:Gu(8,u,i)}var h=u.child;if(h!==null)h.return=u,Ve=h;else for(;Ve!==null;){u=Ve;var f=u.sibling,m=u.return;if(zA(u),u===d){Ve=null;break}if(f!==null){f.return=m,Ve=f;break}Ve=m}}}var p=i.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(x!==null)}}Ve=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ve=o;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gu(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ve=y;break e}Ve=i.return}}var v=t.current;for(Ve=v;Ve!==null;){o=Ve;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ve=b;else e:for(o=v;Ve!==null;){if(l=Ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mx(9,l)}}catch(N){Fr(l,l.return,N)}if(l===o){Ve=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ve=w;break e}Ve=l.return}}if(Ft=a,Ho(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(ix,t)}catch{}s=!0}return s}finally{er=r,ln.transition=e}}return!1}function z2(t,e,r){e=Cd(r,e),e=_A(t,e,1),t=jo(t,e,1),e=ra(),t!==null&&(of(t,1,e),Na(t,e))}function Fr(t,e,r){if(t.tag===3)z2(t,t,r);else for(;e!==null;){if(e.tag===3){z2(e,t,r);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(So===null||!So.has(s))){t=Cd(r,t),t=DA(e,t,1),e=jo(e,t,1),t=ra(),e!==null&&(of(e,1,t),Na(e,t));break}}e=e.return}}function jM(t,e,r){var s=t.pingCache;s!==null&&s.delete(e),e=ra(),t.pingedLanes|=t.suspendedLanes&r,ps===t&&(As&r)===r&&(is===4||is===3&&(As&130023424)===As&&500>Wr()-_b?Fl(t,0):Pb|=r),Na(t,e)}function QA(t,e){e===0&&(t.mode&1?(e=Yf,Yf<<=1,!(Yf&130023424)&&(Yf=4194304)):e=1);var r=ra();t=_i(t,e),t!==null&&(of(t,e,r),Na(t,r))}function SM(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),QA(t,r)}function CM(t,e){var r=0;switch(t.tag){case 13:var s=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(ke(314))}s!==null&&s.delete(e),QA(t,r)}var JA;JA=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ba.current)ya=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ya=!1,hM(t,e,r);ya=!!(t.flags&131072)}else ya=!1,jr&&e.flags&1048576&&sA(e,om,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;_0(t,e),t=e.pendingProps;var a=wd(e,Vs.current);Qc(e,r),a=Sb(null,e,s,t,a,r);var i=Cb();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wa(s)?(i=!0,nm(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vb(e),a.updater=fx,e.stateNode=a,a._reactInternals=e,xy(e,s,t,r),e=yy(null,e,s,!0,i,r)):(e.tag=0,jr&&i&&hb(e),Ks(null,e,a,r),e=e.child),e;case 16:s=e.elementType;e:{switch(_0(t,e),t=e.pendingProps,a=s._init,s=a(s._payload),e.type=s,a=e.tag=AM(s),t=vn(s,t),a){case 0:e=gy(null,e,s,t,r);break e;case 1:e=D2(null,e,s,t,r);break e;case 11:e=P2(null,e,s,t,r);break e;case 14:e=_2(null,e,s,vn(s.type,t),r);break e}throw Error(ke(306,s,""))}return e;case 0:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:vn(s,a),gy(t,e,s,a,r);case 1:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:vn(s,a),D2(t,e,s,a,r);case 3:e:{if(LA(e),t===null)throw Error(ke(387));s=e.pendingProps,i=e.memoizedState,a=i.element,cA(t,e),dm(e,s,null,r);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Cd(Error(ke(423)),e),e=M2(t,e,s,r,a);break e}else if(s!==a){a=Cd(Error(ke(424)),e),e=M2(t,e,s,r,a);break e}else for(La=No(e.stateNode.containerInfo.firstChild),Ba=e,jr=!0,Sn=null,r=oA(e,null,s,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nd(),s===a){e=Di(t,e,r);break e}Ks(t,e,s,r)}e=e.child}return e;case 5:return dA(e),t===null&&hy(e),s=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,oy(s,a)?o=null:i!==null&&oy(s,i)&&(e.flags|=32),FA(t,e),Ks(t,e,o,r),e.child;case 6:return t===null&&hy(e),null;case 13:return IA(t,e,r);case 4:return bb(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=jd(e,null,s,r):Ks(t,e,s,r),e.child;case 11:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:vn(s,a),P2(t,e,s,a,r);case 7:return Ks(t,e,e.pendingProps,r),e.child;case 8:return Ks(t,e,e.pendingProps.children,r),e.child;case 12:return Ks(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(s=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,pr(lm,s._currentValue),s._currentValue=o,i!==null)if(On(i.value,o)){if(i.children===a.children&&!ba.current){e=Di(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=vi(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),fy(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ke(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),fy(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ks(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,s=e.pendingProps.children,Qc(e,r),a=dn(a),s=s(a),e.flags|=1,Ks(t,e,s,r),e.child;case 14:return s=e.type,a=vn(s,e.pendingProps),a=vn(s.type,a),_2(t,e,s,a,r);case 15:return MA(t,e,e.type,e.pendingProps,r);case 17:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:vn(s,a),_0(t,e),e.tag=1,wa(s)?(t=!0,nm(e)):t=!1,Qc(e,r),PA(e,s,a),xy(e,s,a,r),yy(null,e,s,!0,t,r);case 19:return OA(t,e,r);case 22:return RA(t,e,r)}throw Error(ke(156,e.tag))};function e4(t,e){return Ak(t,e)}function kM(t,e,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,r,s){return new kM(t,e,r,s)}function Fb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AM(t){if(typeof t=="function")return Fb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eb)return 11;if(t===tb)return 14}return 2}function ko(t,e){var r=t.alternate;return r===null?(r=nn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function R0(t,e,r,s,a,i){var o=2;if(s=t,typeof t=="function")Fb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ec:return Ll(r.children,a,i,e);case Jv:o=8,a|=8;break;case Bg:return t=nn(12,r,e,a|2),t.elementType=Bg,t.lanes=i,t;case Ug:return t=nn(13,r,e,a),t.elementType=Ug,t.lanes=i,t;case Hg:return t=nn(19,r,e,a),t.elementType=Hg,t.lanes=i,t;case dk:return px(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lk:o=10;break e;case ck:o=9;break e;case eb:o=11;break e;case tb:o=14;break e;case qi:o=16,s=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=nn(o,r,e,a),e.elementType=t,e.type=s,e.lanes=i,e}function Ll(t,e,r,s){return t=nn(7,t,s,e),t.lanes=r,t}function px(t,e,r,s){return t=nn(22,t,s,e),t.elementType=dk,t.lanes=r,t.stateNode={isHidden:!1},t}function Tp(t,e,r){return t=nn(6,t,null,e),t.lanes=r,t}function Ep(t,e,r){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TM(t,e,r,s,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cp(0),this.expirationTimes=cp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cp(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lb(t,e,r,s,a,i,o,l,c){return t=new TM(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vb(i),t}function EM(t,e,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tc,key:s==null?null:""+s,children:t,containerInfo:e,implementation:r}}function t4(t){if(!t)return Po;t=t._reactInternals;e:{if(ic(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var r=t.type;if(wa(r))return tA(t,r,e)}return e}function r4(t,e,r,s,a,i,o,l,c){return t=Lb(r,s,!0,t,a,i,o,l,c),t.context=t4(null),r=t.current,s=ra(),a=Co(r),i=vi(s,a),i.callback=e??null,jo(r,i,a),t.current.lanes=a,of(t,a,s),Na(t,s),t}function gx(t,e,r,s){var a=e.current,i=ra(),o=Co(a);return r=t4(r),e.context===null?e.context=r:e.pendingContext=r,e=vi(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=jo(a,e,o),t!==null&&(Mn(t,a,o,i),T0(t,a,o)),o}function ym(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function W2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ib(t,e){W2(t,e),(t=t.alternate)&&W2(t,e)}function PM(){return null}var s4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ob(t){this._internalRoot=t}yx.prototype.render=Ob.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));gx(t,e,null,null)};yx.prototype.unmount=Ob.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xl(function(){gx(null,t,null,null)}),e[Pi]=null}};function yx(t){this._internalRoot=t}yx.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ji.length&&e!==0&&e<Ji[r].priority;r++);Ji.splice(r,0,t),r===0&&Lk(t)}};function Bb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y2(){}function _M(t,e,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=ym(o);i.call(d)}}var o=r4(e,s,t,0,null,!1,!1,"",Y2);return t._reactRootContainer=o,t[Pi]=o.current,yh(t.nodeType===8?t.parentNode:t),Xl(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=ym(c);l.call(d)}}var c=Lb(t,0,!1,null,null,!1,!1,"",Y2);return t._reactRootContainer=c,t[Pi]=c.current,yh(t.nodeType===8?t.parentNode:t),Xl(function(){gx(e,c,r,s)}),c}function bx(t,e,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ym(o);l.call(c)}}gx(e,o,t,a)}else o=_M(r,e,t,a,s);return ym(o)}Dk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Mu(e.pendingLanes);r!==0&&(ab(e,r|1),Na(e,Wr()),!(Ft&6)&&(kd=Wr()+500,Ho()))}break;case 13:Xl(function(){var s=_i(t,1);if(s!==null){var a=ra();Mn(s,t,1,a)}}),Ib(t,1)}};nb=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var r=ra();Mn(e,t,134217728,r)}Ib(t,134217728)}};Mk=function(t){if(t.tag===13){var e=Co(t),r=_i(t,e);if(r!==null){var s=ra();Mn(r,t,e,s)}Ib(t,e)}};Rk=function(){return er};Fk=function(t,e){var r=er;try{return er=t,e()}finally{er=r}};Zg=function(t,e,r){switch(e){case"input":if(Yg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var s=r[e];if(s!==t&&s.form===t.form){var a=dx(s);if(!a)throw Error(ke(90));hk(s),Yg(s,a)}}}break;case"textarea":mk(t,r);break;case"select":e=r.value,e!=null&&Gc(t,!!r.multiple,e,!1)}};wk=Db;Nk=Xl;var DM={usingClientEntryPoint:!1,Events:[cf,Mc,dx,vk,bk,Db]},bu={findFiberByHostInstance:pl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MM={bundleType:bu.bundleType,version:bu.version,rendererPackageName:bu.rendererPackageName,rendererConfig:bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ck(t),t===null?null:t.stateNode},findFiberByHostInstance:bu.findFiberByHostInstance||PM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{ix=t0.inject(MM),Qn=t0}catch{}}Va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DM;Va.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bb(e))throw Error(ke(200));return EM(t,e,null,r)};Va.createRoot=function(t,e){if(!Bb(t))throw Error(ke(299));var r=!1,s="",a=s4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Lb(t,1,!1,null,null,r,!1,s,a),t[Pi]=e.current,yh(t.nodeType===8?t.parentNode:t),new Ob(e)};Va.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=Ck(e),t=t===null?null:t.stateNode,t};Va.flushSync=function(t){return Xl(t)};Va.hydrate=function(t,e,r){if(!vx(e))throw Error(ke(200));return bx(null,t,e,!0,r)};Va.hydrateRoot=function(t,e,r){if(!Bb(t))throw Error(ke(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=s4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=r4(e,null,t,1,r??null,a,!1,i,o),t[Pi]=e.current,yh(t),s)for(t=0;t<s.length;t++)r=s[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new yx(e)};Va.render=function(t,e,r){if(!vx(e))throw Error(ke(200));return bx(null,t,e,!1,r)};Va.unmountComponentAtNode=function(t){if(!vx(t))throw Error(ke(40));return t._reactRootContainer?(Xl(function(){bx(null,null,t,!1,function(){t._reactRootContainer=null,t[Pi]=null})}),!0):!1};Va.unstable_batchedUpdates=Db;Va.unstable_renderSubtreeIntoContainer=function(t,e,r,s){if(!vx(r))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return bx(t,e,r,!1,s)};Va.version="18.3.1-next-f1338f8080-20240426";function a4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a4)}catch(t){console.error(t)}}a4(),ak.exports=Va;var Ub=ak.exports;const n4=Vv(Ub),RM=$C({__proto__:null,default:n4},[Ub]);var i4,V2=Ub;i4=V2.createRoot,V2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nr(){return Nr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nr.apply(this,arguments)}var Kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kr||(Kr={}));const $2="popstate";function FM(t){t===void 0&&(t={});function e(s,a){let{pathname:i,search:o,hash:l}=s.location;return Ah("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Kl(a)}return IM(e,r,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LM(){return Math.random().toString(36).substr(2,8)}function X2(t,e){return{usr:t.state,key:t.key,idx:e}}function Ah(t,e,r,s){return r===void 0&&(r=null),Nr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zo(e):e,{state:r,key:e&&e.key||s||LM()})}function Kl(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function zo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function IM(t,e,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Kr.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Nr({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Kr.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:l,location:x.location,delta:y})}function f(g,y){l=Kr.Push;let v=Ah(x.location,g,y);d=u()+1;let b=X2(v,d),w=x.createHref(v);try{o.pushState(b,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&c&&c({action:l,location:x.location,delta:1})}function m(g,y){l=Kr.Replace;let v=Ah(x.location,g,y);d=u();let b=X2(v,d),w=x.createHref(v);o.replaceState(b,"",w),i&&c&&c({action:l,location:x.location,delta:0})}function p(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof g=="string"?g:Kl(g);return v=v.replace(/ $/,"%20"),vt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let x={get action(){return l},get location(){return t(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener($2,h),c=g,()=>{a.removeEventListener($2,h),c=null}},createHref(g){return e(a,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(g){return o.go(g)}};return x}var Qt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qt||(Qt={}));const OM=new Set(["lazy","caseSensitive","path","id","index","children"]);function BM(t){return t.index===!0}function vm(t,e,r,s){return r===void 0&&(r=[]),s===void 0&&(s={}),t.map((a,i)=>{let o=[...r,String(i)],l=typeof a.id=="string"?a.id:o.join("-");if(vt(a.index!==!0||!a.children,"Cannot specify children on an index route"),vt(!s[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),BM(a)){let c=Nr({},a,e(a),{id:l});return s[l]=c,c}else{let c=Nr({},a,e(a),{id:l,children:void 0});return s[l]=c,a.children&&(c.children=vm(a.children,e,o,s)),c}})}function ul(t,e,r){return r===void 0&&(r="/"),F0(t,e,r,!1)}function F0(t,e,r,s){let a=typeof e=="string"?zo(e):e,i=Gd(a.pathname||"/",r);if(i==null)return null;let o=o4(t);HM(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=QM(i);l=qM(o[c],d,s)}return l}function UM(t,e){let{route:r,pathname:s,params:a}=t;return{id:r.id,pathname:s,params:a,data:e[r.id],handle:r.handle}}function o4(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=bi([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),o4(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:GM(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of l4(i.path))a(i,o,c)}),e}function l4(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=l4(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function HM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:KM(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const zM=/^:[\w-]+$/,WM=3,YM=2,VM=1,$M=10,XM=-2,G2=t=>t==="*";function GM(t,e){let r=t.split("/"),s=r.length;return r.some(G2)&&(s+=XM),e&&(s+=YM),r.filter(a=>!G2(a)).reduce((a,i)=>a+(zM.test(i)?WM:i===""?VM:$M),s)}function KM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function qM(t,e,r){r===void 0&&(r=!1);let{routesMeta:s}=t,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=K2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&r&&!s[s.length-1].route.index&&(h=K2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:bi([i,h.pathname]),pathnameBase:rR(bi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=bi([i,h.pathnameBase]))}return o}function K2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=ZM(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?d[f]=void 0:d[f]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function ZM(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Gl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function QM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}const JM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eR=t=>JM.test(t);function tR(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:a=""}=typeof t=="string"?zo(t):t,i;if(r)if(eR(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Gl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=q2(r.substring(1),"/"):i=q2(r,e)}else i=e;return{pathname:i,search:sR(s),hash:aR(a)}}function q2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Pp(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wx(t,e){let r=c4(t);return e?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Nx(t,e,r,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=zo(t):(a=Nr({},t),vt(!a.pathname||!a.pathname.includes("?"),Pp("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),Pp("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),Pp("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=tR(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),rR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class bm{constructor(e,r,s,a){a===void 0&&(a=!1),this.status=e,this.statusText=r||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function Th(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const d4=["post","put","patch","delete"],nR=new Set(d4),iR=["get",...d4],oR=new Set(iR),lR=new Set([301,302,303,307,308]),cR=new Set([307,308]),_p={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),u4="remix-router-transitions";function hR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",s=!r;vt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let re=t.detectErrorBoundary;a=le=>({hasErrorBoundary:re(le)})}else a=uR;let i={},o=vm(t.routes,a,void 0,i),l,c=t.basename||"/",d=t.dataStrategy||pR,u=t.patchRoutesOnNavigation,h=Nr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,p=null,x=null,g=null,y=t.hydrationData!=null,v=ul(o,t.history.location,c),b=!1,w=null;if(v==null&&!u){let re=fa(404,{pathname:t.history.location.pathname}),{matches:le,route:me}=oN(o);v=le,w={[me.id]:re}}v&&!t.hydrationData&&Pt(v,o,t.history.location.pathname).active&&(v=null);let N;if(v)if(v.some(re=>re.route.lazy))N=!1;else if(!v.some(re=>re.route.loader))N=!0;else if(h.v7_partialHydration){let re=t.hydrationData?t.hydrationData.loaderData:null,le=t.hydrationData?t.hydrationData.errors:null;if(le){let me=v.findIndex(je=>le[je.route.id]!==void 0);N=v.slice(0,me+1).every(je=>!_y(je.route,re,le))}else N=v.every(me=>!_y(me.route,re,le))}else N=t.hydrationData!=null;else if(N=!1,v=[],h.v7_partialHydration){let re=Pt(null,o,t.history.location.pathname);re.active&&re.matches&&(b=!0,v=re.matches)}let C,S={historyAction:t.history.action,location:t.history.location,matches:v,initialized:N,navigation:_p,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},k=Kr.Pop,A=!1,T,E=!1,D=new Map,_=null,z=!1,H=!1,q=[],K=new Set,Y=new Map,J=0,Z=-1,ne=new Map,F=new Set,Q=new Map,W=new Map,G=new Set,te=new Map,ee=new Map,I;function oe(){if(f=t.history.listen(re=>{let{action:le,location:me,delta:je}=re;if(I){I(),I=void 0;return}Gl(ee.size===0||je!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Oe=cs({currentLocation:S.location,nextLocation:me,historyAction:le});if(Oe&&je!=null){let M=new Promise(B=>{I=B});t.history.go(je*-1),ts(Oe,{state:"blocked",location:me,proceed(){ts(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),M.then(()=>t.history.go(je))},reset(){let B=new Map(S.blockers);B.set(Oe,wu),ye({blockers:B})}});return}return Xe(le,me)}),r){PR(e,D);let re=()=>_R(e,D);e.addEventListener("pagehide",re),_=()=>e.removeEventListener("pagehide",re)}return S.initialized||Xe(Kr.Pop,S.location,{initialHydration:!0}),C}function V(){f&&f(),_&&_(),m.clear(),T&&T.abort(),S.fetchers.forEach((re,le)=>Ta(le)),S.blockers.forEach((re,le)=>Dr(le))}function pe(re){return m.add(re),()=>m.delete(re)}function ye(re,le){le===void 0&&(le={}),S=Nr({},S,re);let me=[],je=[];h.v7_fetcherPersist&&S.fetchers.forEach((Oe,M)=>{Oe.state==="idle"&&(G.has(M)?je.push(M):me.push(M))}),G.forEach(Oe=>{!S.fetchers.has(Oe)&&!Y.has(Oe)&&je.push(Oe)}),[...m].forEach(Oe=>Oe(S,{deletedFetchers:je,viewTransitionOpts:le.viewTransitionOpts,flushSync:le.flushSync===!0})),h.v7_fetcherPersist?(me.forEach(Oe=>S.fetchers.delete(Oe)),je.forEach(Oe=>Ta(Oe))):je.forEach(Oe=>G.delete(Oe))}function Ae(re,le,me){var je,Oe;let{flushSync:M}=me===void 0?{}:me,B=S.actionData!=null&&S.navigation.formMethod!=null&&jn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((je=re.state)==null?void 0:je._isRedirect)!==!0,R;le.actionData?Object.keys(le.actionData).length>0?R=le.actionData:R=null:B?R=S.actionData:R=null;let L=le.loaderData?nN(S.loaderData,le.loaderData,le.matches||[],le.errors):S.loaderData,O=S.blockers;O.size>0&&(O=new Map(O),O.forEach((fe,he)=>O.set(he,wu)));let U=A===!0||S.navigation.formMethod!=null&&jn(S.navigation.formMethod)&&((Oe=re.state)==null?void 0:Oe._isRedirect)!==!0;l&&(o=l,l=void 0),z||k===Kr.Pop||(k===Kr.Push?t.history.push(re,re.state):k===Kr.Replace&&t.history.replace(re,re.state));let ie;if(k===Kr.Pop){let fe=D.get(S.location.pathname);fe&&fe.has(re.pathname)?ie={currentLocation:S.location,nextLocation:re}:D.has(re.pathname)&&(ie={currentLocation:re,nextLocation:S.location})}else if(E){let fe=D.get(S.location.pathname);fe?fe.add(re.pathname):(fe=new Set([re.pathname]),D.set(S.location.pathname,fe)),ie={currentLocation:S.location,nextLocation:re}}ye(Nr({},le,{actionData:R,loaderData:L,historyAction:k,location:re,initialized:!0,navigation:_p,revalidation:"idle",restoreScrollPosition:jt(re,le.matches||S.matches),preventScrollReset:U,blockers:O}),{viewTransitionOpts:ie,flushSync:M===!0}),k=Kr.Pop,A=!1,E=!1,z=!1,H=!1,q=[]}async function Re(re,le){if(typeof re=="number"){t.history.go(re);return}let me=Py(S.location,S.matches,c,h.v7_prependBasename,re,h.v7_relativeSplatPath,le==null?void 0:le.fromRouteId,le==null?void 0:le.relative),{path:je,submission:Oe,error:M}=Z2(h.v7_normalizeFormMethod,!1,me,le),B=S.location,R=Ah(S.location,je,le&&le.state);R=Nr({},R,t.history.encodeLocation(R));let L=le&&le.replace!=null?le.replace:void 0,O=Kr.Push;L===!0?O=Kr.Replace:L===!1||Oe!=null&&jn(Oe.formMethod)&&Oe.formAction===S.location.pathname+S.location.search&&(O=Kr.Replace);let U=le&&"preventScrollReset"in le?le.preventScrollReset===!0:void 0,ie=(le&&le.flushSync)===!0,fe=cs({currentLocation:B,nextLocation:R,historyAction:O});if(fe){ts(fe,{state:"blocked",location:R,proceed(){ts(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),Re(re,le)},reset(){let he=new Map(S.blockers);he.set(fe,wu),ye({blockers:he})}});return}return await Xe(O,R,{submission:Oe,pendingError:M,preventScrollReset:U,replace:le&&le.replace,enableViewTransition:le&&le.viewTransition,flushSync:ie})}function nt(){if(Cr(),ye({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Xe(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Xe(k||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:E===!0})}}async function Xe(re,le,me){T&&T.abort(),T=null,k=re,z=(me&&me.startUninterruptedRevalidation)===!0,Je(S.location,S.matches),A=(me&&me.preventScrollReset)===!0,E=(me&&me.enableViewTransition)===!0;let je=l||o,Oe=me&&me.overrideNavigation,M=me!=null&&me.initialHydration&&S.matches&&S.matches.length>0&&!b?S.matches:ul(je,le,c),B=(me&&me.flushSync)===!0;if(M&&S.initialized&&!H&&NR(S.location,le)&&!(me&&me.submission&&jn(me.submission.formMethod))){Ae(le,{matches:M},{flushSync:B});return}let R=Pt(M,je,le.pathname);if(R.active&&R.matches&&(M=R.matches),!M){let{error:ue,notFoundMatches:de,route:ve}=rs(le.pathname);Ae(le,{matches:de,loaderData:{},errors:{[ve.id]:ue}},{flushSync:B});return}T=new AbortController;let L=yc(t.history,le,T.signal,me&&me.submission),O;if(me&&me.pendingError)O=[hl(M).route.id,{type:Qt.error,error:me.pendingError}];else if(me&&me.submission&&jn(me.submission.formMethod)){let ue=await _e(L,le,me.submission,M,R.active,{replace:me.replace,flushSync:B});if(ue.shortCircuited)return;if(ue.pendingActionResult){let[de,ve]=ue.pendingActionResult;if(_a(ve)&&Th(ve.error)&&ve.error.status===404){T=null,Ae(le,{matches:ue.matches,loaderData:{},errors:{[de]:ve.error}});return}}M=ue.matches||M,O=ue.pendingActionResult,Oe=Dp(le,me.submission),B=!1,R.active=!1,L=yc(t.history,L.url,L.signal)}let{shortCircuited:U,matches:ie,loaderData:fe,errors:he}=await Ye(L,le,M,R.active,Oe,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,me&&me.initialHydration===!0,B,O);U||(T=null,Ae(le,Nr({matches:ie||M},iN(O),{loaderData:fe,errors:he})))}async function _e(re,le,me,je,Oe,M){M===void 0&&(M={}),Cr();let B=TR(le,me);if(ye({navigation:B},{flushSync:M.flushSync===!0}),Oe){let O=await ds(je,le.pathname,re.signal);if(O.type==="aborted")return{shortCircuited:!0};if(O.type==="error"){let U=hl(O.partialMatches).route.id;return{matches:O.partialMatches,pendingActionResult:[U,{type:Qt.error,error:O.error}]}}else if(O.matches)je=O.matches;else{let{notFoundMatches:U,error:ie,route:fe}=rs(le.pathname);return{matches:U,pendingActionResult:[fe.id,{type:Qt.error,error:ie}]}}}let R,L=Fu(je,le);if(!L.route.action&&!L.route.lazy)R={type:Qt.error,error:fa(405,{method:re.method,pathname:le.pathname,routeId:L.route.id})};else if(R=(await Fs("action",S,re,[L],je,null))[L.route.id],re.signal.aborted)return{shortCircuited:!0};if(vl(R)){let O;return M&&M.replace!=null?O=M.replace:O=rN(R.response.headers.get("Location"),new URL(re.url),c,t.history)===S.location.pathname+S.location.search,await xt(re,R,!0,{submission:me,replace:O}),{shortCircuited:!0}}if(xo(R))throw fa(400,{type:"defer-action"});if(_a(R)){let O=hl(je,L.route.id);return(M&&M.replace)!==!0&&(k=Kr.Push),{matches:je,pendingActionResult:[O.route.id,R]}}return{matches:je,pendingActionResult:[L.route.id,R]}}async function Ye(re,le,me,je,Oe,M,B,R,L,O,U){let ie=Oe||Dp(le,M),fe=M||B||cN(ie),he=!z&&(!h.v7_partialHydration||!L);if(je){if(he){let ar=Ge(U);ye(Nr({navigation:ie},ar!==void 0?{actionData:ar}:{}),{flushSync:O})}let yt=await ds(me,le.pathname,re.signal);if(yt.type==="aborted")return{shortCircuited:!0};if(yt.type==="error"){let ar=hl(yt.partialMatches).route.id;return{matches:yt.partialMatches,loaderData:{},errors:{[ar]:yt.error}}}else if(yt.matches)me=yt.matches;else{let{error:ar,notFoundMatches:ca,route:di}=rs(le.pathname);return{matches:ca,loaderData:{},errors:{[di.id]:ar}}}}let ue=l||o,[de,ve]=J2(t.history,S,me,fe,le,h.v7_partialHydration&&L===!0,h.v7_skipActionErrorRevalidation,H,q,K,G,Q,F,ue,c,U);if(At(yt=>!(me&&me.some(ar=>ar.route.id===yt))||de&&de.some(ar=>ar.route.id===yt)),Z=++J,de.length===0&&ve.length===0){let yt=we();return Ae(le,Nr({matches:me,loaderData:{},errors:U&&_a(U[1])?{[U[0]]:U[1].error}:null},iN(U),yt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:O}),{shortCircuited:!0}}if(he){let yt={};if(!je){yt.navigation=ie;let ar=Ge(U);ar!==void 0&&(yt.actionData=ar)}ve.length>0&&(yt.fetchers=ze(ve)),ye(yt,{flushSync:O})}ve.forEach(yt=>{Se(yt.key),yt.controller&&Y.set(yt.key,yt.controller)});let De=()=>ve.forEach(yt=>Se(yt.key));T&&T.signal.addEventListener("abort",De);let{loaderResults:He,fetcherResults:Ce}=await wr(S,me,de,ve,re);if(re.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",De),ve.forEach(yt=>Y.delete(yt.key));let Ie=r0(He);if(Ie)return await xt(re,Ie.result,!0,{replace:R}),{shortCircuited:!0};if(Ie=r0(Ce),Ie)return F.add(Ie.key),await xt(re,Ie.result,!0,{replace:R}),{shortCircuited:!0};let{loaderData:it,errors:Xt}=aN(S,me,He,U,ve,Ce,te);te.forEach((yt,ar)=>{yt.subscribe(ca=>{(ca||yt.done)&&te.delete(ar)})}),h.v7_partialHydration&&L&&S.errors&&(Xt=Nr({},S.errors,Xt));let Ot=we(),Hr=qe(Z),Hn=Ot||Hr||ve.length>0;return Nr({matches:me,loaderData:it,errors:Xt},Hn?{fetchers:new Map(S.fetchers)}:{})}function Ge(re){if(re&&!_a(re[1]))return{[re[0]]:re[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function ze(re){return re.forEach(le=>{let me=S.fetchers.get(le.key),je=Nu(void 0,me?me.data:void 0);S.fetchers.set(le.key,je)}),new Map(S.fetchers)}function lt(re,le,me,je){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Se(re);let Oe=(je&&je.flushSync)===!0,M=l||o,B=Py(S.location,S.matches,c,h.v7_prependBasename,me,h.v7_relativeSplatPath,le,je==null?void 0:je.relative),R=ul(M,B,c),L=Pt(R,M,B);if(L.active&&L.matches&&(R=L.matches),!R){ys(re,le,fa(404,{pathname:B}),{flushSync:Oe});return}let{path:O,submission:U,error:ie}=Z2(h.v7_normalizeFormMethod,!0,B,je);if(ie){ys(re,le,ie,{flushSync:Oe});return}let fe=Fu(R,O),he=(je&&je.preventScrollReset)===!0;if(U&&jn(U.formMethod)){$t(re,le,O,fe,R,L.active,Oe,he,U);return}Q.set(re,{routeId:le,path:O}),gs(re,le,O,fe,R,L.active,Oe,he,U)}async function $t(re,le,me,je,Oe,M,B,R,L){Cr(),Q.delete(re);function O(zt){if(!zt.route.action&&!zt.route.lazy){let pc=fa(405,{method:L.formMethod,pathname:me,routeId:le});return ys(re,le,pc,{flushSync:B}),!0}return!1}if(!M&&O(je))return;let U=S.fetchers.get(re);_r(re,ER(L,U),{flushSync:B});let ie=new AbortController,fe=yc(t.history,me,ie.signal,L);if(M){let zt=await ds(Oe,new URL(fe.url).pathname,fe.signal,re);if(zt.type==="aborted")return;if(zt.type==="error"){ys(re,le,zt.error,{flushSync:B});return}else if(zt.matches){if(Oe=zt.matches,je=Fu(Oe,me),O(je))return}else{ys(re,le,fa(404,{pathname:me}),{flushSync:B});return}}Y.set(re,ie);let he=J,de=(await Fs("action",S,fe,[je],Oe,re))[je.route.id];if(fe.signal.aborted){Y.get(re)===ie&&Y.delete(re);return}if(h.v7_fetcherPersist&&G.has(re)){if(vl(de)||_a(de)){_r(re,Xi(void 0));return}}else{if(vl(de))if(Y.delete(re),Z>he){_r(re,Xi(void 0));return}else return F.add(re),_r(re,Nu(L)),xt(fe,de,!1,{fetcherSubmission:L,preventScrollReset:R});if(_a(de)){ys(re,le,de.error);return}}if(xo(de))throw fa(400,{type:"defer-action"});let ve=S.navigation.location||S.location,De=yc(t.history,ve,ie.signal),He=l||o,Ce=S.navigation.state!=="idle"?ul(He,S.navigation.location,c):S.matches;vt(Ce,"Didn't find any matches after fetcher action");let Ie=++J;ne.set(re,Ie);let it=Nu(L,de.data);S.fetchers.set(re,it);let[Xt,Ot]=J2(t.history,S,Ce,L,ve,!1,h.v7_skipActionErrorRevalidation,H,q,K,G,Q,F,He,c,[je.route.id,de]);Ot.filter(zt=>zt.key!==re).forEach(zt=>{let pc=zt.key,Fw=S.fetchers.get(pc),a_=Nu(void 0,Fw?Fw.data:void 0);S.fetchers.set(pc,a_),Se(pc),zt.controller&&Y.set(pc,zt.controller)}),ye({fetchers:new Map(S.fetchers)});let Hr=()=>Ot.forEach(zt=>Se(zt.key));ie.signal.addEventListener("abort",Hr);let{loaderResults:Hn,fetcherResults:yt}=await wr(S,Ce,Xt,Ot,De);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",Hr),ne.delete(re),Y.delete(re),Ot.forEach(zt=>Y.delete(zt.key));let ar=r0(Hn);if(ar)return xt(De,ar.result,!1,{preventScrollReset:R});if(ar=r0(yt),ar)return F.add(ar.key),xt(De,ar.result,!1,{preventScrollReset:R});let{loaderData:ca,errors:di}=aN(S,Ce,Hn,void 0,Ot,yt,te);if(S.fetchers.has(re)){let zt=Xi(de.data);S.fetchers.set(re,zt)}qe(Ie),S.navigation.state==="loading"&&Ie>Z?(vt(k,"Expected pending action"),T&&T.abort(),Ae(S.navigation.location,{matches:Ce,loaderData:ca,errors:di,fetchers:new Map(S.fetchers)})):(ye({errors:di,loaderData:nN(S.loaderData,ca,Ce,di),fetchers:new Map(S.fetchers)}),H=!1)}async function gs(re,le,me,je,Oe,M,B,R,L){let O=S.fetchers.get(re);_r(re,Nu(L,O?O.data:void 0),{flushSync:B});let U=new AbortController,ie=yc(t.history,me,U.signal);if(M){let de=await ds(Oe,new URL(ie.url).pathname,ie.signal,re);if(de.type==="aborted")return;if(de.type==="error"){ys(re,le,de.error,{flushSync:B});return}else if(de.matches)Oe=de.matches,je=Fu(Oe,me);else{ys(re,le,fa(404,{pathname:me}),{flushSync:B});return}}Y.set(re,U);let fe=J,ue=(await Fs("loader",S,ie,[je],Oe,re))[je.route.id];if(xo(ue)&&(ue=await zb(ue,ie.signal,!0)||ue),Y.get(re)===U&&Y.delete(re),!ie.signal.aborted){if(G.has(re)){_r(re,Xi(void 0));return}if(vl(ue))if(Z>fe){_r(re,Xi(void 0));return}else{F.add(re),await xt(ie,ue,!1,{preventScrollReset:R});return}if(_a(ue)){ys(re,le,ue.error);return}vt(!xo(ue),"Unhandled fetcher deferred data"),_r(re,Xi(ue.data))}}async function xt(re,le,me,je){let{submission:Oe,fetcherSubmission:M,preventScrollReset:B,replace:R}=je===void 0?{}:je;le.response.headers.has("X-Remix-Revalidate")&&(H=!0);let L=le.response.headers.get("Location");vt(L,"Expected a Location header on the redirect Response"),L=rN(L,new URL(re.url),c,t.history);let O=Ah(S.location,L,{_isRedirect:!0});if(r){let de=!1;if(le.response.headers.has("X-Remix-Reload-Document"))de=!0;else if(Hb.test(L)){const ve=t.history.createURL(L);de=ve.origin!==e.location.origin||Gd(ve.pathname,c)==null}if(de){R?e.location.replace(L):e.location.assign(L);return}}T=null;let U=R===!0||le.response.headers.has("X-Remix-Replace")?Kr.Replace:Kr.Push,{formMethod:ie,formAction:fe,formEncType:he}=S.navigation;!Oe&&!M&&ie&&fe&&he&&(Oe=cN(S.navigation));let ue=Oe||M;if(cR.has(le.response.status)&&ue&&jn(ue.formMethod))await Xe(U,O,{submission:Nr({},ue,{formAction:L}),preventScrollReset:B||A,enableViewTransition:me?E:void 0});else{let de=Dp(O,Oe);await Xe(U,O,{overrideNavigation:de,fetcherSubmission:M,preventScrollReset:B||A,enableViewTransition:me?E:void 0})}}async function Fs(re,le,me,je,Oe,M){let B,R={};try{B=await gR(d,re,le,me,je,Oe,M,i,a)}catch(L){return je.forEach(O=>{R[O.route.id]={type:Qt.error,error:L}}),R}for(let[L,O]of Object.entries(B))if(jR(O)){let U=O.result;R[L]={type:Qt.redirect,response:bR(U,me,L,Oe,c,h.v7_relativeSplatPath)}}else R[L]=await vR(O);return R}async function wr(re,le,me,je,Oe){let M=re.matches,B=Fs("loader",re,Oe,me,le,null),R=Promise.all(je.map(async U=>{if(U.matches&&U.match&&U.controller){let fe=(await Fs("loader",re,yc(t.history,U.path,U.controller.signal),[U.match],U.matches,U.key))[U.match.route.id];return{[U.key]:fe}}else return Promise.resolve({[U.key]:{type:Qt.error,error:fa(404,{pathname:U.path})}})})),L=await B,O=(await R).reduce((U,ie)=>Object.assign(U,ie),{});return await Promise.all([kR(le,L,Oe.signal,M,re.loaderData),AR(le,O,je)]),{loaderResults:L,fetcherResults:O}}function Cr(){H=!0,q.push(...At()),Q.forEach((re,le)=>{Y.has(le)&&K.add(le),Se(le)})}function _r(re,le,me){me===void 0&&(me={}),S.fetchers.set(re,le),ye({fetchers:new Map(S.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function ys(re,le,me,je){je===void 0&&(je={});let Oe=hl(S.matches,le);Ta(re),ye({errors:{[Oe.route.id]:me},fetchers:new Map(S.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function oa(re){return W.set(re,(W.get(re)||0)+1),G.has(re)&&G.delete(re),S.fetchers.get(re)||dR}function Ta(re){let le=S.fetchers.get(re);Y.has(re)&&!(le&&le.state==="loading"&&ne.has(re))&&Se(re),Q.delete(re),ne.delete(re),F.delete(re),h.v7_fetcherPersist&&G.delete(re),K.delete(re),S.fetchers.delete(re)}function fn(re){let le=(W.get(re)||0)-1;le<=0?(W.delete(re),G.add(re),h.v7_fetcherPersist||Ta(re)):W.set(re,le),ye({fetchers:new Map(S.fetchers)})}function Se(re){let le=Y.get(re);le&&(le.abort(),Y.delete(re))}function pt(re){for(let le of re){let me=oa(le),je=Xi(me.data);S.fetchers.set(le,je)}}function we(){let re=[],le=!1;for(let me of F){let je=S.fetchers.get(me);vt(je,"Expected fetcher: "+me),je.state==="loading"&&(F.delete(me),re.push(me),le=!0)}return pt(re),le}function qe(re){let le=[];for(let[me,je]of ne)if(je<re){let Oe=S.fetchers.get(me);vt(Oe,"Expected fetcher: "+me),Oe.state==="loading"&&(Se(me),ne.delete(me),le.push(me))}return pt(le),le.length>0}function kt(re,le){let me=S.blockers.get(re)||wu;return ee.get(re)!==le&&ee.set(re,le),me}function Dr(re){S.blockers.delete(re),ee.delete(re)}function ts(re,le){let me=S.blockers.get(re)||wu;vt(me.state==="unblocked"&&le.state==="blocked"||me.state==="blocked"&&le.state==="blocked"||me.state==="blocked"&&le.state==="proceeding"||me.state==="blocked"&&le.state==="unblocked"||me.state==="proceeding"&&le.state==="unblocked","Invalid blocker state transition: "+me.state+" -> "+le.state);let je=new Map(S.blockers);je.set(re,le),ye({blockers:je})}function cs(re){let{currentLocation:le,nextLocation:me,historyAction:je}=re;if(ee.size===0)return;ee.size>1&&Gl(!1,"A router only supports one blocker at a time");let Oe=Array.from(ee.entries()),[M,B]=Oe[Oe.length-1],R=S.blockers.get(M);if(!(R&&R.state==="proceeding")&&B({currentLocation:le,nextLocation:me,historyAction:je}))return M}function rs(re){let le=fa(404,{pathname:re}),me=l||o,{matches:je,route:Oe}=oN(me);return At(),{notFoundMatches:je,route:Oe,error:le}}function At(re){let le=[];return te.forEach((me,je)=>{(!re||re(je))&&(me.cancel(),le.push(je),te.delete(je))}),le}function gt(re,le,me){if(p=re,g=le,x=me||null,!y&&S.navigation===_p){y=!0;let je=jt(S.location,S.matches);je!=null&&ye({restoreScrollPosition:je})}return()=>{p=null,g=null,x=null}}function la(re,le){return x&&x(re,le.map(je=>UM(je,S.loaderData)))||re.key}function Je(re,le){if(p&&g){let me=la(re,le);p[me]=g()}}function jt(re,le){if(p){let me=la(re,le),je=p[me];if(typeof je=="number")return je}return null}function Pt(re,le,me){if(u)if(re){if(Object.keys(re[0].params).length>0)return{active:!0,matches:F0(le,me,c,!0)}}else return{active:!0,matches:F0(le,me,c,!0)||[]};return{active:!1,matches:null}}async function ds(re,le,me,je){if(!u)return{type:"success",matches:re};let Oe=re;for(;;){let M=l==null,B=l||o,R=i;try{await u({signal:me,path:le,matches:Oe,fetcherKey:je,patch:(U,ie)=>{me.aborted||tN(U,ie,B,R,a)}})}catch(U){return{type:"error",error:U,partialMatches:Oe}}finally{M&&!me.aborted&&(o=[...o])}if(me.aborted)return{type:"aborted"};let L=ul(B,le,c);if(L)return{type:"success",matches:L};let O=F0(B,le,c,!0);if(!O||Oe.length===O.length&&Oe.every((U,ie)=>U.route.id===O[ie].route.id))return{type:"success",matches:null};Oe=O}}function $s(re){i={},l=vm(re,a,void 0,i)}function Ka(re,le){let me=l==null;tN(re,le,l||o,i,a),me&&(o=[...o],ye({}))}return C={get basename(){return c},get future(){return h},get state(){return S},get routes(){return o},get window(){return e},initialize:oe,subscribe:pe,enableScrollRestoration:gt,navigate:Re,fetch:lt,revalidate:nt,createHref:re=>t.history.createHref(re),encodeLocation:re=>t.history.encodeLocation(re),getFetcher:oa,deleteFetcher:fn,dispose:V,getBlocker:kt,deleteBlocker:Dr,patchRoutes:Ka,_internalFetchControllers:Y,_internalActiveDeferreds:te,_internalSetRoutes:$s},C}function fR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Py(t,e,r,s,a,i,o,l){let c,d;if(o){c=[];for(let h of e)if(c.push(h),h.route.id===o){d=h;break}}else c=e,d=e[e.length-1];let u=Nx(a||".",wx(c,i),Gd(t.pathname,r)||t.pathname,l==="path");if(a==null&&(u.search=t.search,u.hash=t.hash),(a==null||a===""||a===".")&&d){let h=Wb(u.search);if(d.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let f=new URLSearchParams(u.search),m=f.getAll("index");f.delete("index"),m.filter(x=>x).forEach(x=>f.append("index",x));let p=f.toString();u.search=p?"?"+p:""}}return s&&r!=="/"&&(u.pathname=u.pathname==="/"?r:bi([r,u.pathname])),Kl(u)}function Z2(t,e,r,s){if(!s||!fR(s))return{path:r};if(s.formMethod&&!CR(s.formMethod))return{path:r,error:fa(405,{method:s.formMethod})};let a=()=>({path:r,error:fa(400,{type:"invalid-body"})}),i=s.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),l=m4(r);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!jn(o))return a();let f=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((m,p)=>{let[x,g]=p;return""+m+x+"="+g+`
`},""):String(s.body);return{path:r,submission:{formMethod:o,formAction:l,formEncType:s.formEncType,formData:void 0,json:void 0,text:f}}}else if(s.formEncType==="application/json"){if(!jn(o))return a();try{let f=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:r,submission:{formMethod:o,formAction:l,formEncType:s.formEncType,formData:void 0,json:f,text:void 0}}}catch{return a()}}}vt(typeof FormData=="function","FormData is not available in this environment");let c,d;if(s.formData)c=Dy(s.formData),d=s.formData;else if(s.body instanceof FormData)c=Dy(s.body),d=s.body;else if(s.body instanceof URLSearchParams)c=s.body,d=sN(c);else if(s.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(s.body),d=sN(c)}catch{return a()}let u={formMethod:o,formAction:l,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(jn(u.formMethod))return{path:r,submission:u};let h=zo(r);return e&&h.search&&Wb(h.search)&&c.append("index",""),h.search="?"+c,{path:Kl(h),submission:u}}function Q2(t,e,r){r===void 0&&(r=!1);let s=t.findIndex(a=>a.route.id===e);return s>=0?t.slice(0,r?s+1:s):t}function J2(t,e,r,s,a,i,o,l,c,d,u,h,f,m,p,x){let g=x?_a(x[1])?x[1].error:x[1].data:void 0,y=t.createURL(e.location),v=t.createURL(a),b=r;i&&e.errors?b=Q2(r,Object.keys(e.errors)[0],!0):x&&_a(x[1])&&(b=Q2(r,x[0]));let w=x?x[1].statusCode:void 0,N=o&&w&&w>=400,C=b.filter((k,A)=>{let{route:T}=k;if(T.lazy)return!0;if(T.loader==null)return!1;if(i)return _y(T,e.loaderData,e.errors);if(mR(e.loaderData,e.matches[A],k)||c.some(_=>_===k.route.id))return!0;let E=e.matches[A],D=k;return eN(k,Nr({currentUrl:y,currentParams:E.params,nextUrl:v,nextParams:D.params},s,{actionResult:g,actionStatus:w,defaultShouldRevalidate:N?!1:l||y.pathname+y.search===v.pathname+v.search||y.search!==v.search||h4(E,D)}))}),S=[];return h.forEach((k,A)=>{if(i||!r.some(z=>z.route.id===k.routeId)||u.has(A))return;let T=ul(m,k.path,p);if(!T){S.push({key:A,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let E=e.fetchers.get(A),D=Fu(T,k.path),_=!1;f.has(A)?_=!1:d.has(A)?(d.delete(A),_=!0):E&&E.state!=="idle"&&E.data===void 0?_=l:_=eN(D,Nr({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},s,{actionResult:g,actionStatus:w,defaultShouldRevalidate:N?!1:l})),_&&S.push({key:A,routeId:k.routeId,path:k.path,matches:T,match:D,controller:new AbortController})}),[C,S]}function _y(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&e[t.id]!==void 0,a=r!=null&&r[t.id]!==void 0;return!s&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!a}function mR(t,e,r){let s=!e||r.route.id!==e.route.id,a=t[r.route.id]===void 0;return s||a}function h4(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function eN(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function tN(t,e,r,s,a){var i;let o;if(t){let d=s[t];vt(d,"No route found to patch children into: routeId = "+t),d.children||(d.children=[]),o=d.children}else o=r;let l=e.filter(d=>!o.some(u=>f4(d,u))),c=vm(l,a,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],s);o.push(...c)}function f4(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,s)=>{var a;return(a=e.children)==null?void 0:a.some(i=>f4(r,i))}):!1}async function xR(t,e,r){if(!t.lazy)return;let s=await t.lazy();if(!t.lazy)return;let a=r[t.id];vt(a,"No route found in manifest");let i={};for(let o in s){let c=a[o]!==void 0&&o!=="hasErrorBoundary";Gl(!c,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!OM.has(o)&&(i[o]=s[o])}Object.assign(a,i),Object.assign(a,Nr({},e(a),{lazy:void 0}))}async function pR(t){let{matches:e}=t,r=e.filter(a=>a.shouldLoad);return(await Promise.all(r.map(a=>a.resolve()))).reduce((a,i,o)=>Object.assign(a,{[r[o].route.id]:i}),{})}async function gR(t,e,r,s,a,i,o,l,c,d){let u=i.map(m=>m.route.lazy?xR(m.route,c,l):void 0),h=i.map((m,p)=>{let x=u[p],g=a.some(v=>v.route.id===m.route.id);return Nr({},m,{shouldLoad:g,resolve:async v=>(v&&s.method==="GET"&&(m.route.lazy||m.route.loader)&&(g=!0),g?yR(e,s,m,x,v,d):Promise.resolve({type:Qt.data,result:void 0}))})}),f=await t({matches:h,request:s,params:i[0].params,fetcherKey:o,context:d});try{await Promise.all(u)}catch{}return f}async function yR(t,e,r,s,a,i){let o,l,c=d=>{let u,h=new Promise((p,x)=>u=x);l=()=>u(),e.signal.addEventListener("abort",l);let f=p=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):d({request:e,params:r.params,context:i},...p!==void 0?[p]:[]),m=(async()=>{try{return{type:"data",result:await(a?a(x=>f(x)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([m,h])};try{let d=r.route[t];if(s)if(d){let u,[h]=await Promise.all([c(d).catch(f=>{u=f}),s]);if(u!==void 0)throw u;o=h}else if(await s,d=r.route[t],d)o=await c(d);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw fa(405,{method:e.method,pathname:h,routeId:r.route.id})}else return{type:Qt.data,result:void 0};else if(d)o=await c(d);else{let u=new URL(e.url),h=u.pathname+u.search;throw fa(404,{pathname:h})}vt(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Qt.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function vR(t){let{result:e,type:r}=t;if(x4(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:Qt.error,error:f}}return r===Qt.error?{type:Qt.error,error:new bm(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Qt.data,data:h,statusCode:e.status,headers:e.headers}}if(r===Qt.error){if(lN(e)){var s,a;if(e.data instanceof Error){var i,o;return{type:Qt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Qt.error,error:new bm(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:Th(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:Qt.error,error:e,statusCode:Th(e)?e.status:void 0}}if(SR(e)){var l,c;return{type:Qt.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((c=e.init)==null?void 0:c.headers)&&new Headers(e.init.headers)}}if(lN(e)){var d,u;return{type:Qt.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Qt.data,data:e}}function bR(t,e,r,s,a,i){let o=t.headers.get("Location");if(vt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hb.test(o)){let l=s.slice(0,s.findIndex(c=>c.route.id===r)+1);o=Py(new URL(e.url),l,a,!0,o,i),t.headers.set("Location",o)}return t}function rN(t,e,r,s){let a=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Hb.test(t)){let i=t,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i);if(a.includes(o.protocol))throw new Error("Invalid redirect location");let l=Gd(o.pathname,r)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}try{let i=s.createURL(t);if(a.includes(i.protocol))throw new Error("Invalid redirect location")}catch{}return t}function yc(t,e,r,s){let a=t.createURL(m4(e)).toString(),i={signal:r};if(s&&jn(s.formMethod)){let{formMethod:o,formEncType:l}=s;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(s.json)):l==="text/plain"?i.body=s.text:l==="application/x-www-form-urlencoded"&&s.formData?i.body=Dy(s.formData):i.body=s.formData}return new Request(a,i)}function Dy(t){let e=new URLSearchParams;for(let[r,s]of t.entries())e.append(r,typeof s=="string"?s:s.name);return e}function sN(t){let e=new FormData;for(let[r,s]of t.entries())e.append(r,s);return e}function wR(t,e,r,s,a){let i={},o=null,l,c=!1,d={},u=r&&_a(r[1])?r[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,m=e[f];if(vt(!vl(m),"Cannot handle redirect results in processLoaderData"),_a(m)){let p=m.error;u!==void 0&&(p=u,u=void 0),o=o||{};{let x=hl(t,f);o[x.route.id]==null&&(o[x.route.id]=p)}i[f]=void 0,c||(c=!0,l=Th(m.error)?m.error.status:500),m.headers&&(d[f]=m.headers)}else xo(m)?(s.set(f,m.deferredData),i[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(d[f]=m.headers)):(i[f]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(d[f]=m.headers))}),u!==void 0&&r&&(o={[r[0]]:u},i[r[0]]=void 0),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:d}}function aN(t,e,r,s,a,i,o){let{loaderData:l,errors:c}=wR(e,r,s,o);return a.forEach(d=>{let{key:u,match:h,controller:f}=d,m=i[u];if(vt(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(_a(m)){let p=hl(t.matches,h==null?void 0:h.route.id);c&&c[p.route.id]||(c=Nr({},c,{[p.route.id]:m.error})),t.fetchers.delete(u)}else if(vl(m))vt(!1,"Unhandled fetcher revalidation redirect");else if(xo(m))vt(!1,"Unhandled fetcher deferred data");else{let p=Xi(m.data);t.fetchers.set(u,p)}}),{loaderData:l,errors:c}}function nN(t,e,r,s){let a=Nr({},e);for(let i of r){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(a[o]=e[o]):t[o]!==void 0&&i.route.loader&&(a[o]=t[o]),s&&s.hasOwnProperty(o))break}return a}function iN(t){return t?_a(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function hl(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function oN(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fa(t,e){let{pathname:r,routeId:s,method:a,type:i,message:o}=e===void 0?{}:e,l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",a&&r&&s?c="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":i==="defer-action"?c="defer() is not supported in actions":i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c='Route "'+s+'" does not match URL "'+r+'"'):t===404?(l="Not Found",c='No route matches URL "'+r+'"'):t===405&&(l="Method Not Allowed",a&&r&&s?c="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new bm(t||500,l,new Error(c),!0)}function r0(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[s,a]=e[r];if(vl(a))return{key:s,result:a}}}function m4(t){let e=typeof t=="string"?zo(t):t;return Kl(Nr({},e,{hash:""}))}function NR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jR(t){return x4(t.result)&&lR.has(t.result.status)}function xo(t){return t.type===Qt.deferred}function _a(t){return t.type===Qt.error}function vl(t){return(t&&t.type)===Qt.redirect}function lN(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function SR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function x4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function CR(t){return oR.has(t.toLowerCase())}function jn(t){return nR.has(t.toLowerCase())}async function kR(t,e,r,s,a){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[l,c]=i[o],d=t.find(f=>(f==null?void 0:f.route.id)===l);if(!d)continue;let u=s.find(f=>f.route.id===d.route.id),h=u!=null&&!h4(u,d)&&(a&&a[d.route.id])!==void 0;xo(c)&&h&&await zb(c,r,!1).then(f=>{f&&(e[l]=f)})}}async function AR(t,e,r){for(let s=0;s<r.length;s++){let{key:a,routeId:i,controller:o}=r[s],l=e[a];t.find(d=>(d==null?void 0:d.route.id)===i)&&xo(l)&&(vt(o,"Expected an AbortController for revalidating fetcher deferred result"),await zb(l,o.signal,!0).then(d=>{d&&(e[a]=d)}))}}async function zb(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Qt.data,data:t.deferredData.unwrappedData}}catch(a){return{type:Qt.error,error:a}}return{type:Qt.data,data:t.deferredData.data}}}function Wb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Fu(t,e){let r=typeof e=="string"?zo(e).search:e.search;if(t[t.length-1].route.index&&Wb(r||""))return t[t.length-1];let s=c4(t);return s[s.length-1]}function cN(t){let{formMethod:e,formAction:r,formEncType:s,text:a,formData:i,json:o}=t;if(!(!e||!r||!s)){if(a!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:e,formAction:r,formEncType:s,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:o,text:void 0}}}function Dp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function TR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ER(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Xi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PR(t,e){try{let r=t.sessionStorage.getItem(u4);if(r){let s=JSON.parse(r);for(let[a,i]of Object.entries(s||{}))i&&Array.isArray(i)&&e.set(a,new Set(i||[]))}}catch{}}function _R(t,e){if(e.size>0){let r={};for(let[s,a]of e)r[s]=[...a];try{t.sessionStorage.setItem(u4,JSON.stringify(r))}catch(s){Gl(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},wm.apply(this,arguments)}const jx=P.createContext(null),p4=P.createContext(null),Wo=P.createContext(null),Yb=P.createContext(null),ni=P.createContext({outlet:null,matches:[],isDataRoute:!1}),g4=P.createContext(null);function DR(t,e){let{relative:r}=e===void 0?{}:e;Kd()||vt(!1);let{basename:s,navigator:a}=P.useContext(Wo),{hash:i,pathname:o,search:l}=v4(t,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:bi([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Kd(){return P.useContext(Yb)!=null}function Yo(){return Kd()||vt(!1),P.useContext(Yb).location}function y4(t){P.useContext(Wo).static||P.useLayoutEffect(t)}function ii(){let{isDataRoute:t}=P.useContext(ni);return t?$R():MR()}function MR(){Kd()||vt(!1);let t=P.useContext(jx),{basename:e,future:r,navigator:s}=P.useContext(Wo),{matches:a}=P.useContext(ni),{pathname:i}=Yo(),o=JSON.stringify(wx(a,r.v7_relativeSplatPath)),l=P.useRef(!1);return y4(()=>{l.current=!0}),P.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Nx(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:bi([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,o,i,t])}const RR=P.createContext(null);function FR(t){let e=P.useContext(ni).outlet;return e&&P.createElement(RR.Provider,{value:t},e)}function Sx(){let{matches:t}=P.useContext(ni),e=t[t.length-1];return e?e.params:{}}function v4(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=P.useContext(Wo),{matches:a}=P.useContext(ni),{pathname:i}=Yo(),o=JSON.stringify(wx(a,s.v7_relativeSplatPath));return P.useMemo(()=>Nx(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function LR(t,e,r,s){Kd()||vt(!1);let{navigator:a}=P.useContext(Wo),{matches:i}=P.useContext(ni),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Yo(),u;u=d;let h=u.pathname||"/",f=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=ul(t,{pathname:f});return HR(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:bi([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:bi([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,s)}function IR(){let t=VR(),e=Th(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:a},r):null,null)}const OR=P.createElement(IR,null);class BR extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(ni.Provider,{value:this.props.routeContext},P.createElement(g4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UR(t){let{routeContext:e,match:r,children:s}=t,a=P.useContext(jx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(ni.Provider,{value:e},s)}function HR(t,e,r,s){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||vt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=r,p=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,p=!1,x=null,g=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||OR,c&&(d<0&&f===0?(p=!0,g=null):d===f&&(p=!0,g=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),v=()=>{let b;return m?b=x:p?b=g:h.route.Component?b=P.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,P.createElement(UR,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?P.createElement(BR,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var b4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b4||{}),Nm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nm||{});function zR(t){let e=P.useContext(jx);return e||vt(!1),e}function WR(t){let e=P.useContext(p4);return e||vt(!1),e}function YR(t){let e=P.useContext(ni);return e||vt(!1),e}function w4(t){let e=YR(),r=e.matches[e.matches.length-1];return r.route.id||vt(!1),r.route.id}function VR(){var t;let e=P.useContext(g4),r=WR(Nm.UseRouteError),s=w4(Nm.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function $R(){let{router:t}=zR(b4.UseNavigateStable),e=w4(Nm.UseNavigateStable),r=P.useRef(!1);return y4(()=>{r.current=!0}),P.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,wm({fromRouteId:e},i)))},[t,e])}function XR(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Go(t){let{to:e,replace:r,state:s,relative:a}=t;Kd()||vt(!1);let{future:i,static:o}=P.useContext(Wo),{matches:l}=P.useContext(ni),{pathname:c}=Yo(),d=ii(),u=Nx(e,wx(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return P.useEffect(()=>d(JSON.parse(h),{replace:r,state:s,relative:a}),[d,h,a,r,s]),null}function dN(t){return FR(t.context)}function GR(t){let{basename:e="/",children:r=null,location:s,navigationType:a=Kr.Pop,navigator:i,static:o=!1,future:l}=t;Kd()&&vt(!1);let c=e.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:i,static:o,future:wm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=zo(s));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:p="default"}=s,x=P.useMemo(()=>{let g=Gd(u,c);return g==null?null:{location:{pathname:g,search:h,hash:f,state:m,key:p},navigationType:a}},[c,u,h,f,m,p,a]);return x==null?null:P.createElement(Wo.Provider,{value:d},P.createElement(Yb.Provider,{children:r,value:x}))}new Promise(()=>{});function KR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:P.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Eh.apply(this,arguments)}function qR(t,e){if(t==null)return{};var r={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function ZR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QR(t,e){return t.button===0&&(!e||e==="_self")&&!ZR(t)}function My(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function JR(t,e){let r=My(t);return e&&e.forEach((s,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const eF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tF="6";try{window.__reactRouterVersion=tF}catch{}function rF(t,e){return hR({basename:void 0,future:Eh({},void 0,{v7_prependBasename:!0}),history:FM({window:void 0}),hydrationData:sF(),routes:t,mapRouteProperties:KR,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function sF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Eh({},e,{errors:aF(e.errors)})),e}function aF(t){if(!t)return null;let e=Object.entries(t),r={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")r[s]=new bm(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",r[s]=o}catch{}}if(r[s]==null){let i=new Error(a.message);i.stack="",r[s]=i}}else r[s]=a;return r}const nF=P.createContext({isTransitioning:!1}),iF=P.createContext(new Map),oF="startTransition",uN=j_[oF],lF="flushSync",hN=RM[lF];function cF(t){uN?uN(t):t()}function ju(t){hN?hN(t):t()}class dF{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}}function uF(t){let{fallbackElement:e,router:r,future:s}=t,[a,i]=P.useState(r.state),[o,l]=P.useState(),[c,d]=P.useState({isTransitioning:!1}),[u,h]=P.useState(),[f,m]=P.useState(),[p,x]=P.useState(),g=P.useRef(new Map),{v7_startTransition:y}=s||{},v=P.useCallback(k=>{y?cF(k):k()},[y]),b=P.useCallback((k,A)=>{let{deletedFetchers:T,flushSync:E,viewTransitionOpts:D}=A;k.fetchers.forEach((z,H)=>{z.data!==void 0&&g.current.set(H,z.data)}),T.forEach(z=>g.current.delete(z));let _=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!D||_){E?ju(()=>i(k)):v(()=>i(k));return}if(E){ju(()=>{f&&(u&&u.resolve(),f.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let z=r.window.document.startViewTransition(()=>{ju(()=>i(k))});z.finished.finally(()=>{ju(()=>{h(void 0),m(void 0),l(void 0),d({isTransitioning:!1})})}),ju(()=>m(z));return}f?(u&&u.resolve(),f.skipTransition(),x({state:k,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(k),d({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[r.window,f,u,g,v]);P.useLayoutEffect(()=>r.subscribe(b),[r,b]),P.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new dF)},[c]),P.useEffect(()=>{if(u&&o&&r.window){let k=o,A=u.promise,T=r.window.document.startViewTransition(async()=>{v(()=>i(k)),await A});T.finished.finally(()=>{h(void 0),m(void 0),l(void 0),d({isTransitioning:!1})}),m(T)}},[v,o,u,r.window]),P.useEffect(()=>{u&&o&&a.location.key===o.location.key&&u.resolve()},[u,f,a.location,o]),P.useEffect(()=>{!c.isTransitioning&&p&&(l(p.state),d({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),x(void 0))},[c.isTransitioning,p]),P.useEffect(()=>{},[]);let w=P.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:k=>r.navigate(k),push:(k,A,T)=>r.navigate(k,{state:A,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(k,A,T)=>r.navigate(k,{replace:!0,state:A,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[r]),N=r.basename||"/",C=P.useMemo(()=>({router:r,navigator:w,static:!1,basename:N}),[r,w,N]),S=P.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return P.useEffect(()=>XR(s,r.future),[s,r.future]),P.createElement(P.Fragment,null,P.createElement(jx.Provider,{value:C},P.createElement(p4.Provider,{value:a},P.createElement(iF.Provider,{value:g.current},P.createElement(nF.Provider,{value:c},P.createElement(GR,{basename:N,location:a.location,navigationType:a.historyAction,navigator:w,future:S},a.initialized||r.future.v7_partialHydration?P.createElement(hF,{routes:r.routes,future:r.future,state:a}):e))))),null)}const hF=P.memo(fF);function fF(t){let{routes:e,future:r,state:s}=t;return LR(e,void 0,s,r)}const mF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=P.forwardRef(function(e,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=qR(e,eF),{basename:m}=P.useContext(Wo),p,x=!1;if(typeof d=="string"&&xF.test(d)&&(p=d,mF))try{let b=new URL(window.location.href),w=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=Gd(w.pathname,m);w.origin===b.origin&&N!=null?d=N+w.search+w.hash:x=!0}catch{}let g=DR(d,{relative:a}),y=pF(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function v(b){s&&s(b),b.defaultPrevented||y(b)}return P.createElement("a",Eh({},f,{href:p||g,onClick:x||i?s:v,ref:r,target:c}))});var fN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fN||(fN={}));var mN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mN||(mN={}));function pF(t,e){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=ii(),d=Yo(),u=v4(t,{relative:o});return P.useCallback(h=>{if(QR(h,r)){h.preventDefault();let f=s!==void 0?s:Kl(d)===Kl(u);c(t,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,t,i,o,l])}function Vb(t){let e=P.useRef(My(t)),r=P.useRef(!1),s=Yo(),a=P.useMemo(()=>JR(s.search,r.current?null:e.current),[s.search]),i=ii(),o=P.useCallback((l,c)=>{const d=My(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ql=typeof window>"u"||"Deno"in globalThis;function qs(){}function gF(t,e){return typeof t=="function"?t(e):t}function Ry(t){return typeof t=="number"&&t>=0&&t!==1/0}function N4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ao(t,e){return typeof t=="function"?t(e):t}function Cn(t,e){return typeof t=="function"?t(e):t}function xN(t,e){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(s){if(e.queryHash!==$b(o,e.options))return!1}else if(!Ph(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||i&&!i(e))}function pN(t,e){const{exact:r,status:s,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Zl(e.options.mutationKey)!==Zl(i))return!1}else if(!Ph(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function $b(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zl)(t)}function Zl(t){return JSON.stringify(t,(e,r)=>Fy(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Ph(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ph(t[r],e[r])):!1}function j4(t,e){if(t===e)return t;const r=gN(t)&&gN(e);if(r||Fy(t)&&Fy(e)){const s=r?t:Object.keys(t),a=s.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,d++):(l[h]=j4(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&d++)}return a===o&&d===a?t:l}return e}function jm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function gN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fy(t){if(!yN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!yN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yN(t){return Object.prototype.toString.call(t)==="[object Object]"}function yF(t){return new Promise(e=>{setTimeout(e,t)})}function Ly(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?j4(t,e):e}function vF(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function bF(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var Xb=Symbol();function S4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Xb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function C4(t,e){return typeof t=="function"?t(...e):!!t}var Al,ro,od,LC,wF=(LC=class extends qd{constructor(){super();et(this,Al);et(this,ro);et(this,od);We(this,od,e=>{if(!ql&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,ro)||this.setEventListener(se(this,od))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,ro))==null||e.call(this),We(this,ro,void 0))}setEventListener(e){var r;We(this,od,e),(r=se(this,ro))==null||r.call(this),We(this,ro,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){se(this,Al)!==e&&(We(this,Al,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof se(this,Al)=="boolean"?se(this,Al):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Al=new WeakMap,ro=new WeakMap,od=new WeakMap,LC),Gb=new wF,ld,so,cd,IC,NF=(IC=class extends qd{constructor(){super();et(this,ld,!0);et(this,so);et(this,cd);We(this,cd,e=>{if(!ql&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){se(this,so)||this.setEventListener(se(this,cd))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,so))==null||e.call(this),We(this,so,void 0))}setEventListener(e){var r;We(this,cd,e),(r=se(this,so))==null||r.call(this),We(this,so,e(this.setOnline.bind(this)))}setOnline(e){se(this,ld)!==e&&(We(this,ld,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return se(this,ld)}},ld=new WeakMap,so=new WeakMap,cd=new WeakMap,IC),Sm=new NF;function Iy(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},r.reject=a=>{s({status:"rejected",reason:a}),e(a)},r}function jF(t){return Math.min(1e3*2**t,3e4)}function k4(t){return(t??"online")==="online"?Sm.isOnline():!0}var A4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mp(t){return t instanceof A4}function T4(t){let e=!1,r=0,s=!1,a;const i=Iy(),o=x=>{var g;s||(f(new A4(x)),(g=t.abort)==null||g.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Gb.isFocused()&&(t.networkMode==="always"||Sm.isOnline())&&t.canRun(),u=()=>k4(t.networkMode)&&t.canRun(),h=x=>{var g;s||(s=!0,(g=t.onSuccess)==null||g.call(t,x),a==null||a(),i.resolve(x))},f=x=>{var g;s||(s=!0,(g=t.onError)==null||g.call(t,x),a==null||a(),i.reject(x))},m=()=>new Promise(x=>{var g;a=y=>{(s||d())&&x(y)},(g=t.onPause)==null||g.call(t)}).then(()=>{var x;a=void 0,s||(x=t.onContinue)==null||x.call(t)}),p=()=>{if(s)return;let x;const g=r===0?t.initialPromise:void 0;try{x=g??t.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(h).catch(y=>{var C;if(s)return;const v=t.retry??(ql?0:3),b=t.retryDelay??jF,w=typeof b=="function"?b(r,y):b,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(e||!N){f(y);return}r++,(C=t.onFail)==null||C.call(t,r,y),yF(w).then(()=>d()?void 0:m()).then(()=>{e?f(y):p()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?p():m().then(p),i)}}var SF=t=>setTimeout(t,0);function CF(){let t=[],e=0,r=l=>{l()},s=l=>{l()},a=SF;const i=l=>{e?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var ns=CF(),Tl,OC,E4=(OC=class{constructor(){et(this,Tl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ry(this.gcTime)&&We(this,Tl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ql?1/0:5*60*1e3))}clearGcTimeout(){se(this,Tl)&&(clearTimeout(se(this,Tl)),We(this,Tl,void 0))}},Tl=new WeakMap,OC),dd,ud,en,El,Os,tf,Pl,bn,ui,BC,kF=(BC=class extends E4{constructor(e){super();et(this,bn);et(this,dd);et(this,ud);et(this,en);et(this,El);et(this,Os);et(this,tf);et(this,Pl);We(this,Pl,!1),We(this,tf,e.defaultOptions),this.setOptions(e.options),this.observers=[],We(this,El,e.client),We(this,en,se(this,El).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,We(this,dd,AF(this.options)),this.state=e.state??se(this,dd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=se(this,Os))==null?void 0:e.promise}setOptions(e){this.options={...se(this,tf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,en).remove(this)}setData(e,r){const s=Ly(this.state.data,e,this.options);return ft(this,bn,ui).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){ft(this,bn,ui).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,a;const r=(s=se(this,Os))==null?void 0:s.promise;return(a=se(this,Os))==null||a.cancel(e),r?r.then(qs).catch(qs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,dd))}isActive(){return this.observers.some(e=>Cn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ao(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!N4(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=se(this,Os))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=se(this,Os))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),se(this,en).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(se(this,Os)&&(se(this,Pl)?se(this,Os).cancel({revert:!0}):se(this,Os).cancelRetry()),this.scheduleGc()),se(this,en).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,bn,ui).call(this,{type:"invalidate"})}fetch(e,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,Os))return se(this,Os).continueRetry(),se(this,Os).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(We(this,Pl,!0),s.signal)})},i=()=>{const f=S4(this.options,r),p=(()=>{const x={client:se(this,El),queryKey:this.queryKey,meta:this.meta};return a(x),x})();return We(this,Pl,!1),this.options.persister?this.options.persister(f,p,this):f(p)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:se(this,El),state:this.state,fetchFn:i};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),We(this,ud,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ft(this,bn,ui).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,p,x,g;Mp(f)&&f.silent||ft(this,bn,ui).call(this,{type:"error",error:f}),Mp(f)||((p=(m=se(this,en).config).onError)==null||p.call(m,f,this),(g=(x=se(this,en).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return We(this,Os,T4({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,p,x,g;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(p=(m=se(this,en).config).onSuccess)==null||p.call(m,f,this),(g=(x=se(this,en).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{ft(this,bn,ui).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{ft(this,bn,ui).call(this,{type:"pause"})},onContinue:()=>{ft(this,bn,ui).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),se(this,Os).start()}},dd=new WeakMap,ud=new WeakMap,en=new WeakMap,El=new WeakMap,Os=new WeakMap,tf=new WeakMap,Pl=new WeakMap,bn=new WeakSet,ui=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...P4(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Mp(a)&&a.revert&&se(this,ud)?{...se(this,ud),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),ns.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),se(this,en).notify({query:this,type:"updated",action:e})})},BC);function P4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xn,UC,TF=(UC=class extends qd{constructor(e={}){super();et(this,Xn);this.config=e,We(this,Xn,new Map)}build(e,r,s){const a=r.queryKey,i=r.queryHash??$b(a,r);let o=this.get(i);return o||(o=new kF({client:e,queryKey:a,queryHash:i,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){se(this,Xn).has(e.queryHash)||(se(this,Xn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=se(this,Xn).get(e.queryHash);r&&(e.destroy(),r===e&&se(this,Xn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ns.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,Xn).get(e)}getAll(){return[...se(this,Xn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>xN(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>xN(e,s)):r}notify(e){ns.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ns.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ns.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xn=new WeakMap,UC),Gn,Xs,_l,Kn,Gi,HC,EF=(HC=class extends E4{constructor(e){super();et(this,Kn);et(this,Gn);et(this,Xs);et(this,_l);this.mutationId=e.mutationId,We(this,Xs,e.mutationCache),We(this,Gn,[]),this.state=e.state||_4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){se(this,Gn).includes(e)||(se(this,Gn).push(e),this.clearGcTimeout(),se(this,Xs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){We(this,Gn,se(this,Gn).filter(r=>r!==e)),this.scheduleGc(),se(this,Xs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){se(this,Gn).length||(this.state.status==="pending"?this.scheduleGc():se(this,Xs).remove(this))}continue(){var e;return((e=se(this,_l))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,c,d,u,h,f,m,p,x,g,y,v,b,w,N,C,S,k;const r=()=>{ft(this,Kn,Gi).call(this,{type:"continue"})};We(this,_l,T4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,T)=>{ft(this,Kn,Gi).call(this,{type:"failed",failureCount:A,error:T})},onPause:()=>{ft(this,Kn,Gi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Xs).canRun(this)}));const s=this.state.status==="pending",a=!se(this,_l).canStart();try{if(s)r();else{ft(this,Kn,Gi).call(this,{type:"pending",variables:e,isPaused:a}),await((o=(i=se(this,Xs).config).onMutate)==null?void 0:o.call(i,e,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));T!==this.state.context&&ft(this,Kn,Gi).call(this,{type:"pending",context:T,variables:e,isPaused:a})}const A=await se(this,_l).start();return await((u=(d=se(this,Xs).config).onSuccess)==null?void 0:u.call(d,A,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,A,e,this.state.context)),await((p=(m=se(this,Xs).config).onSettled)==null?void 0:p.call(m,A,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,A,null,e,this.state.context)),ft(this,Kn,Gi).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(y=se(this,Xs).config).onError)==null?void 0:v.call(y,A,e,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,A,e,this.state.context)),await((C=(N=se(this,Xs).config).onSettled)==null?void 0:C.call(N,void 0,A,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,A,e,this.state.context)),A}finally{ft(this,Kn,Gi).call(this,{type:"error",error:A})}}finally{se(this,Xs).runNext(this)}}},Gn=new WeakMap,Xs=new WeakMap,_l=new WeakMap,Kn=new WeakSet,Gi=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ns.batch(()=>{se(this,Gn).forEach(s=>{s.onMutationUpdate(e)}),se(this,Xs).notify({mutation:this,type:"updated",action:e})})},HC);function _4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mi,wn,rf,zC,PF=(zC=class extends qd{constructor(e={}){super();et(this,mi);et(this,wn);et(this,rf);this.config=e,We(this,mi,new Set),We(this,wn,new Map),We(this,rf,0)}build(e,r,s){const a=new EF({mutationCache:this,mutationId:++Of(this,rf)._,options:e.defaultMutationOptions(r),state:s});return this.add(a),a}add(e){se(this,mi).add(e);const r=s0(e);if(typeof r=="string"){const s=se(this,wn).get(r);s?s.push(e):se(this,wn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(se(this,mi).delete(e)){const r=s0(e);if(typeof r=="string"){const s=se(this,wn).get(r);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&se(this,wn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=s0(e);if(typeof r=="string"){const s=se(this,wn).get(r),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===e}else return!0}runNext(e){var s;const r=s0(e);if(typeof r=="string"){const a=(s=se(this,wn).get(r))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ns.batch(()=>{se(this,mi).forEach(e=>{this.notify({type:"removed",mutation:e})}),se(this,mi).clear(),se(this,wn).clear()})}getAll(){return Array.from(se(this,mi))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>pN(r,s))}findAll(e={}){return this.getAll().filter(r=>pN(e,r))}notify(e){ns.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ns.batch(()=>Promise.all(e.map(r=>r.continue().catch(qs))))}},mi=new WeakMap,wn=new WeakMap,rf=new WeakMap,zC);function s0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function vN(t){return{onFetch:(e,r)=>{var u,h,f,m,p;const s=e.options,a=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},y=S4(e.options,e.fetchOptions),v=async(b,w,N)=>{if(x)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const E={client:e.client,queryKey:e.queryKey,pageParam:w,direction:N?"backward":"forward",meta:e.options.meta};return g(E),E})(),k=await y(S),{maxPages:A}=e.options,T=N?bF:vF;return{pages:T(b.pages,k,A),pageParams:T(b.pageParams,w,A)}};if(a&&i.length){const b=a==="backward",w=b?_F:bN,N={pages:i,pageParams:o},C=w(s,N);l=await v(N,C,b)}else{const b=t??i.length;do{const w=c===0?o[0]??s.initialPageParam:bN(s,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var x,g;return(g=(x=e.options).persister)==null?void 0:g.call(x,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function bN(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function _F(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Mr,ao,no,hd,fd,io,md,xd,WC,DF=(WC=class{constructor(t={}){et(this,Mr);et(this,ao);et(this,no);et(this,hd);et(this,fd);et(this,io);et(this,md);et(this,xd);We(this,Mr,t.queryCache||new TF),We(this,ao,t.mutationCache||new PF),We(this,no,t.defaultOptions||{}),We(this,hd,new Map),We(this,fd,new Map),We(this,io,0)}mount(){Of(this,io)._++,se(this,io)===1&&(We(this,md,Gb.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,Mr).onFocus())})),We(this,xd,Sm.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,Mr).onOnline())})))}unmount(){var t,e;Of(this,io)._--,se(this,io)===0&&((t=se(this,md))==null||t.call(this),We(this,md,void 0),(e=se(this,xd))==null||e.call(this),We(this,xd,void 0))}isFetching(t){return se(this,Mr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,ao).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=se(this,Mr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=se(this,Mr).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Ao(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return se(this,Mr).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),a=se(this,Mr).get(s.queryHash),i=a==null?void 0:a.state.data,o=gF(e,i);if(o!==void 0)return se(this,Mr).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ns.batch(()=>se(this,Mr).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=se(this,Mr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=se(this,Mr);ns.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=se(this,Mr);return ns.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=ns.batch(()=>se(this,Mr).findAll(t).map(a=>a.cancel(r)));return Promise.all(s).then(qs).catch(qs)}invalidateQueries(t,e={}){return ns.batch(()=>(se(this,Mr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=ns.batch(()=>se(this,Mr).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(qs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(qs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=se(this,Mr).build(this,e);return r.isStaleByTime(Ao(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qs).catch(qs)}fetchInfiniteQuery(t){return t.behavior=vN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qs).catch(qs)}ensureInfiniteQueryData(t){return t.behavior=vN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sm.isOnline()?se(this,ao).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Mr)}getMutationCache(){return se(this,ao)}getDefaultOptions(){return se(this,no)}setDefaultOptions(t){We(this,no,t)}setQueryDefaults(t,e){se(this,hd).set(Zl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,hd).values()],r={};return e.forEach(s=>{Ph(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){se(this,fd).set(Zl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,fd).values()],r={};return e.forEach(s=>{Ph(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,no).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$b(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,no).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,Mr).clear(),se(this,ao).clear()}},Mr=new WeakMap,ao=new WeakMap,no=new WeakMap,hd=new WeakMap,fd=new WeakMap,io=new WeakMap,md=new WeakMap,xd=new WeakMap,WC),ua,Tt,sf,Gs,Dl,pd,oo,lo,af,gd,yd,Ml,Rl,co,vd,Yt,Lu,Oy,By,Uy,Hy,zy,Wy,Yy,D4,YC,MF=(YC=class extends qd{constructor(e,r){super();et(this,Yt);et(this,ua);et(this,Tt);et(this,sf);et(this,Gs);et(this,Dl);et(this,pd);et(this,oo);et(this,lo);et(this,af);et(this,gd);et(this,yd);et(this,Ml);et(this,Rl);et(this,co);et(this,vd,new Set);this.options=r,We(this,ua,e),We(this,lo,null),We(this,oo,Iy()),this.options.experimental_prefetchInRender||se(this,oo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(se(this,Tt).addObserver(this),wN(se(this,Tt),this.options)?ft(this,Yt,Lu).call(this):this.updateResult(),ft(this,Yt,Hy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vy(se(this,Tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vy(se(this,Tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ft(this,Yt,zy).call(this),ft(this,Yt,Wy).call(this),se(this,Tt).removeObserver(this)}setOptions(e){const r=this.options,s=se(this,Tt);if(this.options=se(this,ua).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cn(this.options.enabled,se(this,Tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ft(this,Yt,Yy).call(this),se(this,Tt).setOptions(this.options),r._defaulted&&!jm(this.options,r)&&se(this,ua).getQueryCache().notify({type:"observerOptionsUpdated",query:se(this,Tt),observer:this});const a=this.hasListeners();a&&NN(se(this,Tt),s,this.options,r)&&ft(this,Yt,Lu).call(this),this.updateResult(),a&&(se(this,Tt)!==s||Cn(this.options.enabled,se(this,Tt))!==Cn(r.enabled,se(this,Tt))||Ao(this.options.staleTime,se(this,Tt))!==Ao(r.staleTime,se(this,Tt)))&&ft(this,Yt,Oy).call(this);const i=ft(this,Yt,By).call(this);a&&(se(this,Tt)!==s||Cn(this.options.enabled,se(this,Tt))!==Cn(r.enabled,se(this,Tt))||i!==se(this,co))&&ft(this,Yt,Uy).call(this,i)}getOptimisticResult(e){const r=se(this,ua).getQueryCache().build(se(this,ua),e),s=this.createResult(r,e);return FF(this,s)&&(We(this,Gs,s),We(this,pd,this.options),We(this,Dl,se(this,Tt).state)),s}getCurrentResult(){return se(this,Gs)}trackResult(e,r){return new Proxy(e,{get:(s,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(s,a))})}trackProp(e){se(this,vd).add(e)}getCurrentQuery(){return se(this,Tt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=se(this,ua).defaultQueryOptions(e),s=se(this,ua).getQueryCache().build(se(this,ua),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return ft(this,Yt,Lu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),se(this,Gs)))}createResult(e,r){var A;const s=se(this,Tt),a=this.options,i=se(this,Gs),o=se(this,Dl),l=se(this,pd),d=e!==s?e.state:se(this,sf),{state:u}=e;let h={...u},f=!1,m;if(r._optimisticResults){const T=this.hasListeners(),E=!T&&wN(e,r),D=T&&NN(e,s,r,a);(E||D)&&(h={...h,...P4(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:x,status:g}=h;m=h.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&g==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((A=se(this,yd))==null?void 0:A.state.data,se(this,yd)):r.placeholderData,T!==void 0&&(g="success",m=Ly(i==null?void 0:i.data,T,r),f=!0)}if(r.select&&m!==void 0&&!y)if(i&&m===(o==null?void 0:o.data)&&r.select===se(this,af))m=se(this,gd);else try{We(this,af,r.select),m=r.select(m),m=Ly(i==null?void 0:i.data,m,r),We(this,gd,m),We(this,lo,null)}catch(T){We(this,lo,T)}se(this,lo)&&(p=se(this,lo),m=se(this,gd),x=Date.now(),g="error");const v=h.fetchStatus==="fetching",b=g==="pending",w=g==="error",N=b&&v,C=m!==void 0,k={status:g,fetchStatus:h.fetchStatus,isPending:b,isSuccess:g==="success",isError:w,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:w&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&C,isStale:Kb(e,r),refetch:this.refetch,promise:se(this,oo)};if(this.options.experimental_prefetchInRender){const T=_=>{k.status==="error"?_.reject(k.error):k.data!==void 0&&_.resolve(k.data)},E=()=>{const _=We(this,oo,k.promise=Iy());T(_)},D=se(this,oo);switch(D.status){case"pending":e.queryHash===s.queryHash&&T(D);break;case"fulfilled":(k.status==="error"||k.data!==D.value)&&E();break;case"rejected":(k.status!=="error"||k.error!==D.reason)&&E();break}}return k}updateResult(){const e=se(this,Gs),r=this.createResult(se(this,Tt),this.options);if(We(this,Dl,se(this,Tt).state),We(this,pd,this.options),se(this,Dl).data!==void 0&&We(this,yd,se(this,Tt)),jm(r,e))return;We(this,Gs,r);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!se(this,vd).size)return!0;const o=new Set(i??se(this,vd));return this.options.throwOnError&&o.add("error"),Object.keys(se(this,Gs)).some(l=>{const c=l;return se(this,Gs)[c]!==e[c]&&o.has(c)})};ft(this,Yt,D4).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ft(this,Yt,Hy).call(this)}},ua=new WeakMap,Tt=new WeakMap,sf=new WeakMap,Gs=new WeakMap,Dl=new WeakMap,pd=new WeakMap,oo=new WeakMap,lo=new WeakMap,af=new WeakMap,gd=new WeakMap,yd=new WeakMap,Ml=new WeakMap,Rl=new WeakMap,co=new WeakMap,vd=new WeakMap,Yt=new WeakSet,Lu=function(e){ft(this,Yt,Yy).call(this);let r=se(this,Tt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(qs)),r},Oy=function(){ft(this,Yt,zy).call(this);const e=Ao(this.options.staleTime,se(this,Tt));if(ql||se(this,Gs).isStale||!Ry(e))return;const s=N4(se(this,Gs).dataUpdatedAt,e)+1;We(this,Ml,setTimeout(()=>{se(this,Gs).isStale||this.updateResult()},s))},By=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(se(this,Tt)):this.options.refetchInterval)??!1},Uy=function(e){ft(this,Yt,Wy).call(this),We(this,co,e),!(ql||Cn(this.options.enabled,se(this,Tt))===!1||!Ry(se(this,co))||se(this,co)===0)&&We(this,Rl,setInterval(()=>{(this.options.refetchIntervalInBackground||Gb.isFocused())&&ft(this,Yt,Lu).call(this)},se(this,co)))},Hy=function(){ft(this,Yt,Oy).call(this),ft(this,Yt,Uy).call(this,ft(this,Yt,By).call(this))},zy=function(){se(this,Ml)&&(clearTimeout(se(this,Ml)),We(this,Ml,void 0))},Wy=function(){se(this,Rl)&&(clearInterval(se(this,Rl)),We(this,Rl,void 0))},Yy=function(){const e=se(this,ua).getQueryCache().build(se(this,ua),this.options);if(e===se(this,Tt))return;const r=se(this,Tt);We(this,Tt,e),We(this,sf,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},D4=function(e){ns.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(se(this,Gs))}),se(this,ua).getQueryCache().notify({query:se(this,Tt),type:"observerResultsUpdated"})})},YC);function RF(t,e){return Cn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function wN(t,e){return RF(t,e)||t.state.data!==void 0&&Vy(t,e,e.refetchOnMount)}function Vy(t,e,r){if(Cn(e.enabled,t)!==!1&&Ao(e.staleTime,t)!=="static"){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Kb(t,e)}return!1}function NN(t,e,r,s){return(t!==e||Cn(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Kb(t,r)}function Kb(t,e){return Cn(e.enabled,t)!==!1&&t.isStaleByTime(Ao(e.staleTime,t))}function FF(t,e){return!jm(t.getCurrentResult(),e)}var uo,ho,ha,xi,Ti,L0,$y,VC,LF=(VC=class extends qd{constructor(r,s){super();et(this,Ti);et(this,uo);et(this,ho);et(this,ha);et(this,xi);We(this,uo,r),this.setOptions(s),this.bindMethods(),ft(this,Ti,L0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=se(this,uo).defaultMutationOptions(r),jm(this.options,s)||se(this,uo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:se(this,ha),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Zl(s.mutationKey)!==Zl(this.options.mutationKey)?this.reset():((a=se(this,ha))==null?void 0:a.state.status)==="pending"&&se(this,ha).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=se(this,ha))==null||r.removeObserver(this)}onMutationUpdate(r){ft(this,Ti,L0).call(this),ft(this,Ti,$y).call(this,r)}getCurrentResult(){return se(this,ho)}reset(){var r;(r=se(this,ha))==null||r.removeObserver(this),We(this,ha,void 0),ft(this,Ti,L0).call(this),ft(this,Ti,$y).call(this)}mutate(r,s){var a;return We(this,xi,s),(a=se(this,ha))==null||a.removeObserver(this),We(this,ha,se(this,uo).getMutationCache().build(se(this,uo),this.options)),se(this,ha).addObserver(this),se(this,ha).execute(r)}},uo=new WeakMap,ho=new WeakMap,ha=new WeakMap,xi=new WeakMap,Ti=new WeakSet,L0=function(){var s;const r=((s=se(this,ha))==null?void 0:s.state)??_4();We(this,ho,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},$y=function(r){ns.batch(()=>{var s,a,i,o,l,c,d,u;if(se(this,xi)&&this.hasListeners()){const h=se(this,ho).variables,f=se(this,ho).context;(r==null?void 0:r.type)==="success"?((a=(s=se(this,xi)).onSuccess)==null||a.call(s,r.data,h,f),(o=(i=se(this,xi)).onSettled)==null||o.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=se(this,xi)).onError)==null||c.call(l,r.error,h,f),(u=(d=se(this,xi)).onSettled)==null||u.call(d,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(se(this,ho))})})},VC),M4=P.createContext(void 0),sr=t=>{const e=P.useContext(M4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},IF=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(M4.Provider,{value:t,children:e})),R4=P.createContext(!1),OF=()=>P.useContext(R4);R4.Provider;function BF(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var UF=P.createContext(BF()),HF=()=>P.useContext(UF),zF=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},WF=t=>{P.useEffect(()=>{t.clearReset()},[t])},YF=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(a&&t.data===void 0||C4(r,[t.error,s])),VF=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>e(r(...s)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},$F=(t,e)=>t.isLoading&&t.isFetching&&!e,XF=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,jN=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function GF(t,e,r){var h,f,m,p,x;const s=OF(),a=HF(),i=sr(),o=i.defaultQueryOptions(t);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",VF(o),zF(o,a),WF(a);const l=!i.getQueryCache().get(o.queryHash),[c]=P.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(g=>{const y=u?c.subscribe(ns.batchCalls(g)):qs;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(o)},[o,c]),XF(o,d))throw jN(o,c,a);if(YF({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,d),o.experimental_prefetchInRender&&!ql&&$F(d,s)){const g=l?jN(o,c,a):(x=i.getQueryCache().get(o.queryHash))==null?void 0:x.promise;g==null||g.catch(qs).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Vt(t,e){return GF(t,MF)}function Ht(t,e){const r=sr(),[s]=P.useState(()=>new LF(r,t));P.useEffect(()=>{s.setOptions(t)},[s,t]);const a=P.useSyncExternalStore(P.useCallback(o=>s.subscribe(ns.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=P.useCallback((o,l)=>{s.mutate(o,l).catch(qs)},[s]);if(a.error&&C4(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var KF=t=>{switch(t){case"success":return QF;case"info":return e6;case"warning":return JF;case"error":return t6;default:return null}},qF=Array(12).fill(0),ZF=({visible:t,className:e})=>Le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Le.createElement("div",{className:"sonner-spinner"},qF.map((r,s)=>Le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),QF=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JF=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),e6=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),t6=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),r6=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),s6=()=>{let[t,e]=Le.useState(document.hidden);return Le.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Xy=1,a6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:s,...a}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Xy++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:s}),{...c,...e,id:i,dismissible:l,title:s}):c):this.addToast({title:s,...a,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=e instanceof Promise?e:e(),i=s!==void 0,o,l=a.then(async d=>{if(o=["resolve",d],Le.isValidElement(d))i=!1,this.create({id:s,type:"default",message:d});else if(i6(d)&&!d.ok){i=!1;let u=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description;this.create({id:s,type:"error",message:u,description:h})}else if(r.success!==void 0){i=!1;let u=typeof r.success=="function"?await r.success(d):r.success,h=typeof r.description=="function"?await r.description(d):r.description;this.create({id:s,type:"success",message:u,description:h})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){i=!1;let u=typeof r.error=="function"?await r.error(d):r.error,h=typeof r.description=="function"?await r.description(d):r.description;this.create({id:s,type:"error",message:u,description:h})}}).finally(()=>{var d;i&&(this.dismiss(s),s=void 0),(d=r.finally)==null||d.call(r)}),c=()=>new Promise((d,u)=>l.then(()=>o[0]==="reject"?u(o[1]):d(o[1])).catch(u));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(e,r)=>{let s=(r==null?void 0:r.id)||Xy++;return this.create({jsx:e(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ma=new a6,n6=(t,e)=>{let r=(e==null?void 0:e.id)||Xy++;return ma.addToast({title:t,...e,id:r}),r},i6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",o6=n6,l6=()=>ma.toasts,c6=()=>ma.getActiveToasts(),ce=Object.assign(o6,{success:ma.success,info:ma.info,warning:ma.warning,error:ma.error,custom:ma.custom,message:ma.message,promise:ma.promise,dismiss:ma.dismiss,loading:ma.loading},{getHistory:l6,getToasts:c6});function d6(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}d6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function a0(t){return t.label!==void 0}var u6=3,h6="32px",f6="16px",SN=4e3,m6=356,x6=14,p6=20,g6=200;function xn(...t){return t.filter(Boolean).join(" ")}function y6(t){let[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}var v6=t=>{var e,r,s,a,i,o,l,c,d,u,h;let{invert:f,toast:m,unstyled:p,interacting:x,setHeights:g,visibleToasts:y,heights:v,index:b,toasts:w,expanded:N,removeToast:C,defaultRichColors:S,closeButton:k,style:A,cancelButtonStyle:T,actionButtonStyle:E,className:D="",descriptionClassName:_="",duration:z,position:H,gap:q,loadingIcon:K,expandByDefault:Y,classNames:J,icons:Z,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:F}=t,[Q,W]=Le.useState(null),[G,te]=Le.useState(null),[ee,I]=Le.useState(!1),[oe,V]=Le.useState(!1),[pe,ye]=Le.useState(!1),[Ae,Re]=Le.useState(!1),[nt,Xe]=Le.useState(!1),[_e,Ye]=Le.useState(0),[Ge,ze]=Le.useState(0),lt=Le.useRef(m.duration||z||SN),$t=Le.useRef(null),gs=Le.useRef(null),xt=b===0,Fs=b+1<=y,wr=m.type,Cr=m.dismissible!==!1,_r=m.className||"",ys=m.descriptionClassName||"",oa=Le.useMemo(()=>v.findIndex(Je=>Je.toastId===m.id)||0,[v,m.id]),Ta=Le.useMemo(()=>{var Je;return(Je=m.closeButton)!=null?Je:k},[m.closeButton,k]),fn=Le.useMemo(()=>m.duration||z||SN,[m.duration,z]),Se=Le.useRef(0),pt=Le.useRef(0),we=Le.useRef(0),qe=Le.useRef(null),[kt,Dr]=H.split("-"),ts=Le.useMemo(()=>v.reduce((Je,jt,Pt)=>Pt>=oa?Je:Je+jt.height,0),[v,oa]),cs=s6(),rs=m.invert||f,At=wr==="loading";pt.current=Le.useMemo(()=>oa*q+ts,[oa,ts]),Le.useEffect(()=>{lt.current=fn},[fn]),Le.useEffect(()=>{I(!0)},[]),Le.useEffect(()=>{let Je=gs.current;if(Je){let jt=Je.getBoundingClientRect().height;return ze(jt),g(Pt=>[{toastId:m.id,height:jt,position:m.position},...Pt]),()=>g(Pt=>Pt.filter(ds=>ds.toastId!==m.id))}},[g,m.id]),Le.useLayoutEffect(()=>{if(!ee)return;let Je=gs.current,jt=Je.style.height;Je.style.height="auto";let Pt=Je.getBoundingClientRect().height;Je.style.height=jt,ze(Pt),g(ds=>ds.find($s=>$s.toastId===m.id)?ds.map($s=>$s.toastId===m.id?{...$s,height:Pt}:$s):[{toastId:m.id,height:Pt,position:m.position},...ds])},[ee,m.title,m.description,g,m.id]);let gt=Le.useCallback(()=>{V(!0),Ye(pt.current),g(Je=>Je.filter(jt=>jt.toastId!==m.id)),setTimeout(()=>{C(m)},g6)},[m,C,g,pt]);Le.useEffect(()=>{if(m.promise&&wr==="loading"||m.duration===1/0||m.type==="loading")return;let Je;return N||x||F&&cs?(()=>{if(we.current<Se.current){let jt=new Date().getTime()-Se.current;lt.current=lt.current-jt}we.current=new Date().getTime()})():lt.current!==1/0&&(Se.current=new Date().getTime(),Je=setTimeout(()=>{var jt;(jt=m.onAutoClose)==null||jt.call(m,m),gt()},lt.current)),()=>clearTimeout(Je)},[N,x,m,wr,F,cs,gt]),Le.useEffect(()=>{m.delete&&gt()},[gt,m.delete]);function la(){var Je,jt,Pt;return Z!=null&&Z.loading?Le.createElement("div",{className:xn(J==null?void 0:J.loader,(Je=m==null?void 0:m.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":wr==="loading"},Z.loading):K?Le.createElement("div",{className:xn(J==null?void 0:J.loader,(jt=m==null?void 0:m.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":wr==="loading"},K):Le.createElement(ZF,{className:xn(J==null?void 0:J.loader,(Pt=m==null?void 0:m.classNames)==null?void 0:Pt.loader),visible:wr==="loading"})}return Le.createElement("li",{tabIndex:0,ref:gs,className:xn(D,_r,J==null?void 0:J.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,J==null?void 0:J.default,J==null?void 0:J[wr],(r=m==null?void 0:m.classNames)==null?void 0:r[wr]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:S,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":ee,"data-promise":!!m.promise,"data-swiped":nt,"data-removed":oe,"data-visible":Fs,"data-y-position":kt,"data-x-position":Dr,"data-index":b,"data-front":xt,"data-swiping":pe,"data-dismissible":Cr,"data-type":wr,"data-invert":rs,"data-swipe-out":Ae,"data-swipe-direction":G,"data-expanded":!!(N||Y&&ee),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${oe?_e:pt.current}px`,"--initial-height":Y?"auto":`${Ge}px`,...A,...m.style},onDragEnd:()=>{ye(!1),W(null),qe.current=null},onPointerDown:Je=>{At||!Cr||($t.current=new Date,Ye(pt.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(ye(!0),qe.current={x:Je.clientX,y:Je.clientY}))},onPointerUp:()=>{var Je,jt,Pt,ds;if(Ae||!Cr)return;qe.current=null;let $s=Number(((Je=gs.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ka=Number(((jt=gs.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),re=new Date().getTime()-((Pt=$t.current)==null?void 0:Pt.getTime()),le=Q==="x"?$s:Ka,me=Math.abs(le)/re;if(Math.abs(le)>=p6||me>.11){Ye(pt.current),(ds=m.onDismiss)==null||ds.call(m,m),te(Q==="x"?$s>0?"right":"left":Ka>0?"down":"up"),gt(),Re(!0),Xe(!1);return}ye(!1),W(null)},onPointerMove:Je=>{var jt,Pt,ds,$s;if(!qe.current||!Cr||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let Ka=Je.clientY-qe.current.y,re=Je.clientX-qe.current.x,le=(Pt=t.swipeDirections)!=null?Pt:y6(H);!Q&&(Math.abs(re)>1||Math.abs(Ka)>1)&&W(Math.abs(re)>Math.abs(Ka)?"x":"y");let me={x:0,y:0};Q==="y"?(le.includes("top")||le.includes("bottom"))&&(le.includes("top")&&Ka<0||le.includes("bottom")&&Ka>0)&&(me.y=Ka):Q==="x"&&(le.includes("left")||le.includes("right"))&&(le.includes("left")&&re<0||le.includes("right")&&re>0)&&(me.x=re),(Math.abs(me.x)>0||Math.abs(me.y)>0)&&Xe(!0),(ds=gs.current)==null||ds.style.setProperty("--swipe-amount-x",`${me.x}px`),($s=gs.current)==null||$s.style.setProperty("--swipe-amount-y",`${me.y}px`)}},Ta&&!m.jsx?Le.createElement("button",{"aria-label":ne,"data-disabled":At,"data-close-button":!0,onClick:At||!Cr?()=>{}:()=>{var Je;gt(),(Je=m.onDismiss)==null||Je.call(m,m)},className:xn(J==null?void 0:J.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=Z==null?void 0:Z.close)!=null?i:r6):null,m.jsx||P.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Le.createElement(Le.Fragment,null,wr||m.icon||m.promise?Le.createElement("div",{"data-icon":"",className:xn(J==null?void 0:J.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||la():null,m.type!=="loading"?m.icon||(Z==null?void 0:Z[wr])||KF(wr):null):null,Le.createElement("div",{"data-content":"",className:xn(J==null?void 0:J.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},Le.createElement("div",{"data-title":"",className:xn(J==null?void 0:J.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?Le.createElement("div",{"data-description":"",className:xn(_,ys,J==null?void 0:J.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),P.isValidElement(m.cancel)?m.cancel:m.cancel&&a0(m.cancel)?Le.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:Je=>{var jt,Pt;a0(m.cancel)&&Cr&&((Pt=(jt=m.cancel).onClick)==null||Pt.call(jt,Je),gt())},className:xn(J==null?void 0:J.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,P.isValidElement(m.action)?m.action:m.action&&a0(m.action)?Le.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||E,onClick:Je=>{var jt,Pt;a0(m.action)&&((Pt=(jt=m.action).onClick)==null||Pt.call(jt,Je),!Je.defaultPrevented&&gt())},className:xn(J==null?void 0:J.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function CN(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function b6(t,e){let r={};return[t,e].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?f6:h6;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),r}var w6=P.forwardRef(function(t,e){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:f,style:m,visibleToasts:p=u6,toastOptions:x,dir:g=CN(),gap:y=x6,loadingIcon:v,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=t,[C,S]=Le.useState([]),k=Le.useMemo(()=>Array.from(new Set([s].concat(C.filter(F=>F.position).map(F=>F.position)))),[C,s]),[A,T]=Le.useState([]),[E,D]=Le.useState(!1),[_,z]=Le.useState(!1),[H,q]=Le.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Le.useRef(null),Y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=Le.useRef(null),Z=Le.useRef(!1),ne=Le.useCallback(F=>{S(Q=>{var W;return(W=Q.find(G=>G.id===F.id))!=null&&W.delete||ma.dismiss(F.id),Q.filter(({id:G})=>G!==F.id)})},[]);return Le.useEffect(()=>ma.subscribe(F=>{if(F.dismiss){S(Q=>Q.map(W=>W.id===F.id?{...W,delete:!0}:W));return}setTimeout(()=>{n4.flushSync(()=>{S(Q=>{let W=Q.findIndex(G=>G.id===F.id);return W!==-1?[...Q.slice(0,W),{...Q[W],...F},...Q.slice(W+1)]:[F,...Q]})})})}),[]),Le.useEffect(()=>{if(u!=="system"){q(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:Q})=>{q(Q?"dark":"light")})}catch{F.addListener(({matches:W})=>{try{q(W?"dark":"light")}catch(G){console.error(G)}})}},[u]),Le.useEffect(()=>{C.length<=1&&D(!1)},[C]),Le.useEffect(()=>{let F=Q=>{var W,G;a.every(te=>Q[te]||Q.code===te)&&(D(!0),(W=K.current)==null||W.focus()),Q.code==="Escape"&&(document.activeElement===K.current||(G=K.current)!=null&&G.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),Le.useEffect(()=>{if(K.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,Z.current=!1)}},[K.current]),Le.createElement("section",{ref:e,"aria-label":`${w} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((F,Q)=>{var W;let[G,te]=F.split("-");return C.length?Le.createElement("ol",{key:F,dir:g==="auto"?CN():g,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":G,"data-lifted":E&&C.length>1&&!i,"data-x-position":te,style:{"--front-toast-height":`${((W=A[0])==null?void 0:W.height)||0}px`,"--width":`${m6}px`,"--gap":`${y}px`,...m,...b6(c,d)},onBlur:ee=>{Z.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(Z.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,J.current=ee.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{_||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},C.filter(ee=>!ee.position&&Q===0||ee.position===F).map((ee,I)=>{var oe,V;return Le.createElement(v6,{key:ee.id,icons:b,index:I,toast:ee,defaultRichColors:h,duration:(oe=x==null?void 0:x.duration)!=null?oe:f,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:p,closeButton:(V=x==null?void 0:x.closeButton)!=null?V:o,interacting:_,position:F,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ne,toasts:C.filter(pe=>pe.position==ee.position),heights:A.filter(pe=>pe.position==ee.position),setHeights:T,expandByDefault:i,gap:y,loadingIcon:v,expanded:E,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const N6=new DF({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:(t,e)=>(e==null?void 0:e.status)>=400&&(e==null?void 0:e.status)<500?!1:t<3,refetchOnWindowFocus:!1},mutations:{retry:1}}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(t,e)=>{const r=P.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>P.createElement("svg",{ref:u,...j6,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${S6(t)}`,l].join(" "),...d},[...e.map(([h,f])=>P.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Ee("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Ee("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ee("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Ee("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Ee("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Ee("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Ee("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Ee("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Ee("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Ee("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Ee("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ee("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ee("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Ee("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Ee("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Ee("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ee("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Ee("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Ee("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),r1=P.createContext({});function s1(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ax=P.createContext(null),a1=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class W6 extends P.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y6({children:t,isPresent:e}){const r=P.useId(),s=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=P.useContext(a1);return P.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=a.current;if(e||!s.current||!o||!l)return;s.current.dataset.motionPopId=r;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),n.jsx(W6,{isPresent:e,childRef:s,sizeRef:a,children:P.cloneElement(t,{ref:s})})}const V6=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=s1($6),c=P.useId(),d=P.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;s&&s()},[l,s]),u=P.useMemo(()=>({id:c,initial:e,isPresent:r,custom:a,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),d]:[r,d]);return P.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),P.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),o==="popLayout"&&(t=n.jsx(Y6,{isPresent:r,children:t})),n.jsx(Ax.Provider,{value:u,children:t})};function $6(){return new Map}function z4(t=!0){const e=P.useContext(Ax);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=e,i=P.useId();P.useEffect(()=>{t&&a(i)},[t]);const o=P.useCallback(()=>t&&s&&s(i),[i,s,t]);return!r&&s?[!1,o]:[!0]}const n0=t=>t.key||"";function kN(t){const e=[];return P.Children.forEach(t,r=>{P.isValidElement(r)&&e.push(r)}),e}const n1=typeof window<"u",W4=n1?P.useLayoutEffect:P.useEffect,tt=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=z4(o),d=P.useMemo(()=>kN(t),[t]),u=o&&!l?[]:d.map(n0),h=P.useRef(!0),f=P.useRef(d),m=s1(()=>new Map),[p,x]=P.useState(d),[g,y]=P.useState(d);W4(()=>{h.current=!1,f.current=d;for(let w=0;w<g.length;w++){const N=n0(g[w]);u.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[g,u.length,u.join("-")]);const v=[];if(d!==p){let w=[...d];for(let N=0;N<g.length;N++){const C=g[N],S=n0(C);u.includes(S)||(w.splice(N,0,C),v.push(C))}i==="wait"&&v.length&&(w=v),y(kN(w)),x(d);return}const{forceRender:b}=P.useContext(r1);return n.jsx(n.Fragment,{children:g.map(w=>{const N=n0(w),C=o&&!l?!1:d===g||u.includes(N),S=()=>{if(m.has(N))m.set(N,!0);else return;let k=!0;m.forEach(A=>{A||(k=!1)}),k&&(b==null||b(),y(f.current),o&&(c==null||c()),s&&s())};return n.jsx(V6,{isPresent:C,initial:!h.current||r?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:a,mode:i,onExitComplete:C?void 0:S,children:w},N)})})},Ua=t=>t;let Ky=Ua;function i1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dd=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s},Ni=t=>t*1e3,ji=t=>t/1e3,X6={skipAnimations:!1,useManualTiming:!1};function G6(t){let e=new Set,r=new Set,s=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const m=h&&s?e:r;return u&&i.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),i.delete(d)},process:d=>{if(o=d,s){a=!0;return}s=!0,[e,r]=[r,e],e.forEach(l),e.clear(),s=!1,a&&(a=!1,c.process(d))}};return c}const i0=["read","resolveKeyframes","update","preRender","render","postRender"],K6=40;function Y4(t,e){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=i0.reduce((y,v)=>(y[v]=G6(i),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:f}=o,m=()=>{const y=performance.now();r=!1,a.delta=s?1e3/60:Math.max(Math.min(y-a.timestamp,K6),1),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),a.isProcessing=!1,r&&e&&(s=!1,t(m))},p=()=>{r=!0,s=!0,a.isProcessing||t(m)};return{schedule:i0.reduce((y,v)=>{const b=o[v];return y[v]=(w,N=!1,C=!1)=>(r||p(),b.schedule(w,N,C)),y},{}),cancel:y=>{for(let v=0;v<i0.length;v++)o[i0[v]].cancel(y)},state:a,steps:o}}const{schedule:vr,cancel:_o,state:ws,steps:Rp}=Y4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ua,!0),V4=P.createContext({strict:!1}),AN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Md={};for(const t in AN)Md[t]={isEnabled:e=>AN[t].some(r=>!!e[r])};function q6(t){for(const e in t)Md[e]={...Md[e],...t[e]}}const Z6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Am(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Z6.has(t)}let $4=t=>!Am(t);function Q6(t){t&&($4=e=>e.startsWith("on")?!Am(e):t(e))}try{Q6(require("@emotion/is-prop-valid").default)}catch{}function J6(t,e,r){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||($4(a)||r===!0&&Am(a)||!e&&!Am(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function eL(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...s)=>t(...s);return new Proxy(r,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Tx=P.createContext({});function Fh(t){return typeof t=="string"||Array.isArray(t)}function Ex(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const o1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l1=["initial",...o1];function Px(t){return Ex(t.animate)||l1.some(e=>Fh(t[e]))}function X4(t){return!!(Px(t)||t.variants)}function tL(t,e){if(Px(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Fh(r)?r:void 0,animate:Fh(s)?s:void 0}}return t.inherit!==!1?e:{}}function rL(t){const{initial:e,animate:r}=tL(t,P.useContext(Tx));return P.useMemo(()=>({initial:e,animate:r}),[TN(e),TN(r)])}function TN(t){return Array.isArray(t)?t.join(" "):t}const sL=Symbol.for("motionComponentSymbol");function Hc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aL(t,e,r){return P.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):Hc(r)&&(r.current=s))},[e])}const c1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nL="framerAppearId",G4="data-"+c1(nL),{schedule:d1,cancel:LJ}=Y4(queueMicrotask,!1),K4=P.createContext({});function iL(t,e,r,s,a){var i,o;const{visualElement:l}=P.useContext(Tx),c=P.useContext(V4),d=P.useContext(Ax),u=P.useContext(a1).reducedMotion,h=P.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,m=P.useContext(K4);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&oL(h.current,r,a,m);const p=P.useRef(!1);P.useInsertionEffect(()=>{f&&p.current&&f.update(r,d)});const x=r[G4],g=P.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return W4(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),d1.render(f.render),g.current&&f.animationState&&f.animationState.animateChanges())}),P.useEffect(()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,x)}),g.current=!1))}),f}function oL(t,e,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:q4(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Hc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function q4(t){if(t)return t.options.allowProjection!==!1?t.projection:q4(t.parent)}function lL({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:s,Component:a}){var i,o;t&&q6(t);function l(d,u){let h;const f={...P.useContext(a1),...d,layoutId:cL(d)},{isStatic:m}=f,p=rL(d),x=s(d,m);if(!m&&n1){dL();const g=uL(f);h=g.MeasureLayout,p.visualElement=iL(a,x,f,e,g.ProjectionNode)}return n.jsxs(Tx.Provider,{value:p,children:[h&&p.visualElement?n.jsx(h,{visualElement:p.visualElement,...f}):null,r(a,d,aL(x,p.visualElement,u),x,m,p.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const c=P.forwardRef(l);return c[sL]=a,c}function cL({layoutId:t}){const e=P.useContext(r1).id;return e&&t!==void 0?e+"-"+t:t}function dL(t,e){P.useContext(V4).strict}function uL(t){const{drag:e,layout:r}=Md;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const hL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u1(t){return typeof t!="string"||t.includes("-")?!1:!!(hL.indexOf(t)>-1||/[A-Z]/u.test(t))}function EN(t){const e=[{},{}];return t==null||t.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function h1(t,e,r,s){if(typeof e=="function"){const[a,i]=EN(s);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=EN(s);e=e(r!==void 0?r:t.custom,a,i)}return e}const qy=t=>Array.isArray(t),fL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mL=t=>qy(t)?t[t.length-1]||0:t,zs=t=>!!(t&&t.getVelocity);function O0(t){const e=zs(t)?t.get():t;return fL(e)?e.toValue():e}function xL({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},s,a,i){const o={latestValues:pL(s,a,i,t),renderState:e()};return r&&(o.onMount=l=>r({props:s,current:l,...o}),o.onUpdate=l=>r(l)),o}const Z4=t=>(e,r)=>{const s=P.useContext(Tx),a=P.useContext(Ax),i=()=>xL(t,e,s,a);return r?i():s1(i)};function pL(t,e,r,s){const a={},i=s(t,{});for(const f in i)a[f]=O0(i[f]);let{initial:o,animate:l}=t;const c=Px(t),d=X4(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Ex(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=h1(t,f[m]);if(p){const{transitionEnd:x,transition:g,...y}=p;for(const v in y){let b=y[v];if(Array.isArray(b)){const w=u?b.length-1:0;b=b[w]}b!==null&&(a[v]=b)}for(const v in x)a[v]=x[v]}}}return a}const Jd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lc=new Set(Jd),Q4=t=>e=>typeof e=="string"&&e.startsWith(t),J4=Q4("--"),gL=Q4("var(--"),f1=t=>gL(t)?yL.test(t.split("/*")[0].trim()):!1,yL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fi=(t,e,r)=>r>e?e:r<t?t:r,eu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lh={...eu,transform:t=>Fi(0,1,t)},o0={...eu,default:1},mf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ki=mf("deg"),ti=mf("%"),st=mf("px"),vL=mf("vh"),bL=mf("vw"),PN={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},wL={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st},NL={rotate:Ki,rotateX:Ki,rotateY:Ki,rotateZ:Ki,scale:o0,scaleX:o0,scaleY:o0,scaleZ:o0,skew:Ki,skewX:Ki,skewY:Ki,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:Lh,originX:PN,originY:PN,originZ:st},_N={...eu,transform:Math.round},m1={...wL,...NL,zIndex:_N,size:st,fillOpacity:Lh,strokeOpacity:Lh,numOctaves:_N},jL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SL=Jd.length;function CL(t,e,r){let s="",a=!0;for(let i=0;i<SL;i++){const o=Jd[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=eT(l,m1[o]);if(!c){a=!1;const u=jL[o]||o;s+=`${u}(${d}) `}r&&(e[o]=d)}}return s=s.trim(),r?s=r(e,a?"":s):a&&(s="none"),s}function x1(t,e,r){const{style:s,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(lc.has(c)){o=!0;continue}else if(J4(c)){a[c]=d;continue}else{const u=eT(d,m1[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||r?s.transform=CL(e,t.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const kL={offset:"stroke-dashoffset",array:"stroke-dasharray"},AL={offset:"strokeDashoffset",array:"strokeDasharray"};function TL(t,e,r=1,s=0,a=!0){t.pathLength=1;const i=a?kL:AL;t[i.offset]=st.transform(-s);const o=st.transform(e),l=st.transform(r);t[i.array]=`${o} ${l}`}function DN(t,e,r){return typeof t=="string"?t:st.transform(e+r*t)}function EL(t,e,r){const s=DN(e,t.x,t.width),a=DN(r,t.y,t.height);return`${s} ${a}`}function p1(t,{attrX:e,attrY:r,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(x1(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:p}=t;f.transform&&(p&&(m.transform=f.transform),delete f.transform),p&&(a!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=EL(p,a!==void 0?a:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),s!==void 0&&(f.scale=s),o!==void 0&&TL(f,o,l,c,!1)}const g1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),tT=()=>({...g1(),attrs:{}}),y1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rT(t,{style:e,vars:r},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const i in r)t.style.setProperty(i,r[i])}const sT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aT(t,e,r,s){rT(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(sT.has(a)?a:c1(a),e.attrs[a])}const Tm={};function PL(t){Object.assign(Tm,t)}function nT(t,{layout:e,layoutId:r}){return lc.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Tm[t]||t==="opacity")}function v1(t,e,r){var s;const{style:a}=t,i={};for(const o in a)(zs(a[o])||e.style&&zs(e.style[o])||nT(o,t)||((s=r==null?void 0:r.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function iT(t,e,r){const s=v1(t,e,r);for(const a in t)if(zs(t[a])||zs(e[a])){const i=Jd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=t[a]}return s}function _L(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const MN=["x","y","width","height","cx","cy","r"],DL={useVisualState:Z4({scrapeMotionValuesFromProps:iT,createRenderState:tT,onUpdate:({props:t,prevProps:e,current:r,renderState:s,latestValues:a})=>{if(!r)return;let i=!!t.drag;if(!i){for(const l in a)if(lc.has(l)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let l=0;l<MN.length;l++){const c=MN[l];t[c]!==e[c]&&(o=!0)}o&&vr.read(()=>{_L(r,s),vr.render(()=>{p1(s,a,y1(r.tagName),t.transformTemplate),aT(r,s)})})}})},ML={useVisualState:Z4({scrapeMotionValuesFromProps:v1,createRenderState:g1})};function oT(t,e,r){for(const s in e)!zs(e[s])&&!nT(s,r)&&(t[s]=e[s])}function RL({transformTemplate:t},e){return P.useMemo(()=>{const r=g1();return x1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function FL(t,e){const r=t.style||{},s={};return oT(s,r,t),Object.assign(s,RL(t,e)),s}function LL(t,e){const r={},s=FL(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}function IL(t,e,r,s){const a=P.useMemo(()=>{const i=tT();return p1(i,e,y1(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};oT(i,t.style,t),a.style={...i,...a.style}}return a}function OL(t=!1){return(r,s,a,{latestValues:i},o)=>{const c=(u1(r)?IL:LL)(s,i,o,r),d=J6(s,typeof r=="string",t),u=r!==P.Fragment?{...d,...c,ref:a}:{},{children:h}=s,f=P.useMemo(()=>zs(h)?h.get():h,[h]);return P.createElement(r,{...u,children:f})}}function BL(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...u1(s)?DL:ML,preloadedFeatures:t,useRender:OL(a),createVisualElement:e,Component:s};return lL(o)}}function lT(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}function _x(t,e,r){const s=t.getProps();return h1(s,e,r!==void 0?r:s.custom,t)}const UL=i1(()=>window.ScrollTimeline!==void 0);class HL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=r}attachTimeline(e,r){const s=this.animations.map(a=>{if(UL()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{s.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class zL extends HL{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function b1(t,e){return t?t[e]||t.default||t:void 0}const Zy=2e4;function cT(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Zy;)e+=r,s=t.next(e);return e>=Zy?1/0:e}function w1(t){return typeof t=="function"}function RN(t,e){t.timeline=e,t.onfinish=null}const N1=t=>Array.isArray(t)&&typeof t[0]=="number",WL={linearEasing:void 0};function YL(t,e){const r=i1(t);return()=>{var s;return(s=WL[e])!==null&&s!==void 0?s:r()}}const Em=YL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dT=(t,e,r=10)=>{let s="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)s+=t(Dd(0,a-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function uT(t){return!!(typeof t=="function"&&Em()||!t||typeof t=="string"&&(t in Qy||Em())||N1(t)||Array.isArray(t)&&t.every(uT))}const Iu=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,Qy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iu([0,.65,.55,1]),circOut:Iu([.55,0,1,.45]),backIn:Iu([.31,.01,.66,-.59]),backOut:Iu([.33,1.53,.69,.99])};function hT(t,e){if(t)return typeof t=="function"&&Em()?dT(t,e):N1(t)?Iu(t):Array.isArray(t)?t.map(r=>hT(r,e)||Qy.easeOut):Qy[t]}const yn={x:!1,y:!1};function fT(){return yn.x||yn.y}function VL(t,e,r){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const i=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function mT(t,e){const r=VL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[r,a,()=>s.abort()]}function FN(t){return e=>{e.pointerType==="touch"||fT()||t(e)}}function $L(t,e,r={}){const[s,a,i]=mT(t,r),o=FN(l=>{const{target:c}=l,d=e(l);if(typeof d!="function"||!c)return;const u=FN(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const xT=(t,e)=>e?t===e?!0:xT(t,e.parentElement):!1,j1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GL(t){return XL.has(t.tagName)||t.tabIndex!==-1}const Ou=new WeakSet;function LN(t){return e=>{e.key==="Enter"&&t(e)}}function Fp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KL=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=LN(()=>{if(Ou.has(r))return;Fp(r,"down");const a=LN(()=>{Fp(r,"up")}),i=()=>Fp(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function IN(t){return j1(t)&&!fT()}function qL(t,e,r={}){const[s,a,i]=mT(t,r),o=l=>{const c=l.currentTarget;if(!IN(l)||Ou.has(c))return;Ou.add(c);const d=e(l),u=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!IN(m)||!Ou.has(c))&&(Ou.delete(c),typeof d=="function"&&d(m,{success:p}))},h=m=>{u(m,r.useGlobalTarget||xT(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return s.forEach(l=>{!GL(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",d=>KL(d,a),a)}),i}function ZL(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}const pT=new Set(["width","height","top","left","right","bottom",...Jd]);let B0;function QL(){B0=void 0}const ri={now:()=>(B0===void 0&&ri.set(ws.isProcessing||X6.useManualTiming?ws.timestamp:performance.now()),B0),set:t=>{B0=t,queueMicrotask(QL)}};function S1(t,e){t.indexOf(e)===-1&&t.push(e)}function C1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class k1{constructor(){this.subscriptions=[]}add(e){return S1(this.subscriptions,e),()=>C1(this.subscriptions,e)}notify(e,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gT(t,e){return e?t*(1e3/e):0}const ON=30,JL=t=>!isNaN(parseFloat(t));class eI{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const i=ri.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ri.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new k1);const s=this.events[e].add(r);return e==="change"?()=>{s(),vr.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ON)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ON);return gT(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ih(t,e){return new eI(t,e)}function tI(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ih(r))}function rI(t,e){const r=_x(t,e);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=mL(i[o]);tI(t,o,l)}}function sI(t){return!!(zs(t)&&t.add)}function Jy(t,e){const r=t.getValue("willChange");if(sI(r))return r.add(e)}function yT(t){return t.props[G4]}const vT=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,aI=1e-7,nI=12;function iI(t,e,r,s,a){let i,o,l=0;do o=e+(r-e)/2,i=vT(o,s,a)-t,i>0?r=o:e=o;while(Math.abs(i)>aI&&++l<nI);return o}function xf(t,e,r,s){if(t===e&&r===s)return Ua;const a=i=>iI(i,0,1,t,r);return i=>i===0||i===1?i:vT(a(i),e,s)}const bT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wT=t=>e=>1-t(1-e),NT=xf(.33,1.53,.69,.99),A1=wT(NT),jT=bT(A1),ST=t=>(t*=2)<1?.5*A1(t):.5*(2-Math.pow(2,-10*(t-1))),T1=t=>1-Math.sin(Math.acos(t)),CT=wT(T1),kT=bT(T1),AT=t=>/^0[^.\s]+$/u.test(t);function oI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AT(t):!0}const Zu=t=>Math.round(t*1e5)/1e5,E1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lI(t){return t==null}const cI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P1=(t,e)=>r=>!!(typeof r=="string"&&cI.test(r)&&r.startsWith(t)||e&&!lI(r)&&Object.prototype.hasOwnProperty.call(r,e)),TT=(t,e,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(E1);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dI=t=>Fi(0,255,t),Lp={...eu,transform:t=>Math.round(dI(t))},Nl={test:P1("rgb","red"),parse:TT("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+Lp.transform(t)+", "+Lp.transform(e)+", "+Lp.transform(r)+", "+Zu(Lh.transform(s))+")"};function uI(t){let e="",r="",s="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ev={test:P1("#"),parse:uI,transform:Nl.transform},zc={test:P1("hsl","hue"),parse:TT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+ti.transform(Zu(e))+", "+ti.transform(Zu(r))+", "+Zu(Lh.transform(s))+")"},Bs={test:t=>Nl.test(t)||ev.test(t)||zc.test(t),parse:t=>Nl.test(t)?Nl.parse(t):zc.test(t)?zc.parse(t):ev.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Nl.transform(t):zc.transform(t)},hI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fI(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(E1))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(hI))===null||r===void 0?void 0:r.length)||0)>0}const ET="number",PT="color",mI="var",xI="var(",BN="${}",pI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oh(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(pI,c=>(Bs.test(c)?(s.color.push(i),a.push(PT),r.push(Bs.parse(c))):c.startsWith(xI)?(s.var.push(i),a.push(mI),r.push(c)):(s.number.push(i),a.push(ET),r.push(parseFloat(c))),++i,BN)).split(BN);return{values:r,split:l,indexes:s,types:a}}function _T(t){return Oh(t).values}function DT(t){const{split:e,types:r}=Oh(t),s=e.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===ET?i+=Zu(a[o]):l===PT?i+=Bs.transform(a[o]):i+=a[o]}return i}}const gI=t=>typeof t=="number"?0:t;function yI(t){const e=_T(t);return DT(t)(e.map(gI))}const Do={test:fI,parse:_T,createTransformer:DT,getAnimatableNone:yI},vI=new Set(["brightness","contrast","saturate","opacity"]);function bI(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(E1)||[];if(!s)return t;const a=r.replace(s,"");let i=vI.has(e)?1:0;return s!==r&&(i*=100),e+"("+i+a+")"}const wI=/\b([a-z-]*)\(.*?\)/gu,tv={...Do,getAnimatableNone:t=>{const e=t.match(wI);return e?e.map(bI).join(" "):t}},NI={...m1,color:Bs,backgroundColor:Bs,outlineColor:Bs,fill:Bs,stroke:Bs,borderColor:Bs,borderTopColor:Bs,borderRightColor:Bs,borderBottomColor:Bs,borderLeftColor:Bs,filter:tv,WebkitFilter:tv},_1=t=>NI[t];function MT(t,e){let r=_1(t);return r!==tv&&(r=Do),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const jI=new Set(["auto","none","0"]);function SI(t,e,r){let s=0,a;for(;s<t.length&&!a;){const i=t[s];typeof i=="string"&&!jI.has(i)&&Oh(i).values.length&&(a=t[s]),s++}if(a&&r)for(const i of e)t[i]=MT(r,a)}const UN=t=>t===eu||t===st,HN=(t,e)=>parseFloat(t.split(", ")[e]),zN=(t,e)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return HN(a[1],e);{const i=s.match(/^matrix\((.+)\)$/u);return i?HN(i[1],t):0}},CI=new Set(["x","y","z"]),kI=Jd.filter(t=>!CI.has(t));function AI(t){const e=[];return kI.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const Rd={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:zN(4,13),y:zN(5,14)};Rd.translateX=Rd.x;Rd.translateY=Rd.y;const Il=new Set;let rv=!1,sv=!1;function RT(){if(sv){const t=Array.from(Il).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const a=AI(s);a.length&&(r.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}sv=!1,rv=!1,Il.forEach(t=>t.complete()),Il.clear()}function FT(){Il.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sv=!0)})}function TI(){FT(),RT()}class D1{constructor(e,r,s,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Il.add(this),rv||(rv=!0,vr.read(FT),vr.resolveKeyframes(RT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:a}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&r){const c=s.readValue(r,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),a&&o===void 0&&a.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Il.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Il.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const LT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),EI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PI(t){const e=EI.exec(t);if(!e)return[,];const[,r,s,a]=e;return[`--${r??s}`,a]}function IT(t,e,r=1){const[s,a]=PI(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return LT(o)?parseFloat(o):o}return f1(a)?IT(a,e,r+1):a}const OT=t=>e=>e.test(t),_I={test:t=>t==="auto",parse:t=>t},BT=[eu,st,ti,Ki,bL,vL,_I],WN=t=>BT.find(OT(t));class UT extends D1{constructor(e,r,s,a,i){super(e,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),f1(d))){const u=IT(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!pT.has(s)||e.length!==2)return;const[a,i]=e,o=WN(a),l=WN(i);if(o!==l)if(UN(o)&&UN(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let a=0;a<e.length;a++)oI(e[a])&&s.push(a);s.length&&SI(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rd[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:s,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=Rd[s](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const YN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Do.test(t)||t==="0")&&!t.startsWith("url("));function DI(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function MI(t,e,r,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=YN(a,e),l=YN(i,e);return!o||!l?!1:DI(t)||(r==="spring"||w1(r))&&s}const RI=t=>t!==null;function Dx(t,{repeat:e,repeatType:r="loop"},s){const a=t.filter(RI),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return!i||s===void 0?a[i]:s}const FI=40;class HT{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ri.now(),this.options={autoplay:e,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>FI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&TI(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=ri.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!MI(e,s,a,i))if(o)this.options.duration=0;else{c&&c(Dx(e,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,r);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Tr=(t,e,r)=>t+(e-t)*r;function Ip(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function LI({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=Ip(c,l,t+1/3),i=Ip(c,l,t),o=Ip(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Pm(t,e){return r=>r>0?e:t}const Op=(t,e,r)=>{const s=t*t,a=r*(e*e-s)+s;return a<0?0:Math.sqrt(a)},II=[ev,Nl,zc],OI=t=>II.find(e=>e.test(t));function VN(t){const e=OI(t);if(!e)return!1;let r=e.parse(t);return e===zc&&(r=LI(r)),r}const $N=(t,e)=>{const r=VN(t),s=VN(e);if(!r||!s)return Pm(t,e);const a={...r};return i=>(a.red=Op(r.red,s.red,i),a.green=Op(r.green,s.green,i),a.blue=Op(r.blue,s.blue,i),a.alpha=Tr(r.alpha,s.alpha,i),Nl.transform(a))},BI=(t,e)=>r=>e(t(r)),pf=(...t)=>t.reduce(BI),av=new Set(["none","hidden"]);function UI(t,e){return av.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function HI(t,e){return r=>Tr(t,e,r)}function M1(t){return typeof t=="number"?HI:typeof t=="string"?f1(t)?Pm:Bs.test(t)?$N:YI:Array.isArray(t)?zT:typeof t=="object"?Bs.test(t)?$N:zI:Pm}function zT(t,e){const r=[...t],s=r.length,a=t.map((i,o)=>M1(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function zI(t,e){const r={...t,...e},s={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(s[a]=M1(t[a])(t[a],e[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function WI(t,e){var r;const s=[],a={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][a[o]],c=(r=t.values[l])!==null&&r!==void 0?r:0;s[i]=c,a[o]++}return s}const YI=(t,e)=>{const r=Do.createTransformer(e),s=Oh(t),a=Oh(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?av.has(t)&&!a.values.length||av.has(e)&&!s.values.length?UI(t,e):pf(zT(WI(s,a),a.values),r):Pm(t,e)};function WT(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Tr(t,e,r):M1(t)(t,e)}const VI=5;function YT(t,e,r){const s=Math.max(e-VI,0);return gT(r-t(s),e-s)}const Rr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bp=.001;function $I({duration:t=Rr.duration,bounce:e=Rr.bounce,velocity:r=Rr.velocity,mass:s=Rr.mass}){let a,i,o=1-e;o=Fi(Rr.minDamping,Rr.maxDamping,o),t=Fi(Rr.minDuration,Rr.maxDuration,ji(t)),o<1?(a=d=>{const u=d*o,h=u*t,f=u-r,m=nv(d,o),p=Math.exp(-h);return Bp-f/m*p},i=d=>{const h=d*o*t,f=h*r+r,m=Math.pow(o,2)*Math.pow(d,2)*t,p=Math.exp(-h),x=nv(Math.pow(d,2),o);return(-a(d)+Bp>0?-1:1)*((f-m)*p)/x}):(a=d=>{const u=Math.exp(-d*t),h=(d-r)*t+1;return-Bp+u*h},i=d=>{const u=Math.exp(-d*t),h=(r-d)*(t*t);return u*h});const l=5/t,c=GI(a,i,l);if(t=Ni(t),isNaN(c))return{stiffness:Rr.stiffness,damping:Rr.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const XI=12;function GI(t,e,r){let s=r;for(let a=1;a<XI;a++)s=s-t(s)/e(s);return s}function nv(t,e){return t*Math.sqrt(1-e*e)}const KI=["duration","bounce"],qI=["stiffness","damping","mass"];function XN(t,e){return e.some(r=>t[r]!==void 0)}function ZI(t){let e={velocity:Rr.velocity,stiffness:Rr.stiffness,damping:Rr.damping,mass:Rr.mass,isResolvedFromDuration:!1,...t};if(!XN(t,qI)&&XN(t,KI))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*Fi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rr.mass,stiffness:a,damping:i}}else{const r=$I(t);e={...e,...r,mass:Rr.mass},e.isResolvedFromDuration=!0}return e}function VT(t=Rr.visualDuration,e=Rr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=ZI({...r,velocity:-ji(r.velocity||0)}),p=f||0,x=d/(2*Math.sqrt(c*u)),g=o-i,y=ji(Math.sqrt(c/u)),v=Math.abs(g)<5;s||(s=v?Rr.restSpeed.granular:Rr.restSpeed.default),a||(a=v?Rr.restDelta.granular:Rr.restDelta.default);let b;if(x<1){const N=nv(y,x);b=C=>{const S=Math.exp(-x*y*C);return o-S*((p+x*y*g)/N*Math.sin(N*C)+g*Math.cos(N*C))}}else if(x===1)b=N=>o-Math.exp(-y*N)*(g+(p+y*g)*N);else{const N=y*Math.sqrt(x*x-1);b=C=>{const S=Math.exp(-x*y*C),k=Math.min(N*C,300);return o-S*((p+x*y*g)*Math.sinh(k)+N*g*Math.cosh(k))/N}}const w={calculatedDuration:m&&h||null,next:N=>{const C=b(N);if(m)l.done=N>=h;else{let S=0;x<1&&(S=N===0?Ni(p):YT(b,N,C));const k=Math.abs(S)<=s,A=Math.abs(o-C)<=a;l.done=k&&A}return l.value=l.done?o:C,l},toString:()=>{const N=Math.min(cT(w),Zy),C=dT(S=>w.next(N*S).value,N,30);return N+"ms "+C}};return w}function GN({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=k=>l!==void 0&&k<l||c!==void 0&&k>c,p=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let x=r*e;const g=h+x,y=o===void 0?g:o(g);y!==g&&(x=y-h);const v=k=>-x*Math.exp(-k/s),b=k=>y+v(k),w=k=>{const A=v(k),T=b(k);f.done=Math.abs(A)<=d,f.value=f.done?y:T};let N,C;const S=k=>{m(f.value)&&(N=k,C=VT({keyframes:[f.value,p(f.value)],velocity:YT(b,k,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:k=>{let A=!1;return!C&&N===void 0&&(A=!0,w(k),S(k)),N!==void 0&&k>=N?C.next(k-N):(!A&&w(k),f)}}}const QI=xf(.42,0,1,1),JI=xf(0,0,.58,1),$T=xf(.42,0,.58,1),eO=t=>Array.isArray(t)&&typeof t[0]!="number",KN={linear:Ua,easeIn:QI,easeInOut:$T,easeOut:JI,circIn:T1,circInOut:kT,circOut:CT,backIn:A1,backInOut:jT,backOut:NT,anticipate:ST},qN=t=>{if(N1(t)){Ky(t.length===4);const[e,r,s,a]=t;return xf(e,r,s,a)}else if(typeof t=="string")return Ky(KN[t]!==void 0),KN[t];return t};function tO(t,e,r){const s=[],a=r||WT,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ua:e;l=pf(c,l)}s.push(l)}return s}function rO(t,e,{clamp:r=!0,ease:s,mixer:a}={}){const i=t.length;if(Ky(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=tO(e,s,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Dd(t[h],t[h+1],u);return l[h](f)};return r?u=>d(Fi(t[0],t[i-1],u)):d}function sO(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const a=Dd(0,e,s);t.push(Tr(r,1,a))}}function aO(t){const e=[0];return sO(e,t.length-1),e}function nO(t,e){return t.map(r=>r*e)}function iO(t,e){return t.map(()=>e||$T).splice(0,t.length-1)}function _m({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const a=eO(s)?s.map(qN):qN(s),i={done:!1,value:e[0]},o=nO(r&&r.length===e.length?r:aO(e),t),l=rO(o,e,{ease:Array.isArray(a)?a:iO(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const oO=t=>{const e=({timestamp:r})=>t(r);return{start:()=>vr.update(e,!0),stop:()=>_o(e),now:()=>ws.isProcessing?ws.timestamp:ri.now()}},lO={decay:GN,inertia:GN,tween:_m,keyframes:_m,spring:VT},cO=t=>t/100;class R1 extends HT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:s,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||D1,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,r,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=w1(r)?r:lO[r]||_m;let c,d;l!==_m&&typeof e[0]!="number"&&(c=pf(cO,WT(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});i==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=cT(u));const{calculatedDuration:h}=u,f=h+a,m=f*(s+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:s}=this;if(!s){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=s;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:p,repeatDelay:x,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,w=i;if(m){const k=Math.min(this.currentTime,u)/h;let A=Math.floor(k),T=k%1;!T&&k>=1&&(T=1),T===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(p==="reverse"?(T=1-T,x&&(T-=x/h)):p==="mirror"&&(w=o)),b=Fi(0,1,T)*h}const N=v?{done:!1,value:c[0]}:w.next(b);l&&(N.value=l(N.value));let{done:C}=N;!v&&d!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&a!==void 0&&(N.value=Dx(c,this.options,a)),g&&g(N.value),S&&this.finish(),N}get duration(){const{resolved:e}=this;return e?ji(e.calculatedDuration):0}get time(){return ji(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ji(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=oO,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const dO=new Set(["opacity","clipPath","filter","transform"]);function uO(t,e,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[e]:r};c&&(d.offset=c);const u=hT(l,a);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const hO=i1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dm=10,fO=2e4;function mO(t){return w1(t.type)||t.type==="spring"||!uT(t.ease)}function xO(t,e){const r=new R1({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let i=0;for(;!s.done&&i<fO;)s=r.sample(i),a.push(s.value),i+=Dm;return{times:void 0,keyframes:a,duration:i-Dm,ease:"linear"}}const XT={anticipate:ST,backInOut:jT,circInOut:kT};function pO(t){return t in XT}class ZN extends HT{constructor(e){super(e);const{name:r,motionValue:s,element:a,keyframes:i}=this.options;this.resolver=new UT(i,(o,l)=>this.onKeyframesResolved(o,l),r,s,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:s=300,times:a,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Em()&&pO(i)&&(i=XT[i]),mO(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:p,...x}=this.options,g=xO(e,x);e=g.keyframes,e.length===1&&(e[1]=e[0]),s=g.duration,a=g.times,i=g.ease,o="keyframes"}const u=uO(l.owner.current,c,e,{...this.options,duration:s,times:a,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(RN(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Dx(e,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:a,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return ji(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return ji(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=Ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Ua;const{animation:s}=r;RN(s,e)}return Ua}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:s,duration:a,type:i,ease:o,times:l}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:f,...m}=this.options,p=new R1({...m,keyframes:s,duration:a,type:i,ease:o,times:l,isGenerator:!0}),x=Ni(this.time);d.setWithVelocity(p.sample(x-Dm).value,p.sample(x).value,Dm)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:s,repeatDelay:a,repeatType:i,damping:o,type:l}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return hO()&&s&&dO.has(s)&&!c&&!d&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const gO={type:"spring",stiffness:500,damping:25,restSpeed:10},yO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vO={type:"keyframes",duration:.8},bO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wO=(t,{keyframes:e})=>e.length>2?vO:lc.has(t)?t.startsWith("scale")?yO(e[1]):gO:bO;function NO({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const F1=(t,e,r,s={},a,i)=>o=>{const l=b1(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Ni(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};NO(l)||(u={...u,...wO(t,u)}),u.duration&&(u.duration=Ni(u.duration)),u.repeatDelay&&(u.repeatDelay=Ni(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=Dx(u.keyframes,l);if(f!==void 0)return vr.update(()=>{u.onUpdate(f),u.onComplete()}),new zL([])}return!i&&ZN.supports(u)?new ZN(u):new R1(u)};function jO({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function GT(t,e,{delay:r=0,transitionOverride:s,type:a}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(o=s);const d=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const h in c){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||u&&jO(u,h))continue;const p={delay:r,...b1(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const y=yT(t);if(y){const v=window.MotionHandoffAnimation(y,h,vr);v!==null&&(p.startTime=v,x=!0)}}Jy(t,h),f.start(F1(h,f,m,t.shouldReduceMotion&&pT.has(h)?{type:!1}:p,t,x));const g=f.animation;g&&d.push(g)}return l&&Promise.all(d).then(()=>{vr.update(()=>{l&&rI(t,l)})}),d}function iv(t,e,r={}){var s;const a=_x(t,e,r.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(GT(t,a,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return SO(t,e,u+d,h,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function SO(t,e,r=0,s=0,a=1,i){const o=[],l=(t.variantChildren.size-1)*s,c=a===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(CO).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(iv(d,e,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function CO(t,e){return t.sortNodePosition(e)}function kO(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(i=>iv(t,i,r));s=Promise.all(a)}else if(typeof e=="string")s=iv(t,e,r);else{const a=typeof e=="function"?_x(t,e,r.custom):e;s=Promise.all(GT(t,a,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}const AO=l1.length;function KT(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?KT(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<AO;r++){const s=l1[r],a=t.props[s];(Fh(a)||a===!1)&&(e[s]=a)}return e}const TO=[...o1].reverse(),EO=o1.length;function PO(t){return e=>Promise.all(e.map(({animation:r,options:s})=>kO(t,r,s)))}function _O(t){let e=PO(t),r=QN(),s=!0;const a=c=>(d,u)=>{var h;const f=_x(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...x}=f;d={...d,...x,...p}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=KT(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let g=0;g<EO;g++){const y=TO[g],v=r[y],b=d[y]!==void 0?d[y]:u[y],w=Fh(b),N=y===c?v.isActive:null;N===!1&&(p=g);let C=b===u[y]&&b!==d[y]&&w;if(C&&s&&t.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...m},!v.isActive&&N===null||!b&&!v.prevProp||Ex(b)||typeof b=="boolean")continue;const S=DO(v.prevProp,b);let k=S||y===c&&v.isActive&&!C&&w||g>p&&w,A=!1;const T=Array.isArray(b)?b:[b];let E=T.reduce(a(y),{});N===!1&&(E={});const{prevResolvedValues:D={}}=v,_={...D,...E},z=K=>{k=!0,f.has(K)&&(A=!0,f.delete(K)),v.needsAnimating[K]=!0;const Y=t.getValue(K);Y&&(Y.liveStyle=!1)};for(const K in _){const Y=E[K],J=D[K];if(m.hasOwnProperty(K))continue;let Z=!1;qy(Y)&&qy(J)?Z=!lT(Y,J):Z=Y!==J,Z?Y!=null?z(K):f.add(K):Y!==void 0&&f.has(K)?z(K):v.protectedKeys[K]=!0}v.prevProp=b,v.prevResolvedValues=E,v.isActive&&(m={...m,...E}),s&&t.blockInitialAnimation&&(k=!1),k&&(!(C&&S)||A)&&h.push(...T.map(K=>({animation:K,options:{type:y}})))}if(f.size){const g={};f.forEach(y=>{const v=t.getBaseTarget(y),b=t.getValue(y);b&&(b.liveStyle=!0),g[y]=v??null}),h.push({animation:g})}let x=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),r[c].isActive=d;const h=o(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=QN(),s=!0}}}function DO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lT(e,t):!1}function Ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QN(){return{animate:Ko(!0),whileInView:Ko(),whileHover:Ko(),whileTap:Ko(),whileDrag:Ko(),whileFocus:Ko(),exit:Ko()}}class Vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MO extends Vo{constructor(e){super(e),e.animationState||(e.animationState=_O(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ex(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let RO=0;class FO extends Vo{constructor(){super(...arguments),this.id=RO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LO={animation:{Feature:MO},exit:{Feature:FO}};function Bh(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function gf(t){return{point:{x:t.pageX,y:t.pageY}}}const IO=t=>e=>j1(e)&&t(e,gf(e));function Qu(t,e,r,s){return Bh(t,e,IO(r),s)}const JN=(t,e)=>Math.abs(t-e);function OO(t,e){const r=JN(t.x,e.x),s=JN(t.y,e.y);return Math.sqrt(r**2+s**2)}class qT{constructor(e,r,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Hp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=OO(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:p}=h,{timestamp:x}=ws;this.history.push({...p,timestamp:x});const{onStart:g,onMove:y}=this.handlers;f||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Up(f,this.transformPagePoint),vr.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Hp(h.type==="pointercancel"?this.lastMoveEventInfo:Up(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,g),p&&p(h,g)},!j1(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.contextWindow=a||window;const o=gf(e),l=Up(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=ws;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(e,Hp(l,this.history)),this.removeListeners=pf(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_o(this.updatePoint)}}function Up(t,e){return e?{point:e(t.point)}:t}function ej(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hp({point:t},e){return{point:t,delta:ej(t,ZT(e)),offset:ej(t,BO(e)),velocity:UO(e,.1)}}function BO(t){return t[0]}function ZT(t){return t[t.length-1]}function UO(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const a=ZT(t);for(;r>=0&&(s=t[r],!(a.timestamp-s.timestamp>Ni(e)));)r--;if(!s)return{x:0,y:0};const i=ji(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const QT=1e-4,HO=1-QT,zO=1+QT,JT=.01,WO=0-JT,YO=0+JT;function Wa(t){return t.max-t.min}function VO(t,e,r){return Math.abs(t-e)<=r}function tj(t,e,r,s=.5){t.origin=s,t.originPoint=Tr(e.min,e.max,t.origin),t.scale=Wa(r)/Wa(e),t.translate=Tr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=HO&&t.scale<=zO||isNaN(t.scale))&&(t.scale=1),(t.translate>=WO&&t.translate<=YO||isNaN(t.translate))&&(t.translate=0)}function Ju(t,e,r,s){tj(t.x,e.x,r.x,s?s.originX:void 0),tj(t.y,e.y,r.y,s?s.originY:void 0)}function rj(t,e,r){t.min=r.min+e.min,t.max=t.min+Wa(e)}function $O(t,e,r){rj(t.x,e.x,r.x),rj(t.y,e.y,r.y)}function sj(t,e,r){t.min=e.min-r.min,t.max=t.min+Wa(e)}function eh(t,e,r){sj(t.x,e.x,r.x),sj(t.y,e.y,r.y)}function XO(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?Tr(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?Tr(r,t,s.max):Math.min(t,r)),t}function aj(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function GO(t,{top:e,left:r,bottom:s,right:a}){return{x:aj(t.x,r,a),y:aj(t.y,e,s)}}function nj(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function KO(t,e){return{x:nj(t.x,e.x),y:nj(t.y,e.y)}}function qO(t,e){let r=.5;const s=Wa(t),a=Wa(e);return a>s?r=Dd(e.min,e.max-s,t.min):s>a&&(r=Dd(t.min,t.max-a,e.min)),Fi(0,1,r)}function ZO(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const ov=.35;function QO(t=ov){return t===!1?t=0:t===!0&&(t=ov),{x:ij(t,"left","right"),y:ij(t,"top","bottom")}}function ij(t,e,r){return{min:oj(t,e),max:oj(t,r)}}function oj(t,e){return typeof t=="number"?t:t[e]||0}const lj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wc=()=>({x:lj(),y:lj()}),cj=()=>({min:0,max:0}),zr=()=>({x:cj(),y:cj()});function Ja(t){return[t("x"),t("y")]}function eE({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function JO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function e8(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function zp(t){return t===void 0||t===1}function lv({scale:t,scaleX:e,scaleY:r}){return!zp(t)||!zp(e)||!zp(r)}function sl(t){return lv(t)||tE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tE(t){return dj(t.x)||dj(t.y)}function dj(t){return t&&t!=="0%"}function Mm(t,e,r){const s=t-r,a=e*s;return r+a}function uj(t,e,r,s,a){return a!==void 0&&(t=Mm(t,a,s)),Mm(t,r,s)+e}function cv(t,e=0,r=1,s,a){t.min=uj(t.min,e,r,s,a),t.max=uj(t.max,e,r,s,a)}function rE(t,{x:e,y:r}){cv(t.x,e.translate,e.scale,e.originPoint),cv(t.y,r.translate,r.scale,r.originPoint)}const hj=.999999999999,fj=1.0000000000001;function t8(t,e,r,s=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Vc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,rE(t,o)),s&&sl(i.latestValues)&&Vc(t,i.latestValues))}e.x<fj&&e.x>hj&&(e.x=1),e.y<fj&&e.y>hj&&(e.y=1)}function Yc(t,e){t.min=t.min+e,t.max=t.max+e}function mj(t,e,r,s,a=.5){const i=Tr(t.min,t.max,a);cv(t,e,r,i,s)}function Vc(t,e){mj(t.x,e.x,e.scaleX,e.scale,e.originX),mj(t.y,e.y,e.scaleY,e.scale,e.originY)}function sE(t,e){return eE(e8(t.getBoundingClientRect(),e))}function r8(t,e,r){const s=sE(t,r),{scroll:a}=e;return a&&(Yc(s.x,a.offset.x),Yc(s.y,a.offset.y)),s}const aE=({current:t})=>t?t.ownerDocument.defaultView:null,s8=new WeakMap;class a8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(gf(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:p}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZL(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ja(g=>{let y=this.getAxisMotionValue(g).get()||0;if(ti.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[g];b&&(y=Wa(b)*(parseFloat(y)/100))}}this.originPoint[g]=y}),p&&vr.postRender(()=>p(u,h)),Jy(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:p,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=h;if(m&&this.currentDirection===null){this.currentDirection=n8(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),x&&x(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Ja(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new qT(e,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:aE(this.visualElement)})}stop(e,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&vr.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:a}=this.getProps();if(!s||!l0(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=XO(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&Hc(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=GO(a.layoutBox,r):this.constraints=!1,this.elastic=QO(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ja(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ZO(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Hc(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=r8(s,a.root,this.visualElement.getTransformPagePoint());let o=KO(a.layout.layoutBox,i);if(r){const l=r(JO(o));this.hasMutatedConstraints=!!l,l&&(o=eE(l))}return o}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ja(u=>{if(!l0(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return Jy(this.visualElement,e),s.start(F1(e,s,0,r,this.visualElement,!1))}stopAnimation(){Ja(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ja(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ja(r=>{const{drag:s}=this.getProps();if(!l0(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Tr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Hc(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ja(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=qO({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ja(o=>{if(!l0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Tr(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;s8.set(this.visualElement,this);const e=this.visualElement.current,r=Qu(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Hc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vr.read(s);const o=Bh(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ja(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=ov,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function l0(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function n8(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class i8 extends Vo{constructor(e){super(e),this.removeGroupControls=Ua,this.removeListeners=Ua,this.controls=new a8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ua}unmount(){this.removeGroupControls(),this.removeListeners()}}const xj=t=>(e,r)=>{t&&vr.postRender(()=>t(e,r))};class o8 extends Vo{constructor(){super(...arguments),this.removePointerDownListener=Ua}onPointerDown(e){this.session=new qT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:xj(e),onStart:xj(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&vr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const U0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Su={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(st.test(t))t=parseFloat(t);else return t;const r=pj(t,e.target.x),s=pj(t,e.target.y);return`${r}% ${s}%`}},l8={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,a=Do.parse(t);if(a.length>5)return s;const i=Do.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Tr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class c8 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=e;PL(d8),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),U0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||vr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nE(t){const[e,r]=z4(),s=P.useContext(r1);return n.jsx(c8,{...t,layoutGroup:s,switchLayoutGroup:P.useContext(K4),isPresent:e,safeToRemove:r})}const d8={borderRadius:{...Su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Su,borderTopRightRadius:Su,borderBottomLeftRadius:Su,borderBottomRightRadius:Su,boxShadow:l8};function u8(t,e,r){const s=zs(t)?t:Ih(t);return s.start(F1("",s,e,r)),s.animation}function h8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const f8=(t,e)=>t.depth-e.depth;class m8{constructor(){this.children=[],this.isDirty=!1}add(e){S1(this.children,e),this.isDirty=!0}remove(e){C1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f8),this.isDirty=!1,this.children.forEach(e)}}function x8(t,e){const r=ri.now(),s=({timestamp:a})=>{const i=a-r;i>=e&&(_o(s),t(i-e))};return vr.read(s,!0),()=>_o(s)}const iE=["TopLeft","TopRight","BottomLeft","BottomRight"],p8=iE.length,gj=t=>typeof t=="string"?parseFloat(t):t,yj=t=>typeof t=="number"||st.test(t);function g8(t,e,r,s,a,i){a?(t.opacity=Tr(0,r.opacity!==void 0?r.opacity:1,y8(s)),t.opacityExit=Tr(e.opacity!==void 0?e.opacity:1,0,v8(s))):i&&(t.opacity=Tr(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<p8;o++){const l=`border${iE[o]}Radius`;let c=vj(e,l),d=vj(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||yj(c)===yj(d)?(t[l]=Math.max(Tr(gj(c),gj(d),s),0),(ti.test(d)||ti.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Tr(e.rotate||0,r.rotate||0,s))}function vj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const y8=oE(0,.5,CT),v8=oE(.5,.95,Ua);function oE(t,e,r){return s=>s<t?0:s>e?1:r(Dd(t,e,s))}function bj(t,e){t.min=e.min,t.max=e.max}function qa(t,e){bj(t.x,e.x),bj(t.y,e.y)}function wj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Nj(t,e,r,s,a){return t-=e,t=Mm(t,1/r,s),a!==void 0&&(t=Mm(t,1/a,s)),t}function b8(t,e=0,r=1,s=.5,a,i=t,o=t){if(ti.test(e)&&(e=parseFloat(e),e=Tr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Tr(i.min,i.max,s);t===i&&(l-=e),t.min=Nj(t.min,e,r,l,a),t.max=Nj(t.max,e,r,l,a)}function jj(t,e,[r,s,a],i,o){b8(t,e[r],e[s],e[a],e.scale,i,o)}const w8=["x","scaleX","originX"],N8=["y","scaleY","originY"];function Sj(t,e,r,s){jj(t.x,e,w8,r?r.x:void 0,s?s.x:void 0),jj(t.y,e,N8,r?r.y:void 0,s?s.y:void 0)}function Cj(t){return t.translate===0&&t.scale===1}function lE(t){return Cj(t.x)&&Cj(t.y)}function kj(t,e){return t.min===e.min&&t.max===e.max}function j8(t,e){return kj(t.x,e.x)&&kj(t.y,e.y)}function Aj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cE(t,e){return Aj(t.x,e.x)&&Aj(t.y,e.y)}function Tj(t){return Wa(t.x)/Wa(t.y)}function Ej(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class S8{constructor(){this.members=[]}add(e){S1(this.members,e),e.scheduleRender()}remove(e){if(C1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function C8(t,e,r){let s="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:p}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),p&&(s+=`skewY(${p}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bu=typeof window<"u"&&window.MotionDebug!==void 0,Wp=["","X","Y","Z"],k8={visibility:"hidden"},Pj=1e3;let A8=0;function Yp(t,e,r,s){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function dE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=yT(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",vr,!(a||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&dE(s)}function uE({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=A8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bu&&(al.totalNodes=al.resolvedTargetDeltas=al.recalculatedProjection=0),this.nodes.forEach(P8),this.nodes.forEach(F8),this.nodes.forEach(L8),this.nodes.forEach(_8),Bu&&window.MotionDebug.record(al)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new m8)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new k1),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h8(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=x8(f,250),U0.hasAnimatedSinceResize&&(U0.hasAnimatedSinceResize=!1,this.nodes.forEach(Dj))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||H8,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!cE(this.targetLayout,p)||m,b=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const w={...b1(x,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Dj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_o(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_j);return}this.isUpdating||this.nodes.forEach(M8),this.isUpdating=!1,this.nodes.forEach(R8),this.nodes.forEach(T8),this.nodes.forEach(E8),this.clearAllSnapshots();const l=ri.now();ws.delta=Fi(0,1e3/60,l-ws.timestamp),ws.timestamp=l,ws.isProcessing=!0,Rp.update.process(ws),Rp.preRender.process(ws),Rp.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D8),this.sharedNodes.forEach(O8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!lE(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||sl(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),z8(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return zr();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(W8))){const{scroll:u}=this.root;u&&(Yc(c.x,u.offset.x),Yc(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=zr();if(qa(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&qa(c,o),Yc(c.x,h.offset.x),Yc(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=zr();qa(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Vc(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),sl(u.latestValues)&&Vc(c,u.latestValues)}return sl(this.latestValues)&&Vc(c,this.latestValues),c}removeTransform(o){const l=zr();qa(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!sl(d.latestValues))continue;lv(d.latestValues)&&d.updateSnapshot();const u=zr(),h=d.measurePageBox();qa(u,h),Sj(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return sl(this.latestValues)&&Sj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zr(),this.relativeTargetOrigin=zr(),eh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zr(),this.targetWithTransforms=zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$O(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qa(this.target,this.layout.layoutBox),rE(this.target,this.targetDelta)):qa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zr(),this.relativeTargetOrigin=zr(),eh(this.relativeTargetOrigin,this.target,m.target),qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bu&&al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lv(this.parent.latestValues)||tE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;qa(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;t8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=zr());const{target:p}=l;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wj(this.prevProjectionDelta.x,this.projectionDelta.x),wj(this.prevProjectionDelta.y,this.projectionDelta.y)),Ju(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Ej(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ej(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Bu&&al.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wc(),this.projectionDelta=Wc(),this.projectionDeltaWithTransform=Wc()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Wc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=zr(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,g=this.getStack(),y=!g||g.members.length<=1,v=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(U8));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const N=w/1e3;Mj(h.x,o.x,N),Mj(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B8(this.relativeTarget,this.relativeTargetOrigin,f,N),b&&j8(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=zr()),qa(b,this.relativeTarget)),x&&(this.animationValues=u,g8(u,d,this.latestValues,N,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_o(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vr.update(()=>{U0.hasAnimatedSinceResize=!0,this.currentAnimation=u8(0,Pj,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&hE(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||zr();const h=Wa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Wa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}qa(l,c),Vc(l,u),Ju(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new S8),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Yp("z",o,d,this.animationValues);for(let u=0;u<Wp.length;u++)Yp(`rotate${Wp[u]}`,o,d,this.animationValues),Yp(`skew${Wp[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return k8;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=O0(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=O0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sl(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=C8(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:m,y:p}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Tm){if(f[x]===void 0)continue;const{correct:g,applyTo:y}=Tm[x],v=d.transform==="none"?f[x]:g(f[x],h);if(y){const b=y.length;for(let w=0;w<b;w++)d[y[w]]=v}else d[x]=v}return this.options.layoutId&&(d.pointerEvents=h===this?O0(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(_j),this.root.sharedNodes.clear()}}}function T8(t){t.updateLayout()}function E8(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?Ja(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Wa(f);f.min=s[h].min,f.max=f.min+m}):hE(i,r.layoutBox,s)&&Ja(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Wa(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=Wc();Ju(l,s,r.layoutBox);const c=Wc();o?Ju(c,t.applyTransform(a,!0),r.measuredBox):Ju(c,s,r.layoutBox);const d=!lE(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=zr();eh(p,r.layoutBox,f.layoutBox);const x=zr();eh(x,s,m.layoutBox),cE(p,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function P8(t){Bu&&al.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function D8(t){t.clearSnapshot()}function _j(t){t.clearMeasurements()}function M8(t){t.isLayoutDirty=!1}function R8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Dj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function F8(t){t.resolveTargetDelta()}function L8(t){t.calcProjection()}function I8(t){t.resetSkewAndRotation()}function O8(t){t.removeLeadSnapshot()}function Mj(t,e,r){t.translate=Tr(e.translate,0,r),t.scale=Tr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Rj(t,e,r,s){t.min=Tr(e.min,r.min,s),t.max=Tr(e.max,r.max,s)}function B8(t,e,r,s){Rj(t.x,e.x,r.x,s),Rj(t.y,e.y,r.y,s)}function U8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const H8={duration:.45,ease:[.4,0,.1,1]},Fj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Lj=Fj("applewebkit/")&&!Fj("chrome/")?Math.round:Ua;function Ij(t){t.min=Lj(t.min),t.max=Lj(t.max)}function z8(t){Ij(t.x),Ij(t.y)}function hE(t,e,r){return t==="position"||t==="preserve-aspect"&&!VO(Tj(e),Tj(r),.2)}function W8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Y8=uE({attachResizeListener:(t,e)=>Bh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vp={current:void 0},fE=uE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vp.current){const t=new Y8({});t.mount(window),t.setOptions({layoutScroll:!0}),Vp.current=t}return Vp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),V8={pan:{Feature:o8},drag:{Feature:i8,ProjectionNode:fE,MeasureLayout:nE}};function Oj(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&vr.postRender(()=>i(e,gf(e)))}class $8 extends Vo{mount(){const{current:e}=this.node;e&&(this.unmount=$L(e,r=>(Oj(this.node,r,"Start"),s=>Oj(this.node,s,"End"))))}unmount(){}}class X8 extends Vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pf(Bh(this.node.current,"focus",()=>this.onFocus()),Bh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bj(t,e,r){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&vr.postRender(()=>i(e,gf(e)))}class G8 extends Vo{mount(){const{current:e}=this.node;e&&(this.unmount=qL(e,r=>(Bj(this.node,r,"Start"),(s,{success:a})=>Bj(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dv=new WeakMap,$p=new WeakMap,K8=t=>{const e=dv.get(t.target);e&&e(t)},q8=t=>{t.forEach(K8)};function Z8({root:t,...e}){const r=t||document;$p.has(r)||$p.set(r,{});const s=$p.get(r),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(q8,{root:t,...e})),s[a]}function Q8(t,e,r){const s=Z8(e);return dv.set(t,r),s.observe(t),()=>{dv.delete(t),s.unobserve(t)}}const J8={some:0,all:1};class eB extends Vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:J8[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return Q8(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(tB(e,r))&&this.startObserver()}unmount(){}}function tB({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const rB={inView:{Feature:eB},tap:{Feature:G8},focus:{Feature:X8},hover:{Feature:$8}},sB={layout:{ProjectionNode:fE,MeasureLayout:nE}},uv={current:null},mE={current:!1};function aB(){if(mE.current=!0,!!n1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uv.current=t.matches;t.addListener(e),e()}else uv.current=!1}const nB=[...BT,Bs,Do],iB=t=>nB.find(OT(t)),Uj=new WeakMap;function oB(t,e,r){for(const s in e){const a=e[s],i=r[s];if(zs(a))t.addValue(s,a);else if(zs(i))t.addValue(s,Ih(a,{owner:t}));else if(i!==a)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(s);t.addValue(s,Ih(o!==void 0?o:a,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const Hj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lB{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=D1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ri.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,vr.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Px(r),this.isVariantNode=X4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&zs(p)&&p.set(c[m],!1)}}mount(e){this.current=e,Uj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),mE.current||aB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uj.delete(this.current),this.projection&&this.projection.unmount(),_o(this.notifyUpdate),_o(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=lc.has(e),a=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&vr.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Md){const r=Md[e];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<Hj.length;s++){const a=Hj[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=oB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Ih(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(LT(a)||AT(a))?a=parseFloat(a):!iB(a)&&Do.test(r)&&(a=MT(e,r)),this.setBaseTarget(e,zs(a)?a.get():a)),zs(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const o=h1(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[e])}if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!zs(i)?i:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new k1),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class xE extends lB{constructor(){super(...arguments),this.KeyframeResolver=UT}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zs(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cB(t){return window.getComputedStyle(t)}class dB extends xE{constructor(){super(...arguments),this.type="html",this.renderInstance=rT}readValueFromInstance(e,r){if(lc.has(r)){const s=_1(r);return s&&s.default||0}else{const s=cB(e),a=(J4(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return sE(e,r)}build(e,r,s){x1(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return v1(e,r,s)}}class uB extends xE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(lc.has(r)){const s=_1(r);return s&&s.default||0}return r=sT.has(r)?r:c1(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return iT(e,r,s)}build(e,r,s){p1(e,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,r,s,a){aT(e,r,s,a)}mount(e){this.isSVGTag=y1(e.tagName),super.mount(e)}}const hB=(t,e)=>u1(t)?new uB(e):new dB(e,{allowProjection:t!==P.Fragment}),fB=BL({...LO,...rB,...V8,...sB},hB),X=eL(fB);function pE(t,e){return function(){return t.apply(e,arguments)}}const{toString:mB}=Object.prototype,{getPrototypeOf:L1}=Object,{iterator:Mx,toStringTag:gE}=Symbol,Rx=(t=>e=>{const r=mB.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Un=t=>(t=t.toLowerCase(),e=>Rx(e)===t),Fx=t=>e=>typeof e===t,{isArray:tu}=Array,Fd=Fx("undefined");function yf(t){return t!==null&&!Fd(t)&&t.constructor!==null&&!Fd(t.constructor)&&ja(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const yE=Un("ArrayBuffer");function xB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&yE(t.buffer),e}const pB=Fx("string"),ja=Fx("function"),vE=Fx("number"),vf=t=>t!==null&&typeof t=="object",gB=t=>t===!0||t===!1,H0=t=>{if(Rx(t)!=="object")return!1;const e=L1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(gE in t)&&!(Mx in t)},yB=t=>{if(!vf(t)||yf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},vB=Un("Date"),bB=Un("File"),wB=Un("Blob"),NB=Un("FileList"),jB=t=>vf(t)&&ja(t.pipe),SB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ja(t.append)&&((e=Rx(t))==="formdata"||e==="object"&&ja(t.toString)&&t.toString()==="[object FormData]"))},CB=Un("URLSearchParams"),[kB,AB,TB,EB]=["ReadableStream","Request","Response","Headers"].map(Un),PB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),tu(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{if(yf(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,t[l],l,t)}}function bE(t,e){if(yf(t))return null;e=e.toLowerCase();const r=Object.keys(t);let s=r.length,a;for(;s-- >0;)if(a=r[s],e===a.toLowerCase())return a;return null}const jl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wE=t=>!Fd(t)&&t!==jl;function hv(){const{caseless:t,skipUndefined:e}=wE(this)&&this||{},r={},s=(a,i)=>{const o=t&&bE(r,i)||i;H0(r[o])&&H0(a)?r[o]=hv(r[o],a):H0(a)?r[o]=hv({},a):tu(a)?r[o]=a.slice():(!e||!Fd(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&bf(arguments[a],s);return r}const _B=(t,e,r,{allOwnKeys:s}={})=>(bf(e,(a,i)=>{r&&ja(a)?t[i]=pE(a,r):t[i]=a},{allOwnKeys:s}),t),DB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MB=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},RB=(t,e,r,s)=>{let a,i,o;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&L1(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},FB=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const s=t.indexOf(e,r);return s!==-1&&s===r},LB=t=>{if(!t)return null;if(tu(t))return t;let e=t.length;if(!vE(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},IB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&L1(Uint8Array)),OB=(t,e)=>{const s=(t&&t[Mx]).call(t);let a;for(;(a=s.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},BB=(t,e)=>{let r;const s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},UB=Un("HTMLFormElement"),HB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),zj=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),zB=Un("RegExp"),NE=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),s={};bf(r,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(s[i]=o||a)}),Object.defineProperties(t,s)},WB=t=>{NE(t,(e,r)=>{if(ja(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(ja(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},YB=(t,e)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return tu(t)?s(t):s(String(t).split(e)),r},VB=()=>{},$B=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XB(t){return!!(t&&ja(t.append)&&t[gE]==="FormData"&&t[Mx])}const GB=t=>{const e=new Array(10),r=(s,a)=>{if(vf(s)){if(e.indexOf(s)>=0)return;if(yf(s))return s;if(!("toJSON"in s)){e[a]=s;const i=tu(s)?[]:{};return bf(s,(o,l)=>{const c=r(o,a+1);!Fd(c)&&(i[l]=c)}),e[a]=void 0,i}}return s};return r(t,0)},KB=Un("AsyncFunction"),qB=t=>t&&(vf(t)||ja(t))&&ja(t.then)&&ja(t.catch),jE=((t,e)=>t?setImmediate:e?((r,s)=>(jl.addEventListener("message",({source:a,data:i})=>{a===jl&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),jl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ja(jl.postMessage)),ZB=typeof queueMicrotask<"u"?queueMicrotask.bind(jl):typeof process<"u"&&process.nextTick||jE,QB=t=>t!=null&&ja(t[Mx]),xe={isArray:tu,isArrayBuffer:yE,isBuffer:yf,isFormData:SB,isArrayBufferView:xB,isString:pB,isNumber:vE,isBoolean:gB,isObject:vf,isPlainObject:H0,isEmptyObject:yB,isReadableStream:kB,isRequest:AB,isResponse:TB,isHeaders:EB,isUndefined:Fd,isDate:vB,isFile:bB,isBlob:wB,isRegExp:zB,isFunction:ja,isStream:jB,isURLSearchParams:CB,isTypedArray:IB,isFileList:NB,forEach:bf,merge:hv,extend:_B,trim:PB,stripBOM:DB,inherits:MB,toFlatObject:RB,kindOf:Rx,kindOfTest:Un,endsWith:FB,toArray:LB,forEachEntry:OB,matchAll:BB,isHTMLForm:UB,hasOwnProperty:zj,hasOwnProp:zj,reduceDescriptors:NE,freezeMethods:WB,toObjectSet:YB,toCamelCase:HB,noop:VB,toFiniteNumber:$B,findKey:bE,global:jl,isContextDefined:wE,isSpecCompliantForm:XB,toJSONObject:GB,isAsyncFn:KB,isThenable:qB,setImmediate:jE,asap:ZB,isIterable:QB};function ut(t,e,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}xe.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const SE=ut.prototype,CE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{CE[t]={value:t}});Object.defineProperties(ut,CE);Object.defineProperty(SE,"isAxiosError",{value:!0});ut.from=(t,e,r,s,a,i)=>{const o=Object.create(SE);xe.toFlatObject(t,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return ut.call(o,l,c,r,s,a),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const JB=null;function fv(t){return xe.isPlainObject(t)||xe.isArray(t)}function kE(t){return xe.endsWith(t,"[]")?t.slice(0,-2):t}function Wj(t,e,r){return t?t.concat(e).map(function(a,i){return a=kE(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function eU(t){return xe.isArray(t)&&!t.some(fv)}const tU=xe.toFlatObject(xe,{},null,function(e){return/^is[A-Z]/.test(e)});function Lx(t,e,r){if(!xe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=xe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!xe.isUndefined(g[x])});const s=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(e);if(!xe.isFunction(a))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(xe.isDate(p))return p.toISOString();if(xe.isBoolean(p))return p.toString();if(!c&&xe.isBlob(p))throw new ut("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(p)||xe.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,x,g){let y=p;if(p&&!g&&typeof p=="object"){if(xe.endsWith(x,"{}"))x=s?x:x.slice(0,-2),p=JSON.stringify(p);else if(xe.isArray(p)&&eU(p)||(xe.isFileList(p)||xe.endsWith(x,"[]"))&&(y=xe.toArray(p)))return x=kE(x),y.forEach(function(b,w){!(xe.isUndefined(b)||b===null)&&e.append(o===!0?Wj([x],w,i):o===null?x:x+"[]",d(b))}),!1}return fv(p)?!0:(e.append(Wj(g,x,i),d(p)),!1)}const h=[],f=Object.assign(tU,{defaultVisitor:u,convertValue:d,isVisitable:fv});function m(p,x){if(!xe.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(p),xe.forEach(p,function(y,v){(!(xe.isUndefined(y)||y===null)&&a.call(e,y,xe.isString(v)?v.trim():v,x,f))===!0&&m(y,x?x.concat(v):[v])}),h.pop()}}if(!xe.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Yj(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function I1(t,e){this._pairs=[],t&&Lx(t,this,e)}const AE=I1.prototype;AE.append=function(e,r){this._pairs.push([e,r])};AE.toString=function(e){const r=e?function(s){return e.call(this,s,Yj)}:Yj;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function rU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function TE(t,e,r){if(!e)return t;const s=r&&r.encode||rU;xe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(e,r):i=xe.isURLSearchParams(e)?e.toString():new I1(e,r).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Vj{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xe.forEach(this.handlers,function(s){s!==null&&e(s)})}}const EE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sU=typeof URLSearchParams<"u"?URLSearchParams:I1,aU=typeof FormData<"u"?FormData:null,nU=typeof Blob<"u"?Blob:null,iU={isBrowser:!0,classes:{URLSearchParams:sU,FormData:aU,Blob:nU},protocols:["http","https","file","blob","url","data"]},O1=typeof window<"u"&&typeof document<"u",mv=typeof navigator=="object"&&navigator||void 0,oU=O1&&(!mv||["ReactNative","NativeScript","NS"].indexOf(mv.product)<0),lU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cU=O1&&window.location.href||"http://localhost",dU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:O1,hasStandardBrowserEnv:oU,hasStandardBrowserWebWorkerEnv:lU,navigator:mv,origin:cU},Symbol.toStringTag,{value:"Module"})),Hs={...dU,...iU};function uU(t,e){return Lx(t,new Hs.classes.URLSearchParams,{visitor:function(r,s,a,i){return Hs.isNode&&xe.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function hU(t){return xe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fU(t){const e={},r=Object.keys(t);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],e[i]=t[i];return e}function PE(t){function e(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&xe.isArray(a)?a.length:o,c?(xe.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!xe.isObject(a[o]))&&(a[o]=[]),e(r,s,a[o],i)&&xe.isArray(a[o])&&(a[o]=fU(a[o])),!l)}if(xe.isFormData(t)&&xe.isFunction(t.entries)){const r={};return xe.forEachEntry(t,(s,a)=>{e(hU(s),a,r,0)}),r}return null}function mU(t,e,r){if(xe.isString(t))try{return(e||JSON.parse)(t),xe.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const wf={transitional:EE,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=xe.isObject(e);if(i&&xe.isHTMLForm(e)&&(e=new FormData(e)),xe.isFormData(e))return a?JSON.stringify(PE(e)):e;if(xe.isArrayBuffer(e)||xe.isBuffer(e)||xe.isStream(e)||xe.isFile(e)||xe.isBlob(e)||xe.isReadableStream(e))return e;if(xe.isArrayBufferView(e))return e.buffer;if(xe.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return uU(e,this.formSerializer).toString();if((l=xe.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lx(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),mU(e)):e}],transformResponse:[function(e){const r=this.transitional||wf.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(xe.isResponse(e)||xe.isReadableStream(e))return e;if(e&&xe.isString(e)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ut.from(l,ut.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hs.classes.FormData,Blob:Hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],t=>{wf.headers[t]={}});const xU=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pU=t=>{const e={};let r,s,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||e[r]&&xU[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},$j=Symbol("internals");function Cu(t){return t&&String(t).trim().toLowerCase()}function z0(t){return t===!1||t==null?t:xe.isArray(t)?t.map(z0):String(t)}function gU(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}const yU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Xp(t,e,r,s,a){if(xe.isFunction(s))return s.call(this,e,r);if(a&&(e=r),!!xe.isString(e)){if(xe.isString(s))return e.indexOf(s)!==-1;if(xe.isRegExp(s))return s.test(e)}}function vU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function bU(t,e){const r=xe.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(a,i,o){return this[s].call(this,e,a,i,o)},configurable:!0})})}class Sa{constructor(e){e&&this.set(e)}set(e,r,s){const a=this;function i(l,c,d){const u=Cu(c);if(!u)throw new Error("header name must be a non-empty string");const h=xe.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=z0(l))}const o=(l,c)=>xe.forEach(l,(d,u)=>i(d,u,c));if(xe.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(xe.isString(e)&&(e=e.trim())&&!yU(e))o(pU(e),r);else if(xe.isObject(e)&&xe.isIterable(e)){let l={},c,d;for(const u of e){if(!xe.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?xe.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else e!=null&&i(r,e,s);return this}get(e,r){if(e=Cu(e),e){const s=xe.findKey(this,e);if(s){const a=this[s];if(!r)return a;if(r===!0)return gU(a);if(xe.isFunction(r))return r.call(this,a,s);if(xe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Cu(e),e){const s=xe.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||Xp(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let a=!1;function i(o){if(o=Cu(o),o){const l=xe.findKey(s,o);l&&(!r||Xp(s,s[l],l,r))&&(delete s[l],a=!0)}}return xe.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!e||Xp(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,s={};return xe.forEach(this,(a,i)=>{const o=xe.findKey(s,i);if(o){r[o]=z0(a),delete r[i];return}const l=e?vU(i):String(i).trim();l!==i&&delete r[i],r[l]=z0(a),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return xe.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=e&&xe.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[$j]=this[$j]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Cu(o);s[l]||(bU(a,o),s[l]=!0)}return xe.isArray(e)?e.forEach(i):i(e),this}}Sa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(Sa.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});xe.freezeMethods(Sa);function Gp(t,e){const r=this||wf,s=e||r,a=Sa.from(s.headers);let i=s.data;return xe.forEach(t,function(l){i=l.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function _E(t){return!!(t&&t.__CANCEL__)}function ru(t,e,r){ut.call(this,t??"canceled",ut.ERR_CANCELED,e,r),this.name="CanceledError"}xe.inherits(ru,ut,{__CANCEL__:!0});function DE(t,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new ut("Request failed with status code "+r.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function NU(t,e){t=t||10;const r=new Array(t),s=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),r[a]=c,s[a]=d;let h=i,f=0;for(;h!==a;)f+=r[h++],h=h%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),d-o<e)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function jU(t,e){let r=0,s=1e3/e,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-h)))},()=>a&&o(a)]}const Rm=(t,e,r=3)=>{let s=0;const a=NU(50,250);return jU(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},r)},Xj=(t,e)=>{const r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},Gj=t=>(...e)=>xe.asap(()=>t(...e)),SU=Hs.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Hs.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Hs.origin),Hs.navigator&&/(msie|trident)/i.test(Hs.navigator.userAgent)):()=>!0,CU=Hs.hasStandardBrowserEnv?{write(t,e,r,s,a,i,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];xe.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),xe.isString(s)&&l.push(`path=${s}`),xe.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),xe.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function kU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function AU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ME(t,e,r){let s=!kU(e);return t&&(s||r==!1)?AU(t,e):e}const Kj=t=>t instanceof Sa?{...t}:t;function Ql(t,e){e=e||{};const r={};function s(d,u,h,f){return xe.isPlainObject(d)&&xe.isPlainObject(u)?xe.merge.call({caseless:f},d,u):xe.isPlainObject(u)?xe.merge({},u):xe.isArray(u)?u.slice():u}function a(d,u,h,f){if(xe.isUndefined(u)){if(!xe.isUndefined(d))return s(void 0,d,h,f)}else return s(d,u,h,f)}function i(d,u){if(!xe.isUndefined(u))return s(void 0,u)}function o(d,u){if(xe.isUndefined(u)){if(!xe.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in e)return s(d,u);if(h in t)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>a(Kj(d),Kj(u),h,!0)};return xe.forEach(Object.keys({...t,...e}),function(u){const h=c[u]||a,f=h(t[u],e[u],u);xe.isUndefined(f)&&h!==l||(r[u]=f)}),r}const RE=t=>{const e=Ql({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=Sa.from(o),e.url=TE(ME(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),xe.isFormData(r)){if(Hs.hasStandardBrowserEnv||Hs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(xe.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&o.set(u,h)})}}if(Hs.hasStandardBrowserEnv&&(s&&xe.isFunction(s)&&(s=s(e)),s||s!==!1&&SU(e.url))){const c=a&&i&&CU.read(i);c&&o.set(a,c)}return e},TU=typeof XMLHttpRequest<"u",EU=TU&&function(t){return new Promise(function(r,s){const a=RE(t);let i=a.data;const o=Sa.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,h,f,m,p;function x(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function y(){if(!g)return;const b=Sa.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:t,request:g};DE(function(S){r(S),x()},function(S){s(S),x()},N),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(s(new ut("Request aborted",ut.ECONNABORTED,t,g)),g=null)},g.onerror=function(w){const N=w&&w.message?w.message:"Network Error",C=new ut(N,ut.ERR_NETWORK,t,g);C.event=w||null,s(C),g=null},g.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||EE;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),s(new ut(w,N.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,t,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&xe.forEach(o.toJSON(),function(w,N){g.setRequestHeader(N,w)}),xe.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),d&&([f,p]=Rm(d,!0),g.addEventListener("progress",f)),c&&g.upload&&([h,m]=Rm(c),g.upload.addEventListener("progress",h),g.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=b=>{g&&(s(!b||b.type?new ru(null,t,g):b),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const v=wU(a.url);if(v&&Hs.protocols.indexOf(v)===-1){s(new ut("Unsupported protocol "+v+":",ut.ERR_BAD_REQUEST,t));return}g.send(i||null)})},PU=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof ut?u:new ru(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new ut(`timeout ${e} of ms exceeded`,ut.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>xe.asap(l),c}},_U=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let s=0,a;for(;s<r;)a=s+e,yield t.slice(s,a),s=a},DU=async function*(t,e){for await(const r of MU(t))yield*_U(r,e)},MU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},qj=(t,e,r,s)=>{const a=DU(t,e);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let h=u.byteLength;if(r){let f=i+=h;r(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Zj=64*1024,{isFunction:c0}=xe,RU=(({Request:t,Response:e})=>({Request:t,Response:e}))(xe.global),{ReadableStream:Qj,TextEncoder:Jj}=xe.global,eS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FU=t=>{t=xe.merge.call({skipUndefined:!0},RU,t);const{fetch:e,Request:r,Response:s}=t,a=e?c0(e):typeof fetch=="function",i=c0(r),o=c0(s);if(!a)return!1;const l=a&&c0(Qj),c=a&&(typeof Jj=="function"?(p=>x=>p.encode(x))(new Jj):async p=>new Uint8Array(await new r(p).arrayBuffer())),d=i&&l&&eS(()=>{let p=!1;const x=new r(Hs.origin,{body:new Qj,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),u=o&&l&&eS(()=>xe.isReadableStream(new s("").body)),h={stream:u&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(x,g)=>{let y=x&&x[p];if(y)return y.call(x);throw new ut(`Response type '${p}' is not supported`,ut.ERR_NOT_SUPPORT,g)})});const f=async p=>{if(p==null)return 0;if(xe.isBlob(p))return p.size;if(xe.isSpecCompliantForm(p))return(await new r(Hs.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(p)||xe.isArrayBuffer(p))return p.byteLength;if(xe.isURLSearchParams(p)&&(p=p+""),xe.isString(p))return(await c(p)).byteLength},m=async(p,x)=>{const g=xe.toFiniteNumber(p.getContentLength());return g??f(x)};return async p=>{let{url:x,method:g,data:y,signal:v,cancelToken:b,timeout:w,onDownloadProgress:N,onUploadProgress:C,responseType:S,headers:k,withCredentials:A="same-origin",fetchOptions:T}=RE(p),E=e||fetch;S=S?(S+"").toLowerCase():"text";let D=PU([v,b&&b.toAbortSignal()],w),_=null;const z=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let H;try{if(C&&d&&g!=="get"&&g!=="head"&&(H=await m(k,y))!==0){let ne=new r(x,{method:"POST",body:y,duplex:"half"}),F;if(xe.isFormData(y)&&(F=ne.headers.get("content-type"))&&k.setContentType(F),ne.body){const[Q,W]=Xj(H,Rm(Gj(C)));y=qj(ne.body,Zj,Q,W)}}xe.isString(A)||(A=A?"include":"omit");const q=i&&"credentials"in r.prototype,K={...T,signal:D,method:g.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:q?A:void 0};_=i&&new r(x,K);let Y=await(i?E(_,T):E(x,K));const J=u&&(S==="stream"||S==="response");if(u&&(N||J&&z)){const ne={};["status","statusText","headers"].forEach(G=>{ne[G]=Y[G]});const F=xe.toFiniteNumber(Y.headers.get("content-length")),[Q,W]=N&&Xj(F,Rm(Gj(N),!0))||[];Y=new s(qj(Y.body,Zj,Q,()=>{W&&W(),z&&z()}),ne)}S=S||"text";let Z=await h[xe.findKey(h,S)||"text"](Y,p);return!J&&z&&z(),await new Promise((ne,F)=>{DE(ne,F,{data:Z,headers:Sa.from(Y.headers),status:Y.status,statusText:Y.statusText,config:p,request:_})})}catch(q){throw z&&z(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,p,_),{cause:q.cause||q}):ut.from(q,q&&q.code,p,_)}}},LU=new Map,FE=t=>{let e=t&&t.env||{};const{fetch:r,Request:s,Response:a}=e,i=[s,a,r];let o=i.length,l=o,c,d,u=LU;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:FU(e)),u=d;return d};FE();const B1={http:JB,xhr:EU,fetch:{get:FE}};xe.forEach(B1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const tS=t=>`- ${t}`,IU=t=>xe.isFunction(t)||t===null||t===!1;function OU(t,e){t=xe.isArray(t)?t:[t];const{length:r}=t;let s,a;const i={};for(let o=0;o<r;o++){s=t[o];let l;if(a=s,!IU(s)&&(a=B1[(l=String(s)).toLowerCase()],a===void 0))throw new ut(`Unknown adapter '${l}'`);if(a&&(xe.isFunction(a)||(a=a.get(e))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(tS).join(`
`):" "+tS(o[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const LE={getAdapter:OU,adapters:B1};function Kp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ru(null,t)}function rS(t){return Kp(t),t.headers=Sa.from(t.headers),t.data=Gp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),LE.getAdapter(t.adapter||wf.adapter,t)(t).then(function(s){return Kp(t),s.data=Gp.call(t,t.transformResponse,s),s.headers=Sa.from(s.headers),s},function(s){return _E(s)||(Kp(t),s&&s.response&&(s.response.data=Gp.call(t,t.transformResponse,s.response),s.response.headers=Sa.from(s.response.headers))),Promise.reject(s)})}const IE="1.13.2",Ix={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ix[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const sS={};Ix.transitional=function(e,r,s){function a(i,o){return"[Axios v"+IE+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new ut(a(o," has been removed"+(r?" in "+r:"")),ut.ERR_DEPRECATED);return r&&!sS[o]&&(sS[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,l):!0}};Ix.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function BU(t,e,r){if(typeof t!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let a=s.length;for(;a-- >0;){const i=s[a],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new ut("option "+i+" must be "+c,ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ut("Unknown option "+i,ut.ERR_BAD_OPTION)}}const W0={assertOptions:BU,validators:Ix},Wn=W0.validators;class Ol{constructor(e){this.defaults=e||{},this.interceptors={request:new Vj,response:new Vj}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ql(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&W0.assertOptions(s,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1),a!=null&&(xe.isFunction(a)?r.paramsSerializer={serialize:a}:W0.assertOptions(a,{encode:Wn.function,serialize:Wn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),W0.assertOptions(r,{baseUrl:Wn.spelling("baseURL"),withXsrfToken:Wn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&xe.merge(i.common,i[r.method]);i&&xe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Sa.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,h=0,f;if(!c){const p=[rS.bind(this),void 0];for(p.unshift(...l),p.push(...d),f=p.length,u=Promise.resolve(r);h<f;)u=u.then(p[h++],p[h++]);return u}f=l.length;let m=r;for(;h<f;){const p=l[h++],x=l[h++];try{m=p(m)}catch(g){x.call(this,g);break}}try{u=rS.call(this,m)}catch(p){return Promise.reject(p)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=Ql(this.defaults,e);const r=ME(e.baseURL,e.url,e.allowAbsoluteUrls);return TE(r,e.params,e.paramsSerializer)}}xe.forEach(["delete","get","head","options"],function(e){Ol.prototype[e]=function(r,s){return this.request(Ql(s||{},{method:e,url:r,data:(s||{}).data}))}});xe.forEach(["post","put","patch"],function(e){function r(s){return function(i,o,l){return this.request(Ql(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ol.prototype[e]=r(),Ol.prototype[e+"Form"]=r(!0)});class U1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new ru(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new U1(function(a){e=a}),cancel:e}}}function UU(t){return function(r){return t.apply(null,r)}}function HU(t){return xe.isObject(t)&&t.isAxiosError===!0}const xv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xv).forEach(([t,e])=>{xv[e]=t});function OE(t){const e=new Ol(t),r=pE(Ol.prototype.request,e);return xe.extend(r,Ol.prototype,e,{allOwnKeys:!0}),xe.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return OE(Ql(t,a))},r}const Jr=OE(wf);Jr.Axios=Ol;Jr.CanceledError=ru;Jr.CancelToken=U1;Jr.isCancel=_E;Jr.VERSION=IE;Jr.toFormData=Lx;Jr.AxiosError=ut;Jr.Cancel=Jr.CanceledError;Jr.all=function(e){return Promise.all(e)};Jr.spread=UU;Jr.isAxiosError=HU;Jr.mergeConfig=Ql;Jr.AxiosHeaders=Sa;Jr.formToJSON=t=>PE(xe.isHTMLForm(t)?new FormData(t):t);Jr.getAdapter=LE.getAdapter;Jr.HttpStatusCode=xv;Jr.default=Jr;const zU="https://api.trapay.uk/api";class qp extends Error{constructor(r,s,a){super(r);rp(this,"status");rp(this,"code");this.status=s,this.code=a,this.name="ApiError"}}const Qi=Jr.create({baseURL:zU,timeout:3e4,headers:{"Content-Type":"application/json"}});Qi.interceptors.request.use(t=>{const e=localStorage.getItem("access_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Qi.interceptors.response.use(t=>t,t=>{var e;if(t.response){const{status:r,data:s}=t.response,a=(s==null?void 0:s.message)||t.message||`HTTP ${r}`,i=s==null?void 0:s.code;throw console.error("API Error Response:",{status:r,message:a,code:i,data:s,endpoint:(e=t.config)==null?void 0:e.url}),a==="Invalid or expired token"&&(localStorage.removeItem("access_token"),localStorage.removeItem("role"),window.location.href="/login"),r===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("role"),window.location.href="/login"),new qp(a,r,i)}else throw t.request?new qp("Network error - please check your connection",0,"NETWORK_ERROR"):new qp(t.message||"An unexpected error occurred",0,"UNKNOWN_ERROR")});const Pe={get:async(t,e)=>(await Qi.get(t,{params:e})).data,post:async(t,e)=>(await Qi.post(t,e)).data,put:async(t,e)=>(await Qi.put(t,e)).data,patch:async(t,e)=>(await Qi.patch(t,e)).data,delete:async(t,e)=>(await Qi.delete(t,e?{data:e}:void 0)).data,upload:async(t,e,r)=>{const s=new FormData;return s.append("file",e),(await Qi.post(t,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:i=>{if(r&&i.total){const o=Math.round(i.loaded*100/i.total);r(o)}}})).data}},at={all:["admin"],auth:()=>[...at.all,"auth"],twoFASettings:()=>[...at.all,"2fa-settings"],stats:()=>[...at.all,"stats"],statsList:t=>[...at.stats(),"list",t],payments:()=>[...at.all,"payments"],paymentsList:t=>[...at.payments(),"list",t],payment:t=>[...at.payments(),"detail",t],payouts:()=>[...at.all,"payouts"],payoutStats:()=>[...at.payouts(),"stats"],payoutMerchants:()=>[...at.payouts(),"merchants"],payoutMerchantsList:t=>[...at.payoutMerchants(),"list",t],payoutsList:t=>[...at.payouts(),"list",t],payout:t=>[...at.payouts(),"detail",t],payoutReports:()=>[...at.payouts(),"reports"],payoutReportsList:t=>[...at.payoutReports(),"list",t],merchants:()=>[...at.all,"merchants"],merchantSelection:()=>[...at.merchants(),"selection"],merchantStats:()=>[...at.all,"merchantStats"],merchantStatsList:t=>[...at.merchantStats(),"list",t]};function BE(){const t=Vt({queryKey:at.auth(),queryFn:async()=>{try{console.log(" Checking admin auth...");const e=await Pe.get("/admin/auth");return console.log(" Admin auth successful:",e),e.user}catch(e){throw console.error(" Admin auth failed:",e),e}},retry:!1,staleTime:3e5,gcTime:6e5});return{...t,isAuthenticated:t.isSuccess&&!!t.data,adminUser:t.data}}function WU(t="30d"){return Vt({queryKey:at.statsList(t),queryFn:async()=>{const e=new URLSearchParams;t&&e.append("period",t);const r=new Date().toISOString();e.append("currentDate",r);const s=e.toString(),a=await Pe.get(`/admin/statistics${s?`?${s}`:""}`);console.log(" Admin stats API response:",a);const i=a.result,o={totalRevenue:i.totalRevenue,totalUsers:i.totalShops,totalPayments:i.successfulPayments,averagePayment:i.averagePaymentAmount||(i.successfulPayments>0?i.totalRevenue/i.successfulPayments:0),successfulPayments:i.successfulPayments,trapayEarnings:i.trapayEarnings,trapayEarningsAllTime:i.trapayEarningsAllTime,chargebacks:i.chargebacks||0,refunds:i.refunds||0,dailyRevenue:i.dailyRevenue||[]};return console.log(" Transformed stats:",o),o},staleTime:1e3*60*5,gcTime:1e3*60*10})}function YU(t){return Vt({queryKey:at.paymentsList(t),queryFn:async()=>{const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.status&&e.append("status",t.status),t!=null&&t.gateway&&e.append("gateway",t.gateway),t!=null&&t.shopId&&e.append("shopId",t.shopId),t!=null&&t.dateFrom&&e.append("dateFrom",t.dateFrom),t!=null&&t.dateTo&&e.append("dateTo",t.dateTo),t!=null&&t.search&&e.append("search",t.search),t!=null&&t.currency&&e.append("currency",t.currency),t!=null&&t.sortBy&&e.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&e.append("sortOrder",t.sortOrder);const r=e.toString(),s=`/admin/payments${r?`?${r}`:""}`;return console.log(" Admin payments API URL:",s),await Pe.get(s)},placeholderData:e=>e,staleTime:1e3*60*2})}function VU(t){return Vt({queryKey:at.payment(t),queryFn:async()=>(await Pe.get(`/admin/payments/${t}`)).result,enabled:!!t,staleTime:1e3*60*5})}function $U(){const t=sr();return Ht({mutationFn:async({id:e,data:r})=>(await Pe.put(`/admin/payments/${e}`,r)).result,onSuccess:(e,r)=>{t.invalidateQueries({queryKey:at.payments()}),t.setQueryData(at.payment(r.id),e)}})}function XU(){return Vt({queryKey:at.merchantSelection(),queryFn:async()=>(await Pe.get("/admin/merchants/selection")).result,staleTime:1e3*60*10,gcTime:1e3*60*30})}function GU(){return Vt({queryKey:[...at.merchantSelection(),"withPayoutHistory"],queryFn:async()=>(await Pe.get("/admin/merchants/selection?hasPayoutHistory=true")).result,staleTime:1e3*60*10,gcTime:1e3*60*30})}function KU(){return Vt({queryKey:at.payoutStats(),queryFn:async()=>{const t=await Pe.get("/admin/payout/stats");return console.log(" Admin payout stats API response:",t),t.result},staleTime:1e3*60*5})}function qU(t){return Vt({queryKey:at.payoutMerchantsList(t),queryFn:async()=>{const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.search&&e.append("search",t.search),t!=null&&t.minAmount&&e.append("minAmount",t.minAmount.toString());const r=e.toString();return await Pe.get(`/admin/payout/merchants${r?`?${r}`:""}`)},placeholderData:e=>e,staleTime:1e3*60*2})}function ZU(t){return Vt({queryKey:at.payoutsList(t),queryFn:async()=>{const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.search&&e.append("search",t.search),t!=null&&t.network&&e.append("network",t.network),t!=null&&t.status&&e.append("status",t.status),t!=null&&t.periodFrom&&e.append("periodFrom",t.periodFrom),t!=null&&t.periodTo&&e.append("periodTo",t.periodTo),t!=null&&t.dateFrom&&e.append("dateFrom",t.dateFrom),t!=null&&t.dateTo&&e.append("dateTo",t.dateTo);const r=e.toString();return await Pe.get(`/admin/payouts${r?`?${r}`:""}`)},placeholderData:e=>e,staleTime:1e3*60*2})}function QU(){const t=sr();return Ht({mutationFn:async e=>{if(e.periodFrom&&!e.periodTo)throw new Error("If periodFrom is specified, periodTo must also be provided");if(e.periodTo&&!e.periodFrom)throw new Error("If periodTo is specified, periodFrom must also be provided");if(e.periodFrom&&e.periodTo){const s=new Date(e.periodFrom),a=new Date(e.periodTo),i=new Date;if(s>a)throw new Error("periodFrom must be earlier than periodTo");if(a>i)throw new Error("periodTo cannot be a future date")}return(await Pe.post("/admin/payout",e)).result},onSuccess:()=>{t.invalidateQueries({queryKey:at.payouts()}),t.invalidateQueries({queryKey:at.payoutMerchants()}),t.invalidateQueries({queryKey:at.payoutStats()})}})}function JU(){const t=sr();return Ht({mutationFn:async e=>{await Pe.delete(`/admin/payout/${e}`)},onSuccess:()=>{t.invalidateQueries({queryKey:at.payouts()}),t.invalidateQueries({queryKey:at.payoutMerchants()}),t.invalidateQueries({queryKey:at.payoutStats()})}})}function e9(){const t=sr();return Ht({mutationFn:async({id:e,data:r})=>{await Pe.put(`/admin/payout/${e}`,r)},onSuccess:()=>{t.invalidateQueries({queryKey:at.payouts()}),t.invalidateQueries({queryKey:at.payoutMerchants()}),t.invalidateQueries({queryKey:at.payoutStats()})}})}function t9(t){return Vt({queryKey:["admin","shop-wallets",t],queryFn:async()=>{if(!t)throw new Error("Shop ID is required");return(await Pe.get(`/admin/shops/${t}/wallets`)).wallets},enabled:!!t,staleTime:1e3*60*5})}function r9(t){return Vt({queryKey:at.merchantStatsList(t),queryFn:async()=>{const e=new URLSearchParams;e.append("shopId",t.shopId),t.period&&e.append("period",t.period),t.dateFrom&&e.append("dateFrom",t.dateFrom),t.dateTo&&e.append("dateTo",t.dateTo);const r=e.toString();return(await Pe.get(`/admin/merchant-statistics?${r}`)).result},enabled:!!t.shopId,staleTime:1e3*60*5})}function s9(){const t=sr();return Ht({mutationFn:async e=>await Pe.post(`/admin/shops/${e}/2fa/disable`,{}),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}})}function a9(){const t=sr();return Ht({mutationFn:async e=>await Pe.post("/admin/password",e),onSuccess:()=>{t.invalidateQueries({queryKey:at.auth()})}})}function n9(){return Ht({mutationFn:async()=>{const t=await Pe.post("/admin/2fa/setup");return t.data||t}})}function i9(){const t=sr();return Ht({mutationFn:async e=>await Pe.post("/admin/2fa/enable",e),onSuccess:()=>{t.invalidateQueries({queryKey:at.auth()}),t.invalidateQueries({queryKey:at.twoFASettings()})}})}function o9(){const t=sr();return Ht({mutationFn:async()=>await Pe.post("/admin/2fa/disable"),onSuccess:()=>{t.invalidateQueries({queryKey:at.auth()}),t.invalidateQueries({queryKey:at.twoFASettings()})}})}function UE(){return Vt({queryKey:at.twoFASettings(),queryFn:async()=>(await Pe.get("/admin/2fa/settings")).result,staleTime:1e3*60*5})}function l9(t){return Vt({queryKey:at.payoutReportsList(t),queryFn:async()=>{if(!(t!=null&&t.periodFrom)||!(t!=null&&t.periodTo)||!(t!=null&&t.gateway))return{success:!0,reports:[]};const e=new URLSearchParams;return e.append("periodFrom",t.periodFrom),e.append("periodTo",t.periodTo),e.append("gateway",t.gateway),await Pe.get(`/admin/payouts/reports?${e.toString()}`)},enabled:!!(t!=null&&t.periodFrom)&&!!(t!=null&&t.periodTo)&&!!(t!=null&&t.gateway),staleTime:1e3*60*5})}function su(){return{...BE(),useStats:WU,usePayments:YU,usePayment:VU,useUpdatePaymentStatus:$U,useMerchantSelection:XU,useMerchantSelectionWithPayoutHistory:GU,usePayoutStats:KU,usePayoutMerchants:qU,usePayouts:ZU,useCreatePayout:QU,useDeletePayout:JU,useUpdatePayout:e9,usePayoutReports:l9,useShopWallets:t9,useMerchantStatistics:r9,queryKeys:at}}const c9=({className:t="h-4 w-4"})=>n.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),d9=()=>{const t=Yo(),[e,r]=Le.useState(!1),s=t.pathname.startsWith("/admin"),{isLoading:a,isAuthenticated:i,adminUser:o}=s?BE():{isLoading:!1,isAuthenticated:!1,adminUser:null};if(s&&a)return null;const d=s?[{icon:L6,label:"Dashboard",path:"/admin/dashboard"},{icon:H4,label:"Users",path:"/admin/users"},{icon:St,label:"Payments",path:"/admin/payments"},{icon:Gy,label:"Payouts",path:"/admin/payouts"},{icon:Ri,label:"Gateways",path:"/admin/gateways"},{icon:_d,label:"Settings",path:"/admin/settings"}]:[{icon:Dt,label:"My account",path:"/dashboard/account"},{icon:F4,label:"Integration",path:"/dashboard/integration"},{icon:Oa,label:"Transactions",path:"/dashboard/transactions"},{icon:Gy,label:"Payouts",path:"/dashboard/payouts"},{icon:_d,label:"Settings",path:"/dashboard/settings"},{icon:Cx,label:"Payment links",path:"/dashboard/payment-links"}],u=h=>t.pathname===h;return t.pathname==="/login"?n.jsx(dN,{}):n.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row relative",children:[n.jsx("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-[#0A0A0A] text-white border-b border-gray-800",children:n.jsxs("div",{className:"flex items-center justify-between px-4 h-16",children:[n.jsx(Ma,{to:s?"/admin/dashboard":"/dashboard/account",className:"flex items-center justify-center",children:n.jsx("img",{src:"/logo.webp",alt:"Logo",className:"h-10"})}),n.jsx("button",{onClick:()=>r(!e),className:"p-2 rounded-lg hover:bg-gray-800",children:e?n.jsx(Lt,{className:"h-6 w-6"}):n.jsx(O6,{className:"h-6 w-6"})})]})}),n.jsx(tt,{children:e&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>r(!1)})}),n.jsx(X.aside,{className:`fixed top-0 left-0 h-full w-64 bg-[#0A0A0A] text-white z-50 transform transition-transform duration-300 ease-in-out lg:transform-none ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,initial:!1,children:n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[n.jsx("div",{className:"mt-8 px-4 hidden lg:flex items-center justify-center border-b border-gray-800 pb-6",children:n.jsx(Ma,{to:s?"/admin/dashboard":"/dashboard/account",className:"flex items-center justify-center",children:n.jsx("img",{src:"/logo.webp",alt:"Logo",className:"h-10"})})}),n.jsx("div",{className:"lg:hidden px-4 py-4 border-b border-gray-800",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Dt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium",children:s&&o?o.username:"User"}),n.jsx("p",{className:"text-xs text-gray-400",children:s&&o?o.email:"user@example.com"})]})]})}),n.jsx("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:d.map(h=>n.jsxs(Ma,{to:h.path,onClick:()=>r(!1),className:`group flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ${u(h.path)?"bg-primary text-white":"text-gray-300 hover:bg-gray-800"}`,children:[n.jsx(h.icon,{className:`h-5 w-5 flex-shrink-0 ${u(h.path)?"text-white":"text-gray-400 group-hover:text-gray-300"}`}),n.jsx("span",{children:h.label})]},h.path))})]}),n.jsxs("div",{className:"px-4 py-4 border-t border-gray-800 space-y-3",children:[n.jsxs("a",{href:"mailto:info@trapay.uk",className:"flex items-center text-gray-300 hover:text-white transition-colors",children:[n.jsx(oi,{className:"h-4 w-4 mr-3"}),n.jsx("span",{className:"text-sm",children:"info@trapay.uk"})]}),n.jsxs("a",{href:"https://t.me/trapay_news",target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-gray-300 hover:text-white transition-colors",children:[n.jsx(B6,{className:"h-4 w-4 mr-3"}),n.jsx("span",{className:"text-sm",children:"Telegram Channel"})]}),n.jsxs("a",{href:"https://t.me/trapay_sales",target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-gray-300 hover:text-white transition-colors",children:[n.jsx(U6,{className:"h-4 w-4 mr-3"}),n.jsx("span",{className:"text-sm",children:"Support"})]}),n.jsxs("a",{href:"https://x.com/TRAPAYUK",target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-gray-300 hover:text-white transition-colors",children:[n.jsx(c9,{className:"h-4 w-4 mr-3"}),n.jsx("span",{className:"text-sm",children:"@TRAPAYUK"})]})]}),n.jsx("div",{className:"px-4 py-4 border-t border-gray-800",children:n.jsxs(Ma,{to:"/login",onClick:()=>r(!1),className:"flex items-center text-gray-300 hover:text-white",children:[n.jsx(I6,{className:"h-5 w-5 mr-2"}),"Logout"]})})]})}),n.jsx("div",{className:"flex-1 flex flex-col bg-gray-100 min-h-screen pt-16 lg:pt-0 lg:pl-64",children:n.jsx("main",{className:"flex-1 overflow-y-auto",children:n.jsx(dN,{})})})]})},qo=({children:t})=>{const{isLoading:e,isError:r,isAuthenticated:s}=su();return e?null:r||!s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(dt,{className:"h-8 w-8 text-red-600"})}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access the admin panel. Please log in with an admin account."}),n.jsx("button",{onClick:()=>window.location.href="/login",className:"w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary-dark transition-colors",children:"Go to Login"})]})}):n.jsx(n.Fragment,{children:t})};function u9(){return Ht({mutationFn:async t=>await Pe.post("/auth/login",t),onSuccess:t=>{var e;console.log("Login successful:",t),(e=t.result)!=null&&e.access_token&&t.result.access_token.trim()!==""&&(localStorage.setItem("access_token",t.result.access_token),localStorage.setItem("role",t.result.role))},onError:t=>{throw console.error("Login error:",t),new Error("Login failed")}})}function h9(t,e){return function(r,s){return Object.prototype.hasOwnProperty.call(r,s)}(t,e)?t[e]:void 0}function f9(t,e,r,s){const a=document,i="securitypolicyviolation";let o;const l=d=>{const u=new URL(t,location.href),{blockedURI:h}=d;h!==u.href&&h!==u.protocol.slice(0,-1)&&h!==u.origin||(o=d,c())};a.addEventListener(i,l);const c=()=>a.removeEventListener(i,l);return Promise.resolve().then(e).then(d=>(c(),d),d=>new Promise(u=>{const h=new MessageChannel;h.port1.onmessage=()=>u(),h.port2.postMessage(null)}).then(()=>{if(c(),o)return r(o);throw d}))}function li(t){let e="";for(let r=0;r<t.length;++r)if(r>0){const s=t[r].toLowerCase();s!==t[r]?e+=` ${s}`:e+=t[r]}else e+=t[r].toUpperCase();return e}const m9={default:"endpoint"},x9={default:"tlsEndpoint"},p9="Client timeout",g9="Network connection error",y9="Network request aborted",v9="Response cannot be parsed",H1="Blocked by CSP",z1="The endpoint parameter is not a valid URL",b9="Handle on demand agent data error",w9=li("WrongRegion"),N9=li("SubscriptionNotActive"),j9=li("UnsupportedVersion"),S9=li("InstallationMethodRestricted"),C9=li("HostnameRestricted"),k9=li("IntegrationFailed"),A9=li("NetworkRestricted"),T9=li("InvalidProxyIntegrationSecret"),E9=li("InvalidProxyIntegrationHeaders"),P9=li("ProxyIntegrationSecretEnvironmentMismatch"),W1="API key required",HE="API key not found",zE="API key expired",_9="Request cannot be parsed",D9="Request failed",M9="Request failed to process",R9="Too many requests, rate limit exceeded",F9="Not available for this origin",L9="Not available with restricted header",I9=W1,O9=HE,B9=zE;var U9="3.12.6";const Ox="Failed to load the JS script of the agent",Y1="9319";function H9(t,e){const r=[],[s,a]=function(l){const c=function(h){const f=[...h];return{current:()=>f[0],postpone(){const m=f.shift();m!==void 0&&f.push(m)},exclude(){f.shift()}}}(l),d=function(h,f){let m=0;return()=>Math.random()*Math.min(f,h*Math.pow(2,m++))}(100,3e3),u=new Set;return[c.current(),(h,f)=>{let m;const p=f instanceof Error?f.message:"";if(p===H1||p===z1)c.exclude(),m=0;else if(p===Y1)c.exclude();else if(p===Ox){const g=Date.now()-h.getTime()<50,y=c.current();y&&g&&!u.has(y)&&(u.add(y),m=0),c.postpone()}else c.postpone();const x=c.current();return x===void 0?void 0:[x,m??h.getTime()+d()-Date.now()]}]}(t);let i;if(s===void 0)return Promise.reject(new TypeError("The list of script URL patterns is empty"));const o=l=>{const c=new Date,d=h=>r.push({url:l,startedAt:c,finishedAt:new Date,error:h}),u=e(l);return u.then(()=>d(),d),u.catch(h=>{if(i!=null||(i=h),r.length>=5)throw i;const f=a(c,h);if(!f)throw i;const[m,p]=f;return(x=p,new Promise(g=>setTimeout(g,x))).then(()=>o(m));var x})};return o(s).then(l=>[l,r])}const WE="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",z9=WE;function W9(t){var e,r;const{picked:s,rest:a}=function(u,h){const f={},m={};for(const[p,x]of Object.entries(u))h.includes(p)?f[p]=x:m[p]=x;return{picked:f,rest:m}}(t,["scriptUrlPattern","token","apiKey"]),i=s.token,o=(e=s.apiKey)!==null&&e!==void 0?e:i,l=(r=h9(t,"scriptUrlPattern"))!==null&&r!==void 0?r:WE,[c,d]=function(){const u=[],h=()=>{u.push({time:new Date,state:document.visibilityState})},f=function(m,p,x,g){return m.addEventListener(p,x,g),()=>m.removeEventListener(p,x,g)}(document,"visibilitychange",h);return h(),[u,f]}();return Promise.resolve().then(()=>{if(!o||typeof o!="string")throw new Error(W1);const u=function(h,f){return(Array.isArray(h)?h:[h]).map(m=>function(p,x){const g=encodeURIComponent;return p.replace(/<[^<>]+>/g,y=>y==="<version>"?"3":y==="<apiKey>"?g(x):y==="<loaderVersion>"?g(U9):y)}(String(m),f))}(l,o);return H9(u,Y9)}).catch(u=>{throw d(),function(h){return h instanceof Error&&h.message===Y1?new Error(Ox):h}(u)}).then(([u,h])=>(d(),u.load({...a,ldi:{attempts:h,visibilityStates:c}})))}function Y9(t){return f9(t,()=>function(e){return new Promise((r,s)=>{if(function(l){if(URL.prototype)try{return new URL(l,location.href),!1}catch(c){if(c instanceof Error&&c.name==="TypeError")return!0;throw c}}(e))throw new Error(z1);const a=document.createElement("script"),i=()=>{var l;return(l=a.parentNode)===null||l===void 0?void 0:l.removeChild(a)},o=document.head||document.getElementsByTagName("head")[0];a.onload=()=>{i(),r()},a.onerror=()=>{i(),s(new Error(Ox))},a.async=!0,a.src=e,o.appendChild(a)})}(t),()=>{throw new Error(H1)}).then(V9)}function V9(){const t=window,e="__fpjs_p_l_b",r=t[e];if(function(s,a){var i;const o=(i=Object.getOwnPropertyDescriptor)===null||i===void 0?void 0:i.call(Object,s,a);o!=null&&o.configurable?delete s[a]:o&&!o.writable||(s[a]=void 0)}(t,e),typeof(r==null?void 0:r.load)!="function")throw new Error(Y1);return r}var Jl={load:W9,defaultScriptUrlPattern:z9,ERROR_SCRIPT_LOAD_FAIL:Ox,ERROR_API_KEY_EXPIRED:zE,ERROR_API_KEY_INVALID:HE,ERROR_API_KEY_MISSING:W1,ERROR_BAD_REQUEST_FORMAT:_9,ERROR_BAD_RESPONSE_FORMAT:v9,ERROR_CLIENT_TIMEOUT:p9,ERROR_CSP_BLOCK:H1,ERROR_FORBIDDEN_ENDPOINT:C9,ERROR_FORBIDDEN_HEADER:L9,ERROR_FORBIDDEN_ORIGIN:F9,ERROR_GENERAL_SERVER_FAILURE:D9,ERROR_HANDLE_AGENT_DATA:b9,ERROR_INSTALLATION_METHOD_RESTRICTED:S9,ERROR_INTEGRATION_FAILURE:k9,ERROR_INVALID_ENDPOINT:z1,ERROR_INVALID_PROXY_INTEGRATION_HEADERS:E9,ERROR_INVALID_PROXY_INTEGRATION_SECRET:T9,ERROR_NETWORK_ABORT:y9,ERROR_NETWORK_CONNECTION:g9,ERROR_NETWORK_RESTRICTED:A9,ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH:P9,ERROR_RATE_LIMIT:R9,ERROR_SERVER_TIMEOUT:M9,ERROR_SUBSCRIPTION_NOT_ACTIVE:N9,ERROR_TOKEN_EXPIRED:B9,ERROR_TOKEN_INVALID:O9,ERROR_TOKEN_MISSING:I9,ERROR_UNSUPPORTED_VERSION:j9,ERROR_WRONG_REGION:w9,defaultEndpoint:m9,defaultTlsEndpoint:x9};const $9=()=>{const[t,e]=P.useState(""),[r,s]=P.useState(""),[a,i]=P.useState(!1),[o,l]=P.useState(!1),[c,d]=P.useState(!1),[u,h]=P.useState(""),[f,m]=P.useState(""),[p,x]=P.useState(!1),[g,y]=P.useState(""),[v,b]=P.useState({ipAddress:"",userAgent:"",geo:""}),w=P.useRef(null),N=P.useRef(null),C=ii(),S=u9();P.useEffect(()=>{(async()=>{try{const z=navigator.userAgent,K=await(await Jl.load({apiKey:"cUtbm0kkMu3EbQc1Lk4X",region:"eu",endpoint:"https://id.trapay.uk",scriptUrlPattern:"https://id.trapay.uk/web/v3/cUtbm0kkMu3EbQc1Lk4X/loader_v3.12.6.js"})).get();if(K.requestId){y(K.requestId);const Y=await Pe.get(`/auth/fingerprint-info?requestId=${K.requestId}`);if(Y.success&&Y.result)console.log(" FingerprintJS data obtained:",{ipAddress:Y.result.ipAddress,countryCode:Y.result.countryCode,requestId:K.requestId}),b({ipAddress:Y.result.ipAddress||"",userAgent:z,geo:Y.result.countryCode||""});else throw new Error("Failed to get IP info")}else throw new Error("No requestId")}catch(z){console.warn("Failed to get user info from FingerprintJS:",z),x(!0),b({ipAddress:"",userAgent:navigator.userAgent,geo:""})}})()},[]),P.useEffect(()=>(window.onTurnstileSuccess=_=>{m(_)},()=>{delete window.onTurnstileSuccess}),[]),P.useEffect(()=>{const _=document.createElement("script");return _.src="https://challenges.cloudflare.com/turnstile/v0/api.js",_.async=!0,_.defer=!0,_.onload=()=>{k()},document.querySelector('script[src*="turnstile"]')?k():document.body.appendChild(_),()=>{if(N.current&&window.turnstile)try{window.turnstile.remove(N.current)}catch(H){console.warn("Failed to remove turnstile widget:",H)}}},[]);const k=()=>{if(w.current&&window.turnstile)try{N.current&&window.turnstile.remove(N.current),N.current=window.turnstile.render(w.current,{sitekey:"0x4AAAAAACSjJoie2l4Kv8Pa",callback:_=>{m(_)}})}catch(_){console.warn("Failed to render turnstile:",_)}},A=async _=>{var z,H,q;if(_.preventDefault(),p||!v.ipAddress){ce.error("Failed to get IP address, please try again later");return}if(!f){ce.error("Please complete the captcha");return}l(!0),localStorage.removeItem("access_token"),localStorage.removeItem("role");try{const K={username:t,password:r,ipAddress:v.ipAddress,userAgent:v.userAgent,geo:v.geo,fingerprintRequestId:g,captchaToken:f},Y=await S.mutateAsync(K);if(console.log("Login response:",Y),!Y.result.access_token||Y.result.access_token.trim()===""){console.log("2FA required (empty token), showing modal"),d(!0),h(""),l(!1);return}console.log("Token received, navigating to dashboard"),C(Y.result.role==="admin"?"/admin/dashboard":"/dashboard")}catch(K){if(m(""),N.current&&window.turnstile)try{window.turnstile.reset(N.current)}catch{k()}(z=K.message)!=null&&z.includes("Captcha verification")?ce.error("Captcha verification failed, please try again"):(H=K.message)!=null&&H.includes("Network")||(q=K.message)!=null&&q.includes("fetch")||!navigator.onLine?ce.error("Unable to connect to server, please try again later"):ce.error("Invalid username or password")}finally{l(!1)}},T=async()=>{var _,z,H;if(u.length!==6){ce.error("Enter 6-digit code");return}if(!f){ce.error("Please complete the captcha");return}l(!0);try{const q={username:t,password:r,ipAddress:v.ipAddress,userAgent:v.userAgent,geo:v.geo,fingerprintRequestId:g,twoFactorToken:u,captchaToken:f},K=await S.mutateAsync(q);C(K.result.role==="admin"?"/admin/dashboard":"/dashboard")}catch(q){if(m(""),N.current&&window.turnstile)try{window.turnstile.reset(N.current)}catch{k()}(_=q.message)!=null&&_.includes("Captcha verification")?ce.error("Captcha verification failed, please try again"):(z=q.message)!=null&&z.includes("Network")||(H=q.message)!=null&&H.includes("fetch")||!navigator.onLine?ce.error("Unable to connect to server, please try again later"):ce.error("Invalid 2FA code"),h("")}finally{l(!1)}},E={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},D={animate:{transition:{staggerChildren:.1}}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsx(X.div,{className:"w-full lg:w-1/2 flex flex-col justify-center px-8 sm:px-16 lg:px-24 relative",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:n.jsxs("div",{className:"max-w-md w-full mx-auto space-y-8",children:[n.jsxs(X.div,{className:"space-y-2",...E,children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to TRAPAY"}),n.jsx("p",{className:"text-gray-600",children:"Please enter your details to sign in"})]}),n.jsxs(X.form,{onSubmit:A,className:"space-y-6",variants:D,initial:"initial",animate:"animate",children:[n.jsxs(X.div,{variants:E,children:[n.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(oi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"username",type:"text",required:!0,className:"block outline-none w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary text-gray-900 transition-all duration-200",placeholder:"Enter your username",value:t,onChange:_=>e(_.target.value)})]})]}),n.jsxs(X.div,{variants:E,children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Qd,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",type:a?"text":"password",required:!0,className:"block w-full outline-none pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary text-gray-900 transition-all duration-200",placeholder:"Enter your password",value:r,onChange:_=>s(_.target.value)}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?n.jsx(ed,{className:"h-5 w-5 text-gray-400"}):n.jsx(Ts,{className:"h-5 w-5 text-gray-400"})})]})]}),n.jsx(X.div,{variants:E,children:n.jsx("div",{ref:w,className:"flex justify-center"})}),n.jsx(X.button,{type:"submit",className:"w-full py-2.5 px-4 text-white bg-primary hover:bg-primary-dark rounded-lg transition-all duration-200 relative overflow-hidden disabled:opacity-70",disabled:o,whileHover:{scale:1.02},whileTap:{scale:.98},children:o?n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(X.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):"Log in"})]})]})}),n.jsx("div",{className:"hidden lg:block lg:w-[500px] ml-auto bg-[#0A0A0A] text-white relative overflow-hidden",children:n.jsxs("div",{className:"relative h-full w-full flex flex-col justify-between p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 mr-3",children:n.jsx(St,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Card payments"})]}),n.jsx("p",{className:"text-gray-400",children:"Visa, MasterCard, AmEx. Wide global coverage."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 mr-3",children:n.jsx(E6,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Open Banking"})]}),n.jsx("p",{className:"text-gray-400",children:"Integration with all major UK and EU banks available."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 mr-3",children:n.jsx(Cx,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Payment Links"})]}),n.jsx("p",{className:"text-gray-400",children:"Create instant payment links with no code."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 mr-3",children:n.jsx(M6,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Cryptocurrency"})]}),n.jsx("p",{className:"text-gray-400",children:"All popular cryptocurrencies and blockchains."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 mr-3",children:n.jsx(tr,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Quick setup"})]}),n.jsx("p",{className:"text-gray-400",children:"Choose developer-friendly APIs or pre-built plugins"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 mr-3",children:n.jsx(R6,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"24/7 Expert support"})]}),n.jsx("p",{className:"text-gray-400",children:"Dedicated manager & professional onboarding assistance"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 mr-3",children:n.jsx(Ps,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Secure & reliable payments"})]}),n.jsx("p",{className:"text-gray-400",children:"Bank-level data encryption, PCI DSS, GDPR compliance"})]})]}),n.jsxs("div",{className:"space-y-4 mt-auto",children:[n.jsx("div",{className:"flex items-center space-x-2 my-4",children:n.jsx("img",{src:"/logo.webp",alt:"TRAPAY",className:"h-8"})}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[n.jsx("a",{href:"https://trapay.uk/legal-privacy.php#Privacy-Policy",className:"hover:text-white transition-colors duration-200",children:"Privacy Policy"}),n.jsx("span",{children:""}),n.jsx("a",{href:"https://trapay.uk/legal-privacy.php#Terms-of-Use",className:"hover:text-white transition-colors duration-200",children:"Terms of Use"})]}),n.jsx("p",{className:"text-sm text-gray-400",children:" 2025 TRAPAY. All Rights Reserved"})]})]})}),n.jsx(tt,{children:c&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:_=>{_.target===_.currentTarget&&(d(!1),h(""))},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Two-Factor Authentication"}),n.jsx("button",{onClick:()=>{d(!1),h("")},className:"text-gray-400 hover:text-gray-500",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app to complete sign in."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Authentication Code"}),n.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:u,onChange:_=>h(_.target.value.replace(/\D/g,"")),onKeyDown:_=>{_.key==="Enter"&&u.length===6&&T()},className:"w-full px-4 py-2.5 text-center text-2xl tracking-widest rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"000000",autoFocus:!0})]}),n.jsx("button",{onClick:T,disabled:o||u.length!==6,className:"w-full px-4 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(X.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):"Verify & Sign In"})]})]})})})]})},X9=["USD","EUR","GBP","JPY","CAD","AUD","CHF","CNY"],G9=["USDT","TON","BTC","ETH","LTC","BCH","DOGE","USDC"];function Si(t,e){if(G9.includes(e.toUpperCase()))return`${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:8})} ${e.toUpperCase()}`;if(X9.includes(e.toUpperCase()))try{return t.toLocaleString("en-US",{style:"currency",currency:e.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2})}catch{return`${e.toUpperCase()} ${t.toFixed(2)}`}return`${t.toFixed(2)} ${e.toUpperCase()}`}const Qe=({size:t="md",className:e=""})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return n.jsx(X.div,{className:`${r[t]} border-2 border-gray-200 border-t-primary rounded-full ${e}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})},ir=({value:t,onChange:e,options:r,placeholder:s,className:a=""})=>{var l,c;const[i,o]=P.useState(!1);return n.jsxs("div",{className:`relative ${a}`,children:[n.jsxs("button",{type:"button",onClick:()=>o(!i),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg text-left flex items-center justify-between hover:border-primary transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/20 group",children:[t?n.jsxs("span",{className:"flex items-center space-x-2",children:[(l=r.find(d=>d.value===t))==null?void 0:l.icon,n.jsx("span",{children:(c=r.find(d=>d.value===t))==null?void 0:c.label})]}):n.jsx("span",{className:"text-gray-500",children:s}),n.jsx(P6,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${i?"rotate-180":""}`})]}),n.jsx(tt,{children:i&&n.jsxs(n.Fragment,{children:[n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-30",onClick:()=>o(!1)}),n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-40 w-full mt-2 bg-white rounded-lg shadow-xl border border-gray-200 py-1 max-h-40 overflow-y-auto",children:r.map(d=>n.jsxs("button",{type:"button",onClick:()=>{e(d.value),o(!1)},className:`w-full px-4 py-2 text-left flex items-center space-x-2 hover:bg-gray-50 ${t===d.value?"text-primary bg-primary/5":"text-gray-700"}`,children:[d.icon,n.jsx("span",{children:d.label})]},d.value))})]})})]})},aS={"Test Gateway":"0000","test gateway":"0000",test_gateway:"0000",Plisio:"0001",plisio:"0001",Rapyd:"0010",rapyd:"0010",CoinToPay:"0100",cointopay:"0100",CoinToPay2:"0101",cointopay2:"0101","Open Banking 2":"0101",Noda:"1000",noda:"1000",KLYME_EU:"1001",klyme_eu:"1001",KLYME_GB:"1010",klyme_gb:"1010",KLYME_DE:"1100",klyme_de:"1100","klyme eu":"1001","klyme gb":"1010","klyme de":"1100","KLYME EU":"1001","KLYME GB":"1010","KLYME DE":"1100",visa_mastercard:"1111","Visa Mastercard":"1111","Visa/MasterCard":"1111","visa/mastercard":"1111",Amer:"1110",amer:"1110",myxspend:"2000",MyXSpend:"2000",My_X_Spend:"2000",my_x_spend:"2000",ampay:"2001",AmPay:"2001",am_pay:"2001",Am_Pay:"2001",sepa:"2010",Sepa:"2010",SEPA:"2010",interac:"2011",Interac:"2011",INTERAC:"2011",ampay_try:"2002","AmPay TRY":"2002",AMPAY_TRY:"2002","ampay try":"2002","AMPAY TRY":"2002",onramp:"3000",OnRamp:"3000",ONRAMP:"3000",on_ramp:"3000",On_Ramp:"3000",squirrelpay:"3001",SquirrelPay:"3001",SQUIRRELPAY:"3001",squirrel_pay:"3001",Squirrel_Pay:"3001","squirrel-pay":"3001","Squirrel-Pay":"3001",maxpara:"3002",MaxPara:"3002",MAXPARA:"3002",max_para:"3002",Max_Para:"3002","max-para":"3002","Max-Para":"3002",instaxchange:"3003",InstaXChange:"3003",oxapay:"3004",OxaPay:"3004"},K9={"0000":"Test Gateway","0001":"Plisio","0010":"Rapyd","0100":"CoinToPay","0101":"CoinToPay2",1e3:"Noda",1001:"KLYME EU",1010:"KLYME GB",1100:"KLYME DE",1111:"Visa/MasterCard",1110:"Amer",2e3:"MyXSpend",2001:"AmPay",2010:"Sepa",2011:"Interac",2002:"AmPay TRY",3e3:"OnRamp",3001:"SquirrelPay",3002:"MaxPara",3003:"InstaXChange",3004:"OxaPay"},Zn={"0000":{id:"0000",name:"Test Gateway",displayName:"Gateway 0000 - Test Gateway (Cards)",description:"Test payment gateway for development - ID: 0000",features:["Test"],color:"bg-gray-500",fee:"0%",payout:"Instant"},"0010":{id:"0010",name:"Rapyd",displayName:"Gateway 0010 - Bank Card (Visa, Master, AmEx)",description:"Global payment processing - ID: 0010",features:["Cards","3DS"],color:"bg-purple-500",fee:"10%",payout:"T+5"},"0100":{id:"0100",name:"CoinToPay",displayName:"Gateway 0100 - Open Banking CP (EU)",description:"Digital payment solutions - ID: 0100",features:["EUR","SEPA","INSTANT","IBAN"],color:"bg-green-500",fee:"10%",payout:"T+5"},"0101":{id:"0101",name:"CoinToPay2",displayName:"Gateway 0101 - Open Banking CP2 (EU)",description:"Digital payment solutions - ID: 0101",features:["EUR","SEPA","INSTANT","IBAN"],color:"bg-teal-500",fee:"10%",payout:"T+5"},1e3:{id:"1000",name:"Noda",displayName:"Gateway 1000 - Open Banking N (EU)",description:"Bank transfer infrastructure - ID: 1000",features:["EUR","SEPA","INSTANT"],color:"bg-blue-500",fee:"10%",payout:"T+5"},1001:{id:"1001",name:"KLYME_EU",displayName:"Gateway 1001 - Open Banking KL (EU)",description:"Bank transfer infrastructure - ID: 1001",features:["EUR","SEPA","INSTANT"],color:"bg-indigo-500",fee:"10%",payout:"T+5"},1010:{id:"1010",name:"KLYME_GB",displayName:"Gateway 1010 - Open Banking KL (GB)",description:"Bank transfer infrastructure - ID: 1010",features:["GBP","SEPA","Faster Payments"],color:"bg-cyan-500",fee:"10%",payout:"T+5"},1100:{id:"1100",name:"KLYME_DE",displayName:"Gateway 1100 - Open Banking KL (DE)",description:"Bank transfer infrastructure - ID: 1100",features:["EUR","SEPA","INSTANT"],color:"bg-teal-500",fee:"10%",payout:"T+5"},1111:{id:"1111",name:"Visa/MasterCard",displayName:"Gateway 1111 - Visa/MasterCard EU",description:"Cards payment processing - ID: 1111",features:["CARDS","EUR","3DS"],color:"bg-red-500",fee:"10%",payout:"T+5"},1110:{id:"1110",name:"Amer",displayName:"Gateway 1110 - Bank Card AM (Visa, MasterCard, AmEx)",description:"Global payment processing - ID: 1110",features:["Cards","Multi-currency","3DS"],color:"bg-orange-500",fee:"10%",payout:"T+5"},2e3:{id:"2000",name:"MyXSpend",displayName:"Gateway 2000 - Open Banking MX (EU)",description:"Bank transfer infrastructure - ID: 2000",features:["EUR","SEPA","INSTANT","IBAN"],color:"bg-green-600",fee:"10%",payout:"T+5"},2001:{id:"2001",name:"AmPay",displayName:"Gateway 2001 - Open Banking AM (EU)",description:"Bank transfer infrastructure - ID: 2001",features:["EUR","SEPA","INSTANT"],color:"bg-purple-600",fee:"10%",payout:"T+5"},2010:{id:"2010",name:"SEPA",displayName:"Gateway 2010 - SEPA Transfer",description:"SEPA bank transfer processing - ID: 2010",features:["EUR","SEPA"],color:"bg-blue-600",fee:"10%",payout:"T+5"},2011:{id:"2011",name:"Interac",displayName:"Gateway 2011 - Interac e-Transfer",description:"Interac e-Transfer processing - ID: 2011",features:["CAD","Interac"],color:"bg-red-600",fee:"10%",payout:"T+5"},2002:{id:"2002",name:"AmPay TRY",displayName:"Gateway 2002 - IBAN Bank Transfer TR (AM)",description:"TRY IBAN bank transfer processing - ID: 2002",features:["TRY","IBAN","Bank Transfer","FAST"],color:"bg-red-700",fee:"10%",payout:"T+5"},3e3:{id:"3000",name:"OnRamp",displayName:"Gateway 3000 - OnRamp Fiat to Crypto (Multi-Currency)",description:"OnRamp fiat to crypto processing - ID: 3000",features:["Fiat to Crypto","TRY","AED","EUR","USD","AUD","PLN","NZD","CAD"],color:"bg-purple-700",fee:"10%",payout:"INSTANT"},3001:{id:"3001",name:"SquirrelPay",displayName:"Gateway 3001 - Bank Card SQ",description:"Global payment processing - ID: 3001",features:["Cards","3DS","Multi-currency"],color:"bg-amber-600",fee:"10%",payout:"T+3"},3003:{id:"3003",name:"InstaXChange",displayName:"Gateway 3003 - BankCards, Interac, PIX",description:"Global payment processing - ID: 3003",features:["BankCards","Interac","PIX","Multi-currency"],color:"bg-emerald-600",fee:"10%",payout:"T+5"},3004:{id:"3004",name:"OxaPay",displayName:"Gateway 3004 - Cryptocurrency (Global)",description:"Cryptocurrency payment processing - ID: 3004",features:["Crypto","Multi-currency","Global"],color:"bg-violet-600",fee:"10%",payout:"T+5"}};function Bx(t){return t?aS[t]||aS[t.toLowerCase()]||t:""}function YE(t){return t?K9[t]||t:""}function cc(t){return t&&Zn[t]||null}function Li(t){if(!Array.isArray(t))return console.warn("convertGatewayNamesToIds: Expected array, got:",typeof t,t),[];const e=t.filter(r=>r&&typeof r=="string").map(r=>{const s=r.trim(),a=Bx(s);return console.log(" Converting gateway name to ID:",s,"->",a),a}).filter(r=>r&&r!=="");return console.log(" Final conversion result:",t,"->",e),e}function Uh(t){return Array.isArray(t)?t.filter(e=>e&&typeof e=="string").map(e=>YE(e)).filter(e=>e):(console.warn("convertGatewayIdsToNames: Expected array, got:",typeof t,t),[])}function Bl(t){if(!t)return"";const e=Bx(t);return e&&Zn[e]?Zn[e].displayName:Zn[t]?Zn[t].displayName:e||t}function vc(t){if(!t)return"";const e=Bx(t);return e&&Zn[e]?e:Zn[t]?t:e||t}const Zp=[{code:"AO",name:"Angola"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaijan"},{code:"BH",name:"Bahrain"},{code:"BE",name:"Belgium"},{code:"BM",name:"Bermuda"},{code:"BW",name:"Botswana"},{code:"BR",name:"Brazil"},{code:"BG",name:"Bulgaria"},{code:"CA",name:"Canada"},{code:"CV",name:"Cape Verde"},{code:"CL",name:"Chile"},{code:"CO",name:"Colombia"},{code:"HR",name:"Croatia"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"EE",name:"Estonia"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GE",name:"Georgia"},{code:"DE",name:"Germany"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IS",name:"Iceland"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IT",name:"Italy"},{code:"CI",name:"Ivory Coast"},{code:"JP",name:"Japan"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"XK",name:"Kosovo"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LV",name:"Latvia"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macau"},{code:"MG",name:"Madagascar"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"MT",name:"Malta"},{code:"MX",name:"Mexico"},{code:"MD",name:"Moldova"},{code:"MC",name:"Monaco"},{code:"ME",name:"Montenegro"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NP",name:"Nepal"},{code:"NL",name:"Netherlands"},{code:"NC",name:"New Caledonia"},{code:"NZ",name:"New Zealand"},{code:"NE",name:"Niger"},{code:"NO",name:"Norway"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"QA",name:"Qatar"},{code:"RO",name:"Romania"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SG",name:"Singapore"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"ZA",name:"South Africa"},{code:"KR",name:"South Korea"},{code:"ES",name:"Spain"},{code:"SE",name:"Sweden"},{code:"CH",name:"Switzerland"},{code:"TJ",name:"Tajikistan"},{code:"TH",name:"Thailand"},{code:"TT",name:"Trinidad and Tobago"},{code:"TR",name:"Turkey"},{code:"AE",name:"United Arab Emirates"},{code:"GB",name:"United Kingdom"},{code:"UZ",name:"Uzbekistan"}],nS={AO:"+244",AR:"+54",AM:"+374",AU:"+61",AT:"+43",AZ:"+994",BH:"+973",BE:"+32",BM:"+1441",BW:"+267",BR:"+55",BG:"+359",CA:"+1",CV:"+238",CL:"+56",CO:"+57",HR:"+385",CZ:"+420",DK:"+45",EC:"+593",EG:"+20",EE:"+372",FI:"+358",FR:"+33",GA:"+241",GE:"+995",DE:"+49",GI:"+350",GR:"+30",HK:"+852",HU:"+36",IS:"+354",ID:"+62",IE:"+353",IT:"+39",CI:"+225",JP:"+81",JO:"+962",KZ:"+7",XK:"+383",KW:"+965",KG:"+996",LV:"+371",LI:"+423",LT:"+370",LU:"+352",MO:"+853",MG:"+261",MY:"+60",MV:"+960",MT:"+356",MX:"+52",MD:"+373",MC:"+377",ME:"+382",MA:"+212",MZ:"+258",NA:"+264",NP:"+977",NL:"+31",NC:"+687",NZ:"+64",NE:"+227",NO:"+47",PE:"+51",PH:"+63",PL:"+48",PT:"+351",QA:"+974",RO:"+40",RW:"+250",SA:"+966",RS:"+381",SC:"+248",SG:"+65",SK:"+421",SI:"+386",ZA:"+27",ES:"+34",SE:"+46",CH:"+41",TW:"+886",TH:"+66",TN:"+216",TR:"+90",AE:"+971",GB:"+44",UZ:"+998"},Qp=[{code:"040",name:"Austria",phoneCode:"+43"},{code:"056",name:"Belgium",phoneCode:"+32"},{code:"100",name:"Bulgaria",phoneCode:"+359"},{code:"191",name:"Croatia",phoneCode:"+385"},{code:"196",name:"Cyprus",phoneCode:"+357"},{code:"203",name:"Czech Republic",phoneCode:"+420"},{code:"208",name:"Denmark",phoneCode:"+45"},{code:"233",name:"Estonia",phoneCode:"+372"},{code:"246",name:"Finland",phoneCode:"+358"},{code:"250",name:"France",phoneCode:"+33"},{code:"276",name:"Germany",phoneCode:"+49"},{code:"300",name:"Greece",phoneCode:"+30"},{code:"348",name:"Hungary",phoneCode:"+36"},{code:"372",name:"Ireland",phoneCode:"+353"},{code:"380",name:"Italy",phoneCode:"+39"},{code:"428",name:"Latvia",phoneCode:"+371"},{code:"440",name:"Lithuania",phoneCode:"+370"},{code:"442",name:"Luxembourg",phoneCode:"+352"},{code:"470",name:"Malta",phoneCode:"+356"},{code:"528",name:"Netherlands",phoneCode:"+31"},{code:"616",name:"Poland",phoneCode:"+48"},{code:"620",name:"Portugal",phoneCode:"+351"},{code:"642",name:"Romania",phoneCode:"+40"},{code:"703",name:"Slovakia",phoneCode:"+421"},{code:"705",name:"Slovenia",phoneCode:"+386"},{code:"724",name:"Spain",phoneCode:"+34"},{code:"752",name:"Sweden",phoneCode:"+46"}],VE=t=>{const e=t.replace(/\s/g,"").split("").map(Number);let r=0,s=!1;for(let a=e.length-1;a>=0;a--){let i=e[a];s&&(i*=2,i>9&&(i-=9)),r+=i,s=!s}return r%10===0},$E=async t=>{var s,a,i,o,l,c,d;const e="8701152fd7dd4e53beea1f0a78a6ee28",r=t.replace(/[^0-9+]/g,"");if(!r)return{valid:!1,error:"Phone number is required"};try{const u=await fetch(`https://phoneintelligence.abstractapi.com/v1/?api_key=${e}&phone=${encodeURIComponent(r)}`);if(!u.ok)return u.status===400?{valid:!1,error:"Invalid phone number format. Please check and try again."}:u.status===401?(console.error("AbstractAPI: Invalid API key"),{valid:!0}):u.status===422?(console.error("AbstractAPI: Quota reached"),{valid:!0}):(console.error(`AbstractAPI error: ${u.status}`),{valid:!0});const h=await u.json(),f={isValid:((s=h.phone_validation)==null?void 0:s.is_valid)||!1,lineStatus:((a=h.phone_validation)==null?void 0:a.line_status)||"unknown",isVoip:((i=h.phone_validation)==null?void 0:i.is_voip)||!1,riskLevel:((o=h.phone_risk)==null?void 0:o.risk_level)||"unknown"};return(l=h.phone_validation)!=null&&l.is_valid?h.phone_validation.line_status!=="active"?{valid:!1,error:"Phone number is not active.",data:f}:(c=h.phone_risk)!=null&&c.is_disposable||(d=h.phone_risk)!=null&&d.is_abuse_detected?{valid:!1,error:"This phone number cannot be used for payments.",data:f}:{valid:!0,data:f}:{valid:!1,error:"Phone number is not valid. Please check and try again.",data:f}}catch(u){return console.error("Phone validation error:",u),{valid:!0}}},q9=({paymentData:t,urlParams:e,onSuccess:r,onFailure:s})=>{const[a,i]=P.useState(!1),[o,l]=P.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",firstName:"",lastName:"",email:"",country:"",post_code:"",state:"",city:"",address_line_1:"",address_line_2:"",phone:""}),[c,d]=P.useState({}),u=async()=>{try{const C=await(await Jl.load({apiKey:"cUtbm0kkMu3EbQc1Lk4X",region:"eu",endpoint:"https://id.trapay.uk",scriptUrlPattern:"https://id.trapay.uk/web/v3/cUtbm0kkMu3EbQc1Lk4X/loader_v3.12.6.js"})).get();if(!C.requestId)return null;const S=await Pe.get(`/auth/fingerprint-info?requestId=${C.requestId}`);if(!S.success||!S.result)return null;const k=S.result.countryCode,A=Qp.find(T=>T.name.toUpperCase()===k);return A?{countryCode:A.code,phoneCode:A.phoneCode}:null}catch(w){return console.error("Failed to get country by IP:",w),null}};P.useEffect(()=>{(async()=>{const N=e||new URLSearchParams(window.location.search),C=N.get("name"),S=N.get("email"),k=await u();if(C||S||k){const A=C?C.trim().split(" "):[],T=A[0]||"",E=A.slice(1).join(" ")||"";l(D=>({...D,firstName:T||D.firstName,lastName:E||D.lastName,email:S||D.email,country:(k==null?void 0:k.countryCode)||D.country,phone:(k==null?void 0:k.phoneCode)||D.phone})),console.log("    URL   IP")}})()},[e]);const h=async()=>{try{const C=await(await Jl.load({apiKey:"cUtbm0kkMu3EbQc1Lk4X",region:"eu",endpoint:"https://id.trapay.uk",scriptUrlPattern:"https://id.trapay.uk/web/v3/cUtbm0kkMu3EbQc1Lk4X/loader_v3.12.6.js"})).get();if(!C.requestId)return"127.0.0.1";const S=await Pe.get(`/auth/fingerprint-info?requestId=${C.requestId}`);return S.success&&S.result?S.result.ipAddress:"127.0.0.1"}catch(w){return console.error("Failed to get IP:",w),"127.0.0.1"}},f=()=>{const w=new Date().getTimezoneOffset();return{accept_header:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",color_depth:(C=>[1,4,8,15,16,24,32].reduce((A,T)=>Math.abs(T-C)<Math.abs(A-C)?T:A))(screen.colorDepth||24),language:navigator.language||"en-US",screen_height:screen.height,screen_width:screen.width,time_different:-w,user_agent:navigator.userAgent,java_enabled:0,window_height:window.innerHeight,window_width:window.innerWidth}},m=()=>{const w={},N=o.cardNumber.replace(/\s/g,"");N?N.length<13||N.length>19?w.cardNumber="Invalid card number length":/^\d+$/.test(N)?!N.startsWith("4")&&!N.startsWith("5")?w.cardNumber="Only Visa (starting with 4) and MasterCard (starting with 5) are accepted":VE(N)||(w.cardNumber="Invalid card number (failed Luhn check)"):w.cardNumber="Card number must contain only digits":w.cardNumber="Card number is required";const C=parseInt(o.expiryMonth);(!o.expiryMonth||C<1||C>12)&&(w.expiryMonth="Valid month required (01-12)");const S=parseInt(o.expiryYear),k=new Date().getFullYear()%100;return(!o.expiryYear||S<k)&&(w.expiryYear="Valid future year required"),!o.cvv||o.cvv.length<3||o.cvv.length>4?w.cvv="Valid CVV required (3-4 digits)":/^\d+$/.test(o.cvv)||(w.cvv="CVV must contain only digits"),o.firstName.trim()||(w.firstName="First name is required"),o.lastName.trim()||(w.lastName="Last name is required"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(w.email="Please enter a valid email address"):w.email="Email is required",o.country||(w.country="Country is required"),o.post_code.trim()||(w.post_code="Postcode is required"),o.state.trim()||(w.state="State is required"),o.city.trim()||(w.city="City is required"),o.address_line_1.trim()||(w.address_line_1="Address is required"),o.phone.trim()||(w.phone="Phone is required"),d(w),Object.keys(w).length===0},p=w=>{const N=w.replace(/\s+/g,"").replace(/[^0-9]/gi,""),C=N.match(/\d{4,16}/g),S=C&&C[0]||"",k=[];for(let A=0,T=S.length;A<T;A+=4)k.push(S.substring(A,A+4));return k.length?k.join(" "):N},x=w=>{const N=p(w.target.value);l(C=>({...C,cardNumber:N})),c.cardNumber&&d(C=>({...C,cardNumber:void 0}))},g=(w,N)=>{l(C=>({...C,[w]:N})),c[w]&&d(C=>({...C,[w]:void 0}))},y=w=>{const N=Qp.find(C=>C.code===w);l(C=>({...C,country:w,phone:(N==null?void 0:N.phoneCode)||C.phone})),c.country&&d(C=>({...C,country:void 0}))},v=async w=>{var N,C;if(w.preventDefault(),!!m()){i(!0);try{ce.info("Validating phone number...");const S=await $E(o.phone),k=await h(),A=f(),T=o.firstName.trim(),E=o.lastName.trim(),D={cardData:{number:o.cardNumber.replace(/\s/g,""),expire_month:o.expiryMonth.padStart(2,"0"),expire_year:o.expiryYear,cvv:o.cvv},cardHolder:{first_name:T,last_name:E,email:o.email.trim(),country:o.country,post_code:o.post_code.trim(),state:o.state.trim(),city:o.city.trim(),address_line_1:o.address_line_1.trim(),address_line_2:o.address_line_2.trim()||void 0,phone:o.phone.trim()},browser:{...A,ip:k},phoneValidation:S.data},_=await Pe.post(`/payments/${t.id}/process-mastercard`,D);if(_.success&&_.result.requires3ds&&_.result.redirectUrl){ce.info("3DS verification required. Redirecting..."),window.location.href=_.result.redirectUrl;return}if(_.success&&_.result.status==="PAID")ce.success("Payment processed successfully!"),r(_.result.redirectUrl);else{const z=((N=_.result)==null?void 0:N.failureReason)||_.message||"Payment failed";ce.error(z),s(z,(C=_.result)==null?void 0:C.redirectUrl)}}catch(S){const k=S.message||"Payment processing failed";ce.error(k),s(k)}finally{i(!1)}}},b=w=>{const N=w.replace(/\s/g,"").charAt(0);return N==="4"?"visa":N==="5"?"mastercard":null};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your Visa or MasterCard details to complete the payment"})}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(St,{className:"h-5 w-5 mr-2"}),"Card Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(St,{className:"h-5 w-5 text-gray-400"})}),b(o.cardNumber)&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx("img",{src:b(o.cardNumber)==="visa"?"/visal.png":"/mcl.png",alt:b(o.cardNumber)==="visa"?"Visa":"Mastercard",className:"h-6 w-8 object-contain"})}),n.jsx("input",{type:"text",id:"cardNumber",value:o.cardNumber,onChange:x,className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${c.cardNumber,"border-gray-300 focus:border-gray-500 focus:ring-gray-200"} focus:outline-none focus:ring-2`,placeholder:"1234 5678 9012 3456",maxLength:19,disabled:a})]}),c.cardNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.cardNumber})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiryMonth",className:"block text-sm font-medium text-gray-700 mb-2",children:"Month *"}),n.jsx("input",{type:"text",id:"expiryMonth",value:o.expiryMonth,onChange:w=>{const N=w.target.value.replace(/\D/g,"").slice(0,2);g("expiryMonth",N)},className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.expiryMonth,"border-gray-300 focus:border-gray-500 focus:ring-gray-200"} focus:outline-none focus:ring-2`,placeholder:"MM",maxLength:2,disabled:a}),c.expiryMonth&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.expiryMonth})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiryYear",className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),n.jsx("input",{type:"text",id:"expiryYear",value:o.expiryYear,onChange:w=>{const N=w.target.value.replace(/\D/g,"").slice(0,2);g("expiryYear",N)},className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.expiryYear,"border-gray-300 focus:border-gray-500 focus:ring-gray-200"} focus:outline-none focus:ring-2`,placeholder:"YY",maxLength:2,disabled:a}),c.expiryYear&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.expiryYear})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV *"}),n.jsx("input",{type:"text",id:"cvv",value:o.cvv,onChange:w=>{const N=w.target.value.replace(/\D/g,"").slice(0,4);g("cvv",N)},className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.cvv,"border-gray-300 focus:border-gray-500 focus:ring-gray-200"} focus:outline-none focus:ring-2`,placeholder:"123",maxLength:4,disabled:a}),c.cvv&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.cvv})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Dt,{className:"h-5 w-5 mr-2"}),"Billing Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),n.jsx("input",{type:"text",id:"firstName",value:o.firstName,onChange:w=>g("firstName",w.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.firstName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"} focus:outline-none focus:ring-2`,placeholder:"John",disabled:a}),c.firstName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.firstName})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),n.jsx("input",{type:"text",id:"lastName",value:o.lastName,onChange:w=>g("lastName",w.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.lastName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"} focus:outline-none focus:ring-2`,placeholder:"Doe",disabled:a}),c.lastName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.lastName})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(oi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"email",id:"email",value:o.email,onChange:w=>g("email",w.target.value),className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${c.email?"border-gray-300 focus:border-gray-500 focus:ring-gray-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"} focus:outline-none focus:ring-2`,placeholder:"john@example.com",disabled:a})]}),c.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx(ir,{value:o.country,onChange:y,options:Qp.map(w=>({value:w.code,label:w.name})),placeholder:"Select Country"}),c.country&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.country})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"address_line_1",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line 1 *"}),n.jsx("input",{type:"text",id:"address_line_1",value:o.address_line_1,onChange:w=>g("address_line_1",w.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.address_line_1?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"} focus:outline-none focus:ring-2`,placeholder:"123 Main Street",disabled:a}),c.address_line_1&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.address_line_1})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"address_line_2",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line 2 (Optional)"}),n.jsx("input",{type:"text",id:"address_line_2",value:o.address_line_2,onChange:w=>g("address_line_2",w.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-blue-200 focus:outline-none focus:ring-2 transition-colors",placeholder:"Apartment, suite, etc.",disabled:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",id:"city",value:o.city,onChange:w=>g("city",w.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.city?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"} focus:outline-none focus:ring-2`,placeholder:"New York",disabled:a}),c.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.city})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",id:"state",value:o.state,onChange:w=>g("state",w.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.state?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"} focus:outline-none focus:ring-2`,placeholder:"NY",disabled:a}),c.state&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.state})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"post_code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Postcode *"}),n.jsx("input",{type:"text",id:"post_code",value:o.post_code,onChange:w=>g("post_code",w.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.post_code?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"} focus:outline-none focus:ring-2`,placeholder:"10001",disabled:a}),c.post_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.post_code})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",id:"phone",value:o.phone,onChange:w=>g("phone",w.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${c.phone?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"} focus:outline-none focus:ring-2`,placeholder:"+1 (555) 123-4567",disabled:a}),c.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phone})]})]})]}),n.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg",children:a?n.jsxs(n.Fragment,{children:[n.jsx(Es,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Processing Payment..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{children:["Pay ",Si(t.amount,t.currency)]}),n.jsx(Mi,{className:"h-5 w-5"})]})}),n.jsx("div",{className:"w-full",children:n.jsx("img",{src:"/mpclogo.png",alt:"MPC Logo",className:"w-[70%] h-auto mx-auto"})})]})]})},Z9=({paymentData:t,onSuccess:e,onFailure:r})=>{const[s,a]=P.useState(!1),[i,o]=P.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",holderName:t.customer_name||"",email:t.customer_email||"",phone:"",birthDate:"",billingCountry:"",address:"",city:"",state:"",zipCode:""}),[l,c]=P.useState({}),d=x=>{const g=x.replace(/\s/g,"").charAt(0);return g==="4"?"visa":g==="5"?"mastercard":null};P.useEffect(()=>{(async()=>{try{const v=await(await Jl.load({apiKey:"cUtbm0kkMu3EbQc1Lk4X",region:"eu",endpoint:"https://id.trapay.uk",scriptUrlPattern:"https://id.trapay.uk/web/v3/cUtbm0kkMu3EbQc1Lk4X/loader_v3.12.6.js"})).get();if(!v.requestId)return;const b=await Pe.get(`/auth/fingerprint-info?requestId=${v.requestId}`);if(!b.success||!b.result)return;const w=b.result.countryCode;Zp.find(C=>C.code===w)?o(C=>({...C,billingCountry:w})):c({billingCountry:"  "})}catch(g){console.error("Failed to get user country:",g)}})()},[]),P.useEffect(()=>{if(i.billingCountry){const x=nS[i.billingCountry]||"";o(g=>({...g,phone:x}))}},[i.billingCountry]),P.useEffect(()=>{t.customer_name&&!i.holderName&&o(x=>({...x,holderName:t.customer_name||""})),t.customer_email&&!i.email&&o(x=>({...x,email:t.customer_email||""}))},[t.customer_name,t.customer_email,i.holderName,i.email]);const u=x=>{const g=x.replace(/\s+/g,"").replace(/[^0-9]/gi,""),y=g.match(/\d{4,16}/g),v=y&&y[0]||"",b=[];for(let w=0,N=v.length;w<N;w+=4)b.push(v.substring(w,w+4));return b.length?b.join(" "):g},h=x=>{const g=x.replace(/[^\d]/g,"");return g.length>=8?`${g.slice(0,4)}-${g.slice(4,6)}-${g.slice(6,8)}`:g.length>=6?`${g.slice(0,4)}-${g.slice(4,6)}-${g.slice(6)}`:g.length>=4?`${g.slice(0,4)}-${g.slice(4)}`:g},f=()=>{const x={};return i.cardNumber?i.cardNumber.replace(/\s/g,"").length<13?x.cardNumber="Invalid card number":VE(i.cardNumber.replace(/\s/g,""))||(x.cardNumber="Invalid card number (failed Luhn check)"):x.cardNumber="Card number is required",i.expiryMonth?(parseInt(i.expiryMonth)<1||parseInt(i.expiryMonth)>12)&&(x.expiryMonth="Invalid month"):x.expiryMonth="Month is required",i.expiryYear?parseInt(`20${i.expiryYear}`)<new Date().getFullYear()&&(x.expiryYear="Card has expired"):x.expiryYear="Year is required",i.cvv?(i.cvv.length<3||i.cvv.length>4)&&(x.cvv="Invalid CVV"):x.cvv="CVV is required",i.holderName||(x.holderName="Cardholder name is required"),i.email?/\S+@\S+\.\S+/.test(i.email)||(x.email="Invalid email address"):x.email="Email is required",i.phone||(x.phone="Phone number is required"),i.birthDate?(i.birthDate.length!==10||!/^\d{4}-\d{2}-\d{2}$/.test(i.birthDate))&&(x.birthDate="Invalid date format (YYYY-MM-DD)"):x.birthDate="Date of birth is required",i.billingCountry?Zp.find(g=>g.code===i.billingCountry)||(x.billingCountry="  "):x.billingCountry="Billing country is required",i.address||(x.address="Address is required"),i.city||(x.city="City is required"),i.state||(x.state="State is required"),i.zipCode||(x.zipCode="ZIP code is required"),x},m=(x,g)=>{let y=g;if(x==="cardNumber")y=u(g);else if(x==="expiryMonth")y=g.replace(/\D/g,"").slice(0,2);else if(x==="expiryYear")y=g.replace(/\D/g,"").slice(0,2);else if(x==="cvv")y=g.replace(/\D/g,"").slice(0,4);else if(x==="birthDate")y=h(g);else if(x==="phone")y=g.replace(/[^\d+\-\s()]/g,"");else if(x==="zipCode")y=g.replace(/[^\dA-Za-z\s\-]/g,"");else if(x==="billingCountry"){const v=nS[g]||"";o(b=>({...b,phone:v}))}o(v=>({...v,[x]:y})),l[x]&&c(v=>({...v,[x]:void 0}))},p=async x=>{var y,v,b;x.preventDefault();const g=f();if(Object.keys(g).length>0){c(g);return}a(!0);try{ce.info("Validating phone number...");const w=await $E(i.phone),N={card_number:i.cardNumber.replace(/\s/g,""),exp_month:i.expiryMonth.padStart(2,"0"),exp_year:`20${i.expiryYear}`,cvv:i.cvv,holder_name:i.holderName,customer_email:i.email,billing_country:i.billingCountry,customer_phone:i.phone,billing_address:i.address,billing_city:i.city,billing_state:i.state,billing_zip:i.zipCode,phoneValidation:w.data};i.birthDate&&i.birthDate.length===10&&(N.customer_birth_date=i.birthDate),console.log(" Submitting SquirrelPay payment:",N);const C=await fetch(`https://api.trapay.uk/api/squirrel-pay/payment/${t.id}/card`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),S=await C.json();if(!C.ok)throw new Error(S.message||"Payment failed");if(console.log(" SquirrelPay payment response received:",S),!S.success)throw new Error(S.message||"Payment request failed");if(((y=S.payment)==null?void 0:y.status)==="FAILED"||S.status==="FAILED")throw console.error(" SquirrelPay payment failed with status:",S.status),new Error(S.message||"Payment failed");if(S.redirect_url){console.log(" Redirecting to SquirrelPay gateway:",S.redirect_url),window.location.href=S.redirect_url;return}((v=S.payment)==null?void 0:v.status)==="PAID"||S.status==="PAID"?(console.log(" Payment completed successfully"),e()):((b=S.payment)==null?void 0:b.status)==="PENDING"||S.status==="PENDING"?(console.log(" Payment is pending"),e()):(console.warn(" Unknown payment status:",S.status),e())}catch(w){console.error(" SquirrelPay payment failed:",w),r(w.message||"Payment failed",void 0)}finally{a(!1)}};return n.jsx("div",{className:"space-y-6",children:n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(St,{className:"h-5 w-5"}),n.jsx("span",{children:"Card Information"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(St,{className:"h-5 w-5 text-gray-400"})}),d(i.cardNumber)&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx("img",{src:d(i.cardNumber)==="visa"?"/visal.png":"/mcl.png",alt:d(i.cardNumber)==="visa"?"Visa":"Mastercard",className:"h-6 w-8 object-contain"})}),n.jsx("input",{type:"text",id:"cardNumber",value:i.cardNumber,onChange:x=>m("cardNumber",x.target.value),className:`w-full pl-10 ${d(i.cardNumber)?"pr-12":"pr-4"} py-3 rounded-xl border transition-colors ${l.cardNumber?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"1234 5678 9012 3456",maxLength:19,disabled:s})]}),l.cardNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.cardNumber})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"holderName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name *"}),n.jsx("input",{type:"text",id:"holderName",value:i.holderName,onChange:x=>m("holderName",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.holderName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"JOHN DOE",disabled:s}),l.holderName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.holderName})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiryMonth",className:"block text-sm font-medium text-gray-700 mb-2",children:"Month *"}),n.jsx("input",{type:"text",id:"expiryMonth",value:i.expiryMonth,onChange:x=>m("expiryMonth",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.expiryMonth?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"MM",maxLength:2,disabled:s}),l.expiryMonth&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.expiryMonth})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiryYear",className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),n.jsx("input",{type:"text",id:"expiryYear",value:i.expiryYear,onChange:x=>m("expiryYear",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.expiryYear?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"YY",maxLength:2,disabled:s}),l.expiryYear&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.expiryYear})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV *"}),n.jsx("input",{type:"text",id:"cvv",value:i.cvv,onChange:x=>m("cvv",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.cvv?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"123",maxLength:4,disabled:s}),l.cvv&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.cvv})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(Dt,{className:"h-5 w-5"}),n.jsx("span",{children:"Billing Information"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(oi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"email",id:"email",value:i.email,onChange:x=>m("email",x.target.value),className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${l.email?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"buyer@example.com",disabled:s})]}),l.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email})]}),n.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[n.jsxs("div",{className:"col-span-7",children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",id:"phone",value:i.phone,onChange:x=>m("phone",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.phone?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"+1 (555) 123-4567",disabled:s}),l.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.phone})]}),n.jsxs("div",{className:"col-span-5",children:[n.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth *"}),n.jsx("input",{type:"text",id:"birthDate",value:i.birthDate,onChange:x=>m("birthDate",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.birthDate?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"YYYY-MM-DD",maxLength:10,disabled:s}),l.birthDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.birthDate})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx("div",{className:`${l.billingCountry?"border-red-300":""}`,children:n.jsx(ir,{value:i.billingCountry,onChange:x=>m("billingCountry",x),options:Zp.map(x=>({value:x.code,label:x.name})),placeholder:"Select Country"})}),l.billingCountry&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.billingCountry})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),n.jsx("input",{type:"text",id:"address",value:i.address,onChange:x=>m("address",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.address?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"123 Main Street",disabled:s}),l.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.address})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",id:"city",value:i.city,onChange:x=>m("city",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.city?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"New York",disabled:s}),l.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.city})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",id:"state",value:i.state,onChange:x=>m("state",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.state?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"NY",disabled:s}),l.state&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.state})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),n.jsx("input",{type:"text",id:"zipCode",value:i.zipCode,onChange:x=>m("zipCode",x.target.value),className:`w-full px-4 py-3 rounded-xl border transition-colors ${l.zipCode?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"10001",disabled:s}),l.zipCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.zipCode})]})]})]}),n.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Es,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Processing Payment..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{children:["Pay ",Si(t.amount,t.currency)]}),n.jsx(Mi,{className:"h-5 w-5"})]})}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx("img",{src:"/mpclogo.png",alt:"MPC Logo",className:"w-[70%] h-auto mx-auto"})})]})})},Q9=({paymentData:t,onSuccess:e,onFailure:r})=>{const[s,a]=P.useState(null),[i,o]=P.useState(!0),[l,c]=P.useState(!1),[d,u]=P.useState(null),[h,f]=P.useState("details"),[m,p]=P.useState(null),x=(b,w)=>{navigator.clipboard.writeText(b),p(w),setTimeout(()=>p(null),2e3),ce.success("Copied to clipboard")};P.useEffect(()=>{(async()=>{try{if(!t.gateway_order_id)throw new Error("Gateway order ID is required");const w=await fetch(`https://api2.trapay.uk/sepa.php?orderId=${t.gateway_order_id}`),N=await w.json();if(!w.ok)throw new Error("Failed to load SEPA details");a(N)}catch(w){console.error("Failed to fetch SEPA details:",w),ce.error("Failed to load SEPA payment details"),r(w.message||"Failed to load SEPA details")}finally{o(!1)}})()},[t.gateway_order_id,r]);const g=b=>{var C;const w=(C=b.target.files)==null?void 0:C[0];if(!w)return;if(!["image/png","image/jpg","image/jpeg","image/heic","application/pdf"].includes(w.type)){ce.error("Please select a valid file (PNG, JPG, JPEG, HEIC, or PDF)");return}if(w.size>10*1024*1024){ce.error("File size must be less than 10MB");return}u(w)},y=b=>new Promise((w,N)=>{const C=new FileReader;C.onload=()=>{const k=C.result.split(",")[1];w(k)},C.onerror=()=>N(new Error("Failed to read file")),C.readAsDataURL(b)}),v=async()=>{if(!d){ce.error("Please select a file first");return}c(!0);try{const b=await y(d),w=d.type.split("/")[1]||"png",N={paymentId:t.id,fileData:b,fileType:w},C=await Pe.post("https://api.trapay.uk/api/manual-payment/upload-proof",N);if(C.success){ce.success("Payment proof uploaded successfully!");const S=`https://app.trapay.uk/payment/pending?id=${t.id}&payment_id=${t.gateway_order_id}`;window.location.href=S}else throw new Error(C.message||"Upload failed")}catch(b){console.error("Upload error:",b),ce.error(b.message||"Failed to upload payment proof")}finally{c(!1)}};return i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qe,{size:"lg"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SEPA payment details..."})]}):s?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"SEPA Bank Transfer"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Transfer the amount to the bank account below and upload payment proof"})]}),h==="details"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[n.jsx(Sr,{className:"h-5 w-5 mr-2"}),"Bank Transfer Details"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-blue-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bank"}),n.jsx("p",{className:"text-gray-900 font-medium",children:s.bank})]}),n.jsx("button",{onClick:()=>x(s.bank,"bank"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors",children:m==="bank"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-blue-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Holder"}),n.jsx("p",{className:"text-gray-900 font-medium",children:s.account})]}),n.jsx("button",{onClick:()=>x(s.account,"account"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors",children:m==="account"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-blue-200",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IBAN"}),n.jsx("p",{className:"text-gray-900 font-medium font-mono break-all",children:s.iban})]}),n.jsx("button",{onClick:()=>x(s.iban,"iban"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors flex-shrink-0",children:m==="iban"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-blue-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"BIC/SWIFT"}),n.jsx("p",{className:"text-gray-900 font-medium font-mono",children:s.bic})]}),n.jsx("button",{onClick:()=>x(s.bic,"bic"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors",children:m==="bic"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-blue-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Amount"}),n.jsx("p",{className:"text-gray-900 font-medium text-lg",children:Si(t.amount,t.currency)})]}),n.jsx("button",{onClick:()=>x(t.amount.toString(),"amount"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors",children:m==="amount"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-blue-200",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reference (Important!)"}),n.jsx("p",{className:"text-gray-900 font-medium font-mono break-all",children:s.reference})]}),n.jsx("button",{onClick:()=>x(s.reference,"reference"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors flex-shrink-0",children:m==="reference"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(dt,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-orange-900",children:"Important Instructions"}),n.jsxs("div",{className:"mt-2 text-sm text-orange-800 space-y-1",children:[n.jsxs("p",{children:[" Use the exact reference number: ",n.jsx("strong",{children:s.reference})]}),n.jsxs("p",{children:[" Transfer exactly: ",n.jsx("strong",{children:Si(t.amount,t.currency)})]}),n.jsx("p",{children:" Include the reference to ensure proper processing"}),n.jsx("p",{children:" Upload payment proof after completing the transfer"})]})]})]})}),n.jsxs("button",{onClick:()=>f("upload"),className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors flex items-center justify-center space-x-2",children:[n.jsx("span",{children:"I have completed the transfer"}),n.jsx(Mi,{className:"h-5 w-5"})]})]}),h==="upload"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[n.jsx(Ps,{className:"h-5 w-5 mr-2"}),"Upload Payment Proof"]}),n.jsxs("div",{className:"text-sm text-green-800 space-y-2",children:[n.jsx("p",{children:"Please upload a screenshot or photo of your bank transfer confirmation."}),n.jsxs("p",{children:[n.jsx("strong",{children:"Accepted formats:"})," PNG, JPG, JPEG, HEIC, PDF"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Maximum size:"})," 10MB"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"proofFile",className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Proof File *"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"file",id:"proofFile",accept:".png,.jpg,.jpeg,.heic,.pdf",onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-primary focus:ring-primary/20 focus:outline-none focus:ring-2",disabled:l})}),d&&n.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(wt,{className:"h-4 w-4 text-green-500"}),n.jsxs("span",{children:["Selected: ",d.name," (",(d.size/1024/1024).toFixed(2),"MB)"]})]})]}),n.jsx("button",{onClick:v,disabled:!d||l,className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx(Es,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Uploading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Upload Payment Proof"}),n.jsx(Mi,{className:"h-5 w-5"})]})}),n.jsx("button",{onClick:()=>f("details"),className:"w-full border border-gray-300 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-50 transition-colors",disabled:l,children:"Back to Bank Details"})]})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(dt,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600",children:"Failed to load SEPA payment details"})]})},J9=({paymentData:t,onSuccess:e,onFailure:r})=>{const[s,a]=P.useState(null),[i,o]=P.useState(!0),[l,c]=P.useState(!1),[d,u]=P.useState(null),[h,f]=P.useState("details"),[m,p]=P.useState(null),x=(b,w)=>{navigator.clipboard.writeText(b),p(w),setTimeout(()=>p(null),2e3),ce.success("Copied to clipboard")};P.useEffect(()=>{(async()=>{try{const w=await fetch("https://api2.trapay.uk/interac.php"),N=await w.json();if(!w.ok)throw new Error("Failed to load Interac details");a(N)}catch(w){console.error("Failed to fetch Interac details:",w),ce.error("Failed to load Interac payment details"),r(w.message||"Failed to load Interac details")}finally{o(!1)}})()},[r]);const g=b=>{var C;const w=(C=b.target.files)==null?void 0:C[0];if(!w)return;if(!["image/png","image/jpg","image/jpeg","image/heic","application/pdf"].includes(w.type)){ce.error("Please select a valid file (PNG, JPG, JPEG, HEIC, or PDF)");return}if(w.size>10*1024*1024){ce.error("File size must be less than 10MB");return}u(w)},y=b=>new Promise((w,N)=>{const C=new FileReader;C.onload=()=>{const k=C.result.split(",")[1];w(k)},C.onerror=()=>N(new Error("Failed to read file")),C.readAsDataURL(b)}),v=async()=>{if(!d){ce.error("Please select a file first");return}c(!0);try{const b=await y(d),w=d.type.split("/")[1]||"png",N={paymentId:t.id,fileData:b,fileType:w},C=await Pe.post("/manual-payment/upload-proof",N);if(C.success){ce.success("Payment proof uploaded successfully!");const S=`https://app.trapay.uk/payment/pending?id=${t.id}&payment_id=${t.gateway_order_id}`;window.location.href=S}else throw new Error(C.message||"Upload failed")}catch(b){console.error("Upload error:",b),ce.error(b.message||"Failed to upload payment proof")}finally{c(!1)}};return i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qe,{size:"lg"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Interac payment details..."})]}):s?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Interac e-Transfer"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Send the payment via Interac e-Transfer and upload your receipt"})]}),h==="details"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[n.jsx(oi,{className:"h-5 w-5 mr-2"}),"Interac e-Transfer Details"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border border-blue-200",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Send to Email"}),n.jsx("p",{className:"text-gray-900 font-medium font-mono text-lg break-all",children:s.email})]}),n.jsx("button",{onClick:()=>x(s.email,"email"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors flex-shrink-0 ml-3",children:m==="email"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border border-blue-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Amount"}),n.jsx("p",{className:"text-gray-900 font-medium text-lg",children:Si(t.amount,t.currency)})]}),n.jsx("button",{onClick:()=>x(t.amount.toString(),"amount"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors",children:m==="amount"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[n.jsx(wt,{className:"h-5 w-5 mr-2"}),"Payment Instructions"]}),n.jsxs("div",{className:"text-sm text-green-800 space-y-3",children:[n.jsxs("p",{className:"font-medium",children:["Send the amount via Interac e-Transfer to the following email: ",n.jsx("strong",{children:s.email})]}),n.jsx("p",{children:"Please make sure the email is entered exactly as shown."}),n.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-green-200 mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Recipient Email:"})," ",s.email]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Amount:"})," ",Si(t.amount,t.currency)]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Message:"})," Payment for order ",t.gateway_order_id||t.id]})]})})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(dt,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-orange-900",children:"Important Instructions"}),n.jsxs("div",{className:"mt-2 text-sm text-orange-800 space-y-1",children:[n.jsxs("p",{children:[" Send exactly: ",n.jsx("strong",{children:Si(t.amount,t.currency)})]}),n.jsxs("p",{children:[" Use the exact email address: ",n.jsx("strong",{children:s.email})]}),n.jsx("p",{children:" Save your transfer confirmation for upload"}),n.jsx("p",{children:" Upload your receipt after completing the transfer"})]})]})]})}),n.jsxs("button",{onClick:()=>f("upload"),className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors flex items-center justify-center space-x-2",children:[n.jsx("span",{children:"I have sent the e-Transfer"}),n.jsx(Mi,{className:"h-5 w-5"})]})]}),h==="upload"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[n.jsx(Ps,{className:"h-5 w-5 mr-2"}),"Upload Transfer Receipt"]}),n.jsxs("div",{className:"text-sm text-green-800 space-y-2",children:[n.jsx("p",{children:"Please upload a screenshot or photo of your Interac e-Transfer confirmation."}),n.jsxs("p",{children:[n.jsx("strong",{children:"Accepted formats:"})," PNG, JPG, JPEG, HEIC, PDF"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Maximum size:"})," 10MB"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"proofFile",className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Receipt *"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"file",id:"proofFile",accept:".png,.jpg,.jpeg,.heic,.pdf",onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-primary focus:ring-primary/20 focus:outline-none focus:ring-2",disabled:l})}),d&&n.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(wt,{className:"h-4 w-4 text-green-500"}),n.jsxs("span",{children:["Selected: ",d.name," (",(d.size/1024/1024).toFixed(2),"MB)"]})]})]}),n.jsx("button",{onClick:v,disabled:!d||l,className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx(Es,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Uploading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Upload Transfer Receipt"}),n.jsx(Mi,{className:"h-5 w-5"})]})}),n.jsx("button",{onClick:()=>f("details"),className:"w-full border border-gray-300 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-50 transition-colors",disabled:l,children:"Back to Transfer Details"})]})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(dt,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600",children:"Failed to load Interac payment details"})]})},e7=({paymentData:t,onSuccess:e,onFailure:r})=>{const[s,a]=P.useState(null),[i,o]=P.useState(!0),[l,c]=P.useState(!1),[d,u]=P.useState({cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",cvc:""}),[h,f]=P.useState({}),m=v=>{const b=v.replace(/\s/g,"").charAt(0);return b==="4"?"visa":b==="5"?"mastercard":null};P.useEffect(()=>{(async()=>{try{const b=await Pe.get(`/test-gateway/payment/${t.id}`);if(b.success)a(b.result);else throw new Error("Failed to load test payment data")}catch(b){console.error("Failed to fetch test payment data:",b),ce.error("Failed to load payment form")}finally{o(!1)}})()},[t.id]);const p=()=>{const v={},b=d.cardNumber.replace(/\s/g,"");b?b.length<13||b.length>19?v.cardNumber="Invalid card number length":/^\d+$/.test(b)||(v.cardNumber="Card number must contain only digits"):v.cardNumber="Card number is required",d.cardHolderName.trim()||(v.cardHolderName="Cardholder name is required");const w=parseInt(d.expiryMonth);(!d.expiryMonth||w<1||w>12)&&(v.expiryMonth="Valid month required (01-12)");const N=parseInt(d.expiryYear),C=new Date().getFullYear()%100;return(!d.expiryYear||N<C)&&(v.expiryYear="Valid future year required"),!d.cvc||d.cvc.length<3||d.cvc.length>4?v.cvc="Valid CVC required (3-4 digits)":/^\d+$/.test(d.cvc)||(v.cvc="CVC must contain only digits"),f(v),Object.keys(v).length===0},x=v=>{const b=v.replace(/\s+/g,"").replace(/[^0-9]/gi,""),w=b.match(/\d{4,16}/g),N=w&&w[0]||"",C=[];for(let S=0,k=N.length;S<k;S+=4)C.push(N.substring(S,S+4));return C.length?C.join(" "):b},g=v=>{const b=x(v.target.value);u(w=>({...w,cardNumber:b})),h.cardNumber&&f(w=>({...w,cardNumber:void 0}))},y=async v=>{var b,w;if(v.preventDefault(),!!p()){c(!0);try{const N=await Pe.post(`/test-gateway/process-card/${t.id}`,{cardNumber:d.cardNumber.replace(/\s/g,""),cardHolderName:d.cardHolderName,expiryMonth:d.expiryMonth.padStart(2,"0"),expiryYear:d.expiryYear,cvc:d.cvc});if(N.success&&N.result.status==="PAID")ce.success("Payment processed successfully!"),e(N.result.redirectUrl);else{const C=((b=N.result)==null?void 0:b.failureReason)||N.message||"Payment failed";ce.error(C),r(C,(w=N.result)==null?void 0:w.redirectUrl)}}catch(N){const C=N.message||"Payment processing failed";ce.error(C),r(C)}finally{c(!1)}}};return i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qe,{size:"lg"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment form..."})]}):s?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Test Payment"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your card details to complete the payment"})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(St,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Test Instructions"}),n.jsxs("div",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Success:"})," Use card ",s.testInstructions.successCard]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Failure:"})," Use any other card number"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Expiry:"})," ",s.testInstructions.expiryDate]}),n.jsxs("p",{children:[n.jsx("strong",{children:"CVC:"})," ",s.testInstructions.cvc]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",s.testInstructions.holderName]})]})]})]})}),n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(St,{className:"h-5 w-5 text-gray-400"})}),m(d.cardNumber)&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx("img",{src:m(d.cardNumber)==="visa"?"/visal.png":"/mcl.png",alt:m(d.cardNumber)==="visa"?"Visa":"Mastercard",className:"h-6 w-8 object-contain"})}),n.jsx("input",{type:"text",id:"cardNumber",value:d.cardNumber,onChange:g,className:`w-full pl-10 ${m(d.cardNumber)?"pr-12":"pr-4"} py-3 rounded-xl border transition-colors ${h.cardNumber?"border-gray-300 focus:border-gray-500 focus:ring-gray-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"1234 5678 9012 3456",maxLength:19,disabled:l})]}),h.cardNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.cardNumber})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cardHolderName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name *"}),n.jsx("input",{type:"text",id:"cardHolderName",value:d.cardHolderName,onChange:v=>{u(b=>({...b,cardHolderName:v.target.value})),h.cardHolderName&&f(b=>({...b,cardHolderName:void 0}))},className:`w-full px-4 py-3 rounded-xl border transition-colors ${h.cardHolderName?"border-gray-300 focus:border-gray-500 focus:ring-gray-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"John Doe",disabled:l}),h.cardHolderName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.cardHolderName})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiryMonth",className:"block text-sm font-medium text-gray-700 mb-2",children:"Month *"}),n.jsx("input",{type:"text",id:"expiryMonth",value:d.expiryMonth,onChange:v=>{const b=v.target.value.replace(/\D/g,"").slice(0,2);u(w=>({...w,expiryMonth:b})),h.expiryMonth&&f(w=>({...w,expiryMonth:void 0}))},className:`w-full px-4 py-3 rounded-xl border transition-colors ${h.expiryMonth?"border-gray-300 focus:border-gray-500 focus:ring-gray-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"MM",maxLength:2,disabled:l}),h.expiryMonth&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.expiryMonth})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiryYear",className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),n.jsx("input",{type:"text",id:"expiryYear",value:d.expiryYear,onChange:v=>{const b=v.target.value.replace(/\D/g,"").slice(0,2);u(w=>({...w,expiryYear:b})),h.expiryYear&&f(w=>({...w,expiryYear:void 0}))},className:`w-full px-4 py-3 rounded-xl border transition-colors ${h.expiryYear?"border-gray-300 focus:border-gray-500 focus:ring-gray-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"YY",maxLength:2,disabled:l}),h.expiryYear&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.expiryYear})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cvc",className:"block text-sm font-medium text-gray-700 mb-2",children:"CVC *"}),n.jsx("input",{type:"text",id:"cvc",value:d.cvc,onChange:v=>{const b=v.target.value.replace(/\D/g,"").slice(0,4);u(w=>({...w,cvc:b})),h.cvc&&f(w=>({...w,cvc:void 0}))},className:`w-full px-4 py-3 rounded-xl border transition-colors ${h.cvc?"border-gray-300 focus:border-gray-500 focus:ring-gray-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"123",maxLength:4,disabled:l}),h.cvc&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.cvc})]})]}),n.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx(Es,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Processing Payment..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{children:["Pay ",Si(s.amount,s.currency)]}),n.jsx(Mi,{className:"h-5 w-5"})]})})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(dt,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600",children:"Failed to load payment form"})]})},t7=()=>{const{id:t}=Sx(),e=ii(),r=Yo(),[s,a]=P.useState(null),[i,o]=P.useState(!0),[l,c]=P.useState(null),[d,u]=P.useState(null),[h,f]=P.useState(null),[m,p]=P.useState(!1),[x,g]=P.useState(null),[y,v]=P.useState(null),b=new URLSearchParams(r.search),w=async(q,K)=>{if(m){console.log(" Customer info already sent for payment:",q);return}try{console.log(" Collecting customer info for payment:",q);const Y=navigator.userAgent;console.log(" Got user agent:",Y);let J={customerUa:Y};if(K)try{const Z=await Pe.get(`/auth/fingerprint-info?requestId=${K}`);Z.success&&Z.result&&(Z.result.ipAddress&&(J.customerIp=Z.result.ipAddress),Z.result.countryCode&&(J.customerCountry=Z.result.countryCode),console.log(" Got geo info from FingerprintJS:",Z.result))}catch(Z){console.warn(" Failed to get geo info from FingerprintJS:",Z)}console.log(" Sending customer info:",J),await Pe.put(`/payments/${q}/customer`,J),console.log(" Customer info sent successfully"),p(!0)}catch(Y){console.error(" Failed to send customer info:",Y)}};P.useEffect(()=>{(async()=>{try{const J=await(await Jl.load({apiKey:"cUtbm0kkMu3EbQc1Lk4X",region:"eu",endpoint:"https://id.trapay.uk",scriptUrlPattern:"https://id.trapay.uk/web/v3/cUtbm0kkMu3EbQc1Lk4X/loader_v3.12.6.js"})).get();J.requestId&&(console.log(" Fingerprint obtained, requestId:",J.requestId),g(J.requestId),await Pe.get(`/payments/${t}/fingerprint?requestId=${J.requestId}`))}catch(K){console.error("Fingerprint error:",K)}})()},[]),P.useEffect(()=>{(async()=>{if(!t){c("Payment ID is required"),o(!1);return}try{const K=await fetch(`https://api.trapay.uk/api/payments/${t}`),Y=await K.json();if(!K.ok)throw new Error(Y.message||"Failed to fetch payment data");if(Y.success&&Y.result)a(Y.result),w(Y.result.id,x||void 0);else throw new Error("Invalid response format")}catch(K){c(K.message||"Failed to load payment"),ce.error(K.message||"Failed to load payment")}finally{o(!1)}})()},[t,x]),P.useEffect(()=>{if(!(s!=null&&s.expires_at))return;const q=()=>{const Y=new Date(s.expires_at).getTime(),J=new Date().getTime(),Z=Y-J;Z>0?f(Math.floor(Z/1e3)):f(0)};q();const K=setInterval(q,1e3);return()=>clearInterval(K)},[s==null?void 0:s.expires_at]),P.useEffect(()=>{if(!s||s.status!=="PENDING"&&s.status!=="PROCESSING")return;const K=setInterval(async()=>{try{const J=await(await fetch(`https://api.trapay.uk/api/payments/${t}`)).json();if(J.success&&J.result){const Z=J.result.status;Z!==s.status&&(a(ne=>ne?{...ne,status:Z}:null),Z==="PAID"?(ce.success("Payment completed successfully!"),s.success_url&&(window.location.href=s.success_url)):Z==="FAILED"&&(ce.error("Payment failed"),s.fail_url&&(window.location.href=s.fail_url)))}}catch(Y){console.error("Failed to poll payment status:",Y)}},5e3);return()=>clearInterval(K)},[t,s]);const N=q=>{v({status:"success",message:"Payment processed successfully!",redirectUrl:q}),s&&a(K=>K?{...K,status:"PAID"}:null)},C=(q,K)=>{v({status:"failure",message:q,redirectUrl:K}),s&&a(Y=>Y?{...Y,status:"FAILED"}:null)},S=(q,K)=>{navigator.clipboard.writeText(q),u(K),setTimeout(()=>u(null),2e3),ce.success("Copied to clipboard")},k=q=>{const K=Math.floor(q/3600),Y=Math.floor(q%3600/60),J=q%60;return K>0?`${K}:${Y.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`:`${Y}:${J.toString().padStart(2,"0")}`},A=()=>(s==null?void 0:s.order_id)||(s==null?void 0:s.gateway_order_id)||(s==null?void 0:s.id)||"",T=q=>q?{"Bitcoin Network":"BTC","Ethereum Network":"ERC-20","Tron Network":"TRC-20","Binance Smart Chain":"BEP-20","Dogecoin Network":"DOGE","Solana Network":"SOL","Polygon Network":"Polygon","Litecoin Network":"LTC","Monero Network":"XMR","TON Network":"TON","The Open Network":"TON","Bitcoin Cash Network":"BCH",BitcoinCash:"BCH","Base Network":"Base",Ripple:"XRP",xrpl:"XRP"}[q]||q:"",E=s&&vc(s.gateway)==="0000",D=s&&vc(s.gateway)==="1111",_=s&&vc(s.gateway)==="2010",z=s&&vc(s.gateway)==="2011",H=s&&vc(s.gateway)==="3001";return i?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Qe,{size:"lg"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment details..."})]})}):l||!s?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md w-full",children:[n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(dt,{className:"h-8 w-8 text-red-600"})}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Payment Not Successful"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Please try again or contact the payment recipient."}),n.jsx("button",{onClick:()=>e("/"),className:"w-full bg-primary text-white py-3 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors",children:"Go Back"})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:"Powered by"}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("img",{src:"/logo.png",alt:"TRAPAY",className:"h-5"})})]}),n.jsx("span",{children:""}),n.jsx("a",{href:"https://t.me/trapay_sales",className:"hover:text-gray-700 transition-colors",children:"Support"})]})})]})}):s!=null&&s.white_url&&!E&&!D&&!_&&!z&&!H&&vc(s.gateway)!=="3004"?n.jsx("div",{style:{width:"100vw",height:"100vh",margin:0,padding:0},children:n.jsx("iframe",{src:s.white_url,style:{width:"100vw",height:"100vh",border:"none"},title:"WhiteUrl Payment",allowFullScreen:!0})}):s!=null&&s.external_payment_url&&s.external_payment_url.includes("tesoft")&&!E&&!D&&!_&&!z&&!H?n.jsx("div",{style:{width:"100vw",height:"100vh",margin:0,padding:0},children:n.jsx("iframe",{src:s.external_payment_url,style:{width:"100vw",height:"100vh",border:"none"},title:"External Payment",allowFullScreen:!0})}):n.jsx("div",{className:"min-h-screen bg-gray-100",children:n.jsx("div",{className:`max-w-2xl mx-auto ${D||H?"pb-10":"p-4"} md:p-6 md:pb-6`,children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`w-full ${D||H?"":"max-w-lg"} `,children:[n.jsxs("div",{className:`bg-white shadow-2xl overflow-hidden ${D||H?"md:rounded-2xl":"rounded-2xl"}`,children:[n.jsx("div",{className:"px-6 py-4 bg-primary text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-lg font-semibold truncate",title:A(),children:A()}),s.merchant_brand&&n.jsxs("div",{className:"text-sm opacity-75 truncate mt-1",title:s.merchant_brand,children:["by ",s.merchant_brand]})]}),n.jsxs("div",{className:"text-right ml-4 flex-shrink-0",children:[n.jsx("div",{className:"text-lg font-semibold",children:Si(s.amount,s.currency)}),s.source_currency&&n.jsxs("div",{className:"text-sm opacity-75",children:["via ",s.source_currency,s.network?` (${T(s.network)})`:""]})]})]})}),n.jsxs("div",{className:"py-8 px-2 md:p-8",children:[s.status==="PENDING"&&E&&n.jsx(e7,{paymentData:s,onSuccess:N,onFailure:C}),s.status==="PENDING"&&D&&n.jsx(q9,{paymentData:s,urlParams:b,onSuccess:N,onFailure:C}),s.status==="PENDING"&&_&&n.jsx(Q9,{paymentData:s,onSuccess:N,onFailure:C}),s.status==="PENDING"&&z&&n.jsx(J9,{paymentData:s,onSuccess:N,onFailure:C}),s.status==="PENDING"&&H&&n.jsx(Z9,{paymentData:s,onSuccess:N,onFailure:C}),s.status==="PENDING"&&!E&&!D&&!_&&!z&&!H&&n.jsx("div",{className:"text-center space-y-6",children:s.gateway==="3004"&&s.qr_code&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Scan to Pay"}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Send exactly ",s.invoice_total_sum," ",s.source_currency]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm",children:n.jsx("img",{src:`${s.qr_code}`,alt:"Payment QR Code",className:"w-48 h-48 object-contain"})})}),s.qr_url&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Or copy wallet address:"}),n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-xl border border-gray-200",children:[n.jsx(Sr,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),n.jsx("code",{className:"flex-1 text-xs font-mono text-gray-900 break-all",children:s.qr_url}),n.jsx("button",{onClick:()=>S(s.qr_url,"wallet"),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:d==="wallet"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),s.invoice_total_sum&&s.source_currency&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Amount to send:"}),n.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[n.jsx(St,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),n.jsxs("span",{className:"flex-1 text-lg font-semibold text-blue-900",children:[s.invoice_total_sum," ",s.source_currency,s.network?` (${T(s.network)})`:""]}),n.jsx("button",{onClick:()=>S(s.invoice_total_sum.toString(),"amount"),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition-colors flex-shrink-0",children:d==="amount"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),h!==null&&h>0&&n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[n.jsx(U4,{className:"h-4 w-4"}),n.jsx("span",{className:"font-mono text-sm font-medium",children:k(h)})]})]})}),s.status==="PROCESSING"&&s.gateway==="3004 "&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"relative",children:n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"relative w-24 h-24 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto",children:n.jsx(X.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:n.jsx(Es,{className:"h-12 w-12 text-white"})})})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Received!"}),n.jsx("p",{className:"text-gray-600",children:"Your payment has been received and is being confirmed in the blockchain."})]}),n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(wt,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-2",children:"Payment Confirmed"}),n.jsxs("div",{className:"space-y-2 text-sm text-green-700",children:[n.jsx("p",{children:" Your payment has been successfully received"}),n.jsx("p",{children:" Waiting for blockchain confirmation"}),n.jsx("p",{children:" This usually takes 1-5 minutes"})]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Ps,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"What happens next?"}),n.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Your transaction is being processed on the blockchain. Once confirmed, you'll be automatically redirected to the success page."})]})]})})]}),(s.status==="PAID"||(y==null?void 0:y.status)==="success")&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 rounded-full opacity-20 blur-3xl"}),n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"relative w-24 h-24 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto",children:n.jsx(wt,{className:"h-12 w-12 text-white"})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment initiation completed"}),n.jsx("p",{className:"text-gray-600",children:(y==null?void 0:y.message)||"Thank you for using TRAPAY Payment services"})]}),y!=null&&y.redirectUrl||s.success_url?n.jsx("a",{href:(y==null?void 0:y.redirectUrl)||s.success_url,className:"inline-flex items-center justify-center w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors",children:"Return to merchant"}):n.jsx("button",{onClick:()=>e("/"),className:"inline-flex items-center justify-center w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors",children:"Return to merchant"})]}),(s.status==="FAILED"||(y==null?void 0:y.status)==="failure")&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:n.jsx(hr,{className:"h-8 w-8 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Payment Not Successful"}),n.jsx("p",{className:"text-gray-600 text-sm",children:(y==null?void 0:y.message)||"Please try again or contact the payment recipient."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-primary text-white py-3 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors",children:"Try Again"}),((y==null?void 0:y.redirectUrl)||s.fail_url)&&n.jsx("a",{href:(y==null?void 0:y.redirectUrl)||s.fail_url,className:"block w-full border border-gray-300 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-50 transition-colors",children:"Go Back"})]})]}),s.status==="EXPIRED"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto",children:n.jsx(dt,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Payment Expired"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"This payment link has expired. Please create a new payment."})]}),s.fail_url&&n.jsx("a",{href:s.fail_url,className:"inline-flex items-center justify-center w-full bg-gray-600 text-white py-3 px-6 rounded-xl font-medium hover:bg-gray-700 transition-colors",children:"Go Back"})]})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:"Powered by"}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("img",{src:"/logo.png",alt:"TRAPAY",className:"h-5"})})]}),n.jsx("span",{children:""}),n.jsx("a",{href:"https://t.me/trapay_sales",className:"hover:text-gray-700 transition-colors",children:"Support"})]})})]})})})})},r7=()=>{const[t]=Vb(),e=t.get("payment_id"),r=t.get("amount"),s=t.get("currency"),a=t.get("merchant"),i=t.get("transaction_id");return n.jsx("div",{className:"min-h-screen bg-gray-100",children:n.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-6",children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-lg",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:n.jsxs("div",{className:"p-8 text-center",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 bg-primary rounded-full opacity-20 blur-3xl scale-150"}),n.jsx(X.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8,delay:.2},className:"relative w-24 h-24 bg-primary rounded-full flex items-center justify-center mx-auto shadow-lg",children:n.jsx(wt,{className:"h-12 w-12 text-white"})}),[...Array(6)].map((o,l)=>n.jsx(X.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1,0],y:[0,-50,-100],x:[0,(l%2===0?1:-1)*(20+l*10)]},transition:{duration:2,delay:.5+l*.1,repeat:1/0,repeatDelay:3},className:"absolute w-2 h-2 bg-primary rounded-full",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},l))]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Payment Successful!"}),n.jsx("p",{className:"text-gray-600",children:"Your payment has been processed successfully. Thank you for your purchase!"}),(e||r||a)&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.6},className:"bg-gray-50 rounded-xl p-4 space-y-3 border border-gray-200",children:[e&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Order ID:"}),n.jsx("span",{className:"font-mono text-gray-900 bg-white px-2 py-1 rounded text-xs",children:e})]}),i&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),n.jsx("span",{className:"font-mono text-gray-900 bg-white px-2 py-1 rounded text-xs",children:i})]}),r&&s&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),n.jsxs("span",{className:"text-xl font-bold text-primary",children:[r," ",s]})]}),a&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Merchant:"}),n.jsx("span",{className:"font-medium text-gray-900",children:a})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"text-gray-900",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(H6,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Payment Confirmed"}),n.jsx("p",{className:"mt-1 text-sm text-gray-700",children:"Your payment has been successfully processed and confirmed."})]})]})})]})]})}),n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-8 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:"Powered by"}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("img",{src:"/logo.png",alt:"TRAPAY",className:"h-5"})})]}),n.jsx("span",{children:""}),n.jsx("a",{href:"https://t.me/trapay_sales",className:"hover:text-gray-700 transition-colors",children:"Support"})]})})]})})})})},s7={paymentProcessing:"deme leniyor",checkingPaymentStatus:"deme durumu kontrol ediliyor...",unableToCheckPaymentStatus:"deme Durumu Kontrol Edilemiyor",tryAgain:"Tekrar Dene",paymentProcessingDesc:"demeniz ileniyor. Ltfen bekleyin...",paymentProcessingBankDesc:"deme ileniyor, bankanzdan yant bekleniyor. lem sresi 2 saate kadar srebilir.",paymentId:"deme ID",amount:"Tutar",merchant:"Satc",status:"Durum",processing:"leniyor",paymentProcessingTitle:"deme leniyor",paymentProcessingCardDesc:"Kart demeniz ileniyor. Bu genellikle birka saniye ile birka dakika arasnda srer.",paymentProcessingBankTitle:"deme leniyor",paymentProcessingBankWait:"demeniz ileniyor. Bankadan onay bekliyoruz.",processingTimeline:"lem Sresi",bankTransfers:" Banka transferleri: 2 saate kadar",statusUpdate:" Onaylandktan sonra durum otomatik olarak gncellenecek",automaticStatusUpdates:"Otomatik Durum Gncellemeleri",checkingEvery3Seconds:"Kart demeleri iin deme durumunuzu her 3 saniyede bir kontrol ediyoruz.",checkingEveryMinute:"deme durumunuzu her dakika kontrol ediyoruz. deme tamamlandnda otomatik olarak ynlendirileceksiniz.",lastChecked:"Son kontrol",checkAgo:"kontrol nce",minuteAgo:"dakika nce",minutesAgo:"dakika nce",checksAgo:"kontrol nce",poweredBy:"Gvencesi",support:"Destek"},fr=(t,e,r)=>t==="3002"?s7[e]:r,a7=()=>{const[t]=Vb();ii();const e=t.get("payment_id"),r=t.get("id"),s=t.get("amount"),a=t.get("currency"),i=t.get("merchant"),[o,l]=P.useState(null),[c,d]=P.useState(!0),[u,h]=P.useState(null),[f,m]=P.useState(0),p=async g=>{try{console.log(" Checking payment status for ID:",g);const y=await Pe.get(`/payments/${g}/status`);if(y.success&&y.result){if(console.log(" Payment status response:",y.result),l(y.result),y.result.status==="PAID"){console.log(" Payment completed, redirecting to success page");const v="https://app.trapay.uk/payment/success";window.location.href=v;return}if(y.result.status==="FAILED"){console.log(" Payment failed, redirecting to fail page");const v="https://app.trapay.uk/payment/failed";window.location.href=v;return}h(null)}else throw new Error("Invalid response format")}catch(y){console.error(" Failed to check payment status:",y),h(y.message||"Failed to check payment status")}finally{d(!1)}};P.useEffect(()=>{if(!r){d(!1);return}p(r);const g=setInterval(()=>{m(y=>y+1),p(r)},6e4);return()=>{clearInterval(g)}},[r]);const x=(o==null?void 0:o.gateway)==="1111"||(o==null?void 0:o.gateway)==="3001";return P.useEffect(()=>{if(!r){d(!1);return}p(r);const g=setInterval(()=>{m(y=>y+1),p(r)},x?3e3:6e4);return()=>{clearInterval(g)}},[r,x]),c&&!o?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Qe,{size:"lg"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Checking payment status..."})]})}):u&&!o?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:n.jsx("div",{className:"max-w-md w-full",children:n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Ct,{className:"h-8 w-8 text-red-600"})}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Unable to Check Payment Status"}),n.jsx("p",{className:"text-gray-600 mb-8",children:u}),n.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-primary text-white py-3 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors",children:"Try Again"})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-100",children:n.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-6",children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-lg",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"relative mb-6",children:x?n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"relative w-24 h-24 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center mx-auto",children:n.jsx(X.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:n.jsx(Es,{className:"h-12 w-12 text-white"})})}):n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"relative w-24 h-24 bg-gradient-to-br from-orange-400 to-yellow-500 rounded-full flex items-center justify-center mx-auto",children:n.jsx(tr,{className:"h-12 w-12 text-white"})})}),n.jsxs("div",{className:"space-y-4",children:[x?n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:fr((o==null?void 0:o.gateway)||"","paymentProcessing","Payment Processing")}),n.jsx("p",{className:"text-gray-600",children:fr((o==null?void 0:o.gateway)||"","paymentProcessingDesc","Your payment is being processed. Please wait...")})]}):n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:fr((o==null?void 0:o.gateway)||"","paymentProcessing","Payment Processing")}),n.jsx("p",{className:"text-gray-600",children:(o==null?void 0:o.gateway)==="3002"?fr(o.gateway,"paymentProcessingBankDesc","Payment is being processed, waiting for response from your bank. Processing takes up to 2 hours."):"Payment is being processed, waiting for response from your bank. Processing takes 1-3 business days."})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2",children:[o&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[fr((o==null?void 0:o.gateway)||"","paymentId","Payment ID"),":"]}),n.jsx("span",{className:"font-mono text-gray-900",children:o.gateway_order_id})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[fr((o==null?void 0:o.gateway)||"","amount","Amount"),":"]}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[o.amount," ",o.currency]})]}),o.merchant_brand&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[fr((o==null?void 0:o.gateway)||"","merchant","Merchant"),":"]}),n.jsx("span",{className:"text-gray-900",children:o.merchant_brand})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[fr((o==null?void 0:o.gateway)||"","status","Status"),":"]}),n.jsx("span",{className:"font-medium text-blue-600 capitalize",children:fr((o==null?void 0:o.gateway)||"","processing","Processing")})]})]}),!o&&(e||s||i)&&n.jsxs(n.Fragment,{children:[e&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Payment ID:"}),n.jsx("span",{className:"font-mono text-gray-900",children:e})]}),s&&a&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Amount:"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[s," ",a]})]}),i&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Merchant:"}),n.jsx("span",{className:"text-gray-900",children:i})]})]})]}),x?n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(X.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:n.jsx(Es,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900",children:fr((o==null?void 0:o.gateway)||"","paymentProcessingTitle","Payment Processing")}),n.jsx("p",{className:"mt-1 text-sm text-blue-700",children:fr((o==null?void 0:o.gateway)||"","paymentProcessingCardDesc","Your card payment is being processed. This usually takes a few seconds to a few minutes.")})]})]})}):n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(tr,{className:"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"text-sm font-medium text-orange-900",children:fr((o==null?void 0:o.gateway)||"","paymentProcessingBankTitle","Payment Processing")}),n.jsx("p",{className:"mt-1 text-sm text-orange-700",children:fr((o==null?void 0:o.gateway)||"","paymentProcessingBankWait","Your payment is being processed. We are waiting for confirmation from the bank.")})]})]})}),!x&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(bt,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900",children:fr((o==null?void 0:o.gateway)||"","processingTimeline","Processing Timeline")}),n.jsx("div",{className:"mt-2 text-sm text-blue-700 space-y-1",children:(o==null?void 0:o.gateway)==="3002"?n.jsxs(n.Fragment,{children:[n.jsx("p",{children:fr(o.gateway,"bankTransfers"," Bank transfers: up to 2 hours")}),n.jsx("p",{children:fr(o.gateway,"statusUpdate"," Status will be automatically updated after confirmation")})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{children:" Bank transfers: 1-3 business days"}),n.jsx("p",{children:" Processing occurs only on business days"}),n.jsx("p",{children:" Status will be automatically updated after confirmation"})]})})]})]})}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(X.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:n.jsx(Es,{className:"h-5 w-5 text-gray-600 flex-shrink-0 mt-0.5"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:fr((o==null?void 0:o.gateway)||"","automaticStatusUpdates","Automatic Status Updates")}),n.jsx("p",{className:"mt-1 text-sm text-gray-700",children:x?fr((o==null?void 0:o.gateway)||"","checkingEvery3Seconds","We're checking your payment status every 3 seconds for card payments."):fr((o==null?void 0:o.gateway)||"","checkingEveryMinute","We're checking your payment status every minute. You'll be automatically redirected when the payment is completed.")}),f>0&&n.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[fr((o==null?void 0:o.gateway)||"","lastChecked","Last checked"),": ",f," ",x?f===1?fr((o==null?void 0:o.gateway)||"","checkAgo","check ago"):fr((o==null?void 0:o.gateway)||"","checksAgo","checks ago"):f===1?fr((o==null?void 0:o.gateway)||"","minuteAgo","minute ago"):fr((o==null?void 0:o.gateway)||"","minutesAgo","minutes ago")]})]})]})})]})]})}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:fr((o==null?void 0:o.gateway)||"","poweredBy","Powered by")}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("img",{src:"/logo.png",alt:"TRAPAY",className:"h-5"})})]}),n.jsx("span",{children:""}),n.jsx("a",{href:"https://t.me/trapay_sales",className:"hover:text-gray-700 transition-colors",children:fr((o==null?void 0:o.gateway)||"","support","Support")})]})})]})})})})},iS=()=>{const[t]=Vb(),e=t.get("payment_id"),r=t.get("amount"),s=t.get("currency"),a=t.get("merchant"),i=t.get("reason"),l=t.get("status")==="BLOCKED";return n.jsx("div",{className:"min-h-screen bg-gray-100",children:n.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-6",children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-lg",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"relative mb-6",children:n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"relative w-24 h-24 bg-gray-600 rounded-full flex items-center justify-center mx-auto",children:n.jsx(hr,{className:"h-12 w-12 text-white"})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:l?"Payment Blocked":"Payment Failed"}),n.jsx("p",{className:"text-gray-600",children:l?"Your payment has been blocked due to security checks. Please contact support if you believe this is an error.":"Unfortunately, your payment could not be processed. Please try again or contact support."}),(e||r||a)&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2",children:[e&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Order ID:"}),n.jsx("span",{className:"font-mono text-gray-900",children:e})]}),r&&s&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Amount:"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[r," ",s]})]}),a&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Merchant:"}),n.jsx("span",{className:"text-gray-900",children:a})]})]}),i&&n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(dt,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Error Details"}),n.jsx("p",{className:"mt-1 text-sm text-gray-700",children:i})]})]})}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:l?"Security Check Failed:":"Common Issues:"}),n.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:l?n.jsxs(n.Fragment,{children:[n.jsx("li",{children:" Invalid or suspicious email address detected"}),n.jsx("li",{children:" Email address failed deliverability check"}),n.jsx("li",{children:" Temporary or disposable email not allowed"}),n.jsx("li",{children:" Contact support if you need assistance"})]}):n.jsxs(n.Fragment,{children:[n.jsx("li",{children:" Insufficient funds in your account"}),n.jsx("li",{children:" Card expired or blocked"}),n.jsx("li",{children:" Network connectivity issues"}),n.jsx("li",{children:" Payment timeout"})]})})]})})]})]})}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:"Powered by"}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("img",{src:"/logo.png",alt:"TRAPAY",className:"h-5"})})]}),n.jsx("span",{children:""}),n.jsx("a",{href:"https://t.me/trapay_sales",className:"hover:text-gray-700 transition-colors",children:"Support"})]})})]})})})})},n7=async t=>{const e=navigator.userAgent;try{const r=await Pe.get(`/auth/fingerprint-info?requestId=${t}`);if(r.success&&r.result)return{customerIp:r.result.ipAddress||null,customerUa:e,customerCountry:r.result.countryCode||null}}catch(r){console.warn("Failed to get geo info from FingerprintJS:",r)}return{customerIp:null,customerUa:e,customerCountry:null}},i7=async t=>{var s,a,i,o,l,c,d;const e="1e3c9366aa104f6ea44b3519292f96ee",r=t.trim();if(!r)return{valid:!1,error:"Email is required"};try{const u=await fetch(`https://emailreputation.abstractapi.com/v1/?api_key=${e}&email=${encodeURIComponent(r)}`);if(!u.ok)return u.status===400?{valid:!1,error:"Invalid email format. Please check and try again."}:u.status===401?(console.error("AbstractAPI: Invalid API key"),{valid:!0}):u.status===422?(console.error("AbstractAPI: Quota reached"),{valid:!0}):(console.error(`AbstractAPI error: ${u.status}`),{valid:!0});const h=await u.json();return((s=h.email_deliverability)==null?void 0:s.status)==="undeliverable"?{valid:!1,error:"Email address is not deliverable. Please check and try again."}:((a=h.email_deliverability)==null?void 0:a.is_format_valid)===!1?{valid:!1,error:"Invalid email format. Please check and try again."}:((i=h.email_quality)==null?void 0:i.is_disposable)===!0?{valid:!1,error:"Disposable email addresses are not allowed."}:((o=h.email_risk)==null?void 0:o.address_risk_status)==="high"?{valid:!1,error:"This email address cannot be used for payments."}:{valid:!0,data:{deliverabilityStatus:((l=h.email_deliverability)==null?void 0:l.status)||"unknown",isDisposable:((c=h.email_quality)==null?void 0:c.is_disposable)??!1,riskLevel:((d=h.email_risk)==null?void 0:d.address_risk_status)||"unknown"}}}catch(u){return console.error("Email validation error:",u),{valid:!0}}},o7={"apple-pay":{currencies:["EUR","AUD","USD","GBP"],label:"Apple Pay",icon:""},card:{currencies:["RON","SEK","HRK","NOK","AUD","GBP","HUF","CHF","CZK","BRL","DKK","EUR","USD","PLN"],label:"Debit Card",icon:""},"google-pay":{currencies:["DKK","EUR","SEK","NOK","AUD","USD","PLN","GBP","HUF","CHF","RON","CZK"],label:"Google Pay",icon:""},interac:{currencies:["CAD"],label:"Interac",icon:""},pix:{currencies:["BRL"],label:"PIX",icon:""}},l7=t=>Object.entries(o7).filter(([e,r])=>r.currencies.includes(t)).map(([e,r])=>({method:e,...r})),XE={loadingPaymentDetails:"deme detaylar ykleniyor...",paymentLinkNotAvailable:"deme Balants Mevcut Deil",paymentLinkNotFound:"Aradnz deme balants mevcut deil veya artk kullanlamyor.",goBack:"Geri Dn",paymentAmount:"deme Tutar",variable:"Deiken",via:"zerinden",customerInformation:"Mteri Bilgileri",fullName:"Ad Soyad",fullNameRequired:"Ad Soyad gereklidir",enterFullName:"Ad ve soyadnz girin",pleaseEnterFullName:"Ltfen tam adnz girin (ad ve soyad)",pleaseEnterValidName:"Ltfen sadece harflerle geerli bir ad girin (kelime bana minimum 2 karakter)",emailAddress:"E-posta Adresi",emailRequired:"E-posta gereklidir",enterEmailAddress:"E-posta adresinizi girin",pleaseEnterValidEmail:"Ltfen geerli bir e-posta adresi girin",phoneNumber:"Telefon Numaras",phoneRequired:"Bu deme yntemi iin telefon numaras gereklidir",pleaseEnterValidPhone:"Ltfen geerli bir Trk telefon numaras girin (+90XXXXXXXXXX)",continueToPayment:"demeye Devam Et",processing:"leniyor...",securePayment:"Gvenli deme",securePaymentDesc:"deme bilgileriniz ifrelenir ve gvenlidir. deme detaylarnz saklamyoruz.",poweredBy:"Gvencesi",support:"Destek"},kr=(t,e,r)=>t==="maxpara"?XE[e]:r,c7=()=>{const{id:t}=Sx(),e=ii(),[r,s]=P.useState(null),[a,i]=P.useState(!0),[o,l]=P.useState(null),[c,d]=P.useState(!1),[u,h]=P.useState(""),[f,m]=P.useState(""),[p,x]=P.useState(""),[g,y]=P.useState(""),[v,b]=P.useState(null),[w,N]=P.useState({});P.useEffect(()=>{(async()=>{try{const E=await(await Jl.load({apiKey:"cUtbm0kkMu3EbQc1Lk4X",region:"eu",endpoint:"https://id.trapay.uk",scriptUrlPattern:"https://id.trapay.uk/web/v3/cUtbm0kkMu3EbQc1Lk4X/loader_v3.12.6.js"})).get();E.requestId&&(console.log(" Fingerprint obtained, requestId:",E.requestId),b(E.requestId))}catch(A){console.error("Fingerprint error:",A)}})()},[]),P.useEffect(()=>{(r==null?void 0:r.gateway)==="instaxchange"&&(r==null?void 0:r.currency)==="CAD"&&y("interac")},[r==null?void 0:r.gateway,r==null?void 0:r.currency]),P.useEffect(()=>{(r==null?void 0:r.gateway)==="ampay_try"&&!p&&x("+90")},[r==null?void 0:r.gateway]),P.useEffect(()=>{(async()=>{if(!t){l("Payment link ID is required"),i(!1);return}try{const A=await Pe.get(`/public/payment-links/${t}`);if(!A.success)throw new Error("Payment link not found");const T=A.result;if(console.log(" Payment link data:",T),T.status!=="ACTIVE"){l("This payment link is no longer available"),i(!1);return}if(T.type==="SINGLE"&&T.remainingPayments<=0){l("This single-use payment link has already been used"),i(!1);return}if(T.expiresAt&&new Date(T.expiresAt)<new Date){l("This payment link has expired"),i(!1);return}s(T)}catch(A){console.error("Failed to fetch payment link:",A),l("Payment link not found or no longer available")}finally{i(!1)}})()},[t]);const C=()=>{const k={};if(!u.trim())k.name=kr((r==null?void 0:r.gateway)||"","fullNameRequired","Name is required");else{const A=u.trim().split(/\s+/);A.length<2?k.name=kr((r==null?void 0:r.gateway)||"","pleaseEnterFullName","Please enter your full name (first and last name)"):A.every(E=>E.length>=2&&/^[a-zA-Z-]+$/.test(E))||(k.name=kr((r==null?void 0:r.gateway)||"","pleaseEnterValidName","Please enter a valid name with only letters (minimum 2 characters per word)"))}return f.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)||(k.email=kr((r==null?void 0:r.gateway)||"","pleaseEnterValidEmail","Please enter a valid email address")):k.email=kr((r==null?void 0:r.gateway)||"","emailRequired","Email is required"),(r==null?void 0:r.gateway)==="ampay_try"&&(!p.trim()||p.trim()==="+90"?k.phone=kr(r.gateway,"phoneRequired","Phone number is required for this payment method"):/^\+90\d{10}$/.test(p.replace(/[\s-()]/g,""))||(k.phone=kr(r.gateway,"pleaseEnterValidPhone","Please enter a valid Turkish phone number (+90XXXXXXXXXX)"))),(r==null?void 0:r.gateway)==="instaxchange"&&!g&&(k.paymentMethod="Please select a payment method"),N(k),Object.keys(k).length===0},S=async k=>{var A,T,E,D;if(k.preventDefault(),!!C()){d(!0);try{ce.info("Validating email address...");const _=await i7(f),z=v?await n7(v):{customerIp:null,customerUa:navigator.userAgent,customerCountry:null},H={customerEmail:f.trim(),customerName:u.trim(),requestId:v,emailValidation:{isValid:_.valid,deliverabilityStatus:((A=_.data)==null?void 0:A.deliverabilityStatus)||"",isDisposable:((T=_.data)==null?void 0:T.isDisposable)||!1,riskLevel:((E=_.data)==null?void 0:E.riskLevel)||""},...z};(r==null?void 0:r.gateway)==="ampay_try"&&p.trim()&&(H.customerPhone=p.trim()),(r==null?void 0:r.gateway)==="instaxchange"&&g&&(H.method=g);const q=await Pe.post(`/public/payment-links/${t}/pay`,H);if(q.success&&((D=q.result)!=null&&D.paymentUrl))window.location.href=q.result.paymentUrl;else throw new Error(q.message||"Failed to initiate payment")}catch(_){console.error("Payment initiation failed:",_),ce.error(_.message||"Failed to initiate payment. Please try again.")}finally{d(!1)}}};return a?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Qe,{size:"lg"}),n.jsx("p",{className:"mt-4 text-gray-600",children:(r==null?void 0:r.gateway)==="maxpara"?XE.loadingPaymentDetails:"Loading payment details..."})]})}):o||!r?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:n.jsx("div",{className:"max-w-md w-full",children:n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(dt,{className:"h-8 w-8 text-red-600"})}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-3",children:kr((r==null?void 0:r.gateway)||"","paymentLinkNotAvailable","Payment Link Not Available")}),n.jsx("p",{className:"text-gray-600 mb-8",children:o||kr((r==null?void 0:r.gateway)||"","paymentLinkNotFound","The payment link you are looking for does not exist or is no longer available.")}),n.jsx("button",{onClick:()=>e("/"),className:"w-full bg-primary text-white py-3 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors",children:kr((r==null?void 0:r.gateway)||"","goBack","Go Back")})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-100",children:n.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-6",children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-lg",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-6",children:[n.jsx("div",{className:"px-6 py-6 bg-primary text-white text-center",children:n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-sm opacity-90",children:kr(r.gateway,"paymentAmount","Payment Amount")}),n.jsx("div",{className:"text-3xl font-bold",children:r.amount===null?kr(r.gateway,"variable","Variable"):`${r.amount.toLocaleString()} ${r.currency}`}),r.sourceCurrency&&n.jsxs("div",{className:"text-sm opacity-75 mt-1",children:[kr(r.gateway,"via","via")," ",r.sourceCurrency]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:kr(r.gateway,"customerInformation","Customer Information")}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 mb-2",children:[kr(r.gateway,"fullName","Full Name")," *"]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Dt,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"customerName",value:u,onChange:k=>{h(k.target.value),w.name&&N(A=>({...A,name:void 0}))},className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${w.name?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:kr(r.gateway,"enterFullName","Enter your full name (first and last name)"),disabled:c})]}),w.name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.name})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:[kr(r.gateway,"emailAddress","Email Address")," *"]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(oi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"email",id:"customerEmail",value:f,onChange:k=>{m(k.target.value),w.email&&N(A=>({...A,email:void 0}))},className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${w.email?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:kr(r.gateway,"enterEmailAddress","Enter your email address"),disabled:c})]}),w.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.email})]}),r.gateway==="ampay_try"&&n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-700 mb-2",children:[kr(r.gateway,"phoneNumber","Phone Number")," *"]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(I4,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"tel",id:"customerPhone",value:p,onChange:k=>{const A=k.target.value;if(A.startsWith("+90")){const E="+90"+A.slice(3).replace(/\D/g,"").slice(0,10);x(E)}else if(A===""||A==="+"||A==="+9")x("+90");else if(A.startsWith("+")){const T=A.slice(1).replace(/\D/g,"");if(T.startsWith("90")){const E=T.slice(2).slice(0,10);x("+90"+E)}else x("+90")}else{const T=A.replace(/\D/g,"");x("+90"+T.slice(0,10))}w.phone&&N(T=>({...T,phone:void 0}))},className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${w.phone?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"+90XXXXXXXXXX",disabled:c})]}),w.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.phone})]})]})]}),r.gateway==="instaxchange"&&r.currency!=="CAD"&&(()=>{const k=l7(r.currency);return k.length===0?null:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),n.jsx("div",{className:"space-y-3",children:k.sort((A,T)=>A.method==="card"?1:T.method==="card"?-1:0).map(({method:A,label:T})=>A==="apple-pay"?n.jsx("button",{type:"button",onClick:async()=>{y(A),w.paymentMethod&&N(E=>({...E,paymentMethod:void 0})),setTimeout(()=>{f.trim(),u.trim();const E={};if(!u.trim())E.name="Name is required";else{const D=u.trim().split(/\s+/);D.length<2?E.name="Please enter your full name (first and last name)":D.every(z=>z.length>=2&&/^[a-zA-Z-]+$/.test(z))||(E.name="Please enter a valid name with only letters (minimum 2 characters per word)")}f.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)||(E.email="Please enter a valid email address"):E.email="Email is required",N(E),Object.keys(E).length===0&&S(new Event("submit"))},100)},disabled:c,className:`w-full p-4 rounded-xl border-2 transition-all bg-black hover:bg-black/80 text-white disabled:opacity-50 disabled:cursor-not-allowed  ${w.paymentMethod?"border-red-300":"border-black"}`,children:n.jsx("div",{className:"flex items-center justify-center space-x-2",children:n.jsx("svg",{viewBox:"0 0 105 43",className:"h-7 w-auto",xmlns:"http://www.w3.org/2000/svg",children:n.jsxs("g",{fill:"#FFF",children:[n.jsx("path",{d:"M19.4028,5.5674 C20.6008,4.0684 21.4138,2.0564 21.1998,0.0004 C19.4458,0.0874 17.3058,1.1574 16.0668,2.6564 C14.9538,3.9414 13.9688,6.0374 14.2258,8.0074 C16.1948,8.1784 18.1618,7.0244 19.4028,5.5674"}),n.jsx("path",{d:"M21.1772,8.3926 C18.3182,8.2226 15.8872,10.0156 14.5212,10.0156 C13.1552,10.0156 11.0642,8.4786 8.8022,8.5196 C5.8592,8.5626 3.1282,10.2276 1.6342,12.8746 C-1.4378,18.1696 0.8232,26.0246 3.8112,30.3376 C5.2622,32.4716 7.0102,34.8206 9.3142,34.7366 C11.4912,34.6506 12.3442,33.3266 14.9902,33.3266 C17.6352,33.3266 18.4042,34.7366 20.7082,34.6936 C23.0972,34.6506 24.5922,32.5586 26.0422,30.4226 C27.7072,27.9906 28.3882,25.6426 28.4312,25.5126 C28.3882,25.4706 23.8232,23.7186 23.7812,18.4676 C23.7382,14.0706 27.3652,11.9786 27.5362,11.8496 C25.4882,8.8196 22.2872,8.4786 21.1772,8.3926"}),n.jsx("path",{d:"M85.5508,43.0381 L85.5508,39.1991 C85.8628,39.2421 86.6158,39.2871 87.0158,39.2871 C89.2138,39.2871 90.4558,38.3551 91.2108,35.9581 L91.6548,34.5371 L83.2428,11.2321 L88.4368,11.2321 L94.2958,30.1421 L94.4068,30.1421 L100.2668,11.2321 L105.3278,11.2321 L96.6048,35.7141 C94.6078,41.3291 92.3208,43.1721 87.4828,43.1721 C87.1048,43.1721 85.8838,43.1271 85.5508,43.0381"}),n.jsx("path",{d:"M42.6499,19.3555 L48.3549,19.3555 C52.6829,19.3555 55.1469,17.0255 55.1469,12.9855 C55.1469,8.9455 52.6829,6.6375 48.3769,6.6375 L42.6499,6.6375 L42.6499,19.3555 Z M49.6869,2.4425 C55.9009,2.4425 60.2289,6.7265 60.2289,12.9625 C60.2289,19.2225 55.8129,23.5285 49.5309,23.5285 L42.6499,23.5285 L42.6499,34.4705 L37.6779,34.4705 L37.6779,2.4425 L49.6869,2.4425 Z"}),n.jsx("path",{d:"M76.5547,25.7705 L76.5547,23.9715 L71.0287,24.3275 C67.9207,24.5275 66.3007,25.6815 66.3007,27.7015 C66.3007,29.6545 67.9887,30.9195 70.6287,30.9195 C74.0027,30.9195 76.5547,28.7665 76.5547,25.7705 M61.4617,27.8345 C61.4617,23.7285 64.5917,21.3755 70.3627,21.0205 L76.5547,20.6425 L76.5547,18.8675 C76.5547,16.2705 74.8457,14.8495 71.8057,14.8495 C69.2967,14.8495 67.4777,16.1375 67.0997,18.1125 L62.6167,18.1125 C62.7497,13.9615 66.6567,10.9435 71.9387,10.9435 C77.6207,10.9435 81.3267,13.9175 81.3267,18.5345 L81.3267,34.4705 L76.7327,34.4705 L76.7327,30.6305 L76.6217,30.6305 C75.3127,33.1395 72.4267,34.7145 69.2967,34.7145 C64.6807,34.7145 61.4617,31.9625 61.4617,27.8345"})]})})})},A):A==="google-pay"?n.jsx("button",{type:"button",onClick:async()=>{y(A),w.paymentMethod&&N(E=>({...E,paymentMethod:void 0})),setTimeout(()=>{const E={};if(!u.trim())E.name="Name is required";else{const D=u.trim().split(/\s+/);D.length<2?E.name="Please enter your full name (first and last name)":D.every(z=>z.length>=2&&/^[a-zA-Z-]+$/.test(z))||(E.name="Please enter a valid name with only letters (minimum 2 characters per word)")}f.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)||(E.email="Please enter a valid email address"):E.email="Email is required",N(E),Object.keys(E).length===0&&S(new Event("submit"))},100)},disabled:c,className:`w-full p-4 rounded-xl border-2 transition-all bg-black hover:bg-black/80 text-white disabled:opacity-50 disabled:cursor-not-allowed ${g===A?"ring-2 ring-primary ring-offset-2":""} ${w.paymentMethod?"border-red-300":"border-black"}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("img",{src:"https://www.gstatic.com/instantbuy/svg/dark_gpay.svg",alt:"Google Pay",className:"h-[28px] w-auto"})})},A):A==="pix"?n.jsx("button",{type:"button",onClick:async()=>{y(A),w.paymentMethod&&N(E=>({...E,paymentMethod:void 0})),setTimeout(()=>{const E={};if(!u.trim())E.name="Name is required";else{const D=u.trim().split(/\s+/);D.length<2?E.name="Please enter your full name (first and last name)":D.every(z=>z.length>=2&&/^[a-zA-Z-]+$/.test(z))||(E.name="Please enter a valid name with only letters (minimum 2 characters per word)")}f.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)||(E.email="Please enter a valid email address"):E.email="Email is required",N(E),Object.keys(E).length===0&&S(new Event("submit"))},100)},disabled:c,className:`w-full p-4 rounded-xl border-2 transition-all bg-[#32BCAD] text-white hover:bg-[#2AA699] disabled:opacity-50 disabled:cursor-not-allowed ${g===A?"ring-2 ring-primary ring-offset-2":""} ${w.paymentMethod?"border-red-300":"border-[#32BCAD]"}`,children:n.jsx("div",{className:"flex items-center justify-center space-x-2",children:n.jsx("span",{className:"text-lg font-semibold",children:"Pay with PIX"})})},A):A==="card"?n.jsx("button",{type:"button",onClick:async()=>{y(A),w.paymentMethod&&N(E=>({...E,paymentMethod:void 0})),setTimeout(()=>{const E={};if(!u.trim())E.name="Name is required";else{const D=u.trim().split(/\s+/);D.length<2?E.name="Please enter your full name (first and last name)":D.every(z=>z.length>=2&&/^[a-zA-Z-]+$/.test(z))||(E.name="Please enter a valid name with only letters (minimum 2 characters per word)")}f.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)||(E.email="Please enter a valid email address"):E.email="Email is required",N(E),Object.keys(E).length===0&&S(new Event("submit"))},100)},disabled:c,className:`w-full p-4 rounded-xl border-2 transition-all bg-primary text-white hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed ${g===A?"ring-2 ring-white ring-offset-2":""} ${w.paymentMethod?"border-red-300":"border-primary"}`,children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(St,{className:"h-6 w-6"}),n.jsx("span",{className:"text-lg font-semibold",children:"Pay with Card"})]})},A):null)}),w.paymentMethod&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.paymentMethod})]})})(),!(r.gateway==="instaxchange"&&r.currency!=="CAD")&&n.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Es,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:kr(r.gateway,"processing","Processing...")})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:kr(r.gateway,"continueToPayment","Continue to Payment")}),n.jsx(Mi,{className:"h-5 w-5"})]})})]}),n.jsx("div",{className:"mt-6 -mx-6 -mb-6 bg-gradient-to-r from-purple-700 via-primary-dark to-purple-700 rounded-b-xl text-white p-2 flex items-center justify-center",children:n.jsx("img",{src:"/group.svg",alt:"Secure Payment",className:"h-10 mx-auto rounded-xl"})})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:kr(r.gateway,"poweredBy","Powered by")}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("img",{src:"/logo.png",alt:"TRAPAY",className:"h-5"})})]}),n.jsx("span",{children:"|"}),n.jsx("a",{href:"https://t.me/trapay_sales",className:"hover:text-gray-700 transition-colors",children:kr(r.gateway,"support","Support")})]})})]})})})})},d7=async t=>{const e=navigator.userAgent;try{const r=await Pe.get(`/auth/fingerprint-info?requestId=${t}`);if(r.success&&r.result)return{customerIp:r.result.ipAddress||null,customerUa:e,customerCountry:r.result.countryCode||null}}catch(r){console.warn("Failed to get geo info from FingerprintJS:",r)}return{customerIp:null,customerUa:e,customerCountry:null}},u7=async t=>{var s,a,i,o,l,c,d;const e="1e3c9366aa104f6ea44b3519292f96ee",r=t.trim();if(!r)return{valid:!1,error:"Email is required"};try{const u=await fetch(`https://emailreputation.abstractapi.com/v1/?api_key=${e}&email=${encodeURIComponent(r)}`);if(!u.ok)return u.status===400?{valid:!1,error:"Invalid email format. Please check and try again."}:u.status===401?(console.error("AbstractAPI: Invalid API key"),{valid:!0}):u.status===422?(console.error("AbstractAPI: Quota reached"),{valid:!0}):(console.error(`AbstractAPI error: ${u.status}`),{valid:!0});const h=await u.json(),f={deliverabilityStatus:((s=h.email_deliverability)==null?void 0:s.status)||"unknown",isDisposable:((a=h.email_quality)==null?void 0:a.is_disposable)||!1,riskLevel:((i=h.email_risk)==null?void 0:i.address_risk_status)||"unknown"};return((o=h.email_deliverability)==null?void 0:o.status)==="undeliverable"?{valid:!1,error:"Email address is not deliverable. Please check and try again.",data:f}:((l=h.email_deliverability)==null?void 0:l.is_format_valid)===!1?{valid:!1,error:"Invalid email format. Please check and try again.",data:f}:((c=h.email_quality)==null?void 0:c.is_disposable)===!0?{valid:!1,error:"Disposable email addresses are not allowed.",data:f}:((d=h.email_risk)==null?void 0:d.address_risk_status)==="high"?{valid:!1,error:"This email address cannot be used for payments.",data:f}:{valid:!0,data:f}}catch(u){return console.error("Email validation error:",u),{valid:!0}}},h7=()=>{const{code:t}=Sx(),e=ii(),[r,s]=P.useState(null),[a,i]=P.useState(!0),[o,l]=P.useState(null),[c,d]=P.useState(!1),[u,h]=P.useState(""),[f,m]=P.useState(""),[p,x]=P.useState(""),[g,y]=P.useState(null),[v,b]=P.useState({});P.useEffect(()=>{(async()=>{try{const A=await(await Jl.load({apiKey:"cUtbm0kkMu3EbQc1Lk4X",region:"eu",endpoint:"https://id.trapay.uk",scriptUrlPattern:"https://id.trapay.uk/web/v3/cUtbm0kkMu3EbQc1Lk4X/loader_v3.12.6.js"})).get();A.requestId&&(console.log(" Fingerprint obtained, requestId:",A.requestId),y(A.requestId))}catch(S){console.error("Fingerprint error:",S)}})()},[]),P.useEffect(()=>{(async()=>{if(!t){l("Invalid payment link"),i(!1);return}try{const S=await Pe.get(`/public/pre-payments/${t}`);if(!S.success)throw new Error("Pre-payment not found");const k=S.result;if(k.status!=="PENDING"){l("This payment link is no longer available"),i(!1);return}if(new Date(k.expiresAt)<new Date){l("This payment link has expired"),i(!1);return}s(k),k.customerEmail&&m(k.customerEmail),k.customerName&&h(k.customerName)}catch(S){console.error("Failed to fetch pre-payment:",S),l("Payment link not found or no longer available")}finally{i(!1)}})()},[t]);const w=()=>{const C={};if(!u.trim())C.name="Name is required";else{const S=u.trim().split(/\s+/);S.length<2?C.name="Please enter your full name (first and last name)":S.every(A=>A.length>=2&&/^[a-zA-Z-]+$/.test(A))||(C.name="Please enter a valid name with only letters (minimum 2 characters per word)")}return f.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)||(C.email="Please enter a valid email address"):C.email="Email is required",((r==null?void 0:r.gateway)==="ampay_try"||(r==null?void 0:r.gateway)==="maxpara")&&(p.trim()?/^\+90\d{10}$/.test(p.trim())||(C.phone="Please enter a valid Turkish phone number (+90XXXXXXXXXX)"):C.phone="Phone number is required for this payment method"),b(C),Object.keys(C).length===0},N=async C=>{var S,k,A,T;if(C.preventDefault(),!!w()){d(!0);try{ce.info("Validating email address...");const E=await u7(f.trim()),D=g?await d7(g):{customerIp:null,customerUa:navigator.userAgent,customerCountry:null},_=await Pe.post(`/public/pre-payments/${t}/confirm`,{customerEmail:f.trim(),customerName:u.trim(),requestId:g,emailValidation:{isValid:E.valid,deliverabilityStatus:((S=E.data)==null?void 0:S.deliverabilityStatus)||"",isDisposable:((k=E.data)==null?void 0:k.isDisposable)||!1,riskLevel:((A=E.data)==null?void 0:A.riskLevel)||""},...D});if(_.success&&((T=_.result)!=null&&T.paymentUrl))window.location.href=_.result.paymentUrl;else throw new Error("Failed to confirm payment")}catch(E){console.error("Payment confirmation failed:",E),ce.error(E.message||"Failed to confirm payment. Please try again.")}finally{d(!1)}}};return a?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Qe,{size:"lg"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment details..."})]})}):o||!r?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:n.jsx("div",{className:"max-w-md w-full",children:n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(dt,{className:"h-8 w-8 text-red-600"})}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Payment Link Not Available"}),n.jsx("p",{className:"text-gray-600 mb-8",children:o||"The payment link you are looking for does not exist or is no longer available."}),n.jsx("button",{onClick:()=>e("/"),className:"w-full bg-primary text-white py-3 px-6 rounded-xl font-medium hover:bg-primary-dark transition-colors",children:"Go Back"})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-100",children:n.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-6",children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-lg",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-6",children:[n.jsx("div",{className:"px-6 py-6 bg-primary text-white text-center",children:n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-sm opacity-90",children:"Payment Amount"}),n.jsxs("div",{className:"text-3xl font-bold",children:[r.amount," ",r.currency]}),r.sourceCurrency&&n.jsxs("div",{className:"text-sm opacity-75 mt-1",children:["via ",r.sourceCurrency]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("form",{onSubmit:N,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Dt,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"customerName",value:u,onChange:C=>{h(C.target.value),v.name&&b(S=>({...S,name:void 0}))},className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${v.name?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:(r==null?void 0:r.customerName)||"Enter your full name (first and last name)",disabled:c})]}),v.name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.name})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(oi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"email",id:"customerEmail",value:f,onChange:C=>{m(C.target.value),v.email&&b(S=>({...S,email:void 0}))},className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${v.email?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:(r==null?void 0:r.customerEmail)||"Enter your email address",disabled:c})]}),v.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.email})]}),(r.gateway==="ampay_try"||r.gateway==="maxpara")&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(I4,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"tel",id:"customerPhone",value:p,onChange:C=>{x(C.target.value),v.phone&&b(S=>({...S,phone:void 0}))},className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-colors ${v.phone?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"+90XXXXXXXXXX",disabled:c})]}),v.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.phone})]})]})]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary text-white py-4 px-6 rounded-xl font-medium hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Es,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Processing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Continue to Payment"}),n.jsx(Mi,{className:"h-5 w-5"})]})})]}),n.jsx("div",{className:"mt-6 -mx-6 -mb-6 bg-gradient-to-r from-purple-700 via-primary-dark to-purple-700 rounded-b-xl text-white p-2 flex items-center justify-center",children:n.jsx("img",{src:"/group.svg",alt:"Secure Payment",className:"h-10 mx-auto rounded-xl"})})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:"Powered by"}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("img",{src:"/logo.png",alt:"TRAPAY",className:"h-5"})})]}),n.jsx("span",{children:"|"}),n.jsx("a",{href:"https://t.me/trapay_sales",className:"hover:text-gray-700 transition-colors",children:"Support"})]})})]})})})})};var GE={};/*!
 * ApexCharts v4.7.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function KE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oS(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,QE(s.key),s)}}function Ue(t,e,r){return e&&oS(t.prototype,e),r&&oS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uu(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=V1(t))||e){r&&(t=r);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function Nf(t){var e=qE();return function(){var r,s=Lm(t);if(e){var a=Lm(this).constructor;r=Reflect.construct(s,arguments,a)}else r=s.apply(this,arguments);return function(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KE(i)}(this,r)}}function Fm(t,e,r){return(e=QE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lm(t)}function jf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}function qE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qE=function(){return!!t})()}function lS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(r),!0).forEach(function(s){Fm(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},gv(t,e)}function ZE(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,s){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var i,o,l,c,d=[],u=!0,h=!1;try{if(l=(a=a.call(r)).next,s===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(i=l.call(a)).done)&&(d.push(i.value),d.length!==s);u=!0);}catch(f){h=!0,o=f}finally{try{if(!u&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(h)throw o}}return d}}(t,e)||V1(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ls(t){return function(e){if(Array.isArray(e))return pv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||V1(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function QE(t){var e=function(r,s){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,s||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}(t,"string");return typeof e=="symbol"?e:e+""}function Ld(t){return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function V1(t,e){if(t){if(typeof t=="string")return pv(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pv(t,e):void 0}}var ae=function(){function t(){Be(this,t)}return Ue(t,[{key:"shadeRGBColor",value:function(e,r){var s=r.split(","),a=e<0?0:255,i=e<0?-1*e:e,o=parseInt(s[0].slice(4),10),l=parseInt(s[1],10),c=parseInt(s[2],10);return"rgb("+(Math.round((a-o)*i)+o)+","+(Math.round((a-l)*i)+l)+","+(Math.round((a-c)*i)+c)+")"}},{key:"shadeHexColor",value:function(e,r){var s=parseInt(r.slice(1),16),a=e<0?0:255,i=e<0?-1*e:e,o=s>>16,l=s>>8&255,c=255&s;return"#"+(16777216+65536*(Math.round((a-o)*i)+o)+256*(Math.round((a-l)*i)+l)+(Math.round((a-c)*i)+c)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,r){return t.isColorHex(r)?this.shadeHexColor(e,r):this.shadeRGBColor(e,r)}}],[{key:"bind",value:function(e,r){return function(){return e.apply(r,arguments)}}},{key:"isObject",value:function(e){return e&&Ld(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,r){return Object.prototype.toString.call(r)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var r,s=[];for(r=0;r<e.length;r++)s[r]=e[r];return s}},{key:"extend",value:function(e,r){var s=this;typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(i),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)c.hasOwnProperty(d)&&(o[d]=c[d])}return o});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(r)&&Object.keys(r).forEach(function(i){s.isObject(r[i])&&i in e?a[i]=s.extend(e[i],r[i]):Object.assign(a,Fm({},i,r[i]))}),a}},{key:"extendArray",value:function(e,r){var s=[];return e.map(function(a){s.push(t.extend(r,a))}),e=s}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Ld(e)!=="object")return e;if(s.has(e))return s.get(e);if(Array.isArray(e)){r=[],s.set(e,r);for(var a=0;a<e.length;a++)r[a]=this.clone(e[a],s)}else if(e instanceof Date)r=new Date(e.getTime());else for(var i in r={},s.set(e,r),e)e.hasOwnProperty(i)&&(r[i]=this.clone(e[i],s));return r}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,r){return Math.pow(r,Math.floor(Math.log(e)/Math.log(r)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(r))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var r=getComputedStyle(e,null),s=e.clientHeight,a=e.clientWidth;return s-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),[a-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),s]}},{key:"getBoundingClientRect",value:function(e){var r=e.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:e.clientWidth,height:e.clientHeight,x:r.left,y:r.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(r,s){return Array.isArray(s)&&(s=s.reduce(function(a,i){return a.length>i.length?a:i})),r.length>s.length?r:s},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var a=0;a<s.length;a++)s[a]=parseInt(s[a].length===1?s[a]+s[a]:s[a],16);return r!==void 0&&s.push(r),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,r){for(var s=[],a=2*Math.PI/r,i=0;i<r;i++){var o={};o.x=e*Math.sin(i*a),o.y=-e*Math.cos(i*a),s.push(o)}return s}},{key:"polarToCartesian",value:function(e,r,s,a){var i=(a-90)*Math.PI/180;return{x:e+s*Math.cos(i),y:r+s*Math.sin(i)}}},{key:"escapeString",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",s=e.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,r)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,r,s){if(s>=e.length)for(var a=s-e.length+1;a--;)e.push(void 0);return e.splice(s,0,e.splice(r,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,r){for(;(e=e.parentElement)&&!e.classList.contains(r););return e}},{key:"setELstyles",value:function(e,r){for(var s in r)r.hasOwnProperty(s)&&(e.style.key=r[s])}},{key:"preciseAddition",value:function(e,r){var s=(String(e).split(".")[1]||"").length,a=(String(r).split(".")[1]||"").length,i=Math.pow(10,Math.max(s,a));return(Math.round(e*i)+Math.round(r*i))/i}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}},{key:"getGCD",value:function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,r))));for(e=Math.round(Math.abs(e)*a),r=Math.round(Math.abs(r)*a);r;){var i=r;r=e%r,e=i}return e/a}},{key:"getPrimeFactors",value:function(e){for(var r=[],s=2;e>=2;)e%s==0?(r.push(s),e/=s):s++;return r}},{key:"mod",value:function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,r))));return(e=Math.round(Math.abs(e)*a))%(r=Math.round(Math.abs(r)*a))/a}}]),t}(),au=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"animateLine",value:function(e,r,s,a){e.attr(r).animate(a).attr(s)}},{key:"animateMarker",value:function(e,r,s,a){e.attr({opacity:0}).animate(r).attr({opacity:1}).after(function(){a()})}},{key:"animateRect",value:function(e,r,s,a,i){e.attr(r).animate(a).attr(s).after(function(){return i()})}},{key:"animatePathsGradually",value:function(e){var r=e.el,s=e.realIndex,a=e.j,i=e.fill,o=e.pathFrom,l=e.pathTo,c=e.speed,d=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(r,s,a,u.config.chart.type!=="line"||u.globals.comboCharts?i:"stroke",o,l,c,d*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var r=e.el;r.classList.remove("apexcharts-element-hidden"),r.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var r=this.w;r.globals.animationEnded||(r.globals.animationEnded=!0,this.showDelayedElements(),typeof r.config.chart.events.animationEnd=="function"&&r.config.chart.events.animationEnd(this.ctx,{el:e,w:r}))}},{key:"morphSVG",value:function(e,r,s,a,i,o,l,c){var d=this,u=this.w;i||(i=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var h=function(f){return u.config.chart.type==="radar"&&(l=1),"M 0 ".concat(u.globals.gridHeight)};(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=h()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=h()),u.globals.shouldAnimate||(l=1),e.plot(i).animate(1,c).plot(i).animate(l,c).plot(o).after(function(){ae.isNumber(s)?s===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&d.animationCompleted(e):a!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&r===u.globals.series.length-1||u.globals.comboCharts)&&d.animationCompleted(e),d.showDelayedElements()})}}]),t}();const yv={},JE=[];function ht(t,e){if(Array.isArray(t))for(const r of t)ht(r,e);else if(typeof t!="object")eP(Object.getOwnPropertyNames(e)),yv[t]=Object.assign(yv[t]||{},e);else for(const r in t)ht(r,t[r])}function da(t){return yv[t]||{}}function eP(t){JE.push(...t)}function $1(t,e){let r;const s=t.length,a=[];for(r=0;r<s;r++)a.push(e(t[r]));return a}function Jp(t){return t%360*Math.PI/180}function nu(t){return t.charAt(0).toUpperCase()+t.slice(1)}function iu(t,e,r,s){return e!=null&&r!=null||(s=s||t.bbox(),e==null?e=s.width/s.height*r:r==null&&(r=s.height/s.width*e)),{width:e,height:r}}function vv(t,e){const r=t.origin;let s=t.ox!=null?t.ox:t.originX!=null?t.originX:"center",a=t.oy!=null?t.oy:t.originY!=null?t.originY:"center";r!=null&&([s,a]=Array.isArray(r)?r:typeof r=="object"?[r.x,r.y]:[r,r]);const i=typeof s=="string",o=typeof a=="string";if(i||o){const{height:l,width:c,x:d,y:u}=e.bbox();i&&(s=s.includes("left")?d:s.includes("right")?d+c:d+c/2),o&&(a=a.includes("top")?u:a.includes("bottom")?u+l:u+l/2)}return[s,a]}const f7=new Set(["desc","metadata","title"]),bv=t=>f7.has(t.nodeName),tP=(t,e,r={})=>{const s={...e};for(const a in s)s[a].valueOf()===r[a]&&delete s[a];Object.keys(s).length?t.node.setAttribute("data-svgjs",JSON.stringify(s)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))},X1="http://www.w3.org/2000/svg",eg="http://www.w3.org/2000/xmlns/",ou="http://www.w3.org/1999/xlink",_t={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Sf(){return _t.window}let G1=class{};const Ul={},K1="___SYMBOL___ROOT___";function Hh(t,e=X1){return _t.document.createElementNS(e,t)}function ea(t,e=!1){if(t instanceof G1)return t;if(typeof t=="object")return tg(t);if(t==null)return new Ul[K1];if(typeof t=="string"&&t.charAt(0)!=="<")return tg(_t.document.querySelector(t));const r=e?_t.document.createElement("div"):Hh("svg");return r.innerHTML=t,t=tg(r.firstChild),r.removeChild(r.firstChild),t}function lr(t,e){return e&&(e instanceof _t.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Hh(t)}function rn(t){if(!t)return null;if(t.instance instanceof G1)return t.instance;if(t.nodeName==="#document-fragment")return new Ul.Fragment(t);let e=nu(t.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Ul[e]||(e="Dom"),new Ul[e](t)}let tg=rn;function Mt(t,e=t.name,r=!1){return Ul[e]=t,r&&(Ul[K1]=t),eP(Object.getOwnPropertyNames(t.prototype)),t}let m7=1e3;function rP(t){return"Svgjs"+nu(t)+m7++}function sP(t){for(let e=t.children.length-1;e>=0;e--)sP(t.children[e]);return t.id&&(t.id=rP(t.nodeName)),t}function rt(t,e){let r,s;for(s=(t=Array.isArray(t)?t:[t]).length-1;s>=0;s--)for(r in e)t[s].prototype[r]=e[r]}function or(t){return function(...e){const r=e[e.length-1];return!r||r.constructor!==Object||r instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(r)}}ht("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=ea(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=ea(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=ea(t)).before(this),this},insertAfter:function(t){return(t=ea(t)).after(this),this}});const aP=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,x7=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,p7=/rgb\((\d+),(\d+),(\d+)\)/,g7=/(#[a-z_][a-z0-9\-_]*)/i,y7=/\)\s*,?\s*/,v7=/\s/g,cS=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,dS=/^rgb\(/,uS=/^(\s+)?$/,hS=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,b7=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,zi=/[\s,]+/,q1=/[MLHVCSQTAZ]/i;function w7(t){const e=Math.round(t),r=Math.max(0,Math.min(255,e)).toString(16);return r.length===1?"0"+r:r}function bc(t,e){for(let r=e.length;r--;)if(t[e[r]]==null)return!1;return!0}function rg(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}ht("Dom",{classes:function(){const t=this.attr("class");return t==null?[]:t.trim().split(zi)},hasClass:function(t){return this.classes().indexOf(t)!==-1},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),ht("Dom",{css:function(t,e){const r={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(s){return!!s.length}).forEach(function(s){const a=s.split(/\s*:\s*/);r[a[0]]=a[1]}),r;if(arguments.length<2){if(Array.isArray(t)){for(const s of t){const a=s;r[s]=this.node.style.getPropertyValue(a)}return r}if(typeof t=="string")return this.node.style.getPropertyValue(t);if(typeof t=="object")for(const s in t)this.node.style.setProperty(s,t[s]==null||uS.test(t[s])?"":t[s])}return arguments.length===2&&this.node.style.setProperty(t,e==null||uS.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),ht("Dom",{data:function(t,e,r){if(t==null)return this.data($1(function(s,a){let i;const o=s.length,l=[];for(i=0;i<o;i++)a(s[i])&&l.push(s[i]);return l}(this.node.attributes,s=>s.nodeName.indexOf("data-")===0),s=>s.nodeName.slice(5)));if(t instanceof Array){const s={};for(const a of t)s[a]=this.data(a);return s}if(typeof t=="object")for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch{return this.attr("data-"+t)}else this.attr("data-"+t,e===null?null:r===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),ht("Dom",{remember:function(t,e){if(typeof arguments[0]=="object")for(const r in t)this.remember(r,t[r]);else{if(arguments.length===1)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class Kt{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Kt||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",r){const{random:s,round:a,sin:i,PI:o}=Math;if(e==="vibrant"){const l=24*s()+57,c=38*s()+45,d=360*s();return new Kt(l,c,d,"lch")}if(e==="sine"){const l=a(80*i(2*o*(r=r??s())/.5+.01)+150),c=a(50*i(2*o*r/.5+4.6)+200),d=a(100*i(2*o*r/.5+2.3)+150);return new Kt(l,c,d)}if(e==="pastel"){const l=8*s()+86,c=17*s()+9,d=360*s();return new Kt(l,c,d,"lch")}if(e==="dark"){const l=10+10*s(),c=50*s()+86,d=360*s();return new Kt(l,c,d,"lch")}if(e==="rgb"){const l=255*s(),c=255*s(),d=255*s();return new Kt(l,c,d)}if(e==="lab"){const l=100*s(),c=256*s()-128,d=256*s()-128;return new Kt(l,c,d,"lab")}if(e==="grey"){const l=255*s();return new Kt(l,l,l)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(cS.test(e)||dS.test(e))}cmyk(){const{_a:e,_b:r,_c:s}=this.rgb(),[a,i,o]=[e,r,s].map(c=>c/255),l=Math.min(1-a,1-i,1-o);return l===1?new Kt(0,0,0,1,"cmyk"):new Kt((1-a-l)/(1-l),(1-i-l)/(1-l),(1-o-l)/(1-l),l,"cmyk")}hsl(){const{_a:e,_b:r,_c:s}=this.rgb(),[a,i,o]=[e,r,s].map(f=>f/255),l=Math.max(a,i,o),c=Math.min(a,i,o),d=(l+c)/2,u=l===c,h=l-c;return new Kt(360*(u?0:l===a?((i-o)/h+(i<o?6:0))/6:l===i?((o-a)/h+2)/6:l===o?((a-i)/h+4)/6:0),100*(u?0:d>.5?h/(2-l-c):h/(l+c)),100*d,"hsl")}init(e=0,r=0,s=0,a=0,i="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")i=typeof a=="string"?a:i,a=typeof a=="string"?0:a,Object.assign(this,{_a:e,_b:r,_c:s,_d:a,space:i});else if(e instanceof Array)this.space=r||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(f,m){const p=bc(f,"rgb")?{_a:f.r,_b:f.g,_c:f.b,_d:0,space:"rgb"}:bc(f,"xyz")?{_a:f.x,_b:f.y,_c:f.z,_d:0,space:"xyz"}:bc(f,"hsl")?{_a:f.h,_b:f.s,_c:f.l,_d:0,space:"hsl"}:bc(f,"lab")?{_a:f.l,_b:f.a,_c:f.b,_d:0,space:"lab"}:bc(f,"lch")?{_a:f.l,_b:f.c,_c:f.h,_d:0,space:"lch"}:bc(f,"cmyk")?{_a:f.c,_b:f.m,_c:f.y,_d:f.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return p.space=m||p.space,p}(e,r);Object.assign(this,h)}else if(typeof e=="string")if(dS.test(e)){const h=e.replace(v7,""),[f,m,p]=p7.exec(h).slice(1,4).map(x=>parseInt(x));Object.assign(this,{_a:f,_b:m,_c:p,_d:0,space:"rgb"})}else{if(!cS.test(e))throw Error("Unsupported string format, can't construct Color");{const h=x=>parseInt(x,16),[,f,m,p]=x7.exec(function(x){return x.length===4?["#",x.substring(1,2),x.substring(1,2),x.substring(2,3),x.substring(2,3),x.substring(3,4),x.substring(3,4)].join(""):x}(e)).map(h);Object.assign(this,{_a:f,_b:m,_c:p,_d:0,space:"rgb"})}}const{_a:o,_b:l,_c:c,_d:d}=this,u=this.space==="rgb"?{r:o,g:l,b:c}:this.space==="xyz"?{x:o,y:l,z:c}:this.space==="hsl"?{h:o,s:l,l:c}:this.space==="lab"?{l:o,a:l,b:c}:this.space==="lch"?{l:o,c:l,h:c}:this.space==="cmyk"?{c:o,m:l,y:c,k:d}:{};Object.assign(this,u)}lab(){const{x:e,y:r,z:s}=this.xyz();return new Kt(116*r-16,500*(e-r),200*(r-s),"lab")}lch(){const{l:e,a:r,b:s}=this.lab(),a=Math.sqrt(r**2+s**2);let i=180*Math.atan2(s,r)/Math.PI;return i<0&&(i*=-1,i=360-i),new Kt(e,a,i,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:r,y:s,z:a}=this;if(this.space==="lab"||this.space==="lch"){let{l:m,a:p,b:x}=this;if(this.space==="lch"){const{c:C,h:S}=this,k=Math.PI/180;p=C*Math.cos(k*S),x=C*Math.sin(k*S)}const g=(m+16)/116,y=p/500+g,v=g-x/200,b=16/116,w=.008856,N=7.787;r=.95047*(y**3>w?y**3:(y-b)/N),s=1*(g**3>w?g**3:(g-b)/N),a=1.08883*(v**3>w?v**3:(v-b)/N)}const i=3.2406*r+-1.5372*s+-.4986*a,o=-.9689*r+1.8758*s+.0415*a,l=.0557*r+-.204*s+1.057*a,c=Math.pow,d=.0031308,u=i>d?1.055*c(i,1/2.4)-.055:12.92*i,h=o>d?1.055*c(o,1/2.4)-.055:12.92*o,f=l>d?1.055*c(l,1/2.4)-.055:12.92*l;return new Kt(255*u,255*h,255*f)}if(this.space==="hsl"){let{h:r,s,l:a}=this;if(r/=360,s/=100,a/=100,s===0)return a*=255,new Kt(a,a,a);const i=a<.5?a*(1+s):a+s-a*s,o=2*a-i,l=255*rg(o,i,r+1/3),c=255*rg(o,i,r),d=255*rg(o,i,r-1/3);return new Kt(l,c,d)}if(this.space==="cmyk"){const{c:r,m:s,y:a,k:i}=this,o=255*(1-Math.min(1,r*(1-i)+i)),l=255*(1-Math.min(1,s*(1-i)+i)),c=255*(1-Math.min(1,a*(1-i)+i));return new Kt(o,l,c)}return this;var e}toArray(){const{_a:e,_b:r,_c:s,_d:a,space:i}=this;return[e,r,s,a,i]}toHex(){const[e,r,s]=this._clamped().map(w7);return`#${e}${r}${s}`}toRgb(){const[e,r,s]=this._clamped();return`rgb(${e},${r},${s})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:r,_c:s}=this.rgb(),[a,i,o]=[e,r,s].map(g=>g/255),l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,d=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(.4124*l+.3576*c+.1805*d)/.95047,h=(.2126*l+.7152*c+.0722*d)/1,f=(.0193*l+.1192*c+.9505*d)/1.08883,m=u>.008856?Math.pow(u,1/3):7.787*u+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116,x=f>.008856?Math.pow(f,1/3):7.787*f+16/116;return new Kt(m,p,x,"xyz")}_clamped(){const{_a:e,_b:r,_c:s}=this.rgb(),{max:a,min:i,round:o}=Math;return[e,r,s].map(l=>a(0,i(o(l),255)))}}class Bt{constructor(...e){this.init(...e)}clone(){return new Bt(this)}init(e,r){const i=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:r};return this.x=i.x==null?0:i.x,this.y=i.y==null?0:i.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Ze.isMatrixLike(e)||(e=new Ze(e));const{x:r,y:s}=this;return this.x=e.a*r+e.c*s+e.e,this.y=e.b*r+e.d*s+e.f,this}}function wc(t,e,r){return Math.abs(e-t)<1e-6}class Ze{constructor(...e){this.init(...e)}static formatTransforms(e){const r=e.flip==="both"||e.flip===!0,s=e.flip&&(r||e.flip==="x")?-1:1,a=e.flip&&(r||e.flip==="y")?-1:1,i=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,l=e.scale&&e.scale.length?e.scale[0]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleX)?e.scaleX*s:s,c=e.scale&&e.scale.length?e.scale[1]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleY)?e.scaleY*a:a,d=e.shear||0,u=e.rotate||e.theta||0,h=new Bt(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),f=h.x,m=h.y,p=new Bt(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),x=p.x,g=p.y,y=new Bt(e.translate||e.tx||e.translateX,e.ty||e.translateY),v=y.x,b=y.y,w=new Bt(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:l,scaleY:c,skewX:i,skewY:o,shear:d,theta:u,rx:w.x,ry:w.y,tx:v,ty:b,ox:f,oy:m,px:x,py:g}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,r,s){const a=e.a*r.a+e.c*r.b,i=e.b*r.a+e.d*r.b,o=e.a*r.c+e.c*r.d,l=e.b*r.c+e.d*r.d,c=e.e+e.a*r.e+e.c*r.f,d=e.f+e.b*r.e+e.d*r.f;return s.a=a,s.b=i,s.c=o,s.d=l,s.e=c,s.f=d,s}around(e,r,s){return this.clone().aroundO(e,r,s)}aroundO(e,r,s){const a=e||0,i=r||0;return this.translateO(-a,-i).lmultiplyO(s).translateO(a,i)}clone(){return new Ze(this)}decompose(e=0,r=0){const s=this.a,a=this.b,i=this.c,o=this.d,l=this.e,c=this.f,d=s*o-a*i,u=d>0?1:-1,h=u*Math.sqrt(s*s+a*a),f=Math.atan2(u*a,u*s),m=180/Math.PI*f,p=Math.cos(f),x=Math.sin(f),g=(s*i+a*o)/d,y=i*h/(g*s-a)||o*h/(g*a+s);return{scaleX:h,scaleY:y,shear:g,rotate:m,translateX:l-e+e*p*h+r*(g*p*h-x*y),translateY:c-r+e*x*h+r*(g*x*h+p*y),originX:e,originY:r,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const r=new Ze(e);return wc(this.a,r.a)&&wc(this.b,r.b)&&wc(this.c,r.c)&&wc(this.d,r.d)&&wc(this.e,r.e)&&wc(this.f,r.f)}flip(e,r){return this.clone().flipO(e,r)}flipO(e,r){return e==="x"?this.scaleO(-1,1,r,0):e==="y"?this.scaleO(1,-1,0,r):this.scaleO(-1,-1,e,r||e)}init(e){const r=Ze.fromArray([1,0,0,1,0,0]);return e=e instanceof Ms?e.matrixify():typeof e=="string"?Ze.fromArray(e.split(zi).map(parseFloat)):Array.isArray(e)?Ze.fromArray(e):typeof e=="object"&&Ze.isMatrixLike(e)?e:typeof e=="object"?new Ze().transform(e):arguments.length===6?Ze.fromArray([].slice.call(arguments)):r,this.a=e.a!=null?e.a:r.a,this.b=e.b!=null?e.b:r.b,this.c=e.c!=null?e.c:r.c,this.d=e.d!=null?e.d:r.d,this.e=e.e!=null?e.e:r.e,this.f=e.f!=null?e.f:r.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,r=this.b,s=this.c,a=this.d,i=this.e,o=this.f,l=e*a-r*s;if(!l)throw new Error("Cannot invert "+this);const c=a/l,d=-r/l,u=-s/l,h=e/l,f=-(c*i+u*o),m=-(d*i+h*o);return this.a=c,this.b=d,this.c=u,this.d=h,this.e=f,this.f=m,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const r=e instanceof Ze?e:new Ze(e);return Ze.matrixMultiply(r,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const r=e instanceof Ze?e:new Ze(e);return Ze.matrixMultiply(this,r,this)}rotate(e,r,s){return this.clone().rotateO(e,r,s)}rotateO(e,r=0,s=0){e=Jp(e);const a=Math.cos(e),i=Math.sin(e),{a:o,b:l,c,d,e:u,f:h}=this;return this.a=o*a-l*i,this.b=l*a+o*i,this.c=c*a-d*i,this.d=d*a+c*i,this.e=u*a-h*i+s*i-r*a+r,this.f=h*a+u*i-r*i-s*a+s,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,r=e,s=0,a=0){arguments.length===3&&(a=s,s=r,r=e);const{a:i,b:o,c:l,d:c,e:d,f:u}=this;return this.a=i*e,this.b=o*r,this.c=l*e,this.d=c*r,this.e=d*e-s*e+s,this.f=u*r-a*r+a,this}shear(e,r,s){return this.clone().shearO(e,r,s)}shearO(e,r=0,s=0){const{a,b:i,c:o,d:l,e:c,f:d}=this;return this.a=a+i*e,this.c=o+l*e,this.e=c+d*e-s*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,r=e,s=0,a=0){arguments.length===3&&(a=s,s=r,r=e),e=Jp(e),r=Jp(r);const i=Math.tan(e),o=Math.tan(r),{a:l,b:c,c:d,d:u,e:h,f}=this;return this.a=l+c*i,this.b=c+l*o,this.c=d+u*i,this.d=u+d*o,this.e=h+f*i-a*i,this.f=f+h*o-s*o,this}skewX(e,r,s){return this.skew(e,0,r,s)}skewY(e,r,s){return this.skew(0,e,r,s)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Ze.isMatrixLike(e))return new Ze(e).multiplyO(this);const r=Ze.formatTransforms(e),{x:s,y:a}=new Bt(r.ox,r.oy).transform(this),i=new Ze().translateO(r.rx,r.ry).lmultiplyO(this).translateO(-s,-a).scaleO(r.scaleX,r.scaleY).skewO(r.skewX,r.skewY).shearO(r.shear).rotateO(r.theta).translateO(s,a);if(isFinite(r.px)||isFinite(r.py)){const o=new Bt(s,a).transform(i),l=isFinite(r.px)?r.px-o.x:0,c=isFinite(r.py)?r.py-o.y:0;i.translateO(l,c)}return i.translateO(r.tx,r.ty),i}translate(e,r){return this.clone().translateO(e,r)}translateO(e,r){return this.e+=e||0,this.f+=r||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function to(){if(!to.nodes){const t=ea().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;to.nodes={svg:t,path:e}}if(!to.nodes.svg.node.parentNode){const t=_t.document.body||_t.document.documentElement;to.nodes.svg.addTo(t)}return to.nodes}function nP(t){return!(t.width||t.height||t.x||t.y)}Mt(Ze,"Matrix");class Ir{constructor(...e){this.init(...e)}addOffset(){return this.x+=_t.window.pageXOffset,this.y+=_t.window.pageYOffset,new Ir(this)}init(e){return e=typeof e=="string"?e.split(zi).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return nP(this)}merge(e){const r=Math.min(this.x,e.x),s=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width)-r,i=Math.max(this.y+this.height,e.y+e.height)-s;return new Ir(r,s,a,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Ze||(e=new Ze(e));let r=1/0,s=-1/0,a=1/0,i=-1/0;return[new Bt(this.x,this.y),new Bt(this.x2,this.y),new Bt(this.x,this.y2),new Bt(this.x2,this.y2)].forEach(function(o){o=o.transform(e),r=Math.min(r,o.x),s=Math.max(s,o.x),a=Math.min(a,o.y),i=Math.max(i,o.y)}),new Ir(r,a,s-r,i-a)}}function fS(t,e,r){let s;try{if(s=e(t.node),nP(s)&&(a=t.node)!==_t.document&&!(_t.document.documentElement.contains||function(i){for(;i.parentNode;)i=i.parentNode;return i===_t.document}).call(_t.document.documentElement,a))throw new Error("Element not in the dom")}catch{s=r(t)}var a;return s}ht({viewbox:{viewbox(t,e,r,s){return t==null?new Ir(this.attr("viewBox")):this.attr("viewBox",new Ir(t,e,r,s))},zoom(t,e){let{width:r,height:s}=this.attr(["width","height"]);if((r||s)&&typeof r!="string"&&typeof s!="string"||(r=this.node.clientWidth,s=this.node.clientHeight),!r||!s)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const a=this.viewbox(),i=r/a.width,o=s/a.height,l=Math.min(i,o);if(t==null)return l;let c=l/t;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new Bt(r/2/i+a.x,s/2/o+a.y);const d=new Ir(a).transform(new Ze({scale:c,origin:e}));return this.viewbox(d)}}}),Mt(Ir,"Box");class ec extends Array{constructor(e=[],...r){if(super(e,...r),typeof e=="number")return this;this.length=0,this.push(...e)}}rt([ec],{each(t,...e){return typeof t=="function"?this.map((r,s,a)=>t.call(r,r,s,a)):this.map(r=>r[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const N7=["toArray","constructor","each"];function dc(t,e){return new ec($1((e||_t.document).querySelectorAll(t),function(r){return rn(r)}))}ec.extend=function(t){t=t.reduce((e,r)=>(N7.includes(r)||r[0]==="_"||(r in Array.prototype&&(e["$"+r]=Array.prototype[r]),e[r]=function(...s){return this.each(r,...s)}),e),{}),rt([ec],t)};let j7=0;const iP={};function oP(t){let e=t.getEventHolder();return e===_t.window&&(e=iP),e.events||(e.events={}),e.events}function Z1(t){return t.getEventTarget()}function yi(t,e,r,s,a){const i=r.bind(s||t),o=ea(t),l=oP(o),c=Z1(o);e=Array.isArray(e)?e:e.split(zi),r._svgjsListenerId||(r._svgjsListenerId=++j7),e.forEach(function(d){const u=d.split(".")[0],h=d.split(".")[1]||"*";l[u]=l[u]||{},l[u][h]=l[u][h]||{},l[u][h][r._svgjsListenerId]=i,c.addEventListener(u,i,a||!1)})}function on(t,e,r,s){const a=ea(t),i=oP(a),o=Z1(a);(typeof r!="function"||(r=r._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(zi)).forEach(function(l){const c=l&&l.split(".")[0],d=l&&l.split(".")[1];let u,h;if(r)i[c]&&i[c][d||"*"]&&(o.removeEventListener(c,i[c][d||"*"][r],s||!1),delete i[c][d||"*"][r]);else if(c&&d){if(i[c]&&i[c][d]){for(h in i[c][d])on(o,[c,d].join("."),h);delete i[c][d]}}else if(d)for(l in i)for(u in i[l])d===u&&on(o,[l,d].join("."));else if(c){if(i[c]){for(u in i[c])on(o,[c,u].join("."));delete i[c]}}else{for(l in i)on(o,l);(function(f){let m=f.getEventHolder();m===_t.window&&(m=iP),m.events&&(m.events={})})(a)}})}class Cf extends G1{addEventListener(){}dispatch(e,r,s){return function(a,i,o,l){const c=Z1(a);return i instanceof _t.window.Event||(i=new _t.window.CustomEvent(i,{detail:o,cancelable:!0,...l})),c.dispatchEvent(i),i}(this,e,r,s)}dispatchEvent(e){const r=this.getEventHolder().events;if(!r)return!0;const s=r[e.type];for(const a in s)for(const i in s[a])s[a][i](e);return!e.defaultPrevented}fire(e,r,s){return this.dispatch(e,r,s),this}getEventHolder(){return this}getEventTarget(){return this}off(e,r,s){return on(this,e,r,s),this}on(e,r,s,a){return yi(this,e,r,s,a),this}removeEventListener(){}}function mS(){}Mt(Cf,"EventTarget");const sg=400,S7=">",C7=0,k7={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class tc extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(zi).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class ot{constructor(...e){this.init(...e)}convert(e){return new ot(this.value,e)}divide(e){return e=new ot(e),new ot(this/e,this.unit||e.unit)}init(e,r){return r=Array.isArray(e)?e[1]:r,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=r||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(r=e.match(aP))&&(this.value=parseFloat(r[1]),r[5]==="%"?this.value/=100:r[5]==="s"&&(this.value*=1e3),this.unit=r[5]):e instanceof ot&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new ot(e),new ot(this-e,this.unit||e.unit)}plus(e){return e=new ot(e),new ot(this+e,this.unit||e.unit)}times(e){return e=new ot(e),new ot(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const A7=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),lP=[];class Mo extends Cf{constructor(e,r){super(),this.node=e,this.type=e.nodeName,r&&e!==r&&this.attr(r)}add(e,r){return(e=ea(e)).removeNamespace&&this.node instanceof _t.window.SVGElement&&e.removeNamespace(),r==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[r]&&this.node.insertBefore(e.node,this.node.childNodes[r]),this}addTo(e,r){return ea(e).put(this,r)}children(){return new ec($1(this.node.children,function(e){return rn(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,r=!0){this.writeDataToDom();let s=this.node.cloneNode(e);return r&&(s=sP(s)),new this.constructor(s)}each(e,r){const s=this.children();let a,i;for(a=0,i=s.length;a<i;a++)e.apply(s[a],[a,s]),r&&s[a].each(e,r);return this}element(e,r){return this.put(new Mo(Hh(e),r))}first(){return rn(this.node.firstChild)}get(e){return rn(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,r){return this.xml(e,r,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=rP(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return rn(this.node.lastChild)}matches(e){const r=this.node,s=r.matches||r.matchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||null;return s&&s.call(r,e)}parent(e){let r=this;if(!r.node.parentNode)return null;if(r=rn(r.node.parentNode),!e)return r;do if(typeof e=="string"?r.matches(e):r instanceof e)return r;while(r=rn(r.node.parentNode));return r}put(e,r){return e=ea(e),this.add(e,r),e}putIn(e,r){return ea(e).add(this,r)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=ea(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,r=null){const s=10**e,a=this.attr(r);for(const i in a)typeof a[i]=="number"&&(a[i]=Math.round(a[i]*s)/s);return this.attr(a),this}svg(e,r){return this.xml(e,r,X1)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const r=this.parent();if(!r)return this.addTo(e);const s=r.index(this);return r.put(e,s).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,r,s){if(typeof e=="boolean"&&(s=r,r=e,e=null),e==null||typeof e=="function"){r=r==null||r,this.writeDataToDom();let l=this;if(e!=null){if(l=rn(l.node.cloneNode(!0)),r){const c=e(l);if(l=c||l,c===!1)return""}l.each(function(){const c=e(this),d=c||this;c===!1?this.remove():c&&this!==d&&this.replace(d)},!0)}return r?l.node.outerHTML:l.node.innerHTML}r=r!=null&&r;const a=Hh("wrapper",s),i=_t.document.createDocumentFragment();a.innerHTML=e;for(let l=a.children.length;l--;)i.appendChild(a.firstElementChild);const o=this.parent();return r?this.replace(i)&&o:this.add(i)}}rt(Mo,{attr:function(t,e,r){if(t==null){t={},e=this.node.attributes;for(const s of e)t[s.nodeName]=hS.test(s.nodeValue)?parseFloat(s.nodeValue):s.nodeValue;return t}if(t instanceof Array)return t.reduce((s,a)=>(s[a]=this.attr(a),s),{});if(typeof t=="object"&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(e===null)this.node.removeAttribute(t);else{if(e==null)return(e=this.node.getAttribute(t))==null?k7[t]:hS.test(e)?parseFloat(e):e;typeof(e=lP.reduce((s,a)=>a(t,s,this),e))=="number"?e=new ot(e):A7.has(t)&&Kt.isColor(e)?e=new Kt(e):e.constructor===Array&&(e=new tc(e)),t==="leading"?this.leading&&this.leading(e):typeof r=="string"?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||t!=="font-size"&&t!=="x"||this.rebuild()}return this},find:function(t){return dc(t,this.node)},findOne:function(t){return rn(this.node.querySelector(t))}}),Mt(Mo,"Dom");let Ms=class extends Mo{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new ot(t).plus(this.x()))}dy(t=0){return this.y(new ot(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=ea(t));const r=new ec;let s=this;for(;(s=s.parent())&&s.node!==_t.document&&s.nodeName!=="#document-fragment"&&(r.push(s),e||s.node!==t.node)&&(!e||!s.matches(t));)if(s.node===this.root().node)return null;return r}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(g7);return e?ea(e[1]):null}root(){const t=this.parent(function(e){return Ul[e]}(K1));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const r=iu(this,t,e);return this.width(new ot(r.width)).height(new ot(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return tP(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};rt(Ms,{bbox:function(){const t=fS(this,e=>e.getBBox(),e=>{try{const r=e.clone().addTo(to().svg).show(),s=r.node.getBBox();return r.remove(),s}catch(r){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${r.toString()}`)}});return new Ir(t)},rbox:function(t){const e=fS(this,s=>s.getBoundingClientRect(),s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)}),r=new Ir(e);return t?r.transform(t.screenCTM().inverseO()):r.addOffset()},inside:function(t,e){const r=this.bbox();return t>r.x&&e>r.y&&t<r.x+r.width&&e<r.y+r.height},point:function(t,e){return new Bt(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Ze(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new Ze(e)}return new Ze(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Ze}}}),Mt(Ms,"Element");const ku={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return e==="color"?t:t+"-"+e}};["fill","stroke"].forEach(function(t){const e={};let r;e[t]=function(s){if(s===void 0)return this.attr(t);if(typeof s=="string"||s instanceof Kt||Kt.isRgb(s)||s instanceof Ms)this.attr(t,s);else for(r=ku[t].length-1;r>=0;r--)s[ku[t][r]]!=null&&this.attr(ku.prefix(t,ku[t][r]),s[ku[t][r]]);return this},ht(["Element","Runner"],e)}),ht(["Element","Runner"],{matrix:function(t,e,r,s,a,i){return t==null?new Ze(this):this.attr("transform",new Ze(t,e,r,s,a,i))},rotate:function(t,e,r){return this.transform({rotate:t,ox:e,oy:r},!0)},skew:function(t,e,r,s){return arguments.length===1||arguments.length===3?this.transform({skew:t,ox:e,oy:r},!0):this.transform({skew:[t,e],ox:r,oy:s},!0)},shear:function(t,e,r){return this.transform({shear:t,ox:e,oy:r},!0)},scale:function(t,e,r,s){return arguments.length===1||arguments.length===3?this.transform({scale:t,ox:e,oy:r},!0):this.transform({scale:[t,e],ox:r,oy:s},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return"xybothtrue".indexOf(t)===-1&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),ht("radius",{radius:function(t,e=t){return(this._element||this).type==="radialGradient"?this.attr("r",new ot(t)):this.rx(t).ry(e)}}),ht("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new Bt(this.node.getPointAtLength(t))}}),ht(["Element","Runner"],{font:function(t,e){if(typeof t=="object"){for(e in t)this.font(e,t[e]);return this}return t==="leading"?this.leading(e):t==="anchor"?this.attr("text-anchor",e):t==="size"||t==="family"||t==="weight"||t==="stretch"||t==="variant"||t==="style"?this.attr("font-"+t,e):this.attr(t,e)}});ht("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){return t[e]=function(r){return r===null?this.off(e):this.on(e,r),this},t},{})),ht("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(y7).slice(0,-1).map(function(e){const r=e.trim().split("(");return[r[0],r[1].split(zi).map(function(s){return parseFloat(s)})]}).reverse().reduce(function(e,r){return r[0]==="matrix"?e.lmultiply(Ze.fromArray(r[1])):e[r[0]].apply(e,r[1])},new Ze)},toParent:function(t,e){if(this===t)return this;if(bv(this.node))return this.addTo(t,e);const r=this.screenCTM(),s=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(s.multiply(r)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(t==null||typeof t=="string"){const s=new Ze(this).decompose();return t==null?s:s[t]}Ze.isMatrixLike(t)||(t={...t,origin:vv(t,this)});const r=new Ze(e===!0?this:e||!1).transform(t);return this.attr("transform",r)}});class ia extends Ms{flatten(){return this.each(function(){if(this instanceof ia)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),r=e.index(this)){return r=r===-1?e.children().length:r,this.each(function(s,a){return a[a.length-s-1].toParent(e,r)}),this.remove()}}Mt(ia,"Container");class Ux extends ia{constructor(e,r=e){super(lr("defs",e),r)}flatten(){return this}ungroup(){return this}}Mt(Ux,"Defs");class Xa extends Ms{}function Q1(t){return this.attr("rx",t)}function J1(t){return this.attr("ry",t)}function cP(t){return t==null?this.cx()-this.rx():this.cx(t+this.rx())}function dP(t){return t==null?this.cy()-this.ry():this.cy(t+this.ry())}function uP(t){return this.attr("cx",t)}function hP(t){return this.attr("cy",t)}function fP(t){return t==null?2*this.rx():this.rx(new ot(t).divide(2))}function mP(t){return t==null?2*this.ry():this.ry(new ot(t).divide(2))}Mt(Xa,"Shape");var T7=Object.freeze({__proto__:null,cx:uP,cy:hP,height:mP,rx:Q1,ry:J1,width:fP,x:cP,y:dP});class Y0 extends Xa{constructor(e,r=e){super(lr("ellipse",e),r)}size(e,r){const s=iu(this,e,r);return this.rx(new ot(s.width).divide(2)).ry(new ot(s.height).divide(2))}}rt(Y0,T7),ht("Container",{ellipse:or(function(t=0,e=t){return this.put(new Y0).size(t,e).move(0,0)})}),Mt(Y0,"Ellipse");class xP extends Mo{constructor(e=_t.document.createDocumentFragment()){super(e)}xml(e,r,s){if(typeof e=="boolean"&&(s=r,r=e,e=null),e==null||typeof e=="function"){const a=new Mo(Hh("wrapper",s));return a.add(this.node.cloneNode(!0)),a.xml(!1,s)}return super.xml(e,!1,s)}}function pP(t,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new ot(t),fy:new ot(e)}):this.attr({x1:new ot(t),y1:new ot(e)})}function gP(t,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new ot(t),cy:new ot(e)}):this.attr({x2:new ot(t),y2:new ot(e)})}Mt(xP,"Fragment");var E7=Object.freeze({__proto__:null,from:pP,to:gP});class th extends ia{constructor(e,r){super(lr(e+"Gradient",typeof e=="string"?null:e),r)}attr(e,r,s){return e==="transform"&&(e="gradientTransform"),super.attr(e,r,s)}bbox(){return new Ir}targets(){return dc("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}rt(th,E7),ht({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:or(function(t,e){return this.put(new th(t)).update(e)})}}),Mt(th,"Gradient");class zh extends ia{constructor(e,r=e){super(lr("pattern",e),r)}attr(e,r,s){return e==="transform"&&(e="patternTransform"),super.attr(e,r,s)}bbox(){return new Ir}targets(){return dc("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}ht({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:or(function(t,e,r){return this.put(new zh).update(r).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),Mt(zh,"Pattern");let V0=class extends Xa{constructor(t,e=t){super(lr("image",t),e)}load(t,e){if(!t)return this;const r=new _t.window.Image;return yi(r,"load",function(s){const a=this.parent(zh);this.width()===0&&this.height()===0&&this.size(r.width,r.height),a instanceof zh&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof e=="function"&&e.call(this,s)},this),yi(r,"load error",function(){on(r)}),this.attr("href",r.src=t,ou)}};var xS;xS=function(t,e,r){return t!=="fill"&&t!=="stroke"||b7.test(e)&&(e=r.root().defs().image(e)),e instanceof V0&&(e=r.root().defs().pattern(0,0,s=>{s.add(e)})),e},lP.push(xS),ht({Container:{image:or(function(t,e){return this.put(new V0).size(0,0).load(t,e)})}}),Mt(V0,"Image");class Ro extends tc{bbox(){let e=-1/0,r=-1/0,s=1/0,a=1/0;return this.forEach(function(i){e=Math.max(i[0],e),r=Math.max(i[1],r),s=Math.min(i[0],s),a=Math.min(i[1],a)}),new Ir(s,a,e-s,r-a)}move(e,r){const s=this.bbox();if(e-=s.x,r-=s.y,!isNaN(e)&&!isNaN(r))for(let a=this.length-1;a>=0;a--)this[a]=[this[a][0]+e,this[a][1]+r];return this}parse(e=[0,0]){const r=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(zi).map(parseFloat)).length%2!=0&&e.pop();for(let s=0,a=e.length;s<a;s+=2)r.push([e[s],e[s+1]]);return r}size(e,r){let s;const a=this.bbox();for(s=this.length-1;s>=0;s--)a.width&&(this[s][0]=(this[s][0]-a.x)*e/a.width+a.x),a.height&&(this[s][1]=(this[s][1]-a.y)*r/a.height+a.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let r=0,s=this.length;r<s;r++)e.push(this[r].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Ze.isMatrixLike(e)||(e=new Ze(e));for(let r=this.length;r--;){const[s,a]=this[r];this[r][0]=e.a*s+e.c*a+e.e,this[r][1]=e.b*s+e.d*a+e.f}return this}}const P7=Ro;var ew=Object.freeze({__proto__:null,MorphArray:P7,height:function(t){const e=this.bbox();return t==null?e.height:this.size(e.width,t)},width:function(t){const e=this.bbox();return t==null?e.width:this.size(t,e.height)},x:function(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}});let Sl=class extends Xa{constructor(t,e=t){super(lr("line",t),e)}array(){return new Ro([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,r,s){return t==null?this.array():(t=e!==void 0?{x1:t,y1:e,x2:r,y2:s}:new Ro(t).toLine(),this.attr(t))}size(t,e){const r=iu(this,t,e);return this.attr(this.array().size(r.width,r.height).toLine())}};rt(Sl,ew),ht({Container:{line:or(function(...t){return Sl.prototype.plot.apply(this.put(new Sl),t[0]!=null?t:[0,0,0,0])})}}),Mt(Sl,"Line");let $0=class extends ia{constructor(t,e=t){super(lr("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};function $c(t,e){return function(r){return r==null?this[t]:(this[t]=r,e&&e.call(this),this)}}ht({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:or(function(t,e,r){return this.put(new $0).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(r)})},marker:{marker(t,e,r,s){let a=["marker"];return t!=="all"&&a.push(t),a=a.join("-"),t=arguments[1]instanceof $0?arguments[1]:this.defs().marker(e,r,s),this.attr(a,t)}}}),Mt($0,"Marker");const _7={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,r,s){return function(a){return a<0?t>0?e/t*a:r>0?s/r*a:0:a>1?r<1?(1-s)/(1-r)*a+(s-r)/(1-r):t<1?(1-e)/(1-t)*a+(e-t)/(1-t):1:3*a*(1-a)**2*e+3*a**2*(1-a)*s+a**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let r=t;return e==="none"?--r:e==="both"&&++r,(s,a=!1)=>{let i=Math.floor(s*t);const o=s*i%1==0;return e!=="start"&&e!=="both"||++i,a&&o&&--i,s>=0&&i<0&&(i=0),s<=1&&i>r&&(i=r),i/r}}};class tw{done(){return!1}}class wv extends tw{constructor(e=S7){super(),this.ease=_7[e]||e}step(e,r,s){return typeof e!="number"?s<1?e:r:e+(r-e)*this.ease(s)}}class Im extends tw{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,r,s,a){return this.stepper(e,r,s,a)}}function pS(){const t=(this._duration||500)/1e3,e=this._overshoot||0,r=Math.PI,s=Math.log(e/100+1e-10),a=-s/Math.sqrt(r*r+s*s),i=3.9/(a*t);this.d=2*a*i,this.k=i*i}rt(class extends Im{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,r,s){if(typeof t=="string")return t;if(s.done=r===1/0,r===1/0)return e;if(r===0)return t;r>100&&(r=16),r/=1e3;const a=s.velocity||0,i=-this.d*a-this.k*(t-e),o=t+a*r+i*r*r/2;return s.velocity=a+i*r,s.done=Math.abs(e-o)+Math.abs(a)<.002,s.done?e:o}},{duration:$c("_duration",pS),overshoot:$c("_overshoot",pS)});rt(class extends Im{constructor(t=.1,e=.01,r=0,s=1e3){super(),this.p(t).i(e).d(r).windup(s)}step(t,e,r,s){if(typeof t=="string")return t;if(s.done=r===1/0,r===1/0)return e;if(r===0)return t;const a=e-t;let i=(s.integral||0)+a*r;const o=(a-(s.error||0))/r,l=this._windup;return l!==!1&&(i=Math.max(-l,Math.min(i,l))),s.error=a,s.integral=i,s.done=Math.abs(a)<.001,s.done?e:t+(this.P*a+this.I*i+this.D*o)}},{windup:$c("_windup"),p:$c("P"),i:$c("I"),d:$c("D")});const D7={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Nv={M:function(t,e,r){return e.x=r.x=t[0],e.y=r.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,r){return e.x=r.x,e.y=r.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},ag="mlhvqtcsaz".split("");for(let t=0,e=ag.length;t<e;++t)Nv[ag[t]]=function(r){return function(s,a,i){if(r==="H")s[0]=s[0]+a.x;else if(r==="V")s[0]=s[0]+a.y;else if(r==="A")s[5]=s[5]+a.x,s[6]=s[6]+a.y;else for(let o=0,l=s.length;o<l;++o)s[o]=s[o]+(o%2?a.y:a.x);return Nv[r](s,a,i)}}(ag[t].toUpperCase());function jv(t){return t.segment.length&&t.segment.length-1===D7[t.segment[0].toUpperCase()]}function M7(t,e){t.inNumber&&nl(t,!1);const r=q1.test(e);if(r)t.segment=[e];else{const s=t.lastCommand,a=s.toLowerCase(),i=s===a;t.segment=[a==="m"?i?"l":"L":s]}return t.inSegment=!0,t.lastCommand=t.segment[0],r}function nl(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,jv(t)&&Sv(t)}function Sv(t){t.inSegment=!1,t.absolute&&(t.segment=function(e){const r=e.segment[0];return Nv[r](e.segment.slice(1),e.p,e.p0)}(t)),t.segments.push(t.segment)}function R7(t){if(!t.segment.length)return!1;const e=t.segment[0].toUpperCase()==="A",r=t.segment.length;return e&&(r===4||r===5)}function F7(t){return t.lastToken.toUpperCase()==="E"}const L7=new Set([" ",",","	",`
`,"\r","\f"]);class En extends tc{bbox(){return to().path.setAttribute("d",this.toString()),new Ir(to.nodes.path.getBBox())}move(e,r){const s=this.bbox();if(e-=s.x,r-=s.y,!isNaN(e)&&!isNaN(r))for(let a,i=this.length-1;i>=0;i--)a=this[i][0],a==="M"||a==="L"||a==="T"?(this[i][1]+=e,this[i][2]+=r):a==="H"?this[i][1]+=e:a==="V"?this[i][1]+=r:a==="C"||a==="S"||a==="Q"?(this[i][1]+=e,this[i][2]+=r,this[i][3]+=e,this[i][4]+=r,a==="C"&&(this[i][5]+=e,this[i][6]+=r)):a==="A"&&(this[i][6]+=e,this[i][7]+=r);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(r,s=!0){let a=0,i="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:s,p0:new Bt,p:new Bt};for(;o.lastToken=i,i=r.charAt(a++);)if(o.inSegment||!M7(o,i))if(i!==".")if(isNaN(parseInt(i)))if(L7.has(i))o.inNumber&&nl(o,!1);else if(i!=="-"&&i!=="+")if(i.toUpperCase()!=="E"){if(q1.test(i)){if(o.inNumber)nl(o,!1);else{if(!jv(o))throw new Error("parser Error");Sv(o)}--a}}else o.number+=i,o.hasExponent=!0;else{if(o.inNumber&&!F7(o)){nl(o,!1),--a;continue}o.number+=i,o.inNumber=!0}else{if(o.number==="0"||R7(o)){o.inNumber=!0,o.number=i,nl(o,!0);continue}o.inNumber=!0,o.number+=i}else{if(o.pointSeen||o.hasExponent){nl(o,!1),--a;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=i}return o.inNumber&&nl(o,!1),o.inSegment&&jv(o)&&Sv(o),o.segments}(e)}size(e,r){const s=this.bbox();let a,i;for(s.width=s.width===0?1:s.width,s.height=s.height===0?1:s.height,a=this.length-1;a>=0;a--)i=this[a][0],i==="M"||i==="L"||i==="T"?(this[a][1]=(this[a][1]-s.x)*e/s.width+s.x,this[a][2]=(this[a][2]-s.y)*r/s.height+s.y):i==="H"?this[a][1]=(this[a][1]-s.x)*e/s.width+s.x:i==="V"?this[a][1]=(this[a][1]-s.y)*r/s.height+s.y:i==="C"||i==="S"||i==="Q"?(this[a][1]=(this[a][1]-s.x)*e/s.width+s.x,this[a][2]=(this[a][2]-s.y)*r/s.height+s.y,this[a][3]=(this[a][3]-s.x)*e/s.width+s.x,this[a][4]=(this[a][4]-s.y)*r/s.height+s.y,i==="C"&&(this[a][5]=(this[a][5]-s.x)*e/s.width+s.x,this[a][6]=(this[a][6]-s.y)*r/s.height+s.y)):i==="A"&&(this[a][1]=this[a][1]*e/s.width,this[a][2]=this[a][2]*r/s.height,this[a][6]=(this[a][6]-s.x)*e/s.width+s.x,this[a][7]=(this[a][7]-s.y)*r/s.height+s.y);return this}toString(){return function(e){let r="";for(let s=0,a=e.length;s<a;s++)r+=e[s][0],e[s][1]!=null&&(r+=e[s][1],e[s][2]!=null&&(r+=" ",r+=e[s][2],e[s][3]!=null&&(r+=" ",r+=e[s][3],r+=" ",r+=e[s][4],e[s][5]!=null&&(r+=" ",r+=e[s][5],r+=" ",r+=e[s][6],e[s][7]!=null&&(r+=" ",r+=e[s][7])))));return r+" "}(this)}}const yP=t=>{const e=typeof t;return e==="number"?ot:e==="string"?Kt.isColor(t)?Kt:zi.test(t)?q1.test(t)?En:tc:aP.test(t)?ot:Cv:kv.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?tc:e==="object"?Wh:Cv};class il{constructor(e){this._stepper=e||new wv("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,r){return e&&r},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(yP(e));let r=new this._type(e);return this._type===Kt&&(r=this._to?r[this._to[4]]():this._from?r[this._from[4]]():r),this._type===Wh&&(r=this._to?r.align(this._to):this._from?r.align(this._from):r),r=r.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(r.length)).map(Object).map(function(s){return s.done=!0,s}),r}}class Cv{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class kf{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,kf.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}kf.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const I7=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class Wh{constructor(...e){this.init(...e)}align(e){const r=this.values;for(let s=0,a=r.length;s<a;++s){if(r[s+1]===e[s+1]){if(r[s+1]===Kt&&e[s+7]!==r[s+7]){const l=e[s+7],c=new Kt(this.values.splice(s+3,5))[l]().toArray();this.values.splice(s+3,0,...c)}s+=r[s+2]+2;continue}if(!e[s+1])return this;const i=new e[s+1]().toArray(),o=r[s+2]+3;r.splice(s,o,e[s],e[s+1],e[s+2],...i),s+=r[s+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const r=[];for(const s in e){const a=yP(e[s]),i=new a(e[s]).toArray();r.push([s,a,i.length,...i])}return r.sort(I7),this.values=r.reduce((s,a)=>s.concat(a),[]),this}toArray(){return this.values}valueOf(){const e={},r=this.values;for(;r.length;){const s=r.shift(),a=r.shift(),i=r.shift(),o=r.splice(0,i);e[s]=new a(o)}return e}}const kv=[Cv,kf,Wh];class td extends Xa{constructor(e,r=e){super(lr("path",e),r)}array(){return this._array||(this._array=new En(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,r){return this.attr("d",this.array().move(e,r))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new En(e))}size(e,r){const s=iu(this,e,r);return this.attr("d",this.array().size(s.width,s.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}td.prototype.MorphArray=En,ht({Container:{path:or(function(t){return this.put(new td).plot(t||new En)})}}),Mt(td,"Path");var vP=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Ro(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return t==null?this.array():this.clear().attr("points",typeof t=="string"?t:this._array=new Ro(t))},size:function(t,e){const r=iu(this,t,e);return this.attr("points",this.array().size(r.width,r.height))}});class Cl extends Xa{constructor(e,r=e){super(lr("polygon",e),r)}}ht({Container:{polygon:or(function(t){return this.put(new Cl).plot(t||new Ro)})}}),rt(Cl,ew),rt(Cl,vP),Mt(Cl,"Polygon");class kl extends Xa{constructor(e,r=e){super(lr("polyline",e),r)}}ht({Container:{polyline:or(function(t){return this.put(new kl).plot(t||new Ro)})}}),rt(kl,ew),rt(kl,vP),Mt(kl,"Polyline");class X0 extends Xa{constructor(e,r=e){super(lr("rect",e),r)}}rt(X0,{rx:Q1,ry:J1}),ht({Container:{rect:or(function(t,e){return this.put(new X0).size(t,e)})}}),Mt(X0,"Rect");class ng{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const r=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(r.prev=this._last,this._last.next=r,this._last=r):(this._last=r,this._first=r),r}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Wt={nextDraw:null,frames:new ng,timeouts:new ng,immediates:new ng,timer:()=>_t.window.performance||_t.window.Date,transforms:[],frame(t){const e=Wt.frames.push({run:t});return Wt.nextDraw===null&&(Wt.nextDraw=_t.window.requestAnimationFrame(Wt._draw)),e},timeout(t,e){e=e||0;const r=Wt.timer().now()+e,s=Wt.timeouts.push({run:t,time:r});return Wt.nextDraw===null&&(Wt.nextDraw=_t.window.requestAnimationFrame(Wt._draw)),s},immediate(t){const e=Wt.immediates.push(t);return Wt.nextDraw===null&&(Wt.nextDraw=_t.window.requestAnimationFrame(Wt._draw)),e},cancelFrame(t){t!=null&&Wt.frames.remove(t)},clearTimeout(t){t!=null&&Wt.timeouts.remove(t)},cancelImmediate(t){t!=null&&Wt.immediates.remove(t)},_draw(t){let e=null;const r=Wt.timeouts.last();for(;(e=Wt.timeouts.shift())&&(t>=e.time?e.run():Wt.timeouts.push(e),e!==r););let s=null;const a=Wt.frames.last();for(;s!==a&&(s=Wt.frames.shift());)s.run(t);let i=null;for(;i=Wt.immediates.shift();)i();Wt.nextDraw=Wt.timeouts.first()||Wt.frames.first()?_t.window.requestAnimationFrame(Wt._draw):null}},O7=function(t){const e=t.start,r=t.runner.duration();return{start:e,duration:r,end:e+r,runner:t.runner}},B7=function(){const t=_t.window;return(t.performance||t.Date).now()};class bP extends Cf{constructor(e=B7){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),r=e?e.runner.duration():0;return(e?e.start:this._time)+r}getEndTimeOfTimeline(){const e=this._runners.map(r=>r.start+r.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const r=this.speed();if(e==null)return this.speed(-r);const s=Math.abs(r);return this.speed(e?-s:s)}schedule(e,r,s){if(e==null)return this._runners.map(O7);let a=0;const i=this.getEndTime();if(r=r||0,s==null||s==="last"||s==="after")a=i;else if(s==="absolute"||s==="start")a=r,r=0;else if(s==="now")a=this._time;else if(s==="relative"){const c=this.getRunnerInfoById(e.id);c&&(a=c.start+r,r=0)}else{if(s!=="with-last")throw new Error('Invalid value for the "when" parameter');{const c=this.getLastRunnerInfo();a=c?c.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),l={persist:o===null?this._persist:o,start:a+r,runner:e};return this._lastRunnerId=e.id,this._runners.push(l),this._runners.sort((c,d)=>c.start-d.start),this._runnerIds=this._runners.map(c=>c.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const r=this._runnerIds.indexOf(e.id);return r<0||(this._runners.splice(r,1),this._runnerIds.splice(r,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Wt.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Wt.frame(this._step)),this)}_stepFn(e=!1){const r=this._timeSource();let s=r-this._lastSourceTime;e&&(s=0);const a=this._speed*s+(this._time-this._lastStepTime);this._lastSourceTime=r,e||(this._time+=a,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const l=this._runners[o],c=l.runner;this._time-l.start<=0&&c.reset()}let i=!1;for(let o=0,l=this._runners.length;o<l;o++){const c=this._runners[o],d=c.runner;let u=a;const h=this._time-c.start;if(h<=0){i=!0;continue}h<u&&(u=h),d.active()&&(d.step(u).done?c.persist!==!0&&d.duration()-d.time()+this._time+c.persist<this._time&&(d.unschedule(),--o,--l):i=!0)}return i&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}ht({Element:{timeline:function(t){return t==null?(this._timeline=this._timeline||new bP,this._timeline):(this._timeline=t,this)}}});class Ha extends Cf{constructor(e){super(),this.id=Ha.id++,e=typeof(e=e??sg)=="function"?new Im(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof Im,this._stepper=this._isDeclarative?e:new wv,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Ze,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,r,s){let a=1,i=!1,o=0;return r=r??C7,s=s||"last",typeof(e=e??sg)!="object"||e instanceof tw||(r=e.delay??r,s=e.when??s,i=e.swing||i,a=e.times??a,o=e.wait??o,e=e.duration??sg),{duration:e,delay:r,swing:i,times:a,wait:o,when:s}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,r,s){const a=Ha.sanitise(e,r,s),i=new Ha(a.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(a).schedule(a.delay,a.when)}clearTransform(){return this.transforms=new Ze,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new wv(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,r,s){return typeof e=="object"&&(r=e.swing,s=e.wait,e=e.times),this._times=e||1/0,this._swing=r||!1,this._wait=s||0,this._times===!0&&(this._times=1/0),this}loops(e){const r=this._duration+this._wait;if(e==null){const i=Math.floor(this._time/r),o=(this._time-i*r)/this._duration;return Math.min(i+o,this._times)}const s=e%1,a=r*Math.floor(e)+this._duration*s;return this.time(a)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const r=this._time,s=this._duration,a=this._wait,i=this._times,o=this._swing,l=this._reverse;let c;if(e==null){const h=function(m){const p=o*Math.floor(m%(2*(a+s))/(a+s)),x=p&&!l||!p&&l,g=Math.pow(-1,x)*(m%(a+s))/s+x;return Math.max(Math.min(g,1),0)},f=i*(a+s)-a;return c=r<=0?Math.round(h(1e-5)):r<f?h(r):Math.round(h(f-1e-5)),c}const d=Math.floor(this.loops()),u=o&&d%2==0;return c=d+(u&&!l||l&&u?e:1-e),this.loops(c)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,r,s,a){return this._queue.push({initialiser:e||mS,runner:r||mS,retarget:s,isTransform:a,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,r,s){if(e instanceof bP||(s=r,r=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,r,s),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const r=this.position(),s=this._lastPosition!==r&&this._time>=0;this._lastPosition=r;const a=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<a&&this._time>=a;this._lastTime=this._time,i&&this.fire("start",this);const l=this._isDeclarative;this.done=!l&&!o&&this._time>=a,this._reseted=!1;let c=!1;return(s||l)&&(this._initialise(s),this.transforms=new Ze,c=this._run(l?e:r),this.fire("step",this)),this.done=this.done||c&&l,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const r=e-this._time;return this.step(r),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let r=0,s=this._queue.length;r<s;++r){const a=this._queue[r],i=this._isDeclarative||!a.initialised&&e;e=!a.finished,i&&e&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(e,r){if(this._history[e]={morpher:r,caller:this._queue[this._queue.length-1]},this._isDeclarative){const s=this.timeline();s&&s.play()}}_run(e){let r=!0;for(let s=0,a=this._queue.length;s<a;++s){const i=this._queue[s],o=i.runner.call(this,e);i.finished=i.finished||o===!0,r=r&&i.finished}return r}_tryRetarget(e,r,s){if(this._history[e]){if(!this._history[e].caller.initialised){const i=this._queue.indexOf(this._history[e].caller);return this._queue.splice(i,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,r,s):this._history[e].morpher.to(r),this._history[e].caller.finished=!1;const a=this.timeline();return a&&a.play(),!0}return!1}}Ha.id=0;class Om{constructor(e=new Ze,r=-1,s=!0){this.transforms=e,this.id=r,this.done=s}clearTransformsFromQueue(){}}rt([Ha,Om],{mergeWith(t){return new Om(t.transforms.lmultiply(this.transforms),t.id)}});const wP=(t,e)=>t.lmultiplyO(e),NP=t=>t.transforms;function U7(){const t=this._transformationRunners.runners.map(NP).reduce(wP,new Ze);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class H7{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const r=e.id+1;return this.runners.push(e),this.ids.push(r),this}clearBefore(e){const r=this.ids.indexOf(e+1)||1;return this.ids.splice(0,r,0),this.runners.splice(0,r,new Om).forEach(s=>s.clearTransformsFromQueue()),this}edit(e,r){const s=this.ids.indexOf(e+1);return this.ids.splice(s,1,e+1),this.runners.splice(s,1,r),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let r=0;r<this.runners.length;++r){const s=this.runners[r];if(e&&s.done&&e.done&&(!s._timeline||!s._timeline._runnerIds.includes(s.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(s.id);const a=s.mergeWith(e);this.edit(e.id,a),e=a,--r}else e=s}return this}remove(e){const r=this.ids.indexOf(e+1);return this.ids.splice(r,1),this.runners.splice(r,1),this}}ht({Element:{animate(t,e,r){const s=Ha.sanitise(t,e,r),a=this.timeline();return new Ha(s.duration).loop(s).element(this).timeline(a.play()).schedule(s.delay,s.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(NP).reduce(wP,new Ze)},_addRunner(t){this._transformationRunners.add(t),Wt.cancelImmediate(this._frameId),this._frameId=Wt.immediate(U7.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new H7().add(new Om(new Ze(this))))}}});rt(Ha,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,r){if(typeof e=="string")return this.styleAttr(t,{[e]:r});let s=e;if(this._tryRetarget(t,s))return this;let a=new il(this._stepper).to(s),i=Object.keys(s);return this.queue(function(){a=a.from(this.element()[t](i))},function(o){return this.element()[t](a.at(o).valueOf()),a.done()},function(o){const l=Object.keys(o),c=(d=i,l.filter(h=>!d.includes(h)));var d;if(c.length){const h=this.element()[t](c),f=new Wh(a.from()).valueOf();Object.assign(f,h),a.from(f)}const u=new Wh(a.to()).valueOf();Object.assign(u,o),a.to(u),i=l,s=o}),this._rememberMorpher(t,a),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let r=new il(this._stepper).to(new ot(t));return this.queue(function(){r=r.from(this.element().zoom())},function(s){return this.element().zoom(r.at(s),e),r.done()},function(s,a){e=a,r.to(s)}),this._rememberMorpher("zoom",r),this},transform(t,e,r){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const s=Ze.isMatrixLike(t);r=t.affine!=null?t.affine:r??!s;const a=new il(this._stepper).type(r?kf:Ze);let i,o,l,c,d;return this.queue(function(){o=o||this.element(),i=i||vv(t,o),d=new Ze(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:h,y:f}=new Bt(i).transform(o._currentTransform(this));let m=new Ze({...t,origin:[h,f]}),p=this._isDeclarative&&l?l:d;if(r){m=m.decompose(h,f),p=p.decompose(h,f);const g=m.rotate,y=p.rotate,v=[g-360,g,g+360],b=v.map(C=>Math.abs(C-y)),w=Math.min(...b),N=b.indexOf(w);m.rotate=v[N]}e&&(s||(m.rotate=t.rotate||0),this._isDeclarative&&c&&(p.rotate=c)),a.from(p),a.to(m);const x=a.at(u);return c=x.rotate,l=new Ze(x),this.addTransform(l),o._addRunner(this),a.done()},function(u){(u.origin||"center").toString()!==(t.origin||"center").toString()&&(i=vv(u,o)),t={...u,origin:i}},!0),this._isDeclarative&&this._rememberMorpher("transform",a),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new ot(e),this._tryRetarget(t,e))return this;const r=new il(this._stepper).to(e);let s=null;return this.queue(function(){s=this.element()[t](),r.from(s),r.to(s+e)},function(a){return this.element()[t](r.at(a)),r.done()},function(a){r.to(s+new ot(a))}),this._rememberMorpher(t,r),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const r=new il(this._stepper).to(e);return this.queue(function(){r.from(this.element()[t]())},function(s){return this.element()[t](r.at(s)),r.done()}),this._rememberMorpher(t,r),this},_queueNumber(t,e){return this._queueObject(t,new ot(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let r;return t&&e||(r=this._element.bbox()),t||(t=r.width/r.height*e),e||(e=r.height/r.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,r,s){if(arguments.length===4)return this.plot([t,e,r,s]);if(this._tryRetarget("plot",t))return this;const a=new il(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){a.from(this._element.array())},function(i){return this._element.plot(a.at(i)),a.done()}),this._rememberMorpher("plot",a),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,r,s){return this._queueObject("viewbox",new Ir(t,e,r,s))},update(t){return typeof t!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",t.offset),this)}}),rt(Ha,{rx:Q1,ry:J1,from:pP,to:gP}),Mt(Ha,"Runner");class Av extends ia{constructor(e,r=e){super(lr("svg",e),r),this.namespace()}defs(){return this.isRoot()?rn(this.node.querySelector("defs"))||this.put(new Ux):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof _t.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:X1,version:"1.1"}).attr("xmlns:xlink",ou,eg):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,eg).attr("xmlns:svgjs",null,eg)}root(){return this.isRoot()?this:super.root()}}ht({Container:{nested:or(function(){return this.put(new Av)})}}),Mt(Av,"Svg",!0);let Tv=class extends ia{constructor(t,e=t){super(lr("symbol",t),e)}};ht({Container:{symbol:or(function(){return this.put(new Tv)})}}),Mt(Tv,"Symbol");var jP=Object.freeze({__proto__:null,amove:function(t,e){return this.ax(t).ay(e)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},build:function(t){return this._build=!!t,this},center:function(t,e,r=this.bbox()){return this.cx(t,r).cy(e,r)},cx:function(t,e=this.bbox()){return t==null?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return t==null?e.cy:this.attr("y",this.attr("y")+t-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(t,e,r=this.bbox()){return this.x(t,r).y(e,r)},plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(_t.document.createTextNode(t)),this},x:function(t,e=this.bbox()){return t==null?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return t==null?e.y:this.attr("y",this.attr("y")+t-e.y)}});class Pn extends Xa{constructor(e,r=e){super(lr("text",e),r),this.dom.leading=this.dom.leading??new ot(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new ot(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const r=this;let s=0;const a=this.dom.leading;this.each(function(i){if(bv(this.node))return;const o=_t.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=a*new ot(o);this.dom.newLined&&(this.attr("x",r.attr("x")),this.text()===`
`?s+=l:(this.attr("dy",i?l+s:0),s=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new ot(e.leading||1.3),this}writeDataToDom(){return tP(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const r=this.node.childNodes;let s=0;e="";for(let a=0,i=r.length;a<i;++a)r[a].nodeName==="textPath"||bv(r[a])?a===0&&(s=a+1):(a!==s&&r[a].nodeType!==3&&rn(r[a]).dom.newLined===!0&&(e+=`
`),e+=r[a].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let r=0,s=(e=(e+"").split(`
`)).length;r<s;r++)this.newLine(e[r]);return this.build(!1).rebuild()}}rt(Pn,jP),ht({Container:{text:or(function(t=""){return this.put(new Pn).text(t)}),plain:or(function(t=""){return this.put(new Pn).plain(t)})}}),Mt(Pn,"Text");class G0 extends Xa{constructor(e,r=e){super(lr("tspan",e),r),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Pn))return this;const r=e.index(this),s=_t.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=e.dom.leading*new ot(s);return this.dy(r?a:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}rt(G0,jP),ht({Tspan:{tspan:or(function(t=""){const e=new G0;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),Mt(G0,"Tspan");class ig extends Xa{constructor(e,r=e){super(lr("circle",e),r)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new ot(e).divide(2))}}rt(ig,{x:cP,y:dP,cx:uP,cy:hP,width:fP,height:mP}),ht({Container:{circle:or(function(t=0){return this.put(new ig).size(t).move(0,0)})}}),Mt(ig,"Circle");class og extends ia{constructor(e,r=e){super(lr("clipPath",e),r)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return dc("svg [clip-path*="+this.id()+"]")}}ht({Container:{clip:or(function(){return this.defs().put(new og)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof og?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Mt(og,"ClipPath");class gS extends Ms{constructor(e,r=e){super(lr("foreignObject",e),r)}}ht({Container:{foreignObject:or(function(t,e){return this.put(new gS).size(t,e)})}}),Mt(gS,"ForeignObject");var SP=Object.freeze({__proto__:null,dmove:function(t,e){return this.children().forEach(r=>{let s;try{s=r.node instanceof Sf().SVGSVGElement?new Ir(r.attr(["x","y","width","height"])):r.bbox()}catch{return}const a=new Ze(r),i=a.translate(t,e).transform(a.inverse()),o=new Bt(s.x,s.y).transform(i);r.move(o.x,o.y)}),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return t==null?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,r=this.bbox()){const s=t-r.x,a=e-r.y;return this.dmove(s,a)},size:function(t,e,r=this.bbox()){const s=iu(this,t,e,r),a=s.width/r.width,i=s.height/r.height;return this.children().forEach(o=>{const l=new Bt(r).transform(new Ze(o).inverse());o.scale(a,i,l.x,l.y)}),this},width:function(t,e=this.bbox()){return t==null?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return t==null?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return t==null?e.y:this.move(e.x,t,e)}});class To extends ia{constructor(e,r=e){super(lr("g",e),r)}}rt(To,SP),ht({Container:{group:or(function(){return this.put(new To)})}}),Mt(To,"G");class d0 extends ia{constructor(e,r=e){super(lr("a",e),r)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,ou)}}rt(d0,SP),ht({Container:{link:or(function(t){return this.put(new d0).to(t)})},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const r=e.index(t);return e.add(this,r),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new d0,this.wrap(e)),typeof t=="function"?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&t.node.nodeName.toLowerCase()==="a"?t:null}}}),Mt(d0,"A");class lg extends ia{constructor(e,r=e){super(lr("mask",e),r)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return dc("svg [mask*="+this.id()+"]")}}ht({Container:{mask:or(function(){return this.defs().put(new lg)})},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof lg?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Mt(lg,"Mask");class yS extends Ms{constructor(e,r=e){super(lr("stop",e),r)}update(e){return(typeof e=="number"||e instanceof ot)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new ot(e.offset)),this}}ht({Gradient:{stop:function(t,e,r){return this.put(new yS).update(t,e,r)}}}),Mt(yS,"Stop");class cg extends Ms{constructor(e,r=e){super(lr("style",e),r)}addText(e=""){return this.node.textContent+=e,this}font(e,r,s={}){return this.rule("@font-face",{fontFamily:e,src:r,...s})}rule(e,r){return this.addText(function(s,a){if(!s)return"";if(!a)return s;let i=s+"{";for(const o in a)i+=o.replace(/([A-Z])/g,function(l,c){return"-"+c.toLowerCase()})+":"+a[o]+";";return i+="}",i}(e,r))}}ht("Dom",{style(t,e){return this.put(new cg).rule(t,e)},fontface(t,e,r){return this.put(new cg).font(t,e,r)}}),Mt(cg,"Style");class dg extends Pn{constructor(e,r=e){super(lr("textPath",e),r)}array(){const e=this.track();return e?e.array():null}plot(e){const r=this.track();let s=null;return r&&(s=r.plot(e)),e==null?s:this}track(){return this.reference("href")}}ht({Container:{textPath:or(function(t,e){return t instanceof Pn||(t=this.text(t)),t.path(e)})},Text:{path:or(function(t,e=!0){const r=new dg;let s;if(t instanceof td||(t=this.defs().path(t)),r.attr("href","#"+t,ou),e)for(;s=this.node.firstChild;)r.node.appendChild(s);return this.put(r)}),textPath(){return this.findOne("textPath")}},Path:{text:or(function(t){return t instanceof Pn||(t=new Pn().addTo(this.parent()).text(t)),t.path(this)}),targets(){return dc("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),dg.prototype.MorphArray=En,Mt(dg,"TextPath");class vS extends Xa{constructor(e,r=e){super(lr("use",e),r)}use(e,r){return this.attr("href",(r||"")+"#"+e,ou)}}ht({Container:{use:or(function(t,e){return this.put(new vS).use(t,e)})}}),Mt(vS,"Use");const z7=ea;rt([Av,Tv,V0,zh,$0],da("viewbox")),rt([Sl,kl,Cl,td],da("marker")),rt(Pn,da("Text")),rt(td,da("Path")),rt(Ux,da("Defs")),rt([Pn,G0],da("Tspan")),rt([X0,Y0,th,Ha],da("radius")),rt(Cf,da("EventTarget")),rt(Mo,da("Dom")),rt(Ms,da("Element")),rt(Xa,da("Shape")),rt([ia,xP],da("Container")),rt(th,da("Gradient")),rt(Ha,da("Runner")),ec.extend([...new Set(JE)]),function(t=[]){kv.push(...[].concat(t))}([ot,Kt,Ir,Ze,tc,Ro,En,Bt]),rt(kv,{to(t){return new il().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,r,s,a){return this.fromArray(t.map(function(i,o){return s.step(i,e[o],r,a[o],a)}))}});class xr extends Ms{constructor(e){super(lr("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,r){return!(e=super.put(e,r)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return dc('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class rw extends Ms{constructor(e,r){super(e,r),this.result(this.id())}in(e){if(e==null){const r=this.attr("in");return this.parent()&&this.parent().find(`[result="${r}"]`)[0]||r}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Za=t=>function(...e){for(let r=t.length;r--;)e[r]!=null&&this.attr(t[r],e[r])},W7={blend:Za(["in","in2","mode"]),colorMatrix:Za(["type","values"]),composite:Za(["in","in2","operator"]),convolveMatrix:function(t){t=new tc(t).toString(),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},diffuseLighting:Za(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Za(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Za(["in","dx","dy","stdDeviation"]),flood:Za(["flood-color","flood-opacity"]),gaussianBlur:function(t=0,e=t){this.attr("stdDeviation",t+" "+e)},image:function(t){this.attr("href",t,ou)},morphology:Za(["operator","radius"]),offset:Za(["dx","dy"]),specularLighting:Za(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Za([]),turbulence:Za(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(t=>{const e=nu(t),r=W7[t];xr[e+"Effect"]=class extends rw{constructor(s){super(lr("fe"+e,s),s)}update(s){return r.apply(this,s),this}},xr.prototype[t]=or(function(s,...a){const i=new xr[e+"Effect"];return s==null?this.put(i):(typeof s=="function"?s.call(i,i):a.unshift(s),this.put(i).update(a))})}),rt(xr,{merge(t){const e=this.put(new xr.MergeEffect);return typeof t=="function"?(t.call(e,e),e):((t instanceof Array?t:[...arguments]).forEach(r=>{r instanceof xr.MergeNode?e.put(r):e.mergeNode(r)}),e)},componentTransfer(t={}){const e=this.put(new xr.ComponentTransferEffect);if(typeof t=="function")return t.call(e,e),e;t.r||t.g||t.b||t.a||(t={r:t,g:t,b:t,a:t});for(const r in t)e.add(new xr["Func"+r.toUpperCase()](t[r]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(t=>{const e=nu(t);xr[e]=class extends rw{constructor(r){super(lr("fe"+e,r),r)}}});["funcR","funcG","funcB","funcA"].forEach(function(t){const e=xr[nu(t)],r=or(function(){return this.put(new e)});xr.ComponentTransferEffect.prototype[t]=r});["distantLight","pointLight","spotLight"].forEach(t=>{const e=xr[nu(t)],r=or(function(){return this.put(new e)});xr.DiffuseLightingEffect.prototype[t]=r,xr.SpecularLightingEffect.prototype[t]=r}),rt(xr.MergeEffect,{mergeNode(t){return this.put(new xr.MergeNode).attr("in",t)}}),rt(Ux,{filter:function(t){const e=this.put(new xr);return typeof t=="function"&&t.call(e,e),e}}),rt(ia,{filter:function(t){return this.defs().filter(t)}}),rt(Ms,{filterWith:function(t){const e=t instanceof xr?t:this.defs().filter(t);return this.attr("filter",e)},unfilter:function(t){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const Y7={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},diffuseLighting:function(t,e,r,s){return this.parent()&&this.parent().diffuseLighting(t,r,s).in(this)},displacementMap:function(t,e,r,s){return this.parent()&&this.parent().displacementMap(this,t,e,r,s)},dropShadow:function(t,e,r){return this.parent()&&this.parent().dropShadow(this,t,e,r).in(this)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(t){return t=t instanceof Array?t:[...t],this.parent()&&this.parent().merge(this,...t)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},specularLighting:function(t,e,r,s,a){return this.parent()&&this.parent().specularLighting(t,r,s,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,r,s,a){return this.parent()&&this.parent().turbulence(t,e,r,s,a).in(this)}};rt(rw,Y7),rt(xr.MergeEffect,{in:function(t){return t instanceof xr.MergeNode?this.add(t,0):this.add(new xr.MergeNode().in(t),0),this}}),rt([xr.CompositeEffect,xr.BlendEffect,xr.DisplacementMapEffect],{in2:function(t){if(t==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",t)}}),xr.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var ks=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"getDefaultFilter",value:function(e,r){var s=this.w;e.unfilter(!0),new xr().size("120%","180%","-5%","-40%"),s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,r)}},{key:"applyFilter",value:function(e,r,s){var a,i=this,o=this.w;if(e.unfilter(!0),s!=="none"){var l,c,d=o.config.chart.dropShadow,u=s==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),d.enabled&&i.addShadow(h,r,d,"brightness")}),!d.noUserSpaceOnUse&&((l=e.filterer())===null||l===void 0||(c=l.node)===null||c===void 0||c.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node)}else this.getDefaultFilter(e,r)}},{key:"addShadow",value:function(e,r,s,a){var i,o=this.w,l=s.blur,c=s.top,d=s.left,u=s.color,h=s.opacity;if(u=Array.isArray(u)?u[r]:u,((i=o.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(r)===-1)return e;e.offset({in:a,dx:d,dy:c,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:l,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",a])}},{key:"dropShadow",value:function(e,r){var s,a,i,o,l,c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),ae.isMsEdge()&&u.config.chart.type==="radialBar"||((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&((i=u.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.indexOf(d))===-1?e:(e.filterWith(function(h){c.addShadow(h,d,r,"SourceGraphic")}),r.noUserSpaceOnUse||(o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node),e)}},{key:"setSelectionFilter",value:function(e,r,s){var a=this.w;if(a.globals.selectedDataPoints[r]!==void 0&&a.globals.selectedDataPoints[r].indexOf(s)>-1){e.node.setAttribute("selected",!0);var i=a.config.states.active.filter;i!=="none"&&this.applyFilter(e,r,i.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(r){for(var s in r)r.hasOwnProperty(s)&&e.setAttribute(s,r[s])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),be=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"roundPathCorners",value:function(e,r){function s(k,A,T){var E=A.x-k.x,D=A.y-k.y,_=Math.sqrt(E*E+D*D);return a(k,A,Math.min(1,T/_))}function a(k,A,T){return{x:k.x+(A.x-k.x)*T,y:k.y+(A.y-k.y)*T}}function i(k,A){k.length>2&&(k[k.length-2]=A.x,k[k.length-1]=A.y)}function o(k){return{x:parseFloat(k[k.length-2]),y:parseFloat(k[k.length-1])}}e.indexOf("NaN")>-1&&(e="");var l=e.split(/[,\s]/).reduce(function(k,A){var T=A.match(/^([a-zA-Z])(.+)/);return T?(k.push(T[1]),k.push(T[2])):k.push(A),k},[]).reduce(function(k,A){return parseFloat(A)==A&&k.length?k[k.length-1].push(A):k.push([A]),k},[]),c=[];if(l.length>1){var d=o(l[0]),u=null;l[l.length-1][0]=="Z"&&l[0].length>2&&(u=["L",d.x,d.y],l[l.length-1]=u),c.push(l[0]);for(var h=1;h<l.length;h++){var f=c[c.length-1],m=l[h],p=m==u?l[1]:l[h+1];if(p&&f&&f.length>2&&m[0]=="L"&&p.length>2&&p[0]=="L"){var x,g,y=o(f),v=o(m),b=o(p);x=s(v,y,r),g=s(v,b,r),i(m,x),m.origPoint=v,c.push(m);var w=a(x,v,.5),N=a(v,g,.5),C=["C",w.x,w.y,N.x,N.y,g.x,g.y];C.origPoint=v,c.push(C)}else c.push(m)}if(u){var S=o(c[c.length-1]);c.push(["Z"]),i(c[0],S)}}else c=l;return c.reduce(function(k,A){return k+A.join(" ")+" "},"")}},{key:"drawLine",value:function(e,r,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:r,x2:s,y2:a,stroke:i,"stroke-dasharray":o,"stroke-width":l,"stroke-linecap":c})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:r,width:s>0?s:0,height:a>0?a:0,rx:i,ry:i,opacity:l,"stroke-width":c!==null?c:0,stroke:d!==null?d:"none","stroke-dasharray":u}),h.node.setAttribute("fill",o),h}},{key:"drawPolygon",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:a,stroke:r,"stroke-width":s})}},{key:"drawCircle",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return r!==null&&s.attr(r),s}},{key:"drawPath",value:function(e){var r=e.d,s=r===void 0?"":r,a=e.stroke,i=a===void 0?"#a8a8a8":a,o=e.strokeWidth,l=o===void 0?1:o,c=e.fill,d=e.fillOpacity,u=d===void 0?1:d,h=e.strokeOpacity,f=h===void 0?1:h,m=e.classes,p=e.strokeLinecap,x=p===void 0?null:p,g=e.strokeDashArray,y=g===void 0?0:g,v=this.w;return x===null&&(x=v.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(s).attr({fill:c,"fill-opacity":u,stroke:i,"stroke-opacity":f,"stroke-linecap":x,"stroke-width":l,"stroke-dasharray":y,class:m})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w.globals.dom.Paper.group();return e!==null&&r.attr(e),r}},{key:"move",value:function(e,r){var s=["M",e,r].join(" ");return s}},{key:"line",value:function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return s===null?a=[" L",e,r].join(" "):s==="H"?a=[" H",e].join(" "):s==="V"&&(a=[" V",r].join(" ")),a}},{key:"curve",value:function(e,r,s,a,i,o){var l=["C",e,r,s,a,i,o].join(" ");return l}},{key:"quadraticCurve",value:function(e,r,s,a){return["Q",e,r,s,a].join(" ")}},{key:"arc",value:function(e,r,s,a,i,o,l){var c="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(c="a");var d=[c,e,r,s,a,i,o,l].join(" ");return d}},{key:"renderPaths",value:function(e){var r,s=e.j,a=e.realIndex,i=e.pathFrom,o=e.pathTo,l=e.stroke,c=e.strokeWidth,d=e.strokeLinecap,u=e.fill,h=e.animationDelay,f=e.initialSpeed,m=e.dataChangeSpeed,p=e.className,x=e.chartType,g=e.shouldClipToGrid,y=g===void 0||g,v=e.bindEventsOnPaths,b=v===void 0||v,w=e.drawShadow,N=w===void 0||w,C=this.w,S=new ks(this.ctx),k=new au(this.ctx),A=this.w.config.chart.animations.enabled,T=A&&this.w.config.chart.animations.dynamicAnimation.enabled;if(i&&i.startsWith("M 0 0")&&o){var E=o.match(/^M\s+[\d.-]+\s+[\d.-]+/);E&&(i=i.replace(/^M\s+0\s+0/,E[0]))}var D=!!(A&&!C.globals.resized||T&&C.globals.dataChanged&&C.globals.shouldAnimate);D?r=i:(r=o,C.globals.animationEnded=!0);var _=C.config.stroke.dashArray,z=0;z=Array.isArray(_)?_[a]:C.config.stroke.dashArray;var H=this.drawPath({d:r,stroke:l,strokeWidth:c,fill:u,fillOpacity:1,classes:p,strokeLinecap:d,strokeDashArray:z});H.attr("index",a),y&&(x==="bar"&&!C.globals.isHorizontal||C.globals.comboCharts?H.attr({"clip-path":"url(#gridRectBarMask".concat(C.globals.cuid,")")}):H.attr({"clip-path":"url(#gridRectMask".concat(C.globals.cuid,")")})),C.config.chart.dropShadow.enabled&&N&&S.dropShadow(H,C.config.chart.dropShadow,a),b&&(H.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,H)),H.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,H)),H.node.addEventListener("mousedown",this.pathMouseDown.bind(this,H))),H.attr({pathTo:o,pathFrom:i});var q={el:H,j:s,realIndex:a,pathFrom:i,pathTo:o,fill:u,strokeWidth:c,delay:h};return!A||C.globals.resized||C.globals.dataChanged?!C.globals.resized&&C.globals.dataChanged||k.showDelayedElements():k.animatePathsGradually(Te(Te({},q),{},{speed:f})),C.globals.dataChanged&&T&&D&&k.animatePathsGradually(Te(Te({},q),{},{speed:m})),H}},{key:"drawPattern",value:function(e,r,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(r,s,function(o){e==="horizontalLines"?o.line(0,0,s,0).stroke({color:a,width:i+1}):e==="verticalLines"?o.line(0,0,0,r).stroke({color:a,width:i+1}):e==="slantedLines"?o.line(0,0,r,s).stroke({color:a,width:i}):e==="squares"?o.rect(r,s).fill("none").stroke({color:a,width:i}):e==="circles"&&o.circle(r).fill("none").stroke({color:a,width:i})})}},{key:"drawGradient",value:function(e,r,s,a,i){var o,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;r.length<9&&r.indexOf("#")===0&&(r=ae.hexToRgba(r,a)),s.length<9&&s.indexOf("#")===0&&(s=ae.hexToRgba(s,i));var f=0,m=1,p=1,x=null;c!==null&&(f=c[0]!==void 0?c[0]/100:0,m=c[1]!==void 0?c[1]/100:1,p=c[2]!==void 0?c[2]/100:1,x=c[3]!==void 0?c[3]/100:null);var g=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(o=d&&d.length!==0?h.globals.dom.Paper.gradient(g?"radial":"linear",function(b){(Array.isArray(d[u])?d[u]:d).forEach(function(w){b.stop(w.offset/100,w.color,w.opacity)})}):h.globals.dom.Paper.gradient(g?"radial":"linear",function(b){b.stop(f,r,a),b.stop(m,s,i),b.stop(p,s,i),x!==null&&b.stop(x,r,a)}),g){var y=h.globals.gridWidth/2,v=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:y,cy:v,r:l}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var r=e.text,s=e.maxWidth,a=e.fontSize,i=e.fontFamily,o=this.getTextRects(r,a,i),l=o.width/r.length,c=Math.floor(s/l);return s<o.width?r.slice(0,c-3)+"...":r}},{key:"drawText",value:function(e){var r=this,s=e.x,a=e.y,i=e.text,o=e.textAnchor,l=e.fontSize,c=e.fontFamily,d=e.fontWeight,u=e.foreColor,h=e.opacity,f=e.maxWidth,m=e.cssClass,p=m===void 0?"":m,x=e.isPlainText,g=x===void 0||x,y=e.dominantBaseline,v=y===void 0?"auto":y,b=this.w;i===void 0&&(i="");var w=i;o||(o="start"),u&&u.length||(u=b.config.chart.foreColor),c=c||b.config.chart.fontFamily,d=d||"regular";var N,C={maxWidth:f,fontSize:l=l||"11px",fontFamily:c};return Array.isArray(i)?N=b.globals.dom.Paper.text(function(S){for(var k=0;k<i.length;k++)w=i[k],f&&(w=r.getTextBasedOnMaxWidth(Te({text:i[k]},C))),k===0?S.tspan(w):S.tspan(w).newLine()}):(f&&(w=this.getTextBasedOnMaxWidth(Te({text:i},C))),N=g?b.globals.dom.Paper.plain(i):b.globals.dom.Paper.text(function(S){return S.tspan(w)})),N.attr({x:s,y:a,"text-anchor":o,"dominant-baseline":v,"font-size":l,"font-family":c,"font-weight":d,fill:u,class:"apexcharts-text "+p}),N.node.style.fontFamily=c,N.node.style.opacity=h,N}},{key:"getMarkerPath",value:function(e,r,s,a){var i="";switch(s){case"cross":i="M ".concat(e-(a/=1.4)," ").concat(r-a," L ").concat(e+a," ").concat(r+a,"  M ").concat(e-a," ").concat(r+a," L ").concat(e+a," ").concat(r-a);break;case"plus":i="M ".concat(e-(a/=1.12)," ").concat(r," L ").concat(e+a," ").concat(r,"  M ").concat(e," ").concat(r-a," L ").concat(e," ").concat(r+a);break;case"star":case"sparkle":var o=5;a*=1.15,s==="sparkle"&&(a/=1.1,o=4);for(var l=Math.PI/o,c=0;c<=2*o;c++){var d=c*l,u=c%2==0?a:a/2;i+=(c===0?"M":"L")+(e+u*Math.sin(d))+","+(r-u*Math.cos(d))}i+="Z";break;case"triangle":i="M ".concat(e," ").concat(r-a,` 
             L `).concat(e+a," ").concat(r+a,` 
             L `).concat(e-a," ").concat(r+a,` 
             Z`);break;case"square":case"rect":i="M ".concat(e-(a/=1.125)," ").concat(r-a,` 
           L `).concat(e+a," ").concat(r-a,` 
           L `).concat(e+a," ").concat(r+a,` 
           L `).concat(e-a," ").concat(r+a,` 
           Z`);break;case"diamond":a*=1.05,i="M ".concat(e," ").concat(r-a,` 
             L `).concat(e+a," ").concat(r,` 
             L `).concat(e," ").concat(r+a,` 
             L `).concat(e-a," ").concat(r,` 
            Z`);break;case"line":i="M ".concat(e-(a/=1.1)," ").concat(r,` 
           L `).concat(e+a," ").concat(r);break;default:a*=2,i="M ".concat(e,", ").concat(r,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return i}},{key:"drawMarkerShape",value:function(e,r,s,a,i){var o=this.drawPath({d:this.getMarkerPath(e,r,s,a,i),stroke:i.pointStrokeColor,strokeDashArray:i.pointStrokeDashArray,strokeWidth:i.pointStrokeWidth,fill:i.pointFillColor,fillOpacity:i.pointFillOpacity,strokeOpacity:i.pointStrokeOpacity});return o.attr({cx:e,cy:r,shape:i.shape,class:i.class?i.class:""}),o}},{key:"drawMarker",value:function(e,r,s){e=e||0;var a=s.pSize||0;return ae.isNumber(r)||(a=0,r=0),this.drawMarkerShape(e,r,s==null?void 0:s.shape,a,Te(Te({},s),s.shape==="line"||s.shape==="plus"||s.shape==="cross"?{pointStrokeColor:s.pointFillColor,pointStrokeOpacity:s.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,r){var s=this.w,a=new ks(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof s.config.chart.events.dataPointMouseEnter=="function"&&s.config.chart.events.dataPointMouseEnter(r,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[r,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}]),(s.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&s.config.states.hover.filter.type!=="none"&&!s.globals.isTouchDevice){var l=s.config.states.hover.filter;a.applyFilter(e,i,l.type)}}},{key:"pathMouseLeave",value:function(e,r){var s=this.w,a=new ks(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof s.config.chart.events.dataPointMouseLeave=="function"&&s.config.chart.events.dataPointMouseLeave(r,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[r,this.ctx,{seriesIndex:i,dataPointIndex:o,w:s}]),s.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||s.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(e,i)}},{key:"pathMouseDown",value:function(e,r){var s=this.w,a=new ks(this.ctx),i=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),l="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[i].indexOf(o)>-1){var c=s.globals.selectedDataPoints[i].indexOf(o);s.globals.selectedDataPoints[i].splice(c,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var d=s.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=s.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(p){Array.prototype.forEach.call(p,function(x){x.node.setAttribute("selected","false"),a.getDefaultFilter(x,i)})};h(d),h(u)}e.node.setAttribute("selected","true"),l="true",s.globals.selectedDataPoints[i]===void 0&&(s.globals.selectedDataPoints[i]=[]),s.globals.selectedDataPoints[i].push(o)}if(l==="true"){var f=s.config.states.active.filter;if(f!=="none")a.applyFilter(e,i,f.type);else if(s.config.states.hover.filter!=="none"&&!s.globals.isTouchDevice){var m=s.config.states.hover.filter;a.applyFilter(e,i,m.type)}}else s.config.states.active.filter.type!=="none"&&(s.config.states.hover.filter.type==="none"||s.globals.isTouchDevice?a.getDefaultFilter(e,i):(m=s.config.states.hover.filter,a.applyFilter(e,i,m.type)));typeof s.config.chart.events.dataPointSelection=="function"&&s.config.chart.events.dataPointSelection(r,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:o,w:s}),r&&this.ctx.events.fireEvent("dataPointSelection",[r,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:o,w:s}])}},{key:"rotateAroundCenter",value:function(e){var r={};return e&&typeof e.getBBox=="function"&&(r=e.getBBox()),{x:r.x+r.width/2,y:r.y+r.height/2}}},{key:"getTextRects",value:function(e,r,s,a){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:r,fontFamily:s,foreColor:"#fff",opacity:0});a&&l.attr("transform",a),o.globals.dom.Paper.add(l);var c=l.bbox();return i||(c=l.node.getBoundingClientRect()),l.remove(),{width:c.width,height:c.height}}},{key:"placeTextWithEllipsis",value:function(e,r,s){if(typeof e.getComputedTextLength=="function"&&(e.textContent=r,r.length>0&&e.getComputedTextLength()>=s/1.1)){for(var a=r.length-3;a>0;a-=3)if(e.getSubStringLength(0,a)<=s/1.1)return void(e.textContent=r.substring(0,a)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,r){for(var s in r)r.hasOwnProperty(s)&&e.setAttribute(s,r[s])}}]),t}(),Or=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.w,s=[];if(r.globals.series.length===0)return s;for(var a=0;a<r.globals.series[r.globals.maxValsInArrayIndex].length;a++){for(var i=0,o=0;o<r.globals.series.length;o++)r.globals.series[o][a]!==void 0&&e.indexOf(o)===-1&&(i+=r.globals.series[o][a]);s.push(i)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(r,s){return r+s},0):this.w.globals.series[e].reduce(function(r,s){return r+s},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,r=this.w,s=[];return r.globals.seriesGroups.forEach(function(a){var i=[];r.config.series.forEach(function(l,c){a.indexOf(r.globals.seriesNames[c])>-1&&i.push(c)});var o=r.globals.series.map(function(l,c){return i.indexOf(c)===-1?c:-1}).filter(function(l){return l!==-1});s.push(e.getStackedSeriesTotals(o))}),s}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,r=this.w.config,s=[],a=[],i=[],o=e.series.length>r.yaxis.length||r.yaxis.some(function(h){return Array.isArray(h.seriesName)});r.series.forEach(function(h,f){i.push(f),a.push(null)}),r.yaxis.forEach(function(h,f){s[f]=[]});var l=[];r.yaxis.forEach(function(h,f){var m=!1;if(h.seriesName){var p=[];Array.isArray(h.seriesName)?p=h.seriesName:p.push(h.seriesName),p.forEach(function(x){r.series.forEach(function(g,y){if(g.name===x){var v=y;f===y||o?!o||i.indexOf(y)>-1?s[f].push([f,y]):console.warn("Series '"+g.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(s[y].push([y,f]),v=f),m=!0,(v=i.indexOf(v))!==-1&&i.splice(v,1)}})})}m||l.push(f)}),s=s.map(function(h,f){var m=[];return h.forEach(function(p){a[p[1]]=p[0],m.push(p[1])}),m});for(var c=r.yaxis.length-1,d=0;d<l.length&&(c=l[d],s[c]=[],i);d++){var u=i[0];i.shift(),s[c].push(u),a[u]=c}i.forEach(function(h){s[c].push(h),a[h]=c}),e.seriesYAxisMap=s.map(function(h){return h}),e.seriesYAxisReverseMap=a.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,f){h.forEach(function(m){r.series[m]&&r.series[m].group===void 0&&(r.series[m].group="apexcharts-axis-".concat(f.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(r){return r!==null}):this.w.config.series[e].data.filter(function(r){return r!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(r,s,a){return r===a[0]})}},{key:"getCategoryLabels",value:function(e){var r=this.w,s=e.slice();return r.config.xaxis.convertedCatToNumeric&&(s=e.map(function(a,i){return r.config.xaxis.labels.formatter(a-r.globals.minX+1)})),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(r){return r.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(r){return r.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,r=0;return e.globals.markers.size.forEach(function(s){r=Math.max(r,s)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(s){r=Math.max(r,s.size)}),r>0&&(e.config.markers.hover.size>0?r=e.config.markers.hover.size:r+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=r,r}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(r,s){var a=0;if(Array.isArray(r))for(var i=0;i<r.length;i++)a+=r[i];else a+=r;return a})}},{key:"getSeriesTotalsXRange",value:function(e,r){var s=this.w;return s.globals.series.map(function(a,i){for(var o=0,l=0;l<a.length;l++)s.globals.seriesX[i][l]>e&&s.globals.seriesX[i][l]<r&&(o+=a[l]);return o})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(r,s){var a=[];if(Array.isArray(r))for(var i=0;i<r.length;i++){var o=e.globals.stackedSeriesTotals[i],l=0;o&&(l=100*r[i]/o),a.push(l)}else{var c=100*r/e.globals.seriesTotals.reduce(function(d,u){return d+u},0);a.push(c)}return a})}},{key:"getCalculatedRatios",value:function(){var e,r,s,a=this,i=this.w,o=i.globals,l=[],c=0,d=[],u=.1,h=0;if(o.yRange=[],o.isMultipleYAxis)for(var f=0;f<o.minYArr.length;f++)o.yRange.push(Math.abs(o.minYArr[f]-o.maxYArr[f])),d.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var m=0;m<o.yRange.length;m++)l.push(o.yRange[m]/o.gridHeight);if(r=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,s=o.xRange/o.gridHeight,(c=o.zRange/o.gridHeight*16)||(c=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),i.globals.seriesYAxisReverseMap.length>0){var p=function(g,y){var v=i.config.yaxis[i.globals.seriesYAxisReverseMap[y]],b=g<0?-1:1;return g=Math.abs(g),v.logarithmic&&(g=a.getBaseLog(v.logBase,g)),-b*g/l[y]};if(o.isMultipleYAxis){d=[];for(var x=0;x<l.length;x++)d.push(p(o.minYArr[x],x))}else(d=[]).push(p(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(u=-o.minY/e,h=o.minX/r)}else(d=[]).push(0),u=0,h=0;return{yRatio:l,invertedYRatio:e,zRatio:c,xRatio:r,invertedXRatio:s,baseLineInvertedY:u,baseLineY:d,baseLineX:h}}},{key:"getLogSeries",value:function(e){var r=this,s=this.w;return s.globals.seriesLog=e.map(function(a,i){var o=s.globals.seriesYAxisReverseMap[i];return s.config.yaxis[o]&&s.config.yaxis[o].logarithmic?a.map(function(l){return l===null?null:r.getLogVal(s.config.yaxis[o].logBase,l,i)}):a}),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,r){if(e===null)return null;var s=this.w,a=s.globals.seriesYAxisReverseMap[r];return s.config.yaxis[a]&&s.config.yaxis[a].logarithmic?this.getLogVal(s.config.yaxis[a].logBase,e,r):e}},{key:"getBaseLog",value:function(e,r){return Math.log(r)/Math.log(e)}},{key:"getLogVal",value:function(e,r,s){if(r<=0)return 0;var a=this.w,i=a.globals.minYArr[s]===0?-1:this.getBaseLog(e,a.globals.minYArr[s]),o=(a.globals.maxYArr[s]===0?0:this.getBaseLog(e,a.globals.maxYArr[s]))-i;return r<1?r/o:(this.getBaseLog(e,r)-i)/o}},{key:"getLogYRatios",value:function(e){var r=this,s=this.w,a=this.w.globals;return a.yLogRatio=e.slice(),a.logYRange=a.yRange.map(function(i,o){var l=s.globals.seriesYAxisReverseMap[o];if(s.config.yaxis[l]&&r.w.config.yaxis[l].logarithmic){var c,d=-Number.MAX_VALUE,u=Number.MIN_VALUE;return a.seriesLog.forEach(function(h,f){h.forEach(function(m){s.config.yaxis[f]&&s.config.yaxis[f].logarithmic&&(d=Math.max(m,d),u=Math.min(m,u))})}),c=Math.pow(a.yRange[o],Math.abs(u-d)/a.yRange[o]),a.yLogRatio[o]=c/a.gridHeight,c}}),a.invalidLogScale?e.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,r,s,a){var i=this.w,o=[];return e.series.length>0&&r.forEach(function(l){var c=[],d=[];e.i.forEach(function(u,h){i.config.series[u].group===l&&(c.push(e.series[h]),d.push(u))}),c.length>0&&o.push(a.draw(c,s,d))}),o}}],[{key:"checkComboSeries",value:function(e,r){var s=!1,a=0,i=0;return r===void 0&&(r="line"),e.length&&e[0].type!==void 0&&e.forEach(function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||a++,o.type!==void 0&&o.type!==r&&i++}),i>0&&(s=!0),{comboBarCount:a,comboCharts:s}}},{key:"extendArrayProps",value:function(e,r,s){var a,i,o,l,c,d;return(a=r)!==null&&a!==void 0&&a.yaxis&&(r=e.extendYAxis(r,s)),(i=r)!==null&&i!==void 0&&i.annotations&&(r.annotations.yaxis&&(r=e.extendYAxisAnnotations(r)),(o=r)!==null&&o!==void 0&&(l=o.annotations)!==null&&l!==void 0&&l.xaxis&&(r=e.extendXAxisAnnotations(r)),(c=r)!==null&&c!==void 0&&(d=c.annotations)!==null&&d!==void 0&&d.points&&(r=e.extendPointAnnotations(r))),r}}]),t}(),Hx=function(){function t(e){Be(this,t),this.w=e.w,this.annoCtx=e}return Ue(t,[{key:"setOrientations",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.w;if(e.label.orientation==="vertical"){var a=r!==null?r:0,i=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(i!==null){var o=i.getBoundingClientRect();i.setAttribute("x",parseFloat(i.getAttribute("x"))-o.height+4);var l=e.label.position==="top"?o.width:-o.width;i.setAttribute("y",parseFloat(i.getAttribute("y"))+l);var c=this.annoCtx.graphics.rotateAroundCenter(i),d=c.x,u=c.y;i.setAttribute("transform","rotate(-90 ".concat(d," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,r){var s=this.w;if(!e||!r.label.text||!String(r.label.text).trim())return null;var a=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),i=e.getBoundingClientRect(),o=r.label.style.padding,l=o.left,c=o.right,d=o.top,u=o.bottom;if(r.label.orientation==="vertical"){var h=[l,c,d,u];d=h[0],u=h[1],l=h[2],c=h[3]}var f=i.left-a.left-l,m=i.top-a.top-d,p=this.annoCtx.graphics.drawRect(f-s.globals.barPadForNumericAxis,m,i.width+l+c,i.height+d+u,r.label.borderRadius,r.label.style.background,1,r.label.borderWidth,r.label.borderColor,0);return r.id&&p.node.classList.add(r.id),p}},{key:"annotationsBackground",value:function(){var e=this,r=this.w,s=function(a,i,o){var l=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(i,"']"));if(l){var c=l.parentNode,d=e.addBackgroundToAnno(l,a);d&&(c.insertBefore(d.node,l),a.label.mouseEnter&&d.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&d.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&d.node.addEventListener("click",a.label.click.bind(e,a)))}};r.config.annotations.xaxis.forEach(function(a,i){return s(a,i,"xaxis")}),r.config.annotations.yaxis.forEach(function(a,i){return s(a,i,"yaxis")}),r.config.annotations.points.forEach(function(a,i){return s(a,i,"point")})}},{key:"getY1Y2",value:function(e,r){var s,a=this.w,i=e==="y1"?r.y:r.y2,o=!1;if(this.annoCtx.invertAxis){var l=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,c=l.indexOf(i),d=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(c+1,")"));s=d?parseFloat(d.getAttribute("y")):(a.globals.gridHeight/l.length-1)*(c+1)-a.globals.barHeight,r.seriesIndex!==void 0&&a.globals.barHeight&&(s-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*r.seriesIndex)}else{var u,h=a.globals.seriesYAxisMap[r.yAxisIndex][0],f=a.config.yaxis[r.yAxisIndex].logarithmic?new Or(this.annoCtx.ctx).getLogVal(a.config.yaxis[r.yAxisIndex].logBase,i,h)/a.globals.yLogRatio[h]:(i-a.globals.minYArr[h])/(a.globals.yRange[h]/a.globals.gridHeight);s=a.globals.gridHeight-Math.min(Math.max(f,0),a.globals.gridHeight),o=f>a.globals.gridHeight||f<0,!r.marker||r.y!==void 0&&r.y!==null||(s=0),(u=a.config.yaxis[r.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(s=f)}return typeof i=="string"&&i.includes("px")&&(s=parseFloat(i)),{yP:s,clipped:o}}},{key:"getX1X2",value:function(e,r){var s=this.w,a=e==="x1"?r.x:r.x2,i=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,o=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,l=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,c=!1,d=this.annoCtx.inversedReversedAxis?(o-a)/(l/s.globals.gridWidth):(a-i)/(l/s.globals.gridWidth);return s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||s.config.chart.sparkline.enabled||(d=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(d=parseFloat(a)),a==null&&r.marker&&(d=s.globals.gridWidth),r.seriesIndex!==void 0&&s.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=s.globals.barWidth/2*(s.globals.series.length-1)-s.globals.barWidth*r.seriesIndex),typeof d!="number"&&(d=0,c=!0),parseFloat(d.toFixed(10))>parseFloat(s.globals.gridWidth.toFixed(10))?(d=s.globals.gridWidth,c=!0):d<0&&(d=0,c=!0),{x:d,clipped:c}}},{key:"getStringX",value:function(e){var r=this.w,s=e;r.config.xaxis.convertedCatToNumeric&&r.globals.categoryLabels.length&&(e=r.globals.categoryLabels.indexOf(e)+1);var a=r.globals.labels.map(function(o){return Array.isArray(o)?o.join(" "):o}).indexOf(e),i=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return i&&(s=parseFloat(i.getAttribute("x"))),s}}]),t}(),V7=function(){function t(e){Be(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Hx(this.annoCtx)}return Ue(t,[{key:"addXaxisAnnotation",value:function(e,r,s){var a,i=this.w,o=this.helpers.getX1X2("x1",e),l=o.x,c=o.clipped,d=!0,u=e.label.text,h=e.strokeDashArray;if(ae.isNumber(l)){if(e.x2===null||e.x2===void 0){if(!c){var f=this.annoCtx.graphics.drawLine(l+e.offsetX,0+e.offsetY,l+e.offsetX,i.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);r.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{var m=this.helpers.getX1X2("x2",e);if(a=m.x,d=m.clipped,a<l){var p=l;l=a,a=p}var x=this.annoCtx.graphics.drawRect(l+e.offsetX,0+e.offsetY,a-l,i.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),r.appendChild(x.node),e.id&&x.node.classList.add(e.id)}if(!c||!d){var g=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),y=e.label.position==="top"?4:e.label.position==="center"?i.globals.gridHeight/2+(e.label.orientation==="vertical"?g.width/2:0):i.globals.gridHeight,v=this.annoCtx.graphics.drawText({x:l+e.label.offsetX,y:y+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?g.width/2-12:-g.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});v.attr({rel:s}),r.appendChild(v.node),this.annoCtx.helpers.setOrientations(e,s)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,r=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return r.config.annotations.xaxis.map(function(a,i){e.addXaxisAnnotation(a,s.node,i)}),s}}]),t}(),js=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Ue(t,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var r=Date.parse(e);if(!isNaN(r))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,r){var s=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,i=["\0"].concat(ls(s.months)),o=[""].concat(ls(s.shortMonths)),l=[""].concat(ls(s.days)),c=[""].concat(ls(s.shortDays));function d(k,A){var T=k+"";for(A=A||2;T.length<A;)T="0"+T;return T}var u=a?e.getUTCFullYear():e.getFullYear();r=(r=(r=r.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(a?e.getUTCMonth():e.getMonth())+1;r=(r=(r=(r=r.replace(/(^|[^\\])MMMM+/g,"$1"+i[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+d(h))).replace(/(^|[^\\])M/g,"$1"+h);var f=a?e.getUTCDate():e.getDate();r=(r=(r=(r=r.replace(/(^|[^\\])dddd+/g,"$1"+l[0])).replace(/(^|[^\\])ddd/g,"$1"+c[0])).replace(/(^|[^\\])dd/g,"$1"+d(f))).replace(/(^|[^\\])d/g,"$1"+f);var m=a?e.getUTCHours():e.getHours(),p=m>12?m-12:m===0?12:m;r=(r=(r=(r=r.replace(/(^|[^\\])HH+/g,"$1"+d(m))).replace(/(^|[^\\])H/g,"$1"+m)).replace(/(^|[^\\])hh+/g,"$1"+d(p))).replace(/(^|[^\\])h/g,"$1"+p);var x=a?e.getUTCMinutes():e.getMinutes();r=(r=r.replace(/(^|[^\\])mm+/g,"$1"+d(x))).replace(/(^|[^\\])m/g,"$1"+x);var g=a?e.getUTCSeconds():e.getSeconds();r=(r=r.replace(/(^|[^\\])ss+/g,"$1"+d(g))).replace(/(^|[^\\])s/g,"$1"+g);var y=a?e.getUTCMilliseconds():e.getMilliseconds();r=r.replace(/(^|[^\\])fff+/g,"$1"+d(y,3)),y=Math.round(y/10),r=r.replace(/(^|[^\\])ff/g,"$1"+d(y)),y=Math.round(y/10);var v=m<12?"AM":"PM";r=(r=(r=r.replace(/(^|[^\\])f/g,"$1"+y)).replace(/(^|[^\\])TT+/g,"$1"+v)).replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var b=v.toLowerCase();r=(r=r.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var w=-e.getTimezoneOffset(),N=a||!w?"Z":w>0?"+":"-";if(!a){var C=(w=Math.abs(w))%60;N+=d(Math.floor(w/60))+":"+d(C)}r=r.replace(/(^|[^\\])K/g,"$1"+N);var S=(a?e.getUTCDay():e.getDay())+1;return r=(r=(r=(r=(r=r.replace(new RegExp(l[0],"g"),l[S])).replace(new RegExp(c[0],"g"),c[S])).replace(new RegExp(i[0],"g"),i[h])).replace(new RegExp(o[0],"g"),o[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,r,s){var a=this.w;a.config.xaxis.min!==void 0&&(e=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(r=a.config.xaxis.max);var i=this.getDate(e),o=this.getDate(r),l=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" "),c=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(l[6],10),maxMillisecond:parseInt(c[6],10),minSecond:parseInt(l[5],10),maxSecond:parseInt(c[5],10),minMinute:parseInt(l[4],10),maxMinute:parseInt(c[4],10),minHour:parseInt(l[3],10),maxHour:parseInt(c[3],10),minDate:parseInt(l[2],10),maxDate:parseInt(c[2],10),minMonth:parseInt(l[1],10)-1,maxMonth:parseInt(c[1],10)-1,minYear:parseInt(l[0],10),maxYear:parseInt(c[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,r,s){return this.determineDaysOfMonths(e,r)-s}},{key:"determineDaysOfYear",value:function(e){var r=365;return this.isLeapYear(e)&&(r=366),r}},{key:"determineRemainingDaysOfYear",value:function(e,r,s){var a=this.daysCntOfYear[r]+s;return r>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(e,r){var s=30;switch(e=ae.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(s=this.isLeapYear(r)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),t}(),Af=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return Ue(t,[{key:"xLabelFormat",value:function(e,r,s,a){var i=this.w;if(i.config.xaxis.type==="datetime"&&i.config.xaxis.labels.formatter===void 0&&i.config.tooltip.x.formatter===void 0){var o=new js(this.ctx);return o.formatDate(o.getDate(r),i.config.tooltip.x.format)}return e(r,s,a)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(r){return r}):e}},{key:"defaultYFormatter",value:function(e,r,s){var a=this.w;if(ae.isNumber(e))if(a.globals.yValueDecimal!==0)e=e.toFixed(r.decimalsInFloat!==void 0?r.decimalsInFloat:a.globals.yValueDecimal);else{var i=e.toFixed(0);e=e==i?i:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,r=this.w;return r.globals.xaxisTooltipFormatter=function(s){return e.defaultGeneralFormatter(s)},r.globals.ttKeyFormatter=function(s){return e.defaultGeneralFormatter(s)},r.globals.ttZFormatter=function(s){return s},r.globals.legendFormatter=function(s){return e.defaultGeneralFormatter(s)},r.config.xaxis.labels.formatter!==void 0?r.globals.xLabelFormatter=r.config.xaxis.labels.formatter:r.globals.xLabelFormatter=function(s){if(ae.isNumber(s)){if(!r.config.xaxis.convertedCatToNumeric&&r.config.xaxis.type==="numeric"){if(ae.isNumber(r.config.xaxis.decimalsInFloat))return s.toFixed(r.config.xaxis.decimalsInFloat);var a=r.globals.maxX-r.globals.minX;return a>0&&a<100?s.toFixed(1):s.toFixed(0)}return r.globals.isBarHorizontal&&r.globals.maxY-r.globals.minYArr<4?s.toFixed(1):s.toFixed(0)}return s},typeof r.config.tooltip.x.formatter=="function"?r.globals.ttKeyFormatter=r.config.tooltip.x.formatter:r.globals.ttKeyFormatter=r.globals.xLabelFormatter,typeof r.config.xaxis.tooltip.formatter=="function"&&(r.globals.xaxisTooltipFormatter=r.config.xaxis.tooltip.formatter),(Array.isArray(r.config.tooltip.y)||r.config.tooltip.y.formatter!==void 0)&&(r.globals.ttVal=r.config.tooltip.y),r.config.tooltip.z.formatter!==void 0&&(r.globals.ttZFormatter=r.config.tooltip.z.formatter),r.config.legend.formatter!==void 0&&(r.globals.legendFormatter=r.config.legend.formatter),r.config.yaxis.forEach(function(s,a){s.labels.formatter!==void 0?r.globals.yLabelFormatters[a]=s.labels.formatter:r.globals.yLabelFormatters[a]=function(i){return r.globals.xyCharts?Array.isArray(i)?i.map(function(o){return e.defaultYFormatter(o,s,a)}):e.defaultYFormatter(i,s,a):i}}),r.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var r=e.globals.seriesNames.reduce(function(s,a){return s.length>a.length?s:a},0);e.globals.yAxisScale[0].niceMax=r,e.globals.yAxisScale[0].niceMin=r}}}]),t}(),Fo=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"getLabel",value:function(e,r,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",l=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],c=this.w,d=e[a]===void 0?"":e[a],u=d,h=c.globals.xLabelFormatter,f=c.config.xaxis.labels.formatter,m=!1,p=new Af(this.ctx),x=d;l&&(u=p.xLabelFormat(h,d,x,{i:a,dateFormatter:new js(this.ctx).formatDate,w:c}),f!==void 0&&(u=f(d,e[a],{i:a,dateFormatter:new js(this.ctx).formatDate,w:c})));var g,y;r.length>0?(g=r[a].unit,y=null,r.forEach(function(N){N.unit==="month"?y="year":N.unit==="day"?y="month":N.unit==="hour"?y="day":N.unit==="minute"&&(y="hour")}),m=y===g,s=r[a].position,u=r[a].value):c.config.xaxis.type==="datetime"&&f===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var v=new be(this.ctx),b={};b=c.globals.rotateXLabels&&l?v.getTextRects(u,parseInt(o,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):v.getTextRects(u,parseInt(o,10));var w=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||i.indexOf(u)>=0&&w)&&(u=""),{x:s,text:u,textRect:b,isBold:m}}},{key:"checkLabelBasedOnTickamount",value:function(e,r,s){var a=this.w,i=a.config.xaxis.tickAmount;return i==="dataPoints"&&(i=Math.round(a.globals.gridWidth/120)),i>s||e%Math.round(s/(i+1))==0||(r.text=""),r}},{key:"checkForOverflowingLabels",value:function(e,r,s,a,i){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(r.text=""),e===s-1&&o.globals.skipLastTimelinelabel&&(r.text=""),o.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var l=i[i.length-1];r.x<l.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+l.x&&(r.text="")}return r}},{key:"checkForReversedLabels",value:function(e,r){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&r.reverse(),r}},{key:"yAxisAllSeriesCollapsed",value:function(e){var r=this.w.globals;return!r.seriesYAxisMap[e].some(function(s){return r.collapsedSeriesIndices.indexOf(s)===-1})}},{key:"translateYAxisIndex",value:function(e){var r=this.w,s=r.globals,a=r.config.yaxis;return s.series.length>a.length||a.some(function(i){return Array.isArray(i.seriesName)})?e:s.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var r=this.w,s=r.config.yaxis[e];if(!s.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!s.showForNullSeries){var a=r.globals.seriesYAxisMap[e],i=new Or(this.ctx);return a.every(function(o){return i.isSeriesNull(o)})}return!1}},{key:"getYAxisForeColor",value:function(e,r){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[r]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[r].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,r,s,a,i,o,l){var c=this.w,d=new be(this.ctx),u=c.globals.translateY+c.config.yaxis[i].labels.offsetY;if(c.globals.isBarHorizontal?u=0:c.config.chart.type==="heatmap"&&(u+=o/2),a.show&&r>0){c.config.yaxis[i].opposite===!0&&(e+=a.width);for(var h=r;h>=0;h--){var f=d.drawLine(e+s.offsetX-a.width+a.offsetX,u+a.offsetY,e+s.offsetX+a.offsetX,u+a.offsetY,a.color);l.add(f),u+=o}}}}]),t}(),$7=function(){function t(e){Be(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new Hx(this.annoCtx),this.axesUtils=new Fo(this.annoCtx)}return Ue(t,[{key:"addYaxisAnnotation",value:function(e,r,s){var a,i=this.w,o=e.strokeDashArray,l=this.helpers.getY1Y2("y1",e),c=l.yP,d=l.clipped,u=!0,h=!1,f=e.label.text;if(e.y2===null||e.y2===void 0){if(!d){h=!0;var m=this.annoCtx.graphics.drawLine(0+e.offsetX,c+e.offsetY,this._getYAxisAnnotationWidth(e),c+e.offsetY,e.borderColor,o,e.borderWidth);r.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}else{if(a=(l=this.helpers.getY1Y2("y2",e)).yP,u=l.clipped,a>c){var p=c;c=a,a=p}if(!d||!u){h=!0;var x=this.annoCtx.graphics.drawRect(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),c-a,0,e.fillColor,e.opacity,1,e.borderColor,o);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),r.appendChild(x.node),e.id&&x.node.classList.add(e.id)}}if(h){var g=e.label.position==="right"?i.globals.gridWidth:e.label.position==="center"?i.globals.gridWidth/2:0,y=this.annoCtx.graphics.drawText({x:g+e.label.offsetX,y:(a??c)+e.label.offsetY-3,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:s}),r.appendChild(y.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var r=this.w;return r.globals.gridWidth,(e.width.indexOf("%")>-1?r.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,r=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return r.config.annotations.yaxis.forEach(function(a,i){a.yAxisIndex=e.axesUtils.translateYAxisIndex(a.yAxisIndex),e.axesUtils.isYAxisHidden(a.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||e.addYaxisAnnotation(a,s.node,i)}),s}}]),t}(),X7=function(){function t(e){Be(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new Hx(this.annoCtx)}return Ue(t,[{key:"addPointAnnotation",value:function(e,r,s){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",e),i=a.x,o=a.clipped,l=(a=this.helpers.getY1Y2("y1",e)).yP,c=a.clipped;if(ae.isNumber(i)&&!c&&!o){var d={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(i+e.marker.offsetX,l+e.marker.offsetY,d);r.appendChild(u.node);var h=e.label.text?e.label.text:"",f=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:l+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(f.attr({rel:s}),r.appendChild(f.node),e.customSVG.SVG){var m=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});m.attr({transform:"translate(".concat(i+e.customSVG.offsetX,", ").concat(l+e.customSVG.offsetY,")")}),m.node.innerHTML=e.customSVG.SVG,r.appendChild(m.node)}if(e.image.path){var p=e.image.width?e.image.width:20,x=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:i+e.image.offsetX-p/2,y:l+e.image.offsetY-x/2,width:p,height:x,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,r=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return r.config.annotations.points.map(function(a,i){e.addPointAnnotation(a,s.node,i)}),s}}]),t}(),CP={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},fl=function(){function t(){Be(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Ue(t,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[CP],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(r,s){return r+s},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(r,s){return r+s},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),G7=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.graphics=new be(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Hx(this),this.xAxisAnnotations=new V7(this),this.yAxisAnnotations=new $7(this),this.pointsAnnotations=new X7(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Ue(t,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var r=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),i=e.config.chart.animations.enabled,o=[r,s,a],l=[s.node,r.node,a.node],c=0;c<3;c++)e.globals.dom.elGraphical.add(o[c]),!i||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&l[c].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:l[c],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(r,s){e.addImage(r,s)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(r,s){e.addText(r,s)})}},{key:"addXaxisAnnotation",value:function(e,r,s){this.xAxisAnnotations.addXaxisAnnotation(e,r,s)}},{key:"addYaxisAnnotation",value:function(e,r,s){this.yAxisAnnotations.addYaxisAnnotation(e,r,s)}},{key:"addPointAnnotation",value:function(e,r,s){this.pointsAnnotations.addPointAnnotation(e,r,s)}},{key:"addText",value:function(e,r){var s=e.x,a=e.y,i=e.text,o=e.textAnchor,l=e.foreColor,c=e.fontSize,d=e.fontFamily,u=e.fontWeight,h=e.cssClass,f=e.backgroundColor,m=e.borderWidth,p=e.strokeDashArray,x=e.borderRadius,g=e.borderColor,y=e.appendTo,v=y===void 0?".apexcharts-svg":y,b=e.paddingLeft,w=b===void 0?4:b,N=e.paddingRight,C=N===void 0?4:N,S=e.paddingBottom,k=S===void 0?2:S,A=e.paddingTop,T=A===void 0?2:A,E=this.w,D=this.graphics.drawText({x:s,y:a,text:i,textAnchor:o||"start",fontSize:c||"12px",fontWeight:u||"regular",fontFamily:d||E.config.chart.fontFamily,foreColor:l||E.config.chart.foreColor,cssClass:h}),_=E.globals.dom.baseEl.querySelector(v);_&&_.appendChild(D.node);var z=D.bbox();if(i){var H=this.graphics.drawRect(z.x-w,z.y-T,z.width+w+C,z.height+k+T,x,f||"transparent",1,m,g,p);_.insertBefore(H.node,D.node)}}},{key:"addImage",value:function(e,r){var s=this.w,a=e.path,i=e.x,o=i===void 0?0:i,l=e.y,c=l===void 0?0:l,d=e.width,u=d===void 0?20:d,h=e.height,f=h===void 0?20:h,m=e.appendTo,p=m===void 0?".apexcharts-svg":m,x=s.globals.dom.Paper.image(a);x.size(u,f).move(o,c);var g=s.globals.dom.baseEl.querySelector(p);return g&&g.appendChild(x.node),x}},{key:"addXaxisAnnotationExternal",value:function(e,r,s){return this.addAnnotationExternal({params:e,pushToMemory:r,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,r,s){return this.addAnnotationExternal({params:e,pushToMemory:r,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,r,s){return this.invertAxis===void 0&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:r,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var r=e.params,s=e.pushToMemory,a=e.context,i=e.type,o=e.contextMethod,l=a,c=l.w,d=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations")),u=d.childNodes.length+1,h=new fl,f=Object.assign({},i==="xaxis"?h.xAxisAnnotation:i==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),m=ae.extend(f,r);switch(i){case"xaxis":this.addXaxisAnnotation(m,d,u);break;case"yaxis":this.addYaxisAnnotation(m,d,u);break;case"point":this.addPointAnnotation(m,d,u)}var p=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(u,"']")),x=this.helpers.addBackgroundToAnno(p,m);return x&&d.insertBefore(x.node,p),s&&c.globals.memory.methodsToExec.push({context:l,id:m.id?m.id:ae.randomId(),method:o,label:"addAnnotation",params:r}),a}},{key:"clearAnnotations",value:function(e){for(var r=e.w,s=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=r.globals.memory.methodsToExec.length-1;a>=0;a--)r.globals.memory.methodsToExec[a].label!=="addText"&&r.globals.memory.methodsToExec[a].label!=="addAnnotation"||r.globals.memory.methodsToExec.splice(a,1);s=ae.listToArray(s),Array.prototype.forEach.call(s,function(i){for(;i.firstChild;)i.removeChild(i.firstChild)})}},{key:"removeAnnotation",value:function(e,r){var s=e.w,a=s.globals.dom.baseEl.querySelectorAll(".".concat(r));a&&(s.globals.memory.methodsToExec.map(function(i,o){i.id===r&&s.globals.memory.methodsToExec.splice(o,1)}),Object.keys(s.config.annotations).forEach(function(i){var o=s.config.annotations[i];Array.isArray(o)&&(s.config.annotations[i]=o.filter(function(l){return l.id!==r}))}),Array.prototype.forEach.call(a,function(i){i.parentElement.removeChild(i)}))}}]),t}(),ug=function(t){var e,r=t.isTimeline,s=t.ctx,a=t.seriesIndex,i=t.dataPointIndex,o=t.y1,l=t.y2,c=t.w,d=c.globals.seriesRangeStart[a][i],u=c.globals.seriesRangeEnd[a][i],h=c.globals.labels[i],f=c.config.series[a].name?c.config.series[a].name:"",m=c.globals.ttKeyFormatter,p=c.config.tooltip.y.title.formatter,x={w:c,seriesIndex:a,dataPointIndex:i,start:d,end:u};typeof p=="function"&&(f=p(f,x)),(e=c.config.series[a].data[i])!==null&&e!==void 0&&e.x&&(h=c.config.series[a].data[i].x),r||c.config.xaxis.type==="datetime"&&(h=new Af(s).xLabelFormat(c.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new js(s).formatDate,w:c})),typeof m=="function"&&(h=m(h,x)),Number.isFinite(o)&&Number.isFinite(l)&&(d=o,u=l);var g="",y="",v=c.globals.colors[a];if(c.config.tooltip.x.formatter===void 0)if(c.config.xaxis.type==="datetime"){var b=new js(s);g=b.formatDate(b.getDate(d),c.config.tooltip.x.format),y=b.formatDate(b.getDate(u),c.config.tooltip.x.format)}else g=d,y=u;else g=c.config.tooltip.x.formatter(d),y=c.config.tooltip.x.formatter(u);return{start:d,end:u,startVal:g,endVal:y,ylabel:h,color:v,seriesName:f}},hg=function(t){var e=t.color,r=t.seriesName,s=t.ylabel,a=t.start,i=t.end,o=t.seriesIndex,l=t.dataPointIndex,c=t.ctx.tooltip.tooltipLabels.getFormatters(o);a=c.yLbFormatter(a),i=c.yLbFormatter(i);var d=c.yLbFormatter(t.w.globals.series[o][l]),u=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(i,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(r||"")+'</span></div><div> <span class="category">'+s+": </span> "+(t.w.globals.comboCharts?t.w.config.series[o].type==="rangeArea"||t.w.config.series[o].type==="rangeBar"?u:"<span>".concat(d,"</span>"):u)+" </div></div>"},Yh=function(){function t(e){Be(this,t),this.opts=e}return Ue(t,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),ae.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,r){var s=r.w.config.series[r.seriesIndex].name;return e!==null?s+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Te(Te({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var s=r.seriesIndex,a=r.dataPointIndex,i=r.w;return e._getBoxTooltip(i,s,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var s=r.seriesIndex,a=r.dataPointIndex,i=r.w;return e._getBoxTooltip(i,s,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,r){r.ctx;var s=r.seriesIndex,a=r.dataPointIndex,i=r.w,o=function(){var l=i.globals.seriesRangeStart[s][a];return i.globals.seriesRangeEnd[s][a]-l};return i.globals.comboCharts?i.config.series[s].type==="rangeBar"||i.config.series[s].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(r){var s=ug(Te(Te({},r),{},{isTimeline:!0})),a=s.color,i=s.seriesName,o=s.ylabel,l=s.startVal,c=s.endVal;return hg(Te(Te({},r),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))}(e):function(r){var s=ug(r),a=s.color,i=s.seriesName,o=s.ylabel,l=s.start,c=s.end;return hg(Te(Te({},r),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var r,s;return(r=e.plotOptions.bar)!==null&&r!==void 0&&r.barHeight||(e.plotOptions.bar.barHeight=2),(s=e.plotOptions.bar)!==null&&s!==void 0&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(r){var s=ug(r),a=s.color,i=s.seriesName,o=s.ylabel,l=s.start,c=s.end;return hg(Te(Te({},r),{},{color:a,seriesName:i,ylabel:o,start:l,end:c}))}(e)}}}}},{key:"brush",value:function(e){return ae.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var r=e.dataLabels.formatter;return e.yaxis.forEach(function(s,a){e.yaxis[a].min=0,e.yaxis[a].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=r||function(s){return typeof s=="number"&&s?s.toFixed(0)+"%":s}),e}},{key:"stackedBars",value:function(){var e=this.bar();return Te(Te({},e),{},{plotOptions:Te(Te({},e.plotOptions),{},{bar:Te(Te({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,r,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return ae.isNumber(o)?Math.floor(o):o};var a=e.xaxis.labels.formatter,i=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(i=s.map(function(o){return Array.isArray(o)?o:String(o)})),i&&i.length&&(e.xaxis.labels.formatter=function(o){return ae.isNumber(o)?a(i[Math.floor(o)-1]):a(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,r,s,a,i){var o=e.globals.seriesCandleO[r][s],l=e.globals.seriesCandleH[r][s],c=e.globals.seriesCandleM[r][s],d=e.globals.seriesCandleL[r][s],u=e.globals.seriesCandleC[r][s];return e.config.series[r].type&&e.config.series[r].type!==i?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[r].name?e.config.series[r].name:"series-"+(r+1),": <strong>").concat(e.globals.series[r][s],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+l+"</span></div>"+(c?"<div>".concat(a[2],': <span class="value">')+c+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+u+"</span></div></div>"}}]),t}(),Vh=function(){function t(e){Be(this,t),this.opts=e}return Ue(t,[{key:"init",value:function(e){var r=e.responsiveOverride,s=this.opts,a=new fl,i=new Yh(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var o=a.init(),l={};if(s&&Ld(s)==="object"){var c,d,u,h,f,m,p,x,g,y,v={};v=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)!==-1?i[s.chart.type]():i.line(),(c=s.plotOptions)!==null&&c!==void 0&&(d=c.bar)!==null&&d!==void 0&&d.isFunnel&&(v=i.funnel()),s.chart.stacked&&s.chart.type==="bar"&&(v=i.stackedBars()),(u=s.chart.brush)!==null&&u!==void 0&&u.enabled&&(v=i.brush(v)),(h=s.plotOptions)!==null&&h!==void 0&&(f=h.line)!==null&&f!==void 0&&f.isSlopeChart&&(v=i.slope()),s.chart.stacked&&s.chart.stackType==="100%"&&(s=i.stacked100(s)),(m=s.plotOptions)!==null&&m!==void 0&&(p=m.bar)!==null&&p!==void 0&&p.isDumbbell&&(s=i.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},r||(s.xaxis.convertedCatToNumeric=!1),((x=(s=this.checkForCatToNumericXAxis(this.chartType,v,s)).chart.sparkline)!==null&&x!==void 0&&x.enabled||(g=window.Apex.chart)!==null&&g!==void 0&&(y=g.sparkline)!==null&&y!==void 0&&y.enabled)&&(v=i.sparkline(v)),l=ae.extend(o,v)}var b=ae.extend(l,window.Apex);return o=ae.extend(b,s),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,r,s){var a,i,o=new Yh(s),l=(e==="bar"||e==="boxPlot")&&((a=s.plotOptions)===null||a===void 0||(i=a.bar)===null||i===void 0?void 0:i.horizontal),c=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",d=s.xaxis.type!=="datetime"&&s.xaxis.type!=="numeric",u=s.xaxis.tickPlacement?s.xaxis.tickPlacement:r.xaxis&&r.xaxis.tickPlacement;return l||c||!d||u==="between"||(s=o.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,r){var s=new fl;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=ae.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[ae.extend(s.yAxis,e.yaxis)]:e.yaxis=ae.extendArray(e.yaxis,s.yAxis);var a=!1;e.yaxis.forEach(function(o){o.logarithmic&&(a=!0)});var i=e.series;return r&&!i&&(i=r.config.series),a&&i.length!==e.yaxis.length&&i.length&&(e.yaxis=i.map(function(o,l){if(o.name||(i[l].name="series-".concat(l+1)),e.yaxis[l])return e.yaxis[l].seriesName=i[l].name,e.yaxis[l];var c=ae.extend(s.yAxis,e.yaxis[0]);return c.show=!1,c})),a&&i.length>1&&i.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var r=new fl;return e.annotations.yaxis=ae.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],r.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var r=new fl;return e.annotations.xaxis=ae.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],r.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var r=new fl;return e.annotations.points=ae.extendArray(e.annotations.points!==void 0?e.annotations.points:[],r.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var r=e;if(r.tooltip.shared&&r.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(r.chart.type==="bar"&&r.plotOptions.bar.horizontal){if(r.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");r.yaxis[0].reversed&&(r.yaxis[0].opposite=!0),r.xaxis.tooltip.enabled=!1,r.yaxis[0].tooltip.enabled=!1,r.chart.zoom.enabled=!1}return r.chart.type!=="bar"&&r.chart.type!=="rangeBar"||r.tooltip.shared&&r.xaxis.crosshairs.width==="barWidth"&&r.series.length>1&&(r.xaxis.crosshairs.width="tickWidth"),r.chart.type!=="candlestick"&&r.chart.type!=="boxPlot"||r.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(r.chart.type," chart is not supported.")),r.yaxis[0].reversed=!1),r}}]),t}(),kP=function(){function t(){Be(this,t)}return Ue(t,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var r=this.globalVars(e);return this.initGlobalVars(r),r.initialConfig=ae.extend({},e),r.initialSeries=ae.clone(e.series),r.lastXAxis=ae.clone(r.initialConfig.xaxis),r.lastYAxis=ae.clone(r.initialConfig.yaxis),r}}]),t}(),K7=function(){function t(e){Be(this,t),this.opts=e}return Ue(t,[{key:"init",value:function(){var e=new Vh(this.opts).init({responsiveOverride:!1});return{config:e,globals:new kP().init(e)}}}]),t}(),Ln=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return Ue(t,[{key:"clippedImgArea",value:function(e){var r=this.w,s=r.config,a=parseInt(r.globals.gridWidth,10),i=parseInt(r.globals.gridHeight,10),o=a>i?a:i,l=e.image,c=0,d=0;e.width===void 0&&e.height===void 0?s.fill.image.width!==void 0&&s.fill.image.height!==void 0?(c=s.fill.image.width+1,d=s.fill.image.height):(c=o+1,d=o):(c=e.width,d=e.height);var u=document.createElementNS(r.globals.SVGNS,"pattern");be.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:c+"px",height:d+"px"});var h=document.createElementNS(r.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",l),be.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:c+"px",height:d+"px"}),h.style.opacity=e.opacity,r.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var r=this.w,s=r.config.chart.type;return(s==="bar"||s==="rangeBar")&&r.config.plotOptions.bar.distributed||s==="heatmap"||s==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%r.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,r){var s,a=this.w,i=null,o=null,l=Uu(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;c>=r.threshold?(i===null||c>i)&&(i=c):(o===null||c<o)&&(o=c)}}catch(h){l.e(h)}finally{l.f()}i===null&&(i=r.threshold),o===null&&(o=r.threshold);var d=i-r.threshold+(r.threshold-o);d===0&&(d=1);var u=100-(r.threshold-o)/d*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:r.colorAboveThreshold,opacity:a.config.fill.opacity},{offset:0,color:r.colorBelowThreshold,opacity:a.config.fill.opacity}]}},{key:"fillPath",value:function(e){var r,s,a,i=this.w;this.opts=e;var o,l,c,d=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=d.plotOptions.line.colors.colorAboveThreshold&&d.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];i.globals.seriesColors[this.seriesIndex]!==void 0&&(h=i.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:i}));var f,m,p,x=e.fillType?e.fillType:this.getFillType(this.seriesIndex),g=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity,y=x==="gradient"||u;e.color&&(h=e.color),(r=i.config.series[this.seriesIndex])!==null&&r!==void 0&&(s=r.data)!==null&&s!==void 0&&(a=s[e.dataPointIndex])!==null&&a!==void 0&&a.fillColor&&(h=(f=i.config.series[this.seriesIndex])===null||f===void 0||(m=f.data)===null||m===void 0||(p=m[e.dataPointIndex])===null||p===void 0?void 0:p.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var v=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?v=h:h.length<9&&(v=ae.hexToRgba(h,g)):h.indexOf("rgba")>-1?g=ae.getOpacityFromRGBA(h):v=ae.hexToRgba(ae.rgb2hex(h),g),e.opacity&&(g=e.opacity),x==="pattern"&&(l=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:l,fillColor:h,fillOpacity:g,defaultColor:v})),y){var b=ls(d.fill.gradient.colorStops)||[],w=d.fill.gradient.type;u&&(b[this.seriesIndex]=this.computeColorStops(i.globals.series[this.seriesIndex],d.plotOptions.line.colors),w="vertical"),c=this.handleGradientFill({type:w,fillConfig:e.fillConfig,fillColor:h,fillOpacity:g,colorStops:b,i:this.seriesIndex})}if(x==="image"){var N=d.fill.image.src,C=e.patternID?e.patternID:"",S="pattern".concat(i.globals.cuid).concat(e.seriesNumber+1).concat(C);this.patternIDs.indexOf(S)===-1&&(this.clippedImgArea({opacity:g,image:Array.isArray(N)?e.seriesNumber<N.length?N[e.seriesNumber]:N[0]:N,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:S}),this.patternIDs.push(S)),o="url(#".concat(S,")")}else o=y?c:x==="pattern"?l:v;return e.solid&&(o=v),o}},{key:"getFillType",value:function(e){var r=this.w;return Array.isArray(r.config.fill.type)?r.config.fill.type[e]:r.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,r=e.config,s=this.opts,a=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors):r.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors),s.fillColors!==void 0&&(a=[],Array.isArray(s.fillColors)?a=s.fillColors.slice():a.push(s.fillColors)),a}},{key:"handlePatternFill",value:function(e){var r=e.fillConfig,s=e.patternFill,a=e.fillColor,i=e.fillOpacity,o=e.defaultColor,l=this.w.config.fill;r&&(l=r);var c=this.opts,d=new be(this.ctx),u=Array.isArray(l.pattern.strokeWidth)?l.pattern.strokeWidth[this.seriesIndex]:l.pattern.strokeWidth,h=a;return Array.isArray(l.pattern.style)?s=l.pattern.style[c.seriesNumber]!==void 0?d.drawPattern(l.pattern.style[c.seriesNumber],l.pattern.width,l.pattern.height,h,u,i):o:s=d.drawPattern(l.pattern.style,l.pattern.width,l.pattern.height,h,u,i),s}},{key:"handleGradientFill",value:function(e){var r=e.type,s=e.fillColor,a=e.fillOpacity,i=e.fillConfig,o=e.colorStops,l=e.i,c=this.w.config.fill;i&&(c=Te(Te({},c),i));var d=this.opts,u=new be(this.ctx),h=new ae;r=r||c.gradient.type;var f,m=s,p=c.gradient.opacityFrom===void 0?a:Array.isArray(c.gradient.opacityFrom)?c.gradient.opacityFrom[l]:c.gradient.opacityFrom;m.indexOf("rgba")>-1&&(p=ae.getOpacityFromRGBA(m));var x=c.gradient.opacityTo===void 0?a:Array.isArray(c.gradient.opacityTo)?c.gradient.opacityTo[l]:c.gradient.opacityTo;if(c.gradient.gradientToColors===void 0||c.gradient.gradientToColors.length===0)f=c.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?ae.rgb2hex(s):s):h.shadeColor(parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?ae.rgb2hex(s):s);else if(c.gradient.gradientToColors[d.seriesNumber]){var g=c.gradient.gradientToColors[d.seriesNumber];f=g,g.indexOf("rgba")>-1&&(x=ae.getOpacityFromRGBA(g))}else f=s;if(c.gradient.gradientFrom&&(m=c.gradient.gradientFrom),c.gradient.gradientTo&&(f=c.gradient.gradientTo),c.gradient.inverseColors){var y=m;m=f,f=y}return m.indexOf("rgb")>-1&&(m=ae.rgb2hex(m)),f.indexOf("rgb")>-1&&(f=ae.rgb2hex(f)),u.drawGradient(r,m,f,p,x,d.size,c.gradient.stops,o,l)}}]),t}(),lu=function(){function t(e,r){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var r=0;r<=e.globals.series.length;r++)e.globals.markers.size[r]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(s){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var r=e.pointsPos,s=e.seriesIndex,a=e.j,i=e.pSize,o=e.alwaysDrawMarker,l=o!==void 0&&o,c=e.isVirtualPoint,d=c!==void 0&&c,u=this.w,h=s,f=r,m=null,p=new be(this.ctx),x=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(f.x))for(var g=0;g<f.x.length;g++){var y=void 0,v=a,b=!ae.isNumber(f.y[g]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[h][a+1]!==null&&!d&&(b=!0),a===1&&g===0&&(v=0),a===1&&g===1&&(v=1);var w="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(w+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[s]>0:u.config.markers.size>0)||l||x){b||(w+=" w".concat(ae.randomId()));var N=this.getMarkerConfig({cssClass:w,seriesIndex:s,dataPointIndex:v});u.config.series[h].data[v]&&(u.config.series[h].data[v].fillColor&&(N.pointFillColor=u.config.series[h].data[v].fillColor),u.config.series[h].data[v].strokeColor&&(N.pointStrokeColor=u.config.series[h].data[v].strokeColor)),i!==void 0&&(N.pSize=i),(f.x[g]<-u.globals.markers.largestSize||f.x[g]>u.globals.gridWidth+u.globals.markers.largestSize||f.y[g]<-u.globals.markers.largestSize||f.y[g]>u.globals.gridHeight+u.globals.markers.largestSize)&&(N.pSize=0),!b&&((u.globals.markers.size[s]>0||l||x)&&!m&&(m=p.group({class:l||x?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(y=p.drawMarker(f.x[g],f.y[g],N)).attr("rel",v),y.attr("j",v),y.attr("index",s),y.node.setAttribute("default-marker-size",N.pSize),new ks(this.ctx).setSelectionFilter(y,s,v),this.addEvents(y),m&&m.add(y))}else u.globals.pointsArray[s]===void 0&&(u.globals.pointsArray[s]=[]),u.globals.pointsArray[s].push([f.x[g],f.y[g]])}return m}},{key:"getMarkerConfig",value:function(e){var r=e.cssClass,s=e.seriesIndex,a=e.dataPointIndex,i=a===void 0?null:a,o=e.radius,l=o===void 0?null:o,c=e.size,d=c===void 0?null:c,u=e.strokeWidth,h=u===void 0?null:u,f=this.w,m=this.getMarkerStyle(s),p=d===null?f.globals.markers.size[s]:d,x=f.config.markers;return i!==null&&x.discrete.length&&x.discrete.map(function(g){g.seriesIndex===s&&g.dataPointIndex===i&&(m.pointStrokeColor=g.strokeColor,m.pointFillColor=g.fillColor,p=g.size,m.pointShape=g.shape)}),{pSize:l===null?p:l,pRadius:l!==null?l:x.radius,pointStrokeWidth:h!==null?h:Array.isArray(x.strokeWidth)?x.strokeWidth[s]:x.strokeWidth,pointStrokeColor:m.pointStrokeColor,pointFillColor:m.pointFillColor,shape:m.pointShape||(Array.isArray(x.shape)?x.shape[s]:x.shape),class:r,pointStrokeOpacity:Array.isArray(x.strokeOpacity)?x.strokeOpacity[s]:x.strokeOpacity,pointStrokeDashArray:Array.isArray(x.strokeDashArray)?x.strokeDashArray[s]:x.strokeDashArray,pointFillOpacity:Array.isArray(x.fillOpacity)?x.fillOpacity[s]:x.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var r=this.w,s=new be(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",r.config.markers.onClick),e.node.addEventListener("dblclick",r.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var r=this.w,s=r.globals.markers.colors,a=r.config.markers.strokeColor||r.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[e]:a,pointFillColor:Array.isArray(s)?s[e]:s}}}]),t}(),AP=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return Ue(t,[{key:"draw",value:function(e,r,s){var a=this.w,i=new be(this.ctx),o=s.realIndex,l=s.pointsPos,c=s.zRatio,d=s.elParent,u=i.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(l.x))for(var h=0;h<l.x.length;h++){var f=r+1,m=!0;r===0&&h===0&&(f=0),r===0&&h===1&&(f=1);var p=a.globals.markers.size[o];if(c!==1/0){var x=a.config.plotOptions.bubble;p=a.globals.seriesZ[o][f],x.zScaling&&(p/=c),x.minBubbleRadius&&p<x.minBubbleRadius&&(p=x.minBubbleRadius),x.maxBubbleRadius&&p>x.maxBubbleRadius&&(p=x.maxBubbleRadius)}var g=l.x[h],y=l.y[h];if(p=p||0,y!==null&&a.globals.series[o][f]!==void 0||(m=!1),m){var v=this.drawPoint(g,y,p,o,f,r);u.add(v)}d.add(u)}}},{key:"drawPoint",value:function(e,r,s,a,i,o){var l=this.w,c=a,d=new au(this.ctx),u=new ks(this.ctx),h=new Ln(this.ctx),f=new lu(this.ctx),m=new be(this.ctx),p=f.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:c,dataPointIndex:i,radius:l.config.chart.type==="bubble"||l.globals.comboCharts&&l.config.series[a]&&l.config.series[a].type==="bubble"?s:null}),x=h.fillPath({seriesNumber:a,dataPointIndex:i,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:l.globals.series[a][o]}),g=m.drawMarker(e,r,p);if(l.config.series[c].data[i]&&l.config.series[c].data[i].fillColor&&(x=l.config.series[c].data[i].fillColor),g.attr({fill:x}),l.config.chart.dropShadow.enabled){var y=l.config.chart.dropShadow;u.dropShadow(g,y,a)}if(!this.initialAnim||l.globals.dataChanged||l.globals.resized)l.globals.animationEnded=!0;else{var v=l.config.chart.animations.speed;d.animateMarker(g,v,l.globals.easing,function(){window.setTimeout(function(){d.animationCompleted(g)},100)})}return g.attr({rel:i,j:i,index:a,"default-marker-size":p.pSize}),u.setSelectionFilter(g,a,i),f.addEvents(g),g.node.classList.add("apexcharts-marker"),g}},{key:"centerTextInBubble",value:function(e){var r=this.w;return{y:e+=parseInt(r.config.dataLabels.style.fontSize,10)/4}}}]),t}(),Id=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"dataLabelsCorrection",value:function(e,r,s,a,i,o,l){var c=this.w,d=!1,u=new be(this.ctx).getTextRects(s,l),h=u.width,f=u.height;r<0&&(r=0),r>c.globals.gridHeight+f&&(r=c.globals.gridHeight+f/2),c.globals.dataLabelsRects[a]===void 0&&(c.globals.dataLabelsRects[a]=[]),c.globals.dataLabelsRects[a].push({x:e,y:r,width:h,height:f});var m=c.globals.dataLabelsRects[a].length-2,p=c.globals.lastDrawnDataLabelsIndexes[a]!==void 0?c.globals.lastDrawnDataLabelsIndexes[a][c.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(c.globals.dataLabelsRects[a][m]!==void 0){var x=c.globals.dataLabelsRects[a][p];(e>x.x+x.width||r>x.y+x.height||r+f<x.y||e+h<x.x)&&(d=!0)}return(i===0||o)&&(d=!0),{x:e,y:r,textRects:u,drawnextLabel:d}}},{key:"drawDataLabel",value:function(e){var r=this,s=e.type,a=e.pos,i=e.i,o=e.j,l=e.isRangeStart,c=e.strokeWidth,d=c===void 0?2:c,u=this.w,h=new be(this.ctx),f=u.config.dataLabels,m=0,p=0,x=o,g=null;if(u.globals.collapsedSeriesIndices.indexOf(i)!==-1||!f.enabled||!Array.isArray(a.x))return g;g=h.group({class:"apexcharts-data-labels"});for(var y=0;y<a.x.length;y++)if(m=a.x[y]+f.offsetX,p=a.y[y]+f.offsetY+d,!isNaN(m)){o===1&&y===0&&(x=0),o===1&&y===1&&(x=1);var v=u.globals.series[i][x];s==="rangeArea"&&(v=l?u.globals.seriesRangeStart[i][x]:u.globals.seriesRangeEnd[i][x]);var b="",w=function(C){return u.config.dataLabels.formatter(C,{ctx:r.ctx,seriesIndex:i,dataPointIndex:x,w:u})};u.config.chart.type==="bubble"?(b=w(v=u.globals.seriesZ[i][x]),p=a.y[y],p=new AP(this.ctx).centerTextInBubble(p,i,x).y):v!==void 0&&(b=w(v));var N=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(N=x===0?"end":x===u.config.series[i].data.length-1?"start":"middle"),this.plotDataLabelsText({x:m,y:p,text:b,i,j:x,parent:g,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:N})}return g}},{key:"plotDataLabelsText",value:function(e){var r=this.w,s=new be(this.ctx),a=e.x,i=e.y,o=e.i,l=e.j,c=e.text,d=e.textAnchor,u=e.fontSize,h=e.parent,f=e.dataLabelsConfig,m=e.color,p=e.alwaysDrawDataLabel,x=e.offsetCorrection,g=e.className,y=null;if(Array.isArray(r.config.dataLabels.enabledOnSeries)&&r.config.dataLabels.enabledOnSeries.indexOf(o)<0)return y;var v={x:a,y:i,drawnextLabel:!0,textRects:null};x&&(v=this.dataLabelsCorrection(a,i,c,o,l,p,parseInt(f.style.fontSize,10))),r.globals.zoomed||(a=v.x,i=v.y),v.textRects&&(a<-20-v.textRects.width||a>r.globals.gridWidth+v.textRects.width+30)&&(c="");var b=r.globals.dataLabels.style.colors[o];((r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")&&r.config.plotOptions.bar.distributed||r.config.dataLabels.distributed)&&(b=r.globals.dataLabels.style.colors[l]),typeof b=="function"&&(b=b({series:r.globals.series,seriesIndex:o,dataPointIndex:l,w:r})),m&&(b=m);var w=f.offsetX,N=f.offsetY;if(r.config.chart.type!=="bar"&&r.config.chart.type!=="rangeBar"||(w=0,N=0),r.globals.isSlopeChart&&(l!==0&&(w=-2*f.offsetX+5),l!==0&&l!==r.config.series[o].data.length-1&&(w=0)),v.drawnextLabel){if((y=s.drawText({width:100,height:parseInt(f.style.fontSize,10),x:a+w,y:i+N,foreColor:b,textAnchor:d||f.textAnchor,text:c,fontSize:u||f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight||"normal"})).attr({class:g||"apexcharts-datalabel",cx:a,cy:i}),f.dropShadow.enabled){var C=f.dropShadow;new ks(this.ctx).dropShadow(y,C)}h.add(y),r.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(r.globals.lastDrawnDataLabelsIndexes[o]=[]),r.globals.lastDrawnDataLabelsIndexes[o].push(l)}return y}},{key:"addBackgroundToDataLabel",value:function(e,r){var s=this.w,a=s.config.dataLabels.background,i=a.padding,o=a.padding/2,l=r.width,c=r.height,d=new be(this.ctx).drawRect(r.x-i,r.y-o/2,l+2*i,c+o,a.borderRadius,s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new ks(this.ctx).dropShadow(d,a.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<r.length;s++){var a=r[s],i=a.getBBox(),o=null;if(i.width&&i.height&&(o=this.addBackgroundToDataLabel(a,i)),o){a.parentNode.insertBefore(o.node,a);var l=e.config.dataLabels.background.backgroundColor||a.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:l}):o.attr({fill:l}),a.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<r.length;a++)s&&s.insertBefore(r[a],s.nextSibling)}}]),t}(),cn=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return Ue(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ae.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var r=this.getSeriesByName(e),s=parseInt(r.getAttribute("data:realIndex"),10);return{isHidden:r.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,r){var s=this.w;function a(i){for(var o=0;o<i.length;o++)i[o].index===r&&e.node.classList.add("apexcharts-series-collapsed")}a(s.globals.collapsedSeries),a(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var r=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,r.isHidden),r.isHidden}},{key:"showSeries",value:function(e){var r=this.isSeriesHidden(e);r.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!0)}},{key:"hideSeries",value:function(e){var r=this.isSeriesHidden(e);r.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,i=ae.clone(a.globals.initialSeries);a.globals.previousPaths=[],s?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):i=this.emptyCollapsedSeries(i),a.config.series=i,e&&(r&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var r=this.w,s=0;s<e.length;s++)r.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"highlightSeries",value:function(e){var r=this.w,s=this.getSeriesByName(e),a=parseInt(s==null?void 0:s.getAttribute("data:realIndex"),10),i=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,l=null,c=null;if(r.globals.axisCharts||r.config.chart.type==="radialBar")if(r.globals.axisCharts){o=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),l=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var d=r.globals.seriesYAxisReverseMap[a];c=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"']"))}else o=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else o=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var u=0;u<i.length;u++)i[u].classList.add(this.legendInactiveClass);if(o)r.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass),c!==null&&c.classList.remove(this.legendInactiveClass);else for(var h=0;h<i.length;h++)i[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,r){var s=this.w;r||(r=e.target);var a=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var i=parseInt(r.getAttribute("rel"),10)-1;this.highlightSeries(s.globals.seriesNames[i])}else if(e.type==="mouseout")for(var o=0;o<a.length;o++)a[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,r){var s=this,a=this.w,i=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(d){for(var u=0;u<i.length;u++)i[u].classList[d](s.legendInactiveClass)};if(e.type==="mousemove"){var l=parseInt(r.getAttribute("rel"),10)-1;o("add");var c=a.config.plotOptions.heatmap.colorScale.ranges;(function(d,u){for(var h=0;h<i.length;h++){var f=Number(i[h].getAttribute("val"));f>=d.from&&(f<d.to||d.to===u&&f===u)&&i[h].classList.remove(s.legendInactiveClass)}})(c[l],c.reduce(function(d,u){return Math.max(d,u.to)},0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.w,a=0;if(s.config.series.length>1){for(var i=s.config.series.map(function(l,c){return l.data&&l.data.length>0&&s.globals.collapsedSeriesIndices.indexOf(c)===-1&&(!s.globals.comboCharts||r.length===0||r.length&&r.indexOf(s.config.series[c].type)>-1)?c:-1}),o=e==="asc"?0:i.length-1;e==="asc"?o<i.length:o>=0;e==="asc"?o++:o--)if(i[o]!==-1){a=i[o];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,r){return e.type==="bar"||e.type==="column"?r:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,r){return r})}},{key:"getPreviousPaths",value:function(){var e=this.w;function r(o,l,c){for(var d=o[l].childNodes,u={type:c,paths:[],realIndex:o[l].getAttribute("data:realIndex")},h=0;h<d.length;h++)if(d[h].hasAttribute("pathTo")){var f=d[h].getAttribute("pathTo");u.paths.push({d:f})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(o){for(var l,c=(l=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series"))),d=0;d<c.length;d++)r(c,d,o)});var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var a=function(o){for(var l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),c=[],d=function(h){var f=function(p){return l[h].getAttribute(p)},m={x:parseFloat(f("x")),y:parseFloat(f("y")),width:parseFloat(f("width")),height:parseFloat(f("height"))};c.push({rect:m,color:l[h].getAttribute("color")})},u=0;u<l.length;u++)d(u);e.globals.previousPaths.push(c)},i=0;i<s.length;i++)a(i);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,r=e.config.noData,s=new be(this.ctx),a=e.globals.svgWidth/2,i=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,r.align==="left"?(a=10,o="start"):r.align==="right"&&(a=e.globals.svgWidth-10,o="end"),r.verticalAlign==="top"?i=50:r.verticalAlign==="bottom"&&(i=e.globals.svgHeight-50),a+=r.offsetX,i=i+parseInt(r.style.fontSize,10)+2+r.offsetY,r.text!==void 0&&r.text!==""){var l=s.drawText({x:a,y:i,text:r.text,textAnchor:o,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,foreColor:r.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(l)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var r=this.w,s=0;s<e.length;s++)if(e[s].length===0)for(var a=0;a<e[r.globals.maxValsInArrayIndex].length;a++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,r=this.w,s=this.filteredSeriesX(),a=0;a<s.length-1;a++)if(s[a][0]!==s[a+1][0]){e=!1;break}return r.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(r){return r.length>0?r:[]});return e}}]),t}(),sw=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Or(this.ctx)}return Ue(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),r=new cn(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),r=new cn(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,r){for(var s=this.w.config,a=this.w.globals,i=s.chart.type==="boxPlot"||s.series[r].type==="boxPlot",o=0;o<e[r].data.length;o++)if(e[r].data[o][1]!==void 0&&(Array.isArray(e[r].data[o][1])&&e[r].data[o][1].length===4&&!i?this.twoDSeries.push(ae.parseNumber(e[r].data[o][1][3])):e[r].data[o].length>=5?this.twoDSeries.push(ae.parseNumber(e[r].data[o][4])):this.twoDSeries.push(ae.parseNumber(e[r].data[o][1])),a.dataFormatXNumeric=!0),s.xaxis.type==="datetime"){var l=new Date(e[r].data[o][0]);l=new Date(l).getTime(),this.twoDSeriesX.push(l)}else this.twoDSeriesX.push(e[r].data[o][0]);for(var c=0;c<e[r].data.length;c++)e[r].data[c][2]!==void 0&&(this.threeDSeries.push(e[r].data[c][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,r){var s=this.w.config,a=this.w.globals,i=new js(this.ctx),o=r;a.collapsedSeriesIndices.indexOf(r)>-1&&(o=this.activeSeriesIndex);for(var l=0;l<e[r].data.length;l++)e[r].data[l].y!==void 0&&(Array.isArray(e[r].data[l].y)?this.twoDSeries.push(ae.parseNumber(e[r].data[l].y[e[r].data[l].y.length-1])):this.twoDSeries.push(ae.parseNumber(e[r].data[l].y))),e[r].data[l].goals!==void 0&&Array.isArray(e[r].data[l].goals)?(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(e[r].data[l].goals)):(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(null));for(var c=0;c<e[o].data.length;c++){var d=typeof e[o].data[c].x=="string",u=Array.isArray(e[o].data[c].x),h=!u&&!!i.isValidDate(e[o].data[c].x);if(d||h)if(d||s.xaxis.convertedCatToNumeric){var f=a.isBarHorizontal&&a.isRangeData;s.xaxis.type!=="datetime"||f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[c].x),isNaN(e[o].data[c].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[c].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(i.parseDate(e[o].data[c].x))}else s.xaxis.type==="datetime"?this.twoDSeriesX.push(i.parseDate(e[o].data[c].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[c].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[c].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[c].x))}if(e[r].data[0]&&e[r].data[0].z!==void 0){for(var m=0;m<e[r].data.length;m++)this.threeDSeries.push(e[r].data[m].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,r){var s=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",e,r):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",e,r)),s.seriesRangeStart[r]=a.start===void 0?[]:a.start,s.seriesRangeEnd[r]=a.end===void 0?[]:a.end,s.seriesRange[r]=a.rangeUniques,s.seriesRange.forEach(function(i,o){i&&i.forEach(function(l,c){l.y.forEach(function(d,u){for(var h=0;h<l.y.length;h++)if(u!==h){var f=d.y1,m=d.y2,p=l.y[h].y1;f<=l.y[h].y2&&p<=m&&(l.overlaps.indexOf(d.rangeName)<0&&l.overlaps.push(d.rangeName),l.overlaps.indexOf(l.y[h].rangeName)<0&&l.overlaps.push(l.y[h].rangeName))}})})}),a}},{key:"handleCandleStickBoxData",value:function(e,r){var s=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",e,r):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",e,r)),s.seriesCandleO[r]=a.o,s.seriesCandleH[r]=a.h,s.seriesCandleM[r]=a.m,s.seriesCandleL[r]=a.l,s.seriesCandleC[r]=a.c,a}},{key:"handleRangeDataFormat",value:function(e,r,s){var a=[],i=[],o=r[s].data.filter(function(u,h,f){return h===f.findIndex(function(m){return m.x===u.x})}).map(function(u,h){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var l=0;l<r[s].data.length;l++)Array.isArray(r[s].data[l])?(a.push(r[s].data[l][1][0]),i.push(r[s].data[l][1][1])):(a.push(r[s].data[l]),i.push(r[s].data[l]));else if(e==="xy")for(var c=function(u){var h=Array.isArray(r[s].data[u].y),f=ae.randomId(),m=r[s].data[u].x,p={y1:h?r[s].data[u].y[0]:r[s].data[u].y,y2:h?r[s].data[u].y[1]:r[s].data[u].y,rangeName:f};r[s].data[u].rangeName=f;var x=o.findIndex(function(g){return g.x===m});o[x].y.push(p),a.push(p.y1),i.push(p.y2)},d=0;d<r[s].data.length;d++)c(d);return{start:a,end:i,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,r,s){var a=this.w,i=a.config.chart.type==="boxPlot"||a.config.series[s].type==="boxPlot",o=[],l=[],c=[],d=[],u=[];if(e==="array")if(i&&r[s].data[0].length===6||!i&&r[s].data[0].length===5)for(var h=0;h<r[s].data.length;h++)o.push(r[s].data[h][1]),l.push(r[s].data[h][2]),i?(c.push(r[s].data[h][3]),d.push(r[s].data[h][4]),u.push(r[s].data[h][5])):(d.push(r[s].data[h][3]),u.push(r[s].data[h][4]));else for(var f=0;f<r[s].data.length;f++)Array.isArray(r[s].data[f][1])&&(o.push(r[s].data[f][1][0]),l.push(r[s].data[f][1][1]),i?(c.push(r[s].data[f][1][2]),d.push(r[s].data[f][1][3]),u.push(r[s].data[f][1][4])):(d.push(r[s].data[f][1][2]),u.push(r[s].data[f][1][3])));else if(e==="xy")for(var m=0;m<r[s].data.length;m++)Array.isArray(r[s].data[m].y)&&(o.push(r[s].data[m].y[0]),l.push(r[s].data[m].y[1]),i?(c.push(r[s].data[m].y[2]),d.push(r[s].data[m].y[3]),u.push(r[s].data[m].y[4])):(d.push(r[s].data[m].y[2]),u.push(r[s].data[m].y[3])));return{o,h:l,m:c,l:d,c:u}}},{key:"parseDataAxisCharts",value:function(e){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,i=this.w.globals,o=new js(s),l=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();i.isRangeBar=a.chart.type==="rangeBar"&&i.isBarHorizontal,i.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,i.hasXaxisGroups&&(i.groups=a.xaxis.group.groups),e.forEach(function(m,p){m.name!==void 0?i.seriesNames.push(m.name):i.seriesNames.push("series-"+parseInt(p+1,10))}),this.coreUtils.setSeriesYAxisMappings();var c=[],d=ls(new Set(a.series.map(function(m){return m.group})));a.series.forEach(function(m,p){var x=d.indexOf(m.group);c[x]||(c[x]=[]),c[x].push(i.seriesNames[p])}),i.seriesGroups=c;for(var u=function(){for(var m=0;m<l.length;m++)if(typeof l[m]=="string"){if(!o.isValidDate(l[m]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");r.twoDSeriesX.push(o.parseDate(l[m]))}else r.twoDSeriesX.push(l[m])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(i.isRangeData=!0,this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),a.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&a.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),i.series.push(this.twoDSeries),i.labels.push(this.twoDSeriesX),i.seriesX.push(this.twoDSeriesX),i.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(i.isXNumeric=!0);else{a.xaxis.type==="datetime"?(i.isXNumeric=!0,u(),i.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(i.isXNumeric=!0,l.length>0&&(this.twoDSeriesX=l,i.seriesX.push(this.twoDSeriesX))),i.labels.push(this.twoDSeriesX);var f=e[h].data.map(function(m){return ae.parseNumber(m)});i.series.push(f)}i.seriesZ.push(this.threeDSeries),e[h].color!==void 0?i.seriesColors.push(e[h].color):i.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var r=this.w.globals,s=this.w.config;r.series=e.slice(),r.seriesNames=s.labels.slice();for(var a=0;a<r.series.length;a++)r.seriesNames[a]===void 0&&r.seriesNames.push("series-"+(a+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var r=this.w.config,s=this.w.globals;r.xaxis.categories.length>0?s.labels=r.xaxis.categories:r.labels.length>0?s.labels=r.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map(function(a){a.forEach(function(i){s.labels.indexOf(i.x)<0&&i.x&&s.labels.push(i.x)})}),s.labels=Array.from(new Set(s.labels.map(JSON.stringify)),JSON.parse)),r.xaxis.convertedCatToNumeric&&(new Yh(r).convertCatToNumericXaxis(r,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var r=this.w.globals,s=this.w.config,a=[];if(r.axisCharts){if(r.series.length>0)if(this.isFormatXY())for(var i=s.series.map(function(h,f){return h.data.filter(function(m,p,x){return x.findIndex(function(g){return g.x===m.x})===p})}),o=i.reduce(function(h,f,m,p){return p[h].length>f.length?h:m},0),l=0;l<i[o].length;l++)a.push(l+1);else for(var c=0;c<r.series[r.maxValsInArrayIndex].length;c++)a.push(c+1);r.seriesX=[];for(var d=0;d<e.length;d++)r.seriesX.push(a);this.w.globals.isBarHorizontal||(r.isXNumeric=!0)}if(a.length===0){a=r.axisCharts?[]:r.series.map(function(h,f){return f+1});for(var u=0;u<e.length;u++)r.seriesX.push(a)}r.labels=a,s.xaxis.convertedCatToNumeric&&(r.categoryLabels=a.map(function(h){return s.xaxis.labels.formatter(h)})),r.noLabelsProvided=!0}},{key:"parseData",value:function(e){var r=this.w,s=r.config,a=r.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){var i=new cn(this.ctx);a.series=i.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(s.xaxis.type!=="numeric"||s.labels.length!==0||s.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(a.labels),l=0;l<o.length;l++)if(Array.isArray(o[l])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,r=[];e.globals.seriesYAxisMap.forEach(function(s,a){var i=0;s.forEach(function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&i++}),i>0&&i==s.length&&r.push(a)}),e.globals.ignoreYAxisIndexes=r.map(function(s){return s})}}]),t}(),rh=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,r){var s=parseFloat(e.getAttributeNS(null,"width")),a=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*r),e.setAttributeNS(null,"height",a*r),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+a)}},{key:"getSvgString",value:function(e){var r=this;return new Promise(function(s){var a=r.w,i=e||a.config.chart.toolbar.export.scale||a.config.chart.toolbar.export.width/a.globals.svgWidth;i||(i=1);var o=a.globals.svgWidth*i,l=a.globals.svgHeight*i,c=a.globals.dom.elWrap.cloneNode(!0);c.style.width=o+"px",c.style.height=l+"px";var d=new XMLSerializer().serializeToString(c),u=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(a.globals.svgWidth,'px" height="').concat(a.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(o,"px; height:").concat(l,`px;">
            <style type="text/css">
              .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                display: none;
              }
            </style>
              `).concat(d,`
            </div>
          </foreignObject>
        </svg>
      `),h=r.svgStringToNode(u);i!==1&&r.scaleSvgNode(h,i),r.convertImagesToBase64(h).then(function(){u=new XMLSerializer().serializeToString(h),s(u.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var r=this,s=e.getElementsByTagName("image"),a=Array.from(s).map(function(i){var o=i.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?r.getBase64FromUrl(o).then(function(l){i.setAttributeNS("http://www.w3.org/1999/xlink","href",l)}).catch(function(l){console.error("Error converting image to base64:",l)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(r,s){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var i=document.createElement("canvas");i.width=a.width,i.height=a.height,i.getContext("2d").drawImage(a,0,0),r(i.toDataURL())},a.onerror=s,a.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(r){e.getSvgString().then(function(s){var a=new Blob([s],{type:"image/svg+xml;charset=utf-8"});r(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(e){var r=this;return new Promise(function(s){var a=r.w,i=e?e.scale||e.width/a.globals.svgWidth:1,o=document.createElement("canvas");o.width=a.globals.svgWidth*i,o.height=parseInt(a.globals.dom.elWrap.style.height,10)*i;var l=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",c=o.getContext("2d");c.fillStyle=l,c.fillRect(0,0,o.width*i,o.height*i),r.getSvgString(i).then(function(d){var u="data:image/svg+xml,"+encodeURIComponent(d),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(c.drawImage(h,0,0),o.msToBlob){var f=o.msToBlob();s({blob:f})}else{var m=o.toDataURL("image/png");s({imgURI:m})}},h.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(r){e.triggerDownload(r,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,r=this.w.config.chart.toolbar.export.scale,s=this.w.config.chart.toolbar.export.width,a=r?{scale:r}:s?{width:s}:void 0;this.dataURI(a).then(function(i){var o=i.imgURI,l=i.blob;l?navigator.msSaveOrOpenBlob(l,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var r=this,s=e.series,a=e.fileName,i=e.columnDelimiter,o=i===void 0?",":i,l=e.lineDelimiter,c=l===void 0?`
`:l,d=this.w;s||(s=d.config.series);var u=[],h=[],f="",m=d.globals.series.map(function(N,C){return d.globals.collapsedSeriesIndices.indexOf(C)===-1?N:[]}),p=function(N){return typeof d.config.chart.toolbar.export.csv.categoryFormatter=="function"?d.config.chart.toolbar.export.csv.categoryFormatter(N):d.config.xaxis.type==="datetime"&&String(N).length>=10?new Date(N).toDateString():ae.isNumber(N)?N:N.split(o).join("")},x=function(N){return typeof d.config.chart.toolbar.export.csv.valueFormatter=="function"?d.config.chart.toolbar.export.csv.valueFormatter(N):N},g=Math.max.apply(Math,ls(s.map(function(N){return N.data?N.data.length:0}))),y=new sw(this.ctx),v=new Fo(this.ctx),b=function(N){var C="";if(d.globals.axisCharts){if(d.config.xaxis.type==="category"||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var S=d.globals.yLabelFormatters[0],k=new cn(r.ctx).getActiveConfigSeriesIndex();C=S(d.globals.labels[N],{seriesIndex:k,dataPointIndex:N,w:d})}else C=v.getLabel(d.globals.labels,d.globals.timescaleLabels,0,N).text;d.config.xaxis.type==="datetime"&&(d.config.xaxis.categories.length?C=d.config.xaxis.categories[N]:d.config.labels.length&&(C=d.config.labels[N]))}else C=d.config.labels[N];return C===null?"nullvalue":(Array.isArray(C)&&(C=C.join(" ")),ae.isNumber(C)?C:C.split(o).join(""))},w=function(N,C){if(u.length&&C===0&&h.push(u.join(o)),N.data){N.data=N.data.length&&N.data||ls(Array(g)).map(function(){return""});for(var S=0;S<N.data.length;S++){u=[];var k=b(S);if(k!=="nullvalue"){if(k||(y.isFormatXY()?k=s[C].data[S].x:y.isFormat2DArray()&&(k=s[C].data[S]?s[C].data[S][0]:"")),C===0){u.push(p(k));for(var A=0;A<d.globals.series.length;A++){var T,E=y.isFormatXY()?(T=s[A].data[S])===null||T===void 0?void 0:T.y:m[A][S];u.push(x(E))}}(d.config.chart.type==="candlestick"||N.type&&N.type==="candlestick")&&(u.pop(),u.push(d.globals.seriesCandleO[C][S]),u.push(d.globals.seriesCandleH[C][S]),u.push(d.globals.seriesCandleL[C][S]),u.push(d.globals.seriesCandleC[C][S])),(d.config.chart.type==="boxPlot"||N.type&&N.type==="boxPlot")&&(u.pop(),u.push(d.globals.seriesCandleO[C][S]),u.push(d.globals.seriesCandleH[C][S]),u.push(d.globals.seriesCandleM[C][S]),u.push(d.globals.seriesCandleL[C][S]),u.push(d.globals.seriesCandleC[C][S])),d.config.chart.type==="rangeBar"&&(u.pop(),u.push(d.globals.seriesRangeStart[C][S]),u.push(d.globals.seriesRangeEnd[C][S])),u.length&&h.push(u.join(o))}}}};u.push(d.config.chart.toolbar.export.csv.headerCategory),d.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):d.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):d.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):s.map(function(N,C){var S=(N.name?N.name:"series-".concat(C))+"";d.globals.axisCharts&&u.push(S.split(o).join("")?S.split(o).join(""):"series-".concat(C))}),d.globals.axisCharts||(u.push(d.config.chart.toolbar.export.csv.headerValue),h.push(u.join(o))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?s.map(function(N,C){d.globals.axisCharts?w(N,C):((u=[]).push(p(d.globals.labels[C])),u.push(x(m[C])),h.push(u.join(o)))}):function(){var N=new Set,C={};s.forEach(function(S,k){S==null||S.data.forEach(function(A){var T,E;if(y.isFormatXY())T=A.x,E=A.y;else{if(!y.isFormat2DArray())return;T=A[0],E=A[1]}C[T]||(C[T]=Array(s.length).fill("")),C[T][k]=x(E),N.add(T)})}),u.length&&h.push(u.join(o)),Array.from(N).sort().forEach(function(S){h.push([p(S),C[S].join(o)])})}(),f+=h.join(c),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+f),a||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,r,s){var a=document.createElement("a");a.href=e,a.download=(r||this.w.globals.chartID)+s,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),t}(),$h=function(){function t(e,r){Be(this,t),this.ctx=e,this.elgrid=r,this.w=e.w;var s=this.w;this.axesUtils=new Fo(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],s.config.xaxis.position==="top"?this.offY=0:this.offY=s.globals.gridHeight,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return Ue(t,[{key:"drawXaxis",value:function(){var e=this.w,r=new be(this.ctx),s=r.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),a=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);for(var i=[],o=0;o<this.xaxisLabels.length;o++)i.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,r,a,i,e.globals.isXNumeric,function(p,x){return x}),e.globals.hasXaxisGroups){var l=e.globals.groups;i=[];for(var c=0;c<l.length;c++)i.push(l[c].title);var d={};e.config.xaxis.group.style&&(d.xaxisFontSize=e.config.xaxis.group.style.fontSize,d.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,d.xaxisForeColors=e.config.xaxis.group.style.colors,d.fontWeight=e.config.xaxis.group.style.fontWeight,d.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,r,a,i,!1,function(p,x){return l[p].cols*x},d)}if(e.config.xaxis.title.text!==void 0){var u=r.group({class:"apexcharts-xaxis-title"}),h=r.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),s.add(u)}if(e.config.xaxis.axisBorder.show){var f=e.globals.barPadForNumericAxis,m=r.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-f,this.offY,this.xaxisBorderWidth+f,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(m):s.add(m)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,r,s,a,i,o){var l,c=this,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],f=this.w,m=d.xaxisFontSize||this.xaxisFontSize,p=d.xaxisFontFamily||this.xaxisFontFamily,x=d.xaxisForeColors||this.xaxisForeColors,g=d.fontWeight||f.config.xaxis.labels.style.fontWeight,y=d.cssClass||f.config.xaxis.labels.style.cssClass,v=f.globals.padHorizontal,b=a.length,w=f.config.xaxis.type==="category"?f.globals.dataPoints:b;if(w===0&&b>w&&(w=b),i){var N=Math.max(Number(f.config.xaxis.tickAmount)||1,w>1?w-1:w);l=f.globals.gridWidth/Math.min(N,b-1),v=v+o(0,l)/2+f.config.xaxis.labels.offsetX}else l=f.globals.gridWidth/w,v=v+o(0,l)+f.config.xaxis.labels.offsetX;for(var C=function(k){var A=v-o(k,l)/2+f.config.xaxis.labels.offsetX;k===0&&b===1&&l/2===v&&w===1&&(A=f.globals.gridWidth/2);var T=c.axesUtils.getLabel(a,f.globals.timescaleLabels,A,k,u,m,e),E=28;if(f.globals.rotateXLabels&&e&&(E=22),f.config.xaxis.title.text&&f.config.xaxis.position==="top"&&(E+=parseFloat(f.config.xaxis.title.style.fontSize)+2),e||(E=E+parseFloat(m)+(f.globals.xAxisLabelsHeight-f.globals.xAxisGroupLabelsHeight)+(f.globals.rotateXLabels?10:0)),T=f.config.xaxis.tickAmount!==void 0&&f.config.xaxis.tickAmount!=="dataPoints"&&f.config.xaxis.type!=="datetime"?c.axesUtils.checkLabelBasedOnTickamount(k,T,b):c.axesUtils.checkForOverflowingLabels(k,T,b,u,h),f.config.xaxis.labels.show){var D=r.drawText({x:T.x,y:c.offY+f.config.xaxis.labels.offsetY+E-(f.config.xaxis.position==="top"?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:T.text,textAnchor:"middle",fontWeight:T.isBold?600:g,fontSize:m,fontFamily:p,foreColor:Array.isArray(x)?e&&f.config.xaxis.convertedCatToNumeric?x[f.globals.minX+k-1]:x[k]:x,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+y});if(s.add(D),D.on("click",function(z){if(typeof f.config.chart.events.xAxisLabelClick=="function"){var H=Object.assign({},f,{labelIndex:k});f.config.chart.events.xAxisLabelClick(z,c.ctx,H)}}),e){var _=document.createElementNS(f.globals.SVGNS,"title");_.textContent=Array.isArray(T.text)?T.text.join(" "):T.text,D.node.appendChild(_),T.text!==""&&(u.push(T.text),h.push(T))}}k<b-1&&(v+=o(k+1,l))},S=0;S<=b-1;S++)C(S)}},{key:"drawXaxisInversed",value:function(e){var r,s,a=this,i=this.w,o=new be(this.ctx),l=i.config.yaxis[0].opposite?i.globals.translateYAxisX[e]:0,c=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),d=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+l+", 0)"});c.add(d);var u=[];if(i.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);r=i.globals.gridHeight/u.length,s=-r/2.2;var f=i.globals.yLabelFormatters[0],m=i.config.yaxis[0].labels;if(m.show)for(var p=function(N){var C=u[N]===void 0?"":u[N];C=f(C,{seriesIndex:e,dataPointIndex:N,w:i});var S=a.axesUtils.getYAxisForeColor(m.style.colors,e),k=0;Array.isArray(C)&&(k=C.length/2*parseInt(m.style.fontSize,10));var A=m.offsetX-15,T="end";a.yaxis.opposite&&(T="start"),i.config.yaxis[0].labels.align==="left"?(A=m.offsetX,T="start"):i.config.yaxis[0].labels.align==="center"?(A=m.offsetX,T="middle"):i.config.yaxis[0].labels.align==="right"&&(T="end");var E=o.drawText({x:A,y:s+r+m.offsetY-k,text:C,textAnchor:T,foreColor:Array.isArray(S)?S[N]:S,fontSize:m.style.fontSize,fontFamily:m.style.fontFamily,fontWeight:m.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+m.style.cssClass,maxWidth:m.maxWidth});d.add(E),E.on("click",function(z){if(typeof i.config.chart.events.xAxisLabelClick=="function"){var H=Object.assign({},i,{labelIndex:N});i.config.chart.events.xAxisLabelClick(z,a.ctx,H)}});var D=document.createElementNS(i.globals.SVGNS,"title");if(D.textContent=Array.isArray(C)?C.join(" "):C,E.node.appendChild(D),i.config.yaxis[e].labels.rotate!==0){var _=o.rotateAroundCenter(E.node);E.node.setAttribute("transform","rotate(".concat(i.config.yaxis[e].labels.rotate," 0 ").concat(_.y,")"))}s+=r},x=0;x<=u.length-1;x++)p(x);if(i.config.yaxis[0].title.text!==void 0){var g=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+l+", 0)"}),y=o.drawText({x:i.config.yaxis[0].title.offsetX,y:i.globals.gridHeight/2+i.config.yaxis[0].title.offsetY,text:i.config.yaxis[0].title.text,textAnchor:"middle",foreColor:i.config.yaxis[0].title.style.color,fontSize:i.config.yaxis[0].title.style.fontSize,fontWeight:i.config.yaxis[0].title.style.fontWeight,fontFamily:i.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[0].title.style.cssClass});g.add(y),c.add(g)}var v=0;this.isCategoryBarHorizontal&&i.config.yaxis[0].opposite&&(v=i.globals.gridWidth);var b=i.config.xaxis.axisBorder;if(b.show){var w=o.drawLine(i.globals.padHorizontal+b.offsetX+v,1+b.offsetY,i.globals.padHorizontal+b.offsetX+v,i.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(w):c.add(w)}return i.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,u.length,i.config.yaxis[0].axisBorder,i.config.yaxis[0].axisTicks,0,r,c),c}},{key:"drawXaxisTicks",value:function(e,r,s){var a=this.w,i=e;if(!(e<0||e-2>a.globals.gridWidth)){var o=this.offY+a.config.xaxis.axisTicks.offsetY;if(r=r+o+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(r=o-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var l=new be(this.ctx).drawLine(e+a.config.xaxis.axisTicks.offsetX,o+a.config.xaxis.offsetY,i+a.config.xaxis.axisTicks.offsetX,r+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);s.add(l),l.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,r=[],s=this.xaxisLabels.length,a=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var i=0;i<s;i++)a=this.xaxisLabels[i].position,r.push(a);else for(var o=s,l=0;l<o;l++){var c=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(c-=1),a+=e.globals.gridWidth/c,r.push(a)}return r}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,r=new be(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var l=0;l<a.length;l++){var c=r.rotateAroundCenter(a[l]);c.y=c.y-1,c.x=c.x+1,a[l].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(c.x," ").concat(c.y,")")),a[l].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var d=a[l].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(d,function(m){r.placeTextWithEllipsis(m,m.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var m=e.globals.gridWidth/(e.globals.labels.length+1),p=0;p<a.length;p++){var x=a[p].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(x,function(g){r.placeTextWithEllipsis(g,g.textContent,m)})}})();if(i.length>0){var u=i[i.length-1].getBBox(),h=i[0].getBBox();u.x<-20&&i[i.length-1].parentNode.removeChild(i[i.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&i[0].parentNode.removeChild(i[0]);for(var f=0;f<o.length;f++)r.placeTextWithEllipsis(o[f],o[f].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),TP=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.xaxisLabels=r.globals.labels.slice(),this.axesUtils=new Fo(e),this.isRangeBar=r.globals.seriesRange.length&&r.globals.isBarHorizontal,r.globals.timescaleLabels.length>0&&(this.xaxisLabels=r.globals.timescaleLabels.slice())}return Ue(t,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w,s=new be(this.ctx);e||(e=s.group({class:"apexcharts-grid"}));var a=s.drawLine(r.globals.padHorizontal,1,r.globals.padHorizontal,r.globals.gridHeight,"transparent"),i=s.drawLine(r.globals.padHorizontal,r.globals.gridHeight,r.globals.gridWidth,r.globals.gridHeight,"transparent");return e.add(i),e.add(a),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,r=e.globals,s=new be(this.ctx),a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,ls(e.config.stroke.width)):e.config.stroke.width,i=function(u){var h=document.createElementNS(r.SVGNS,"clipPath");return h.setAttribute("id",u),h};r.dom.elGridRectMask=i("gridRectMask".concat(r.cuid)),r.dom.elGridRectBarMask=i("gridRectBarMask".concat(r.cuid)),r.dom.elGridRectMarkerMask=i("gridRectMarkerMask".concat(r.cuid)),r.dom.elForecastMask=i("forecastMask".concat(r.cuid)),r.dom.elNonForecastMask=i("nonForecastMask".concat(r.cuid));var o=0,l=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,r.barPadForNumericAxis),l=Math.max(e.config.grid.padding.right,r.barPadForNumericAxis)),r.dom.elGridRect=s.drawRect(-a/2-2,-a/2-2,r.gridWidth+a+4,r.gridHeight+a+4,0,"#fff"),r.dom.elGridRectBar=s.drawRect(-a/2-o-2,-a/2-2,r.gridWidth+a+l+o+4,r.gridHeight+a+4,0,"#fff");var c=e.globals.markers.largestSize;r.dom.elGridRectMarker=s.drawRect(-c,-c,r.gridWidth+2*c,r.gridHeight+2*c,0,"#fff"),r.dom.elGridRectMask.appendChild(r.dom.elGridRect.node),r.dom.elGridRectBarMask.appendChild(r.dom.elGridRectBar.node),r.dom.elGridRectMarkerMask.appendChild(r.dom.elGridRectMarker.node);var d=r.dom.baseEl.querySelector("defs");d.appendChild(r.dom.elGridRectMask),d.appendChild(r.dom.elGridRectBarMask),d.appendChild(r.dom.elGridRectMarkerMask),d.appendChild(r.dom.elForecastMask),d.appendChild(r.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var r=e.i,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.xCount,c=e.parent,d=this.w;if(!(r===0&&d.globals.skipFirstTimelinelabel||r===l-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||d.config.chart.type==="radar")){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,x1:s,y1:a,x2:i,y2:o,xCount:l,parent:c});var u=0;if(d.globals.hasXaxisGroups&&d.config.xaxis.tickPlacement==="between"){var h=d.globals.groups;if(h){for(var f=0,m=0;f<r&&m<h.length;m++)f+=h[m].cols;f===r&&(u=.6*d.globals.xAxisLabelsHeight)}}new $h(this.ctx).drawXaxisTicks(s,u,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var r=e.i,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.xCount,c=e.parent,d=this.w,u=c.node.classList.contains("apexcharts-gridlines-horizontal"),h=d.globals.barPadForNumericAxis,f=a===0&&o===0||s===0&&i===0||a===d.globals.gridHeight&&o===d.globals.gridHeight||d.globals.isBarHorizontal&&(r===0||r===l-1),m=new be(this).drawLine(s-(u?h:0),a,i+(u?h:0),o,d.config.grid.borderColor,d.config.grid.strokeDashArray);m.node.classList.add("apexcharts-gridline"),f&&d.config.grid.show?this.elGridBorders.add(m):c.add(m)}},{key:"_drawGridBandRect",value:function(e){var r=e.c,s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.type,c=this.w,d=new be(this.ctx),u=c.globals.barPadForNumericAxis,h=c.config.grid[l].colors[r],f=d.drawRect(s-(l==="row"?u:0),a,i+(l==="row"?2*u:0),o,0,h,c.config.grid[l].opacity);this.elg.add(f),f.attr("clip-path","url(#gridRectMask".concat(c.globals.cuid,")")),f.node.classList.add("apexcharts-grid-".concat(l))}},{key:"_drawXYLines",value:function(e){var r=this,s=e.xCount,a=e.tickAmount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show){var o,l=i.globals.padHorizontal,c=i.globals.gridHeight;i.globals.timescaleLabels.length?function(p){for(var x=p.xC,g=p.x1,y=p.y1,v=p.x2,b=p.y2,w=0;w<x;w++)g=r.xaxisLabels[w].position,v=r.xaxisLabels[w].position,r._drawGridLines({i:w,x1:g,y1:y,x2:v,y2:b,xCount:s,parent:r.elgridLinesV})}({xC:s,x1:l,y1:0,x2:o,y2:c}):(i.globals.isXNumeric&&(s=i.globals.xAxisScale.result.length),function(p){for(var x=p.xC,g=p.x1,y=p.y1,v=p.x2,b=p.y2,w=0;w<x+(i.globals.isXNumeric?0:1);w++)w===0&&x===1&&i.globals.dataPoints===1&&(v=g=i.globals.gridWidth/2),r._drawGridLines({i:w,x1:g,y1:y,x2:v,y2:b,xCount:s,parent:r.elgridLinesV}),v=g+=i.globals.gridWidth/(i.globals.isXNumeric?x-1:x)}({xC:s,x1:l,y1:0,x2:o,y2:c}))}if(i.config.grid.yaxis.lines.show){var d=0,u=0,h=i.globals.gridWidth,f=a+1;this.isRangeBar&&(f=i.globals.labels.length);for(var m=0;m<f+(this.isRangeBar?1:0);m++)this._drawGridLine({i:m,xCount:f+(this.isRangeBar?1:0),x1:0,y1:d,x2:h,y2:u,parent:this.elgridLinesH}),u=d+=i.globals.gridHeight/(this.isRangeBar?f:a)}}},{key:"_drawInvertedXYLines",value:function(e){var r=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var a,i=s.globals.padHorizontal,o=s.globals.gridHeight,l=0;l<r+1;l++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,xCount:r+1,x1:i,y1:0,x2:a,y2:o,parent:this.elgridLinesV}),new $h(this.ctx).drawXaxisTicks(i,0,s.globals.dom.elGraphical),a=i+=s.globals.gridWidth/r;if(s.config.grid.yaxis.lines.show)for(var c=0,d=0,u=s.globals.gridWidth,h=0;h<s.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:s.globals.dataPoints+1,x1:0,y1:c,x2:u,y2:d,parent:this.elgridLinesH}),d=c+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,r=e.globals,s=new be(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<r.seriesYAxisMap.length&&r.ignoreYAxisIndexes.includes(a);)a++;a===r.seriesYAxisMap.length&&(a=0);var i,o=r.yAxisScale[a].result.length-1;if(!r.isBarHorizontal||this.isRangeBar){var l,c,d;i=this.xaxisLabels.length,this.isRangeBar&&(o=r.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(i=e.config.xaxis.tickAmount),((l=r.yAxisScale)===null||l===void 0||(c=l[a])===null||c===void 0||(d=c.result)===null||d===void 0?void 0:d.length)>0&&e.config.xaxis.type!=="datetime"&&(i=r.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:i,tickAmount:o})}else i=o,o=r.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:o});return this.drawGridBands(i,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:r.gridWidth/i}}},{key:"drawGridBands",value:function(e,r){var s,a,i=this,o=this.w;if(((s=o.config.grid.row.colors)===null||s===void 0?void 0:s.length)>0&&function(p,x,g,y,v,b){for(var w=0,N=0;w<x;w++,N++)N>=o.config.grid[p].colors.length&&(N=0),i._drawGridBandRect({c:N,x1:g,y1:y,x2:v,y2:b,type:p}),y+=o.globals.gridHeight/r}("row",r,0,0,o.globals.gridWidth,o.globals.gridHeight/r),((a=o.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var l=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(l=o.globals.xAxisScale.result.length-1);for(var c=o.globals.padHorizontal,d=o.globals.padHorizontal+o.globals.gridWidth/l,u=o.globals.gridHeight,h=0,f=0;h<e;h++,f++){var m;f>=o.config.grid.column.colors.length&&(f=0),o.config.xaxis.type==="datetime"&&(c=this.xaxisLabels[h].position,d=(((m=this.xaxisLabels[h+1])===null||m===void 0?void 0:m.position)||o.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:f,x1:c,y1:0,x2:d,y2:u,type:"column"}),c+=o.globals.gridWidth/l}}}}]),t}(),EP=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.coreUtils=new Or(this.ctx)}return Ue(t,[{key:"niceScale",value:function(e,r){var s,a,i,o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=1e-11,d=this.w,u=d.globals;u.isBarHorizontal?(s=d.config.xaxis,a=Math.max((u.svgWidth-100)/25,2)):(s=d.config.yaxis[l],a=Math.max((u.svgHeight-100)/15,2)),ae.isNumber(a)||(a=10),i=s.min!==void 0&&s.min!==null,o=s.max!==void 0&&s.min!==null;var h=s.stepSize!==void 0&&s.stepSize!==null,f=s.tickAmount!==void 0&&s.tickAmount!==null,m=f?s.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(a/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!f&&u.multiAxisTickAmount>0&&(m=u.multiAxisTickAmount,f=!0),m=m==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(m)),(e===Number.MIN_VALUE&&r===0||!ae.isNumber(e)&&!ae.isNumber(r)||e===Number.MIN_VALUE&&r===-Number.MAX_VALUE)&&(e=ae.isNumber(s.min)?s.min:0,r=ae.isNumber(s.max)?s.max:e+m,u.allSeriesCollapsed=!1),e>r){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var p=r;r=e,e=p}else e===r&&(e=e===0?0:e-1,r=r===0?2:r+1);var x=[];m<1&&(m=1);var g=m,y=Math.abs(r-e);!i&&e>0&&e/y<.15&&(e=0,i=!0),!o&&r<0&&-r/y<.15&&(r=0,o=!0);var v=(y=Math.abs(r-e))/g,b=v,w=Math.floor(Math.log10(b)),N=Math.pow(10,w),C=Math.ceil(b/N);if(v=b=(C=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][C])*N,u.isBarHorizontal&&s.stepSize&&s.type!=="datetime"?(v=s.stepSize,h=!0):h&&(v=s.stepSize),h&&s.forceNiceScale){var S=Math.floor(Math.log10(v));v*=Math.pow(10,w-S)}if(i&&o){var k=y/g;if(f)if(h)if(ae.mod(y,v)!=0){var A=ae.getGCD(v,k);v=k/A<10?A:k}else ae.mod(v,k)==0?v=k:(k=v,f=!1);else v=k;else if(h)ae.mod(y,v)==0?k=v:v=k;else if(ae.mod(y,v)==0)k=v;else{k=y/(g=Math.ceil(y/v));var T=ae.getGCD(y,v);y/T<a&&(k=T),v=k}g=Math.round(y/v)}else{if(i||o){if(o)if(f)e=r-v*g;else{var E=e;e=v*Math.floor(e/v),Math.abs(r-e)/ae.getGCD(y,v)>a&&(e=r-v*m,e+=v*Math.floor((E-e)/v))}else if(i)if(f)r=e+v*g;else{var D=r;r=v*Math.ceil(r/v),Math.abs(r-e)/ae.getGCD(y,v)>a&&(r=e+v*m,r+=v*Math.ceil((D-r)/v))}}else if(u.isMultipleYAxis&&f){var _=v*Math.floor(e/v),z=_+v*g;z<r&&(v*=2),z=r,r=(e=_)+v*g,y=Math.abs(r-e),e>0&&e<Math.abs(z-r)&&(e=0,r=v*g),r<0&&-r<Math.abs(_-e)&&(r=0,e=-v*g)}else e=v*Math.floor(e/v),r=v*Math.ceil(r/v);y=Math.abs(r-e),v=ae.getGCD(y,v),g=Math.round(y/v)}if(f||i||o||(g=Math.ceil((y-c)/(v+c)))>16&&ae.getPrimeFactors(g).length<2&&g++,!f&&s.forceNiceScale&&u.yValueDecimal===0&&g>y&&(g=y,v=Math.round(y/g)),g>a&&(!f&&!h||s.forceNiceScale)){var H=ae.getPrimeFactors(g),q=H.length-1,K=g;e:for(var Y=0;Y<q;Y++)for(var J=0;J<=q-Y;J++){for(var Z=Math.min(J+Y,q),ne=K,F=1,Q=J;Q<=Z;Q++)F*=H[Q];if((ne/=F)<a){K=ne;break e}}v=K===g?y:y/K,g=Math.round(y/v)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(l)<0&&(u.multiAxisTickAmount=g);var W=e-v,G=v*c;do W+=v,x.push(ae.stripNumber(W,7));while(r-W>G);return{result:x,niceMin:x[0],niceMax:x[x.length-1]}}},{key:"linearScale",value:function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(r-e),l=[];if(e===r)return{result:l=[e],niceMin:l[0],niceMax:l[l.length-1]};(s=this._adjustTicksForSmallRange(s,a,o))==="dataPoints"&&(s=this.w.globals.dataPoints-1),i||(i=o/s),i=Math.round(100*(i+Number.EPSILON))/100,s===Number.MAX_VALUE&&(s=5,i=1);for(var c=e;s>=0;)l.push(c),c=ae.preciseAddition(c,i),s-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScaleNice",value:function(e,r,s){r<=0&&(r=Math.max(e,s)),e<=0&&(e=Math.min(r,s));for(var a=[],i=Math.ceil(Math.log(r)/Math.log(s)+1),o=Math.floor(Math.log(e)/Math.log(s));o<i;o++)a.push(Math.pow(s,o));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(e,r,s){r<=0&&(r=Math.max(e,s)),e<=0&&(e=Math.min(r,s));for(var a=[],i=Math.log(r)/Math.log(s),o=Math.log(e)/Math.log(s),l=i-o,c=Math.round(l),d=l/c,u=0,h=o;u<c;u++,h+=d)a.push(Math.pow(s,h));return a.push(Math.pow(s,i)),{result:a,niceMin:e,niceMax:r}}},{key:"_adjustTicksForSmallRange",value:function(e,r,s){var a=e;if(r!==void 0&&this.w.config.yaxis[r].labels.formatter&&this.w.config.yaxis[r].tickAmount===void 0){var i=Number(this.w.config.yaxis[r].labels.formatter(1));ae.isNumber(i)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(s))}return a<e?a:e}},{key:"setYScaleForIndex",value:function(e,r,s){var a=this.w.globals,i=this.w.config,o=a.isBarHorizontal?i.xaxis:i.yaxis[e];a.yAxisScale[e]===void 0&&(a.yAxisScale[e]=[]);var l=Math.abs(s-r);o.logarithmic&&l<=5&&(a.invalidLogScale=!0),o.logarithmic&&l>5?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(r,s,o.logBase):this.logarithmicScale(r,s,o.logBase)):s!==-Number.MAX_VALUE&&ae.isNumber(s)&&r!==Number.MAX_VALUE&&ae.isNumber(r)?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=this.niceScale(r,s,e)):a.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,r){var s=this.w,a=s.globals;if(r!==-Number.MAX_VALUE&&ae.isNumber(r)){var i=a.xTickAmount;a.xAxisScale=this.linearScale(e,r,i,0,s.config.xaxis.stepSize)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,r=this.w.config,s=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=s.seriesYAxisMap,i=s.minYArr,o=s.maxYArr;s.allSeriesCollapsed=!0,s.barGroups=[],a.forEach(function(l,c){var d=[];l.forEach(function(u){var h,f=(h=r.series[u])===null||h===void 0?void 0:h.group;d.indexOf(f)<0&&d.push(f)}),l.length>0?function(){var u,h,f=Number.MAX_VALUE,m=-Number.MAX_VALUE,p=f,x=m;if(r.chart.stacked)(function(){var v=new Array(s.dataPoints).fill(0),b=[],w=[],N=[];d.forEach(function(){b.push(v.map(function(){return Number.MIN_VALUE})),w.push(v.map(function(){return Number.MIN_VALUE})),N.push(v.map(function(){return Number.MIN_VALUE}))});for(var C=function(k){!u&&r.series[l[k]].type&&(u=r.series[l[k]].type);var A=l[k];h=r.series[A].group?r.series[A].group:"axis-".concat(c),!(s.collapsedSeriesIndices.indexOf(A)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(A)<0)||(s.allSeriesCollapsed=!1,d.forEach(function(T,E){if(r.series[A].group===T)for(var D=0;D<s.series[A].length;D++){var _=s.series[A][D];_>=0?w[E][D]+=_:N[E][D]+=_,b[E][D]+=_,p=Math.min(p,_),x=Math.max(x,_)}})),u!=="bar"&&u!=="column"||s.barGroups.push(h)},S=0;S<l.length;S++)C(S);u||(u=r.chart.type),u==="bar"||u==="column"?d.forEach(function(k,A){f=Math.min(f,Math.min.apply(null,N[A])),m=Math.max(m,Math.max.apply(null,w[A]))}):(d.forEach(function(k,A){p=Math.min(p,Math.min.apply(null,b[A])),x=Math.max(x,Math.max.apply(null,b[A]))}),f=p,m=x),f===Number.MIN_VALUE&&m===Number.MIN_VALUE&&(m=-Number.MAX_VALUE)})();else for(var g=0;g<l.length;g++){var y=l[g];f=Math.min(f,i[y]),m=Math.max(m,o[y]),!(s.collapsedSeriesIndices.indexOf(y)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(y)<0)||(s.allSeriesCollapsed=!1)}r.yaxis[c].min!==void 0&&(f=typeof r.yaxis[c].min=="function"?r.yaxis[c].min(f):r.yaxis[c].min),r.yaxis[c].max!==void 0&&(m=typeof r.yaxis[c].max=="function"?r.yaxis[c].max(m):r.yaxis[c].max),s.barGroups=s.barGroups.filter(function(v,b,w){return w.indexOf(v)===b}),e.setYScaleForIndex(c,f,m),l.forEach(function(v){i[v]=s.yAxisScale[c].niceMin,o[v]=s.yAxisScale[c].niceMax})}():e.setYScaleForIndex(c,0,-Number.MAX_VALUE)})}}]),t}(),Ev=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.scales=new EP(e)}return Ue(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w.config,o=this.w.globals,l=-Number.MAX_VALUE,c=Number.MIN_VALUE;a===null&&(a=e+1);var d=o.series,u=d,h=d;i.chart.type==="candlestick"?(u=o.seriesCandleL,h=o.seriesCandleH):i.chart.type==="boxPlot"?(u=o.seriesCandleO,h=o.seriesCandleC):o.isRangeData&&(u=o.seriesRangeStart,h=o.seriesRangeEnd);var f=!1;if(o.seriesX.length>=a){var m,p=(m=o.brushSource)===null||m===void 0?void 0:m.w.config.chart.brush;(i.chart.zoom.enabled&&i.chart.zoom.autoScaleYaxis||p!=null&&p.enabled&&p!=null&&p.autoScaleYaxis)&&(f=!0)}for(var x=e;x<a;x++){o.dataPoints=Math.max(o.dataPoints,d[x].length);var g=i.series[x].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(A){return A!==void 0}).length),o.labels.length&&i.xaxis.type!=="datetime"&&o.series.reduce(function(A,T){return A+T.length},0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var y=0,v=d[x].length-1;if(f){if(i.xaxis.min)for(;y<v&&o.seriesX[x][y]<i.xaxis.min;y++);if(i.xaxis.max)for(;v>y&&o.seriesX[x][v]>i.xaxis.max;v--);}for(var b=y;b<=v&&b<o.series[x].length;b++){var w=d[x][b];if(w!==null&&ae.isNumber(w)){var N,C,S,k;switch(((N=h[x])===null||N===void 0?void 0:N[b])!==void 0&&(l=Math.max(l,h[x][b]),r=Math.min(r,h[x][b])),((C=u[x])===null||C===void 0?void 0:C[b])!==void 0&&(r=Math.min(r,u[x][b]),s=Math.max(s,u[x][b])),g){case"candlestick":o.seriesCandleC[x][b]!==void 0&&(l=Math.max(l,o.seriesCandleH[x][b]),r=Math.min(r,o.seriesCandleL[x][b]));break;case"boxPlot":o.seriesCandleC[x][b]!==void 0&&(l=Math.max(l,o.seriesCandleC[x][b]),r=Math.min(r,o.seriesCandleO[x][b]))}g&&g!=="candlestick"&&g!=="boxPlot"&&g!=="rangeArea"&&g!=="rangeBar"&&(l=Math.max(l,o.series[x][b]),r=Math.min(r,o.series[x][b])),o.seriesGoals[x]&&o.seriesGoals[x][b]&&Array.isArray(o.seriesGoals[x][b])&&o.seriesGoals[x][b].forEach(function(A){l=Math.max(l,A.value),r=Math.min(r,A.value)}),s=l,w=ae.noExponents(w),ae.isFloat(w)&&(o.yValueDecimal=Math.max(o.yValueDecimal,w.toString().split(".")[1].length)),c>((S=u[x])===null||S===void 0?void 0:S[b])&&((k=u[x])===null||k===void 0?void 0:k[b])<0&&(c=u[x][b])}else o.hasNullValues=!0}g!=="bar"&&g!=="column"||(c<0&&l<0&&(l=0,s=Math.max(s,0)),c===Number.MIN_VALUE&&(c=0,r=Math.min(r,0)))}return i.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(c=r),i.chart.type==="bar"&&(c<0&&l<0&&(l=0),c===Number.MIN_VALUE&&(c=0)),{minY:c,maxY:l,lowestY:r,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,r=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s,a=Number.MAX_VALUE;if(e.isMultipleYAxis){a=Number.MAX_VALUE;for(var i=0;i<e.series.length;i++)s=this.getMinYMaxY(i),e.minYArr[i]=s.lowestY,e.maxYArr[i]=s.highestY,a=Math.min(a,s.lowestY)}return s=this.getMinYMaxY(0,a,null,e.series.length),r.chart.type==="bar"?(e.minY=s.minY,e.maxY=s.maxY):(e.minY=s.lowestY,e.maxY=s.highestY),a=s.lowestY,r.chart.stacked&&this._setStackedMinMax(),r.chart.type==="line"||r.chart.type==="area"||r.chart.type==="scatter"||r.chart.type==="candlestick"||r.chart.type==="boxPlot"||r.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==e.maxY&&(e.minY=a):e.minY=e.minY!==Number.MIN_VALUE?Math.min(s.minY,e.minY):s.minY,r.yaxis.forEach(function(o,l){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[l]=o.max:typeof o.max=="function"&&(e.maxYArr[l]=o.max(e.isMultipleYAxis?e.maxYArr[l]:e.maxY)),e.maxY=e.maxYArr[l]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[l]=o.min:typeof o.min=="function"&&(e.minYArr[l]=o.min(e.isMultipleYAxis?e.minYArr[l]===Number.MIN_VALUE?0:e.minYArr[l]:e.minY)),e.minY=e.minYArr[l])}),e.isBarHorizontal&&["min","max"].forEach(function(o){r.xaxis[o]!==void 0&&typeof r.xaxis[o]=="number"&&(o==="min"?e.minY=r.xaxis[o]:e.maxY=r.xaxis[o])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=a):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],r.series.forEach(function(o){switch(o.type||r.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}}),e.barGroups=e.barGroups.filter(function(o,l,c){return c.indexOf(o)===l}),e.lineGroups=e.lineGroups.filter(function(o,l,c){return c.indexOf(o)===l}),e.areaGroups=e.areaGroups.filter(function(o,l,c){return c.indexOf(o)===l}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,r=this.w.config,s=r.xaxis.type==="numeric"||r.xaxis.type==="datetime"||r.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var c=0;c<e.series.length;c++)if(e.labels[c])for(var d=0;d<e.labels[c].length;d++)e.labels[c][d]!==null&&ae.isNumber(e.labels[c][d])&&(e.maxX=Math.max(e.maxX,e.labels[c][d]),e.initialMaxX=Math.max(e.maxX,e.labels[c][d]),e.minX=Math.min(e.minX,e.labels[c][d]),e.initialMinX=Math.min(e.minX,e.labels[c][d]))}(),e.noLabelsProvided&&r.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var a=10;if(r.xaxis.tickAmount===void 0)a=Math.round(e.svgWidth/150),r.xaxis.type==="numeric"&&e.dataPoints<30&&(a=e.dataPoints-1),a>e.dataPoints&&e.dataPoints!==0&&(a=e.dataPoints-1);else if(r.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(a=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var i=Math.round(e.maxX-e.minX);i<30&&(a=i-1)}}else a=r.xaxis.tickAmount;if(e.xTickAmount=a,r.xaxis.max!==void 0&&typeof r.xaxis.max=="number"&&(e.maxX=r.xaxis.max),r.xaxis.min!==void 0&&typeof r.xaxis.min=="number"&&(e.minX=r.xaxis.min),r.xaxis.range!==void 0&&(e.minX=e.maxX-r.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(r.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],l=e.minX-1;l<e.maxX;l++)o.push(l+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,a,a,0,r.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,a-1,0,r.xaxis.stepSize),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var r=0;r<e.series.length;r++)if(e.seriesZ[r]!==void 0)for(var s=0;s<e.seriesZ[r].length;s++)e.seriesZ[r][s]!==null&&ae.isNumber(e.seriesZ[r][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[r][s]),e.minZ=Math.min(e.minZ,e.seriesZ[r][s]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,r=this.w.config;if(e.minX===e.maxX){var s=new js(this.ctx);if(r.xaxis.type==="datetime"){var a=s.getDate(e.minX);r.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),e.minX=new Date(a).getTime();var i=s.getDate(e.maxX);r.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()+2):i.setDate(i.getDate()+2),e.maxX=new Date(i).getTime()}else(r.xaxis.type==="numeric"||r.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(r,s){if(r.length){r.length===1&&r.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var a=r.slice();a.sort(function(i,o){return i-o}),a.forEach(function(i,o){if(o>0){var l=i-a[o-1];l>0&&(e.minXDiff=Math.min(l,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,r=this.w.globals;if(r.series.length){var s=r.seriesGroups;s.length||(s=[this.w.globals.seriesNames.map(function(o){return o})]);var a={},i={};s.forEach(function(o){a[o]=[],i[o]=[],e.w.config.series.map(function(l,c){return o.indexOf(r.seriesNames[c])>-1?c:null}).filter(function(l){return l!==null}).forEach(function(l){for(var c=0;c<r.series[r.maxValsInArrayIndex].length;c++){var d,u,h,f;a[o][c]===void 0&&(a[o][c]=0,i[o][c]=0),(e.w.config.chart.stacked&&!r.comboCharts||e.w.config.chart.stacked&&r.comboCharts&&(!e.w.config.chart.stackOnlyBar||((d=e.w.config.series)===null||d===void 0||(u=d[l])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(f=h[l])===null||f===void 0?void 0:f.type)==="column"))&&r.series[l][c]!==null&&ae.isNumber(r.series[l][c])&&(r.series[l][c]>0?a[o][c]+=parseFloat(r.series[l][c])+1e-4:i[o][c]+=parseFloat(r.series[l][c]))}})}),Object.entries(a).forEach(function(o){var l=ZE(o,1)[0];a[l].forEach(function(c,d){r.maxY=Math.max(r.maxY,a[l][d]),r.minY=Math.min(r.minY,i[l][d])})})}}}]),t}(),aw=function(){function t(e,r){Be(this,t),this.ctx=e,this.elgrid=r,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=s.config.xaxis.position==="bottom"?s.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Fo(e)}return Ue(t,[{key:"drawYaxis",value:function(e){var r=this.w,s=new be(this.ctx),a=r.config.yaxis[e].labels.style,i=a.fontSize,o=a.fontFamily,l=a.fontWeight,c=s.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(r.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return c;var d=s.group({class:"apexcharts-yaxis-texts-g"});c.add(d);var u=r.globals.yAxisScale[e].result.length-1,h=r.globals.gridHeight/u,f=r.globals.yLabelFormatters[e],m=this.axesUtils.checkForReversedLabels(e,r.globals.yAxisScale[e].result.slice());if(r.config.yaxis[e].labels.show){var p=r.globals.translateY+r.config.yaxis[e].labels.offsetY;r.globals.isBarHorizontal?p=0:r.config.chart.type==="heatmap"&&(p-=h/2),p+=parseInt(i,10)/3;for(var x=u;x>=0;x--){var g=f(m[x],x,r),y=r.config.yaxis[e].labels.padding;r.config.yaxis[e].opposite&&r.config.yaxis.length!==0&&(y*=-1);var v=this.getTextAnchor(r.config.yaxis[e].labels.align,r.config.yaxis[e].opposite),b=this.axesUtils.getYAxisForeColor(a.colors,e),w=Array.isArray(b)?b[x]:b,N=ae.listToArray(r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(S){return S.textContent}),C=s.drawText({x:y,y:p,text:N.includes(g)&&!r.config.yaxis[e].labels.showDuplicates?"":g,textAnchor:v,fontSize:i,fontFamily:o,fontWeight:l,maxWidth:r.config.yaxis[e].labels.maxWidth,foreColor:w,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});d.add(C),this.addTooltip(C,g),r.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(s,C,firstLabel,r.config.yaxis[e].labels.rotate),p+=h}}return this.addYAxisTitle(s,c,e),this.addAxisBorder(s,c,e,u,h),c}},{key:"getTextAnchor",value:function(e,r){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":r?"start":"end"}},{key:"addTooltip",value:function(e,r){var s=document.createElementNS(this.w.globals.SVGNS,"title");s.textContent=Array.isArray(r)?r.join(" "):r,e.node.appendChild(s)}},{key:"rotateLabel",value:function(e,r,s,a){var i=e.rotateAroundCenter(s.node),o=e.rotateAroundCenter(r.node);r.node.setAttribute("transform","rotate(".concat(a," ").concat(i.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,r,s){var a=this.w;if(a.config.yaxis[s].title.text!==void 0){var i=e.group({class:"apexcharts-yaxis-title"}),o=a.config.yaxis[s].opposite?a.globals.translateYAxisX[s]:0,l=e.drawText({x:o,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[s].title.offsetY,text:a.config.yaxis[s].title.text,textAnchor:"end",foreColor:a.config.yaxis[s].title.style.color,fontSize:a.config.yaxis[s].title.style.fontSize,fontWeight:a.config.yaxis[s].title.style.fontWeight,fontFamily:a.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[s].title.style.cssClass)});i.add(l),r.add(i)}}},{key:"addAxisBorder",value:function(e,r,s,a,i){var o=this.w,l=o.config.yaxis[s].axisBorder,c=31+l.offsetX;if(o.config.yaxis[s].opposite&&(c=-31-l.offsetX),l.show){var d=e.drawLine(c,o.globals.translateY+l.offsetY-2,c,o.globals.gridHeight+o.globals.translateY+l.offsetY+2,l.color,0,l.width);r.add(d)}o.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(c,a,l,o.config.yaxis[s].axisTicks,s,i,r)}},{key:"drawYaxisInversed",value:function(e){var r=this.w,s=new be(this.ctx),a=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),i=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(r.globals.translateXAxisX,", ").concat(r.globals.translateXAxisY,")")});a.add(i);var o=r.globals.yAxisScale[e].result.length-1,l=r.globals.gridWidth/o+.1,c=l+r.config.xaxis.labels.offsetX,d=r.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,r.globals.yAxisScale[e].result.slice()),h=r.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),o=(u=h.slice()).length),r.config.xaxis.labels.show)for(var f=h.length?0:o;h.length?f<h.length:f>=0;h.length?f++:f--){var m=d(u[f],f,r),p=r.globals.gridWidth+r.globals.padHorizontal-(c-l+r.config.xaxis.labels.offsetX);if(h.length){var x=this.axesUtils.getLabel(u,h,p,f,this.drawnLabels,this.xaxisFontSize);p=x.x,m=x.text,this.drawnLabels.push(x.text),f===0&&r.globals.skipFirstTimelinelabel&&(m=""),f===u.length-1&&r.globals.skipLastTimelinelabel&&(m="")}var g=s.drawText({x:p,y:this.xAxisoffX+r.config.xaxis.labels.offsetY+30-(r.config.xaxis.position==="top"?r.globals.xAxisHeight+r.config.xaxis.axisTicks.height-2:0),text:m,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:r.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(r.config.xaxis.labels.style.cssClass)});i.add(g),g.tspan(m),this.addTooltip(g,m),c+=l}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(e){var r=this.w,s=new be(this.ctx),a=r.config.xaxis.axisBorder;if(a.show){var i=0;r.config.chart.type==="bar"&&r.globals.isXNumeric&&(i-=15);var o=s.drawLine(r.globals.padHorizontal+i+a.offsetX,this.xAxisoffX,r.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var r=this.w,s=new be(this.ctx);if(r.config.xaxis.title.text!==void 0){var a=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),i=s.drawText({x:r.globals.gridWidth/2+r.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(r.config.xaxis.title.style.fontSize)+r.config.xaxis.title.offsetY+20,text:r.config.xaxis.title.text,textAnchor:"middle",fontSize:r.config.xaxis.title.style.fontSize,fontFamily:r.config.xaxis.title.style.fontFamily,fontWeight:r.config.xaxis.title.style.fontWeight,foreColor:r.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(r.config.xaxis.title.style.cssClass)});a.add(i),e.add(a)}}},{key:"yAxisTitleRotate",value:function(e,r){var s=this.w,a=new be(this.ctx),i=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=i?i.getBoundingClientRect():{width:0,height:0},l=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),c=l?l.getBoundingClientRect():{width:0,height:0};if(l){var d=this.xPaddingForYAxisTitle(e,o,c,r);l.setAttribute("x",d.xPos-(r?10:0));var u=a.rotateAroundCenter(l);l.setAttribute("transform","rotate(".concat(r?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,r,s,a){var i=this.w,o=0,l=10;return i.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(a?o=r.width+i.config.yaxis[e].title.offsetX+s.width/2+l/2:(o=-1*r.width+i.config.yaxis[e].title.offsetX+l/2+s.width/2,i.globals.isBarHorizontal&&(l=25,o=-1*r.width-i.config.yaxis[e].title.offsetX-l)),{xPos:o,padd:l})}},{key:"setYAxisXPosition",value:function(e,r){var s=this.w,a=0,i=0,o=18,l=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.forEach(function(c,d){var u=s.globals.ignoreYAxisIndexes.includes(d)||!c.show||c.floating||e[d].width===0,h=e[d].width+r[d].width;c.opposite?s.globals.isBarHorizontal?(i=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[d]=i-c.labels.offsetX):(i=s.globals.gridWidth+s.globals.translateX+l,u||(l+=h+20),s.globals.translateYAxisX[d]=i-c.labels.offsetX+20):(a=s.globals.translateX-o,u||(o+=h+20),s.globals.translateYAxisX[d]=a+c.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;ae.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(r,s){var a=e.config.yaxis[s];if(a&&!a.floating&&a.labels.align!==void 0){var i=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),o=ae.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"))),l=i.getBoundingClientRect();o.forEach(function(c){c.setAttribute("text-anchor",a.labels.align)}),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?i.setAttribute("transform","translate(".concat(l.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&i.setAttribute("transform","translate(".concat(l.width,", 0)")):i.setAttribute("transform","translate(-".concat(l.width,", 0)"))}})}}]),t}(),q7=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.documentEvent=ae.bind(this.documentEvent,this)}return Ue(t,[{key:"addEventListener",value:function(e,r){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(r):s.globals.events[e]=[r]}},{key:"removeEventListener",value:function(e,r){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var a=s.globals.events[e].indexOf(r);a!==-1&&s.globals.events[e].splice(a,1)}}},{key:"fireEvent",value:function(e,r){var s=this.w;if(s.globals.events.hasOwnProperty(e)){r&&r.length||(r=[]);for(var a=s.globals.events[e],i=a.length,o=0;o<i;o++)a[o].apply(null,r)}}},{key:"setupEventHandlers",value:function(){var e=this,r=this.w,s=this.ctx,a=r.globals.dom.baseEl.querySelector(r.globals.chartClass);this.ctx.eventList.forEach(function(i){a.addEventListener(i,function(o){var l=o.target.getAttribute("i")===null&&r.globals.capturedSeriesIndex!==-1?r.globals.capturedSeriesIndex:o.target.getAttribute("i"),c=o.target.getAttribute("j")===null&&r.globals.capturedDataPointIndex!==-1?r.globals.capturedDataPointIndex:o.target.getAttribute("j"),d=Object.assign({},r,{seriesIndex:r.globals.axisCharts?l:0,dataPointIndex:c});o.type==="mousemove"||o.type==="touchmove"?typeof r.config.chart.events.mouseMove=="function"&&r.config.chart.events.mouseMove(o,s,d):o.type==="mouseleave"||o.type==="touchleave"?typeof r.config.chart.events.mouseLeave=="function"&&r.config.chart.events.mouseLeave(o,s,d):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof r.config.chart.events.click=="function"&&r.config.chart.events.click(o,s,d),s.ctx.events.fireEvent("click",[o,s,d]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(i){r.globals.dom.baseEl.addEventListener(i,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var r=this.w,s=e.target.className;if(e.type==="click"){var a=r.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&s!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}r.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,r.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),t}(),Z7=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"setCurrentLocaleValues",value:function(e){var r=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(r=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=r.filter(function(i){return i.name===e})[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=ae.extend(CP,s);this.w.globals.locale=a.options}}]),t}(),Q7=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"drawAxis",value:function(e,r){var s,a,i=this,o=this.w.globals,l=this.w.config,c=new $h(this.ctx,r),d=new aw(this.ctx,r);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(a=d.drawYaxisInversed(0),s=c.drawXaxisInversed(0),o.dom.elGraphical.add(s),o.dom.elGraphical.add(a)):(s=c.drawXaxis(),o.dom.elGraphical.add(s),l.yaxis.map(function(u,h){if(o.ignoreYAxisIndexes.indexOf(h)===-1&&(a=d.drawYaxis(h),o.dom.Paper.add(a),i.w.config.grid.position==="back")){var f=o.dom.Paper.children()[1];f.remove(),o.dom.Paper.add(f)}})))}}]),t}(),Pv=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"drawXCrosshairs",value:function(){var e=this.w,r=new be(this.ctx),s=new ks(this.ctx),a=e.config.xaxis.crosshairs.fill.gradient,i=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,l=a.colorFrom,c=a.colorTo,d=a.opacityFrom,u=a.opacityTo,h=a.stops,f=i.enabled,m=i.left,p=i.top,x=i.blur,g=i.color,y=i.opacity,v=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(v=r.drawGradient("vertical",l,c,d,u,null,h,null));var b=r.drawRect();e.config.xaxis.crosshairs.width===1&&(b=r.drawLine());var w=e.globals.gridHeight;(!ae.isNumber(w)||w<0)&&(w=0);var N=e.config.xaxis.crosshairs.width;(!ae.isNumber(N)||N<0)&&(N=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:w,width:N,height:w,fill:v,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),f&&(b=s.dropShadow(b,{left:m,top:p,blur:x,color:g,opacity:y})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,r=new be(this.ctx),s=e.config.yaxis[0].crosshairs,a=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var i=r.drawLine(-a,0,e.globals.gridWidth+a,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);i.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(i)}var o=r.drawLine(-a,0,e.globals.gridWidth+a,0,s.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),t}(),J7=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"checkResponsiveConfig",value:function(e){var r=this,s=this.w,a=s.config;if(a.responsive.length!==0){var i=a.responsive.slice();i.sort(function(d,u){return d.breakpoint>u.breakpoint?1:u.breakpoint>d.breakpoint?-1:0}).reverse();var o=new Vh({}),l=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=i[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var f=ae.clone(s.globals.initialConfig);f.series=ae.clone(s.config.series);var m=Or.extendArrayProps(o,f,s);d=ae.extend(m,d),d=ae.extend(s.config,d),r.overrideResponsiveOptions(d)}else for(var p=0;p<i.length;p++)h<i[p].breakpoint&&(d=Or.extendArrayProps(o,i[p].options,s),d=ae.extend(s.config,d),r.overrideResponsiveOptions(d))};if(e){var c=Or.extendArrayProps(o,e,s);c=ae.extend(s.config,c),l(c=ae.extend(c,e))}else l({})}}},{key:"overrideResponsiveOptions",value:function(e){var r=new Vh(e).init({responsiveOverride:!0});this.w.config=r}}]),t}(),eH=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return Ue(t,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,r=e.chart,s=e.plotOptions;return r.type==="treemap"&&s.treemap&&s.treemap.distributed||r.type==="heatmap"&&s.heatmap&&s.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,r=e.chart,s=e.plotOptions;return s.bar&&s.bar.distributed&&(r.type==="bar"||r.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,r=new ae;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var s=ls(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(s),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,r));var a=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(e){var r=this,s=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,s.config.series.map(function(a,i){var o=e[i]||e[0];return typeof o=="function"?o({value:s.globals.axisCharts?s.globals.series[i][0]||0:s.globals.series[i],seriesIndex:i,dataPointIndex:i,w:r.w}):o})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,r){e.forEach(function(s,a){s&&(r[a]=s)})}},{key:"getMonochromeColors",value:function(e,r,s){var a=e.color,i=e.shadeIntensity,o=e.shadeTo,l=this.isBarDistributed||this.isHeatmapDistributed?r[0].length*r.length:r.length,c=1/(l/i),d=0;return Array.from({length:l},function(){var u=o==="dark"?s.shadeColor(-1*d,a):s.shadeColor(d,a);return d+=c,u})}},{key:"applyColorTypes",value:function(e,r){var s=this,a=this.w;e.forEach(function(i){a.globals[i].colors=a.config[i].colors===void 0?s.isColorFn?a.config.colors:r:a.config[i].colors.slice(),s.pushExtraColors(a.globals[i].colors)})}},{key:"applyDataLabelsColors",value:function(e){var r=this.w;r.globals.dataLabels.style.colors=r.config.dataLabels.style.colors===void 0?e:r.config.dataLabels.style.colors.slice(),this.pushExtraColors(r.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var r=this.w;r.globals.markers.colors=r.config.markers.colors===void 0?e:r.config.markers.colors.slice(),this.pushExtraColors(r.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=r||a.globals.series.length;if(s===null&&(s=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),s&&a.globals.series.length&&(i=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),e.length<i)for(var o=i-e.length,l=0;l<o;l++)e.push(e[l])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var r=e.theme.mode,s=r==="dark"?"palette4":r==="light"?"palette1":e.theme.palette||"palette1",a=r==="dark"?"#f6f7f8":r==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=r||"light",e.chart.foreColor=a,e.theme.palette=s,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),t}(),tH=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var r=this.w,s=e==="title"?r.config.title:r.config.subtitle,a=r.globals.svgWidth/2,i=s.offsetY,o="middle";if(s.align==="left"?(a=10,o="start"):s.align==="right"&&(a=r.globals.svgWidth-10,o="end"),a+=s.offsetX,i=i+parseInt(s.style.fontSize,10)+s.margin/2,s.text!==void 0){var l=new be(this.ctx).drawText({x:a,y:i,text:s.text,textAnchor:o,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});l.node.setAttribute("class","apexcharts-".concat(e,"-text")),r.globals.dom.Paper.add(l)}}}]),t}(),rH=function(){function t(e){Be(this,t),this.w=e.w,this.dCtx=e}return Ue(t,[{key:"getTitleSubtitleCoords",value:function(e){var r=this.w,s=0,a=0,i=e==="title"?r.config.title.floating:r.config.subtitle.floating,o=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!i){var l=o.getBoundingClientRect();s=l.width,a=r.globals.axisCharts?l.height+5:l.height}return{width:s,height:a}}},{key:"getLegendsRect",value:function(){var e=this.w,r=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(r.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},ae.getBoundingClientRect(r));return r!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:s.height===0?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,r=this.w,s=[];r.config.series.forEach(function(c,d){c.data.forEach(function(u,h){var f;f=r.globals.series[d][h],a=r.config.dataLabels.formatter(f,{ctx:e.dCtx.ctx,seriesIndex:d,dataPointIndex:h,w:r}),s.push(a)})});var a=ae.getLargestStringFromArr(s),i=new be(this.dCtx.ctx),o=r.config.dataLabels.style,l=i.getTextRects(a,parseInt(o.fontSize),o.fontFamily);return{width:1.05*l.width,height:l.height}}},{key:"getLargestStringFromMultiArr",value:function(e,r){var s=e;if(this.w.globals.isMultiLineX){var a=r.map(function(o,l){return Array.isArray(o)?o.length:1}),i=Math.max.apply(Math,ls(a));s=r[a.indexOf(i)]}return s}}]),t}(),sH=function(){function t(e){Be(this,t),this.w=e.w,this.dCtx=e}return Ue(t,[{key:"getxAxisLabelsCoords",value:function(){var e,r=this.w,s=r.globals.labels.slice();if(r.config.xaxis.convertedCatToNumeric&&s.length===0&&(s=r.globals.categoryLabels),r.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();e={width:a.width,height:a.height},r.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=r.config.legend.position!=="left"&&r.config.legend.position!=="right"||r.config.legend.floating?0:this.dCtx.lgRect.width;var i=r.globals.xLabelFormatter,o=ae.getLargestStringFromArr(s),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,s);r.globals.isBarHorizontal&&(l=o=r.globals.yAxisScale[0].result.reduce(function(p,x){return p.length>x.length?p:x},0));var c=new Af(this.dCtx.ctx),d=o;o=c.xLabelFormat(i,o,d,{i:void 0,dateFormatter:new js(this.dCtx.ctx).formatDate,w:r}),l=c.xLabelFormat(i,l,d,{i:void 0,dateFormatter:new js(this.dCtx.ctx).formatDate,w:r}),(r.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(l=o="1");var u=new be(this.dCtx.ctx),h=u.getTextRects(o,r.config.xaxis.labels.style.fontSize),f=h;if(o!==l&&(f=u.getTextRects(l,r.config.xaxis.labels.style.fontSize)),(e={width:h.width>=f.width?h.width:f.width,height:h.height>=f.height?h.height:f.height}).width*s.length>r.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&r.config.xaxis.labels.rotate!==0||r.config.xaxis.labels.rotateAlways){if(!r.globals.isBarHorizontal){r.globals.rotateXLabels=!0;var m=function(p){return u.getTextRects(p,r.config.xaxis.labels.style.fontSize,r.config.xaxis.labels.style.fontFamily,"rotate(".concat(r.config.xaxis.labels.rotate," 0 0)"),!1)};h=m(o),o!==l&&(f=m(l)),e.height=(h.height>f.height?h.height:f.height)/1.5,e.width=h.width>f.width?h.width:f.width}}else r.globals.rotateXLabels=!1}return r.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,r=this.w;if(!r.globals.hasXaxisGroups)return{width:0,height:0};var s,a=((e=r.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||r.config.xaxis.labels.style.fontSize,i=r.globals.groups.map(function(h){return h.title}),o=ae.getLargestStringFromArr(i),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i),c=new be(this.dCtx.ctx),d=c.getTextRects(o,a),u=d;return o!==l&&(u=c.getTextRects(l,a)),s={width:d.width>=u.width?d.width:u.width,height:d.height>=u.height?d.height:u.height},r.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,r=0,s=0;if(e.config.xaxis.title.text!==void 0){var a=new be(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);r=a.width,s=a.height}return{width:r,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,r=this.w;this.dCtx.timescaleLabels=r.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map(function(i){return i.value}),a=s.reduce(function(i,o){return i===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):i.length>o.length?i:o},0);return 1.05*(e=new be(this.dCtx.ctx).getTextRects(a,r.config.xaxis.labels.style.fontSize)).width*s.length>r.globals.gridWidth&&r.config.xaxis.labels.rotate!==0&&(r.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var r=this,s=this.w,a=s.globals,i=s.config,o=i.xaxis.type,l=e.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var c=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal,d=function(u,h){i.yaxis.length>1&&function(f){return a.collapsedSeriesIndices.indexOf(f)!==-1}(h)||function(f){if(r.dCtx.timescaleLabels&&r.dCtx.timescaleLabels.length){var m=r.dCtx.timescaleLabels[0],p=r.dCtx.timescaleLabels[r.dCtx.timescaleLabels.length-1].position+l/1.75-r.dCtx.yAxisWidthRight,x=m.position-l/1.75+r.dCtx.yAxisWidthLeft,g=s.config.legend.position==="right"&&r.dCtx.lgRect.width>0?r.dCtx.lgRect.width:0;p>a.svgWidth-a.translateX-g&&(a.skipLastTimelinelabel=!0),x<-(f.show&&!f.floating||i.chart.type!=="bar"&&i.chart.type!=="candlestick"&&i.chart.type!=="rangeBar"&&i.chart.type!=="boxPlot"?10:l/1.75)&&(a.skipFirstTimelinelabel=!0)}else o==="datetime"?r.dCtx.gridPad.right<l&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):o!=="datetime"&&r.dCtx.gridPad.right<l/2-r.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!s.config.xaxis.labels.trim&&(r.dCtx.xPadRight=l/2+1)}(u)};i.yaxis.forEach(function(u,h){c?(r.dCtx.gridPad.left<l&&(r.dCtx.xPadLeft=l/2+1),r.dCtx.xPadRight=l/2+1):d(u,h)})}}]),t}(),aH=function(){function t(e){Be(this,t),this.w=e.w,this.dCtx=e}return Ue(t,[{key:"getyAxisLabelsCoords",value:function(){var e=this,r=this.w,s=[],a=10,i=new Fo(this.dCtx.ctx);return r.config.yaxis.map(function(o,l){var c={seriesIndex:l,dataPointIndex:-1,w:r},d=r.globals.yAxisScale[l],u=0;if(!i.isYAxisHidden(l)&&o.labels.show&&o.labels.minWidth!==void 0&&(u=o.labels.minWidth),!i.isYAxisHidden(l)&&o.labels.show&&d.result.length){var h=r.globals.yLabelFormatters[l],f=d.niceMin===Number.MIN_VALUE?0:d.niceMin,m=d.result.reduce(function(w,N){var C,S;return((C=String(h(w,c)))===null||C===void 0?void 0:C.length)>((S=String(h(N,c)))===null||S===void 0?void 0:S.length)?w:N},f),p=m=h(m,c);if(m!==void 0&&m.length!==0||(m=d.niceMax),r.globals.isBarHorizontal){a=0;var x=r.globals.labels.slice();m=ae.getLargestStringFromArr(x),m=h(m,{seriesIndex:l,dataPointIndex:-1,w:r}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(m,x)}var g=new be(e.dCtx.ctx),y="rotate(".concat(o.labels.rotate," 0 0)"),v=g.getTextRects(m,o.labels.style.fontSize,o.labels.style.fontFamily,y,!1),b=v;m!==p&&(b=g.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,y,!1)),s.push({width:(u>b.width||u>v.width?u:b.width>v.width?b.width:v.width)+a,height:b.height>v.height?b.height:v.height})}else s.push({width:0,height:0})}),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,r=this.w,s=[];return r.config.yaxis.map(function(a,i){if(a.show&&a.title.text!==void 0){var o=new be(e.dCtx.ctx),l="rotate(".concat(a.title.rotate," 0 0)"),c=o.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,l,!1);s.push({width:c.width,height:c.height})}else s.push({width:0,height:0})}),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,r=0,s=0,a=0,i=e.globals.yAxisScale.length>1?10:0,o=new Fo(this.dCtx.ctx),l=function(c,d){var u=e.config.yaxis[d].floating,h=0;c.width>0&&!u?(h=c.width+i,function(f){return e.globals.ignoreYAxisIndexes.indexOf(f)>-1}(d)&&(h=h-c.width-i)):h=u||o.isYAxisHidden(d)?0:5,e.config.yaxis[d].opposite?a+=h:s+=h,r+=h};return e.globals.yLabelsCoords.map(function(c,d){l(c,d)}),e.globals.yTitleCoords.map(function(c,d){l(c,d)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(r=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=a,r}}]),t}(),nH=function(){function t(e){Be(this,t),this.w=e.w,this.dCtx=e}return Ue(t,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var r=this.w,s=r.config,a=r.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===s.series.length)return 0;var i=function(m){return["bar","rangeBar","candlestick","boxPlot"].includes(m)},o=s.chart.type,l=0,c=i(o)?s.series.length:1;a.comboBarCount>0&&(c=a.comboBarCount),a.collapsedSeries.forEach(function(m){i(m.type)&&(c-=1)}),s.chart.stacked&&(c=1);var d=i(o)||a.comboBarCount>0,u=Math.abs(a.initialMaxX-a.initialMinX);if(d&&a.isXNumeric&&!a.isBarHorizontal&&c>0&&u!==0){u<=3&&(u=a.dataPoints);var h=u/e,f=a.minXDiff&&a.minXDiff/h>0?a.minXDiff/h:0;f>e/2&&(f/=2),(l=f*parseInt(s.plotOptions.bar.columnWidth,10)/100)<1&&(l=1),a.barPadForNumericAxis=l}return l}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,r=this.w,s=r.globals,a=this.dCtx.isSparkline||!s.axisCharts?0:10;["title","subtitle"].forEach(function(l){r.config[l].text!==void 0?a+=r.config[l].margin:a+=e.dCtx.isSparkline||!s.axisCharts?0:5}),!r.config.legend.show||r.config.legend.position!=="bottom"||r.config.legend.floating||s.axisCharts||(a+=10);var i=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight-=i.height+o.height+a,s.translateY+=i.height+o.height+a}},{key:"setGridXPosForDualYAxis",value:function(e,r){var s=this.w,a=new Fo(this.dCtx.ctx);s.config.yaxis.forEach(function(i,o){s.globals.ignoreYAxisIndexes.indexOf(o)!==-1||i.floating||a.isYAxisHidden(o)||(i.opposite&&(s.globals.translateX-=r[o].width+e[o].width+parseInt(i.labels.style.fontSize,10)/1.2+12),s.globals.translateX<2&&(s.globals.translateX=2))})}}]),t}(),Bm=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new rH(this),this.dimYAxis=new aH(this),this.dimXAxis=new sH(this),this.dimGrid=new nH(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Ue(t,[{key:"plotCoords",value:function(){var e=this,r=this.w,s=r.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(r.config.stroke.width)?Math.max.apply(Math,ls(r.config.stroke.width)):r.config.stroke.width;this.isSparkline&&((r.config.markers.discrete.length>0||r.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(o){var l=ZE(o,2),c=l[0],d=l[1];e.gridPad[c]=Math.max(d,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var i=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*i,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(i>0?i:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,r=this.w,s=r.globals,a=this.dimYAxis.getyAxisLabelsCoords(),i=this.dimYAxis.getyAxisTitleCoords();s.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),r.globals.yLabelsCoords=[],r.globals.yTitleCoords=[],r.config.yaxis.map(function(m,p){r.globals.yLabelsCoords.push({width:a[p].width,index:p}),r.globals.yTitleCoords.push({width:i[p].width,index:p})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),l=this.dimXAxis.getxAxisGroupLabelsCoords(),c=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,c,l),s.translateXAxisY=r.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=r.globals.rotateXLabels&&r.globals.isXNumeric&&r.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,r.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(r.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+r.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+r.config.xaxis.labels.offsetX;var d=this.yAxisWidth,u=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-c.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-o.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var h=10;(r.config.chart.type==="radar"||this.isSparkline)&&(d=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||r.config.chart.type==="treemap")&&(d=0,u=0,h=0),this.isSparkline||r.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var f=function(){s.translateX=d+e.datalabelsCoords.width,s.gridHeight=s.svgHeight-e.lgRect.height-u-(e.isSparkline||r.config.chart.type==="treemap"?0:r.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-d-2*e.datalabelsCoords.width};switch(r.config.xaxis.position==="top"&&(h=s.xAxisHeight-r.config.xaxis.axisTicks.height-5),r.config.legend.position){case"bottom":s.translateY=h,f();break;case"top":s.translateY=this.lgRect.height+h,f();break;case"left":s.translateY=h,s.translateX=this.lgRect.width+d+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-u-12,s.gridWidth=s.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":s.translateY=h,s.translateX=d+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-u-12,s.gridWidth=s.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(i,a),new aw(this.ctx).setYAxisXPosition(a,i)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,r=e.globals,s=e.config,a=0;e.config.legend.show&&!e.config.legend.floating&&(a=20);var i=s.chart.type==="pie"||s.chart.type==="polarArea"||s.chart.type==="donut"?"pie":"radialBar",o=s.plotOptions[i].offsetY,l=s.plotOptions[i].offsetX;if(!s.legend.show||s.legend.floating){r.gridHeight=r.svgHeight;var c=r.dom.elWrap.getBoundingClientRect().width;return r.gridWidth=Math.min(c,r.gridHeight),r.translateY=o,void(r.translateX=l+(r.svgWidth-r.gridWidth)/2)}switch(s.legend.position){case"bottom":r.gridHeight=r.svgHeight-this.lgRect.height,r.gridWidth=r.svgWidth,r.translateY=o-10,r.translateX=l+(r.svgWidth-r.gridWidth)/2;break;case"top":r.gridHeight=r.svgHeight-this.lgRect.height,r.gridWidth=r.svgWidth,r.translateY=this.lgRect.height+o+10,r.translateX=l+(r.svgWidth-r.gridWidth)/2;break;case"left":r.gridWidth=r.svgWidth-this.lgRect.width-a,r.gridHeight=s.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=o,r.translateX=l+this.lgRect.width+a;break;case"right":r.gridWidth=r.svgWidth-this.lgRect.width-a-5,r.gridHeight=s.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=o,r.translateX=l+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,r,s){var a=this.w,i=a.globals.hasXaxisGroups?2:1,o=s.height+e.height+r.height,l=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,c=a.globals.rotateXLabels?22:10,d=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*l+i*c+d,this.xAxisWidth=e.width,this.xAxisHeight-r.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;a.config.yaxis.forEach(function(f){u+=f.labels.minWidth,h+=f.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),t}(),iH=function(){function t(e){Be(this,t),this.w=e.w,this.lgCtx=e}return Ue(t,[{key:"getLegendStyles",value:function(){var e,r,s,a=document.createElement("style");a.setAttribute("type","text/css");var i=((e=this.lgCtx.ctx)===null||e===void 0||(r=e.opts)===null||r===void 0||(s=r.chart)===null||s===void 0?void 0:s.nonce)||this.w.config.chart.nonce;i&&a.setAttribute("nonce",i);var o=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return a.appendChild(o),a}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),r=e.width;return{clwh:e.height,clww:r}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,r){var s=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var i=null,o=null;a.globals.risingSeries=[],a.globals.axisCharts?(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(i.getAttribute("data:realIndex"),10)):(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(i.getAttribute("rel"),10)-1),r?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){s.riseCollapsedSeries(u.cs,u.csi,o)}):this.hideSeries({seriesEl:i,realIndex:o})}else{var l=a.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),c=a.config.chart.type;if(c==="pie"||c==="polarArea"||c==="donut"){var d=a.config.plotOptions.pie.donut.labels;new be(this.lgCtx.ctx).pathMouseDown(l,null),this.lgCtx.ctx.pie.printDataLabelsInner(l.node,d)}l.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var r=e.realIndex,s=this.w,a=s.globals,i=ae.clone(s.config.series);if(a.axisCharts){var o=s.config.yaxis[a.seriesYAxisReverseMap[r]],l={index:r,data:i[r].data.slice(),type:i[r].type||s.config.chart.type};if(o&&o.show&&o.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(r)<0&&(a.ancillaryCollapsedSeries.push(l),a.ancillaryCollapsedSeriesIndices.push(r));else if(a.collapsedSeriesIndices.indexOf(r)<0){a.collapsedSeries.push(l),a.collapsedSeriesIndices.push(r);var c=a.risingSeries.indexOf(r);a.risingSeries.splice(c,1)}}else a.collapsedSeries.push({index:r,data:i[r]}),a.collapsedSeriesIndices.push(r);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===s.config.series.length,this._getSeriesBasedOnCollapsedState(i)}},{key:"hideSeries",value:function(e){for(var r=e.seriesEl,s=e.realIndex,a=this.w,i=this.getSeriesAfterCollapsing({realIndex:s}),o=r.childNodes,l=0;l<o.length;l++)o[l].classList.contains("apexcharts-series-markers-wrap")&&(o[l].classList.contains("apexcharts-hide")?o[l].classList.remove("apexcharts-hide"):o[l].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,r,s){var a=this.w,i=ae.clone(a.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===s&&(a.globals.axisCharts?i[s].data=e[o].data.slice():i[s]=e[o].data,typeof i[s]!="number"&&(i[s].hidden=!1),e.splice(o,1),r.splice(o,1),a.globals.risingSeries.push(s));i=this._getSeriesBasedOnCollapsedState(i),this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var r=this.w,s=0;return r.globals.axisCharts?e.forEach(function(a,i){r.globals.collapsedSeriesIndices.indexOf(i)<0&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0||(e[i].data=[],s++)}):e.forEach(function(a,i){!r.globals.collapsedSeriesIndices.indexOf(i)<0&&(e[i]=0,s++)}),r.globals.allSeriesCollapsed=s===e.length,e}}]),t}(),PP=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new iH(this)}return Ue(t,[{key:"init",value:function(){var e=this.w,r=e.globals,s=e.config,a=s.legend.showForSingleSeries&&r.series.length===1||this.isBarsDistributed||r.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!r.axisCharts)&&s.legend.show){for(;r.dom.elLegendWrap.firstChild;)r.dom.elLegendWrap.removeChild(r.dom.elLegendWrap.firstChild);this.drawLegends(),s.legend.position==="bottom"||s.legend.position==="top"?this.legendAlignHorizontal():s.legend.position!=="right"&&s.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var r=e.i,s=e.fillcolor,a=this.w,i=document.createElement("span");i.classList.add("apexcharts-legend-marker");var o=a.config.legend.markers.shape||a.config.markers.shape,l=o;Array.isArray(o)&&(l=o[r]);var c=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[r]):parseFloat(a.config.legend.markers.size),d=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[r]):parseFloat(a.config.legend.markers.offsetX),u=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[r]):parseFloat(a.config.legend.markers.offsetY),h=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[r]):parseFloat(a.config.legend.markers.strokeWidth),f=i.style;if(f.height=2*(c+h)+"px",f.width=2*(c+h)+"px",f.left=d+"px",f.top=u+"px",a.config.legend.markers.customHTML)f.background="transparent",f.color=s[r],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[r]&&(i.innerHTML=a.config.legend.markers.customHTML[r]()):i.innerHTML=a.config.legend.markers.customHTML();else{var m=new lu(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(l),seriesIndex:r,strokeWidth:h,size:c}),p=window.SVG().addTo(i).size("100%","100%"),x=new be(this.ctx).drawMarker(0,0,Te(Te({},m),{},{pointFillColor:Array.isArray(s)?s[r]:m.pointFillColor,shape:l}));a.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(g){g.node.classList.contains("apexcharts-marker-triangle")?g.node.style.transform="translate(50%, 45%)":g.node.style.transform="translate(50%, 50%)"}),p.add(x)}return i}},{key:"drawLegends",value:function(){var e=this,r=this,s=this.w,a=s.config.legend.fontFamily,i=s.globals.seriesNames,o=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var l=s.config.plotOptions.heatmap.colorScale.ranges;i=l.map(function(m){return m.name?m.name:m.from+" - "+m.to}),o=l.map(function(m){return m.color})}else this.isBarsDistributed&&(i=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(i=s.config.legend.customLegendItems);var c=s.globals.legendFormatter,d=s.config.legend.inverseOrder,u=[];s.globals.seriesGroups.length>1&&s.config.legend.clusterGroupedSeries&&s.globals.seriesGroups.forEach(function(m,p){u[p]=document.createElement("div"),u[p].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(p)),s.config.legend.clusterGroupedSeriesOrientation==="horizontal"?s.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[p].classList.add("apexcharts-legend-group-vertical")});for(var h=function(m){var p,x=c(i[m],{seriesIndex:m,w:s}),g=!1,y=!1;if(s.globals.collapsedSeries.length>0)for(var v=0;v<s.globals.collapsedSeries.length;v++)s.globals.collapsedSeries[v].index===m&&(g=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var b=0;b<s.globals.ancillaryCollapsedSeriesIndices.length;b++)s.globals.ancillaryCollapsedSeriesIndices[b]===m&&(y=!0);var w=e.createLegendMarker({i:m,fillcolor:o});be.setAttrs(w,{rel:m+1,"data:collapsed":g||y}),(g||y)&&w.classList.add("apexcharts-inactive-legend");var N=document.createElement("div"),C=document.createElement("span");C.classList.add("apexcharts-legend-text"),C.innerHTML=Array.isArray(x)?x.join(" "):x;var S=s.config.legend.labels.useSeriesColors?s.globals.colors[m]:Array.isArray(s.config.legend.labels.colors)?(p=s.config.legend.labels.colors)===null||p===void 0?void 0:p[m]:s.config.legend.labels.colors;S||(S=s.config.chart.foreColor),C.style.color=S,C.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",C.style.fontWeight=s.config.legend.fontWeight,C.style.fontFamily=a||s.config.chart.fontFamily,be.setAttrs(C,{rel:m+1,i:m,"data:default-text":encodeURIComponent(x),"data:collapsed":g||y}),N.appendChild(w),N.appendChild(C);var k=new Or(e.ctx);s.config.legend.showForZeroSeries||k.getSeriesTotalByIndex(m)===0&&k.seriesHaveSameValues(m)&&!k.isSeriesNull(m)&&s.globals.collapsedSeriesIndices.indexOf(m)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(m)===-1&&N.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||k.isSeriesNull(m)&&s.globals.collapsedSeriesIndices.indexOf(m)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(m)===-1&&N.classList.add("apexcharts-hidden-null-series"),u.length?s.globals.seriesGroups.forEach(function(A,T){var E;A.includes((E=s.config.series[m])===null||E===void 0?void 0:E.name)&&(s.globals.dom.elLegendWrap.appendChild(u[T]),u[T].appendChild(N))}):s.globals.dom.elLegendWrap.appendChild(N),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),N.classList.add("apexcharts-legend-series"),N.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",be.setAttrs(N,{rel:m+1,seriesName:ae.escapeString(i[m]),"data:collapsed":g||y}),(g||y)&&N.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||N.classList.add("apexcharts-no-click")},f=d?i.length-1:0;d?f>=0:f<=i.length-1;d?f--:f++)h(f);s.globals.dom.elWrap.addEventListener("click",r.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",r.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",r.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,r){var s=this.w,a=s.globals.dom.elLegendWrap,i=a.clientHeight,o=0,l=0;if(s.config.legend.position==="bottom")l=s.globals.svgHeight-Math.min(i,s.globals.svgHeight/2)-5;else if(s.config.legend.position==="top"){var c=new Bm(this.ctx),d=c.dimHelpers.getTitleSubtitleCoords("title").height,u=c.dimHelpers.getTitleSubtitleCoords("subtitle").height;l=(d>0?d-10:0)+(u>0?u-10:0)}a.style.position="absolute",o=o+e+s.config.legend.offsetX,l=l+r+s.config.legend.offsetY,a.style.left=o+"px",a.style.top=l+"px",s.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach(function(h){a.style[h]&&(a.style[h]=parseInt(s.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var r=new Bm(this.ctx),s=r.dimHelpers.getTitleSubtitleCoords("title"),a=r.dimHelpers.getTitleSubtitleCoords("subtitle"),i=0;e.config.legend.position==="top"&&(i=s.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,i)}},{key:"legendAlignVertical",value:function(){var e=this.w,r=this.legendHelpers.getLegendDimensions(),s=0;e.config.legend.position==="left"&&(s=20),e.config.legend.position==="right"&&(s=e.globals.svgWidth-r.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var r=this.w,s=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(r.config.chart.type==="heatmap"||this.isBarsDistributed){if(s){var a=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new cn(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new cn(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var r=this.w;if(!r.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,a=e.target.getAttribute("data:collapsed")==="true",i=this.w.config.chart.events.legendClick;typeof i=="function"&&i(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),r.config.chart.type!=="treemap"&&r.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&r.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,a)}}}]),t}(),_P=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=r.globals.minX,this.maxX=r.globals.maxX}return Ue(t,[{key:"createToolbar",value:function(){var e=this,r=this.w,s=function(){return document.createElement("div")},a=s();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=r.config.chart.toolbar.offsetY+"px",a.style.right=3-r.config.chart.toolbar.offsetX+"px",r.globals.dom.elWrap.appendChild(a),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=r.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons.push(s());var o=[],l=function(h,f,m){var p=h.toLowerCase();e.t[p]&&r.config.chart.zoom.enabled&&o.push({el:f,icon:typeof e.t[p]=="string"?e.t[p]:m,title:e.localeValues[h],class:"apexcharts-".concat(p,"-icon")})};l("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),l("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var c=function(h){e.t[h]&&r.config.chart[h].enabled&&o.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(h,"-icon")})};c("zoom"),c("selection"),this.t.pan&&r.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),l("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)o.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});o.forEach(function(h,f){h.index&&ae.moveIndexInArray(o,f,h.index)});for(var u=0;u<o.length;u++)be.setAttrs(o[u].el,{class:o[u].class,title:o[u].title}),o[u].el.innerHTML=o[u].icon,a.appendChild(o[u].el);this._createHamburgerMenu(a),r.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):r.globals.panEnabled?this.elPan.classList.add(this.selectedClass):r.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),be.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var r=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],s=0;s<r.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=r[s].title,be.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(r[s].name),title:r[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(s){s.classList.contains("exportSVG")?s.addEventListener("click",e.handleDownload.bind(e,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",e.handleDownload.bind(e,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons[r].addEventListener("click",this.t.customIcons[r].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(r){r.ctx.toolbar.toggleOtherControls();var s=e==="selection"?r.ctx.toolbar.elSelection:r.ctx.toolbar.elZoom,a=e==="selection"?"selectionEnabled":"zoomEnabled";r.w.globals[a]=!r.w.globals[a],s.classList.contains(r.ctx.toolbar.selectedClass)?s.classList.remove(r.ctx.toolbar.selectedClass):s.classList.add(r.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var r=e==="pan"?this.elPan:this.elZoom,s=e==="pan"?this.elZoom:this.elPan;r&&r.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,r=this.w;r.globals.panEnabled=!1,r.globals.zoomEnabled=!1,r.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(s){s&&s.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var r=(this.minX+this.maxX)/2,s=(this.minX+r)/2,a=(this.maxX+r)/2,i=this._getNewMinXMaxX(s,a);e.globals.disableZoomIn||this.zoomUpdateOptions(i.minX,i.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var r=(this.minX+this.maxX)/2,s=this.minX-(r-this.minX),a=this.maxX-(r-this.maxX),i=this._getNewMinXMaxX(s,a);e.globals.disableZoomOut||this.zoomUpdateOptions(i.minX,i.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,r){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(r):r}}},{key:"zoomUpdateOptions",value:function(e,r){var s=this.w;if(e!==void 0||r!==void 0){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,r=s.globals.dataPoints),r-e<2))){var a={min:e,max:r},i=this.getBeforeZoomRange(a);i&&(a=i.xaxis);var o={xaxis:a},l=ae.clone(s.globals.initialConfig.yaxis);s.config.chart.group||(o.yaxis=l),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,l)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,r){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:r}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:r}))}},{key:"getBeforeZoomRange",value:function(e,r){var s=null;return typeof this.ev.beforeZoom=="function"&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:r})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var r=this.w,s=new rh(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:r.config.series,columnDelimiter:r.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(r){var s=r.w;if(s.globals.lastXAxis.min=s.globals.initialConfig.xaxis.min,s.globals.lastXAxis.max=s.globals.initialConfig.xaxis.max,r.updateHelpers.revertDefaultAxisMinMax(),typeof s.config.chart.events.beforeResetZoom=="function"){var a=s.config.chart.events.beforeResetZoom(r,s);a&&r.updateHelpers.revertDefaultAxisMinMax(a)}typeof s.config.chart.events.zoomed=="function"&&r.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var i=r.ctx.series.emptyCollapsedSeries(ae.clone(s.globals.initialSeries));r.updateHelpers._updateSeries(i,s.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),oH=function(t){jf(r,_P);var e=Nf(r);function r(s){var a;return Be(this,r),(a=e.call(this,s)).ctx=s,a.w=s.w,a.dragged=!1,a.graphics=new be(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return Ue(r,[{key:"init",value:function(s){var a=this,i=s.xyRatios,o=this.w,l=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new Ir(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(c){a.hoverArea.addEventListener(c,l.svgMouseEvents.bind(l,i),{capture:!1,passive:!0})}),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",l.mouseWheelEvent.bind(l),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,a){var i=this.w,o=this.ctx.toolbar,l=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,c=i.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar(c==="pan"?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(c),this.shiftWasPressed=!1),a.target){var d,u=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(d=a.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||d&&d.contains("apexcharts-toolbar"))){if(this.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,this.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1||a.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-i.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(this.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:l,xyRatios:s})):(this.w.globals.mousedown&&i.globals.zoomEnabled||this.w.globals.mousedown&&i.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:l}))),a.type!=="mouseup"&&a.type!=="touchend"&&a.type!=="mouseleave"||this.handleMouseUp({zoomtype:l}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(s){var a,i=s.zoomtype,o=s.isResized,l=this.w,c=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();c&&(this.w.globals.mousedown||o)&&(this.endX=this.clientX-c.left-l.globals.barPadForNumericAxis,this.endY=this.clientY-c.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(l.globals.zoomEnabled||l.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:i})),l.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(s){var a=this,i=this.w;s.preventDefault();var o=Date.now();o-i.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(s),i.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){o-i.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(s),i.globals.lastWheelExecution=o)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(s){var a,i=this.w;this.minX=i.globals.isRangeBar?i.globals.minY:i.globals.minX,this.maxX=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;var o=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(o){var l,c,d,u=(s.clientX-o.left)/o.width,h=this.minX,f=this.maxX,m=f-h;if(s.deltaY<0){var p=h+u*m;c=p-(l=.5*m)/2,d=p+l/2}else c=h-(l=1.5*m)/2,d=f+l/2;if(!i.globals.isRangeBar){c=Math.max(c,i.globals.initialMinX),d=Math.min(d,i.globals.initialMaxX);var x=.01*(i.globals.initialMaxX-i.globals.initialMinX);if(d-c<x){var g=(c+d)/2;c=g-x/2,d=g+x/2}}var y=this._getNewMinXMaxX(c,d);isNaN(y.minX)||isNaN(y.maxX)||this.zoomUpdateOptions(y.minX,y.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var s=this,a=this.w;if(this.selectionRect){var i=this.selectionRect.node.getBoundingClientRect();i.width>0&&i.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(o,l,c,d,u){return u==="l"||u==="r"?o.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):o.circle(0)},updateHandle:function(o,l){return o.center(l[0],l[1])}}).resize().on("resize",function(){var o=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type;s.handleMouseUp({zoomtype:o,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var s=this.w,a=this.xyRatios;if(!s.globals.zoomEnabled){if(s.globals.selection!==void 0&&s.globals.selection!==null)this.drawSelectionRect(Te(Te({},s.globals.selection),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}));else if(s.config.chart.selection.xaxis.min!==void 0&&s.config.chart.selection.xaxis.max!==void 0){var i=(s.config.chart.selection.xaxis.min-s.globals.minX)/a.xRatio,o=s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/a.xRatio-i;s.globals.isRangeBar&&(i=(s.config.chart.selection.xaxis.min-s.globals.yAxisScale[0].niceMin)/a.invertedYRatio,o=(s.config.chart.selection.xaxis.max-s.config.chart.selection.xaxis.min)/a.invertedYRatio);var l={x:i,y:0,width:o,height:s.globals.gridHeight,translateX:s.globals.translateX,translateY:s.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(l),this.makeSelectionRectDraggable(),typeof s.config.chart.events.selection=="function"&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.translateX,d=c===void 0?0:c,u=s.translateY,h=u===void 0?0:u,f=this.w,m=this.zoomRect,p=this.selectionRect;if(this.dragged||f.globals.selection!==null){var x={transform:"translate("+d+", "+h+")"};f.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),m.attr({x:a,y:i,width:o,height:l,fill:f.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":f.config.chart.zoom.zoomedArea.fill.opacity,stroke:f.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":f.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":f.config.chart.zoom.zoomedArea.stroke.opacity}),be.setAttrs(m.node,x)),f.globals.selectionEnabled&&(p.attr({x:a,y:i,width:o>0?o:0,height:l>0?l:0,fill:f.config.chart.selection.fill.color,"fill-opacity":f.config.chart.selection.fill.opacity,stroke:f.config.chart.selection.stroke.color,"stroke-width":f.config.chart.selection.stroke.width,"stroke-dasharray":f.config.chart.selection.stroke.dashArray,"stroke-opacity":f.config.chart.selection.stroke.opacity}),be.setAttrs(p.node,x))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var a=s.context,i=s.zoomtype,o=this.w,l=a,c=this.gridRect.getBoundingClientRect(),d=l.startX-1,u=l.startY,h=!1,f=!1,m=l.clientX-c.left-o.globals.barPadForNumericAxis,p=l.clientY-c.top,x=m-d,g=p-u,y={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(x+d)>o.globals.gridWidth?x=o.globals.gridWidth-d:m<0&&(x=d),d>m&&(h=!0,x=Math.abs(x)),u>p&&(f=!0,g=Math.abs(g)),y=Te(Te({},y=i==="x"?{x:h?d-x:d,y:0,width:x,height:o.globals.gridHeight}:i==="y"?{x:0,y:f?u-g:u,width:o.globals.gridWidth,height:g}:{x:h?d-x:d,y:f?u-g:u,width:x,height:g}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),l.drawSelectionRect(y),l.selectionDragging("resizing"),y}},{key:"selectionDragging",value:function(s,a){var i=this,o=this.w;if(a){a.preventDefault();var l=a.detail,c=l.handler,d=l.box,u=d.x,h=d.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),d.x2>this.constraints.x2&&(u=this.constraints.x2-d.w),d.y2>this.constraints.y2&&(h=this.constraints.y2-d.h),c.move(u,h);var f=this.xyRatios,m=this.selectionRect,p=0;s==="resizing"&&(p=30);var x=function(y){return parseFloat(m.node.getAttribute(y))},g={x:x("x"),y:x("y"),width:x("width"),height:x("height")};o.globals.selection=g,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var y,v,b,w,N=i.gridRect.getBoundingClientRect(),C=m.node.getBoundingClientRect();o.globals.isRangeBar?(y=o.globals.yAxisScale[0].niceMin+(C.left-N.left)*f.invertedYRatio,v=o.globals.yAxisScale[0].niceMin+(C.right-N.left)*f.invertedYRatio,b=0,w=1):(y=o.globals.xAxisScale.niceMin+(C.left-N.left)*f.xRatio,v=o.globals.xAxisScale.niceMin+(C.right-N.left)*f.xRatio,b=o.globals.yAxisScale[0].niceMin+(N.bottom-C.bottom)*f.yRatio[0],w=o.globals.yAxisScale[0].niceMax-(C.top-N.top)*f.yRatio[0]);var S={xaxis:{min:y,max:v},yaxis:{min:b,max:w}};o.config.chart.events.selection(i.ctx,S),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(i.ctx,S)},p))}}},{key:"selectionDrawn",value:function(s){var a,i,o=s.context,l=s.zoomtype,c=this.w,d=o,u=this.xyRatios,h=this.ctx.toolbar,f=c.globals.zoomEnabled?d.zoomRect.node.getBoundingClientRect():d.selectionRect.node.getBoundingClientRect(),m=d.gridRect.getBoundingClientRect(),p=f.left-m.left-c.globals.barPadForNumericAxis,x=f.right-m.left-c.globals.barPadForNumericAxis,g=f.top-m.top,y=f.bottom-m.top;c.globals.isRangeBar?(a=c.globals.yAxisScale[0].niceMin+p*u.invertedYRatio,i=c.globals.yAxisScale[0].niceMin+x*u.invertedYRatio):(a=c.globals.xAxisScale.niceMin+p*u.xRatio,i=c.globals.xAxisScale.niceMin+x*u.xRatio);var v=[],b=[];if(c.config.yaxis.forEach(function(T,E){var D=c.globals.seriesYAxisMap[E][0],_=c.globals.yAxisScale[E].niceMax-u.yRatio[D]*g,z=c.globals.yAxisScale[E].niceMax-u.yRatio[D]*y;v.push(_),b.push(z)}),d.dragged&&(d.dragX>10||d.dragY>10)&&a!==i){if(c.globals.zoomEnabled){var w=ae.clone(c.globals.initialConfig.yaxis),N=ae.clone(c.globals.initialConfig.xaxis);if(c.globals.zoomed=!0,c.config.xaxis.convertedCatToNumeric&&(a=Math.floor(a),i=Math.floor(i),a<1&&(a=1,i=c.globals.dataPoints),i-a<2&&(i=a+1)),l!=="xy"&&l!=="x"||(N={min:a,max:i}),l!=="xy"&&l!=="y"||w.forEach(function(T,E){w[E].min=b[E],w[E].max=v[E]}),h){var C=h.getBeforeZoomRange(N,w);C&&(N=C.xaxis?C.xaxis:N,w=C.yaxis?C.yaxis:w)}var S={xaxis:N};c.config.chart.group||(S.yaxis=w),d.ctx.updateHelpers._updateOptions(S,!1,d.w.config.chart.animations.dynamicAnimation.enabled),typeof c.config.chart.events.zoomed=="function"&&h.zoomCallback(N,w)}else if(c.globals.selectionEnabled){var k,A=null;k={min:a,max:i},l!=="xy"&&l!=="y"||(A=ae.clone(c.config.yaxis)).forEach(function(T,E){A[E].min=b[E],A[E].max=v[E]}),c.globals.selection=d.selection,typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(d.ctx,{xaxis:k,yaxis:A})}}}},{key:"panDragging",value:function(s){var a=s.context,i=this.w,o=a;if(i.globals.lastClientPosition.x!==void 0){var l=i.globals.lastClientPosition.x-o.clientX,c=i.globals.lastClientPosition.y-o.clientY;Math.abs(l)>Math.abs(c)&&l>0?this.moveDirection="left":Math.abs(l)>Math.abs(c)&&l<0?this.moveDirection="right":Math.abs(c)>Math.abs(l)&&c>0?this.moveDirection="up":Math.abs(c)>Math.abs(l)&&c<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:o.clientX,y:o.clientY};var d=i.globals.isRangeBar?i.globals.minY:i.globals.minX,u=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;o.panScrolled(d,u)}},{key:"panScrolled",value:function(s,a){var i=this.w,o=this.xyRatios,l=ae.clone(i.globals.initialConfig.yaxis),c=o.xRatio,d=i.globals.minX,u=i.globals.maxX;i.globals.isRangeBar&&(c=o.invertedYRatio,d=i.globals.minY,u=i.globals.maxY),this.moveDirection==="left"?(s=d+i.globals.gridWidth/15*c,a=u+i.globals.gridWidth/15*c):this.moveDirection==="right"&&(s=d-i.globals.gridWidth/15*c,a=u-i.globals.gridWidth/15*c),i.globals.isRangeBar||(s<i.globals.initialMinX||a>i.globals.initialMaxX)&&(s=d,a=u);var h={xaxis:{min:s,max:a}};i.config.chart.group||(h.yaxis=l),this.updateScrolledChart(h,s,a)}},{key:"updateScrolledChart",value:function(s,a,i){var o=this.w;if(this.ctx.updateHelpers._updateOptions(s,!1,!1),typeof o.config.chart.events.scrolled=="function"){var l={xaxis:{min:a,max:i}};o.config.chart.events.scrolled(this.ctx,l),this.ctx.events.fireEvent("scrolled",l)}}}]),r}(),DP=function(){function t(e){Be(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return Ue(t,[{key:"getNearestValues",value:function(e){var r=e.hoverArea,s=e.elGrid,a=e.clientX,i=e.clientY,o=this.w,l=s.getBoundingClientRect(),c=l.width,d=l.height,u=c/(o.globals.dataPoints-1),h=d/o.globals.dataPoints,f=this.hasBars();!o.globals.comboCharts&&!f||o.config.xaxis.convertedCatToNumeric||(u=c/o.globals.dataPoints);var m=a-l.left-o.globals.barPadForNumericAxis,p=i-l.top;m<0||p<0||m>c||p>d?(r.classList.remove("hovering-zoom"),r.classList.remove("hovering-pan")):o.globals.zoomEnabled?(r.classList.remove("hovering-pan"),r.classList.add("hovering-zoom")):o.globals.panEnabled&&(r.classList.remove("hovering-zoom"),r.classList.add("hovering-pan"));var x=Math.round(m/u),g=Math.floor(p/h);f&&!o.config.xaxis.convertedCatToNumeric&&(x=Math.ceil(m/u),x-=1);var y=null,v=null,b=o.globals.seriesXvalues.map(function(k){return k.filter(function(A){return ae.isNumber(A)})}),w=o.globals.seriesYvalues.map(function(k){return k.filter(function(A){return ae.isNumber(A)})});if(o.globals.isXNumeric){var N=this.ttCtx.getElGrid().getBoundingClientRect(),C=m*(N.width/c),S=p*(N.height/d);y=(v=this.closestInMultiArray(C,S,b,w)).index,x=v.j,y!==null&&o.globals.hasNullValues&&(b=o.globals.seriesXvalues[y],x=(v=this.closestInArray(C,b)).j)}return o.globals.capturedSeriesIndex=y===null?-1:y,(!x||x<1)&&(x=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=g:o.globals.capturedDataPointIndex=x,{capturedSeries:y,j:o.globals.isBarHorizontal?g:x,hoverX:m,hoverY:p}}},{key:"getFirstActiveXArray",value:function(e){for(var r=this.w,s=0,a=e.map(function(o,l){return o.length>0?l:-1}),i=0;i<a.length;i++)if(a[i]!==-1&&r.globals.collapsedSeriesIndices.indexOf(i)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1){s=a[i];break}return s}},{key:"closestInMultiArray",value:function(e,r,s,a){for(var i,o=this.w,l=1/0,c=null,d=null,u=0;u<s.length;u++)if(i=u,o.globals.collapsedSeriesIndices.indexOf(i)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1)for(var h=s[u],f=a[u],m=Math.min(h.length,f.length),p=0;p<m;p++){var x=e-h[p],g=Math.sqrt(x*x);if(!o.globals.allSeriesHasEqualX){var y=r-f[p];g=Math.sqrt(x*x+y*y)}g<l&&(l=g,c=u,d=p)}return{index:c,j:d}}},{key:"closestInArray",value:function(e,r){for(var s=r[0],a=null,i=Math.abs(e-s),o=0;o<r.length;o++){var l=Math.abs(e-r[o]);l<i&&(i=l,a=o)}return{j:a}}},{key:"isXoverlap",value:function(e){var r=[],s=this.w.globals.seriesX.filter(function(i){return i[0]!==void 0});if(s.length>0)for(var a=0;a<s.length-1;a++)s[a][e]!==void 0&&s[a+1][e]!==void 0&&s[a][e]!==s[a+1][e]&&r.push("unEqual");return r.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,r=this.w.globals.initialSeries,s=0;s<r.length-1;s++)if(r[s].data.length!==r[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return ls(e).reduce(function(r,s){return r+s.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");s=ls(s),r&&(s=s.filter(function(i){var o=Number(i.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(o)===-1})),s.sort(function(i,o){var l=Number(i.getAttribute("data:realIndex")),c=Number(o.getAttribute("data:realIndex"));return c<l?1:c>l?-1:0});var a=[];return s.forEach(function(i){a.push(i.querySelector(".apexcharts-marker"))}),a}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,r){var s=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy")),i=e.getAttribute("shape");return new be(this.ctx).getMarkerPath(s,a,i,r)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var r=this.w,s=r.config.markers.hover.size;return s===void 0&&(s=r.globals.markers.size[e]+r.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var r=this.w,s=this.ttCtx;s.allTooltipSeriesGroups.length===0&&(s.allTooltipSeriesGroups=r.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=s.allTooltipSeriesGroups,i=0;i<a.length;i++)e==="enable"?(a[i].classList.add("apexcharts-active"),a[i].style.display=r.config.tooltip.items.display):(a[i].classList.remove("apexcharts-active"),a[i].style.display="none")}}]),t}(),lH=function(){function t(e){Be(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new DP(e)}return Ue(t,[{key:"drawSeriesTexts",value:function(e){var r=e.shared,s=r===void 0||r,a=e.ttItems,i=e.i,o=i===void 0?0:i,l=e.j,c=l===void 0?null:l,d=e.y1,u=e.y2,h=e.e,f=this.w;f.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:c,y1:d,y2:u,w:f}):this.toggleActiveInactiveSeries(s,o);var m=this.getValuesToPrint({i:o,j:c});this.printLabels({i:o,j:c,values:m,ttItems:a,shared:s,e:h});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var r,s=this,a=e.i,i=e.j,o=e.values,l=e.ttItems,c=e.shared,d=e.e,u=this.w,h=[],f=function(N){return u.globals.seriesGoals[N]&&u.globals.seriesGoals[N][i]&&Array.isArray(u.globals.seriesGoals[N][i])},m=o.xVal,p=o.zVal,x=o.xAxisTTVal,g="",y=u.globals.colors[a];i!==null&&u.config.plotOptions.bar.distributed&&(y=u.globals.colors[i]);for(var v=function(N,C){var S=s.getFormatters(a);g=s.getSeriesName({fn:S.yLbTitleFormatter,index:a,seriesIndex:a,j:i}),u.config.chart.type==="treemap"&&(g=S.yLbTitleFormatter(String(u.config.series[a].data[i].x),{series:u.globals.series,seriesIndex:a,dataPointIndex:i,w:u}));var k=u.config.tooltip.inverseOrder?C:N;if(u.globals.axisCharts){var A=function(D){var _,z,H,q;return u.globals.isRangeData?S.yLbFormatter((_=u.globals.seriesRangeStart)===null||_===void 0||(z=_[D])===null||z===void 0?void 0:z[i],{series:u.globals.seriesRangeStart,seriesIndex:D,dataPointIndex:i,w:u})+" - "+S.yLbFormatter((H=u.globals.seriesRangeEnd)===null||H===void 0||(q=H[D])===null||q===void 0?void 0:q[i],{series:u.globals.seriesRangeEnd,seriesIndex:D,dataPointIndex:i,w:u}):S.yLbFormatter(u.globals.series[D][i],{series:u.globals.series,seriesIndex:D,dataPointIndex:i,w:u})};if(c)S=s.getFormatters(k),g=s.getSeriesName({fn:S.yLbTitleFormatter,index:k,seriesIndex:a,j:i}),y=u.globals.colors[k],r=A(k),f(k)&&(h=u.globals.seriesGoals[k][i].map(function(D){return{attrs:D,val:S.yLbFormatter(D.value,{seriesIndex:k,dataPointIndex:i,w:u})}}));else{var T,E=d==null||(T=d.target)===null||T===void 0?void 0:T.getAttribute("fill");E&&(E.indexOf("url")!==-1?E.indexOf("Pattern")!==-1&&(y=u.globals.dom.baseEl.querySelector(E.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):y=E),r=A(a),f(a)&&Array.isArray(u.globals.seriesGoals[a][i])&&(h=u.globals.seriesGoals[a][i].map(function(D){return{attrs:D,val:S.yLbFormatter(D.value,{seriesIndex:a,dataPointIndex:i,w:u})}}))}}i===null&&(r=S.yLbFormatter(u.globals.series[a],Te(Te({},u),{},{seriesIndex:a,dataPointIndex:a}))),s.DOMHandling({i:a,t:k,j:i,ttItems:l,values:{val:r,goalVals:h,xVal:m,xAxisTTVal:x,zVal:p},seriesName:g,shared:c,pColor:y})},b=0,w=u.globals.series.length-1;b<u.globals.series.length;b++,w--)v(b,w)}},{key:"getFormatters",value:function(e){var r,s=this.w,a=s.globals.yLabelFormatters[e];return s.globals.ttVal!==void 0?Array.isArray(s.globals.ttVal)?(a=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,r=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(a=s.globals.ttVal.formatter,typeof s.globals.ttVal.title.formatter=="function"&&(r=s.globals.ttVal.title.formatter)):r=s.config.tooltip.y.title.formatter,typeof a!="function"&&(a=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(i){return i}),typeof r!="function"&&(r=function(i){return i?i+": ":""}),{yLbFormatter:a,yLbTitleFormatter:r}}},{key:"getSeriesName",value:function(e){var r=e.fn,s=e.index,a=e.seriesIndex,i=e.j,o=this.w;return r(String(o.globals.seriesNames[s]),{series:o.globals.series,seriesIndex:a,dataPointIndex:i,w:o})}},{key:"DOMHandling",value:function(e){e.i;var r=e.t,s=e.j,a=e.ttItems,i=e.values,o=e.seriesName,l=e.shared,c=e.pColor,d=this.w,u=this.ttCtx,h=i.val,f=i.goalVals,m=i.xVal,p=i.xAxisTTVal,x=i.zVal,g=null;g=a[r].children,d.config.tooltip.fillSeriesColor&&(a[r].style.backgroundColor=c,g[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=m),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=p!==""?p:m);var y=a[r].querySelector(".apexcharts-tooltip-text-y-label");y&&(y.innerHTML=o||"");var v=a[r].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=h!==void 0?h:""),g[0]&&g[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(c=d.config.tooltip.marker.fillColors[r]),d.config.tooltip.fillSeriesColor?g[0].style.backgroundColor=c:g[0].style.color=c),d.config.tooltip.marker.show||(g[0].style.display="none");var b=a[r].querySelector(".apexcharts-tooltip-text-goals-label"),w=a[r].querySelector(".apexcharts-tooltip-text-goals-value");if(f.length&&d.globals.seriesGoals[r]){var N=function(){var k="<div>",A="<div>";f.forEach(function(T,E){k+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(T.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(T.attrs.name,"</div>"),A+="<div>".concat(T.val,"</div>")}),b.innerHTML=k+"</div>",w.innerHTML=A+"</div>"};l?d.globals.seriesGoals[r][s]&&Array.isArray(d.globals.seriesGoals[r][s])?N():(b.innerHTML="",w.innerHTML=""):N()}else b.innerHTML="",w.innerHTML="";if(x!==null&&(a[r].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,a[r].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=x!==void 0?x:""),l&&g[0]){if(d.config.tooltip.hideEmptySeries){var C=a[r].querySelector(".apexcharts-tooltip-marker"),S=a[r].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(C.style.display="none",S.style.display="none"):(C.style.display="block",S.style.display="block")}h==null||d.globals.ancillaryCollapsedSeriesIndices.indexOf(r)>-1||d.globals.collapsedSeriesIndices.indexOf(r)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(r)===-1?g[0].parentNode.style.display="none":g[0].parentNode.style.display=d.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(r)===-1&&(g[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,r){var s=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(r));a&&(a.classList.add("apexcharts-active"),a.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var r=e.i,s=e.j,a=this.w,i=this.ctx.series.filteredSeriesX(),o="",l="",c=null,d=null,u={series:a.globals.series,seriesIndex:r,dataPointIndex:s,w:a},h=a.globals.ttZFormatter;s===null?d=a.globals.series[r]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(o=i[r][s],i[r].length===0&&(o=i[this.tooltipUtil.getFirstActiveXArray(i)][s])):o=new sw(this.ctx).isFormatXY()?a.config.series[r].data[s]!==void 0?a.config.series[r].data[s].x:"":a.globals.labels[s]!==void 0?a.globals.labels[s]:"";var f=o;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?o=new Af(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new js(this.ctx).formatDate,w:this.w}):o=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](f,u):a.globals.xLabelFormatter(f,u),a.config.tooltip.x.formatter!==void 0&&(o=a.globals.ttKeyFormatter(f,u)),a.globals.seriesZ.length>0&&a.globals.seriesZ[r].length>0&&(c=h(a.globals.seriesZ[r][s],a)),l=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(f,u):o,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(l)?l.join(" "):l,zVal:c}}},{key:"handleCustomTooltip",value:function(e){var r=e.i,s=e.j,a=e.y1,i=e.y2,o=e.w,l=this.ttCtx.getElTooltip(),c=o.config.tooltip.custom;Array.isArray(c)&&c[r]&&(c=c[r]);var d=c({ctx:this.ctx,series:o.globals.series,seriesIndex:r,dataPointIndex:s,y1:a,y2:i,w:o});typeof d=="string"||typeof d=="number"?l.innerHTML=d:(d instanceof Element||typeof d.nodeName=="string")&&(l.innerHTML="",l.appendChild(d.cloneNode(!0)))}}]),t}(),MP=function(){function t(e){Be(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return Ue(t,[{key:"moveXCrosshairs",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.ttCtx,a=this.w,i=s.getElXCrosshairs(),o=e-s.xcrosshairsWidth/2,l=a.globals.labels.slice().length;if(r!==null&&(o=a.globals.gridWidth/l*r),i===null||a.globals.isBarHorizontal||(i.setAttribute("x",o),i.setAttribute("x1",o),i.setAttribute("x2",o),i.setAttribute("y2",a.globals.gridHeight),i.classList.add("apexcharts-active")),o<0&&(o=0),o>a.globals.gridWidth&&(o=a.globals.gridWidth),s.isXAxisTooltipEnabled){var c=o;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(c=o+s.xcrosshairsWidth/2),this.moveXAxisTooltip(c)}}},{key:"moveYCrosshairs",value:function(e){var r=this.ttCtx;r.ycrosshairs!==null&&be.setAttrs(r.ycrosshairs,{y1:e,y2:e}),r.ycrosshairsHidden!==null&&be.setAttrs(r.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var r=this.w,s=this.ttCtx;if(s.xaxisTooltip!==null&&s.xcrosshairsWidth!==0){s.xaxisTooltip.classList.add("apexcharts-active");var a=s.xaxisOffY+r.config.xaxis.tooltip.offsetY+r.globals.translateY+1+r.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=r.globals.translateX;var i;i=new be(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=i.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var r=this.w,s=this.ttCtx;s.yaxisTTEls===null&&(s.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),i=r.globals.translateY+a,o=s.yaxisTTEls[e].getBoundingClientRect(),l=o.height,c=r.globals.translateYAxisX[e]-2;r.config.yaxis[e].opposite&&(c-=o.width),i-=l/2,r.globals.ignoreYAxisIndexes.indexOf(e)===-1&&i>0&&i<r.globals.gridHeight?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=i+"px",s.yaxisTTEls[e].style.left=c+r.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=this.ttCtx,o=i.getElTooltip(),l=i.tooltipRect,c=s!==null?parseFloat(s):1,d=parseFloat(e)+c+5,u=parseFloat(r)+c/2;if(d>a.globals.gridWidth/2&&(d=d-l.ttWidth-c-10),d>a.globals.gridWidth-l.ttWidth-10&&(d=a.globals.gridWidth-l.ttWidth),d<-20&&(d=-20),a.config.tooltip.followCursor){var h=i.getElGrid().getBoundingClientRect();(d=i.e.clientX-h.left)>a.globals.gridWidth/2&&(d-=i.tooltipRect.ttWidth),(u=i.e.clientY+a.globals.translateY-h.top)>a.globals.gridHeight/2&&(u-=i.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||l.ttHeight/2+u>a.globals.gridHeight&&(u=a.globals.gridHeight-l.ttHeight+a.globals.translateY);isNaN(d)||(d+=a.globals.translateX,o.style.left=d+"px",o.style.top=u+"px")}},{key:"moveMarkers",value:function(e,r){var s=this.w,a=this.ttCtx;if(s.globals.markers.size[e]>0)for(var i=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<i.length;o++)parseInt(i[o].getAttribute("rel"),10)===r&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(r,i[o]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(r,e)}},{key:"moveDynamicPointOnHover",value:function(e,r){var s,a,i,o,l=this.w,c=this.ttCtx,d=new be(this.ctx),u=l.globals.pointsArray,h=c.tooltipUtil.getHoverMarkerSize(r),f=l.config.series[r].type;if(!f||f!=="column"&&f!=="candlestick"&&f!=="boxPlot"){i=(s=u[r][e])===null||s===void 0?void 0:s[0],o=((a=u[r][e])===null||a===void 0?void 0:a[1])||0;var m=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-series-markers path"));if(m&&o<l.globals.gridHeight&&o>0){var p=m.getAttribute("shape"),x=d.getMarkerPath(i,o,p,1.5*h);m.setAttribute("d",x)}this.moveXCrosshairs(i),c.fixedTooltip||this.moveTooltip(i,o,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var r,s=this.ttCtx,a=s.w,i=0,o=0,l=a.globals.pointsArray,c=new cn(this.ctx),d=new be(this.ctx);r=c.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=s.tooltipUtil.getHoverMarkerSize(r);if(l[r]&&(i=l[r][e][0],o=l[r][e][1]),!isNaN(i)){var h=s.tooltipUtil.getAllMarkers();if(h.length)for(var f=0;f<a.globals.series.length;f++){var m=l[f];if(a.globals.comboCharts&&m===void 0&&h.splice(f,0,null),m&&m.length){var p=l[f][e][1],x=void 0;h[f].setAttribute("cx",i);var g=h[f].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var y=e+a.globals.series[f].length;x=l[f][y][1],p-=Math.abs(p-x)/2}if(p!==null&&!isNaN(p)&&p<a.globals.gridHeight+u&&p+u>0){var v=d.getMarkerPath(i,p,g,u);h[f].setAttribute("d",v)}else h[f].setAttribute("d","")}}this.moveXCrosshairs(i),s.fixedTooltip||this.moveTooltip(i,o||a.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,r){var s=this.w,a=this.ttCtx,i=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length;s.config.chart.stacked&&(i=s.globals.barGroups.length);var o=i>=2&&i%2==0?Math.floor(i/2):Math.floor(i/2)+1;s.globals.isBarHorizontal&&(o=new cn(this.ctx).getActiveConfigSeriesIndex("desc")+1);var l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));l||typeof r!="number"||(l=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,"']")));var c=l?parseFloat(l.getAttribute("cx")):0,d=l?parseFloat(l.getAttribute("cy")):0,u=l?parseFloat(l.getAttribute("barWidth")):0,h=a.getElGrid().getBoundingClientRect(),f=l&&(l.classList.contains("apexcharts-candlestick-area")||l.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(l&&!f&&(c-=i%2!=0?u/2:0),l&&f&&(c-=u/2)):s.globals.isBarHorizontal||(c=a.xAxisTicksPositions[e-1]+a.dataPointsDividedWidth/2,isNaN(c)&&(c=a.xAxisTicksPositions[e]-a.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?d-=a.tooltipRect.ttHeight:s.config.tooltip.followCursor?d=a.e.clientY-h.top-a.tooltipRect.ttHeight/2:d+a.tooltipRect.ttHeight+15>s.globals.gridHeight&&(d=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(c),a.fixedTooltip||this.moveTooltip(c,d||s.globals.gridHeight)}}]),t}(),cH=function(){function t(e){Be(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new MP(e)}return Ue(t,[{key:"drawDynamicPoints",value:function(){var e=this.w,r=new be(this.ctx),s=new lu(this.ctx),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=ls(a),e.config.chart.stacked&&a.sort(function(h,f){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(f.getAttribute("data:realIndex"))});for(var i=0;i<a.length;i++){var o=a[i].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var l=void 0,c="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(c+=" no-pointer-events");var d=s.getMarkerConfig({cssClass:c,seriesIndex:Number(o.getAttribute("data:realIndex"))});(l=r.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(l.node),o.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w;i.config.chart.type!=="bubble"&&this.newPointSize(e,r);var o=r.getAttribute("cx"),l=r.getAttribute("cy");if(s!==null&&a!==null&&(o=s,l=a),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(i.config.chart.type==="radar"){var c=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-c.left}this.tooltipPosition.moveTooltip(o,l,i.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var r=this.w,s=this,a=this.ttCtx,i=e,o=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=r.config.markers.hover.size,c=0;c<o.length;c++){var d=o[c].getAttribute("rel"),u=o[c].getAttribute("index");if(l===void 0&&(l=r.globals.markers.size[u]+r.config.markers.hover.sizeOffset),i===parseInt(d,10)){s.newPointSize(i,o[c]);var h=o[c].getAttribute("cx"),f=o[c].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(h),a.fixedTooltip||s.tooltipPosition.moveTooltip(h,f,l)}else s.oldPointSize(o[c])}}},{key:"newPointSize",value:function(e,r){var s=this.w,a=s.config.markers.hover.size,i=e===0?r.parentNode.firstChild:r.parentNode.lastChild;if(i.getAttribute("default-marker-size")!=="0"){var o=parseInt(i.getAttribute("index"),10);a===void 0&&(a=s.globals.markers.size[o]+s.config.markers.hover.sizeOffset),a<0&&(a=0);var l=this.ttCtx.tooltipUtil.getPathFromPoint(r,a);r.setAttribute("d",l)}}},{key:"oldPointSize",value:function(e){var r=parseFloat(e.getAttribute("default-marker-size")),s=this.ttCtx.tooltipUtil.getPathFromPoint(e,r);e.setAttribute("d",s)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=0;r<e.length;r++){var s=parseFloat(e[r].getAttribute("default-marker-size"));if(ae.isNumber(s)&&s>0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(e[r],s);e[r].setAttribute("d",a)}else e[r].setAttribute("d","M0,0")}}}]),t}(),dH=function(){function t(e){Be(this,t),this.w=e.w;var r=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.config.chart.type==="rangeBar"&&r.config.plotOptions.bar.rangeBarGroupRows}return Ue(t,[{key:"getAttr",value:function(e,r){return parseFloat(e.target.getAttribute(r))}},{key:"handleHeatTreeTooltip",value:function(e){var r=e.e,s=e.opt,a=e.x,i=e.y,o=e.type,l=this.ttCtx,c=this.w;if(r.target.classList.contains("apexcharts-".concat(o,"-rect"))){var d=this.getAttr(r,"i"),u=this.getAttr(r,"j"),h=this.getAttr(r,"cx"),f=this.getAttr(r,"cy"),m=this.getAttr(r,"width"),p=this.getAttr(r,"height");if(l.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:d,j:u,shared:!1,e:r}),c.globals.capturedSeriesIndex=d,c.globals.capturedDataPointIndex=u,a=h+l.tooltipRect.ttWidth/2+m,i=f+l.tooltipRect.ttHeight/2-p/2,l.tooltipPosition.moveXCrosshairs(h+m/2),a>c.globals.gridWidth/2&&(a=h-l.tooltipRect.ttWidth/2+m),l.w.config.tooltip.followCursor){var x=c.globals.dom.elWrap.getBoundingClientRect();a=c.globals.clientX-x.left-(a>c.globals.gridWidth/2?l.tooltipRect.ttWidth:0),i=c.globals.clientY-x.top-(i>c.globals.gridHeight/2?l.tooltipRect.ttHeight:0)}}return{x:a,y:i}}},{key:"handleMarkerTooltip",value:function(e){var r,s,a=e.e,i=e.opt,o=e.x,l=e.y,c=this.w,d=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var u=parseInt(i.paths.getAttribute("cx"),10),h=parseInt(i.paths.getAttribute("cy"),10),f=parseFloat(i.paths.getAttribute("val"));if(s=parseInt(i.paths.getAttribute("rel"),10),r=parseInt(i.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var m=ae.findAncestor(i.paths,"apexcharts-series");m&&(r=parseInt(m.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:r,j:s,shared:!d.showOnIntersect&&c.config.tooltip.shared,e:a}),a.type==="mouseup"&&d.markerClick(a,r,s),c.globals.capturedSeriesIndex=r,c.globals.capturedDataPointIndex=s,o=u,l=h+c.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var p=d.getElGrid().getBoundingClientRect();l=d.e.clientY+c.globals.translateY-p.top}f<0&&(l=h),d.marker.enlargeCurrentPoint(s,i.paths,o,l)}return{x:o,y:l}}},{key:"handleBarTooltip",value:function(e){var r,s,a=e.e,i=e.opt,o=this.w,l=this.ttCtx,c=l.getElTooltip(),d=0,u=0,h=0,f=this.getBarTooltipXY({e:a,opt:i});if(f.j!==null||f.barHeight!==0||f.barWidth!==0){r=f.i;var m=f.j;if(o.globals.capturedSeriesIndex=r,o.globals.capturedDataPointIndex=m,o.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||!o.config.tooltip.shared?(u=f.x,h=f.y,s=Array.isArray(o.config.stroke.width)?o.config.stroke.width[r]:o.config.stroke.width,d=u):o.globals.comboCharts||o.config.tooltip.shared||(d/=2),isNaN(h)&&(h=o.globals.svgHeight-l.tooltipRect.ttHeight),parseInt(i.paths.parentNode.getAttribute("data:realIndex"),10),u+l.tooltipRect.ttWidth>o.globals.gridWidth?u-=l.tooltipRect.ttWidth:u<0&&(u=0),l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();h=l.e.clientY-p.top}l.tooltip===null&&(l.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?l.tooltipPosition.moveXCrosshairs(d+s/2):l.tooltipPosition.moveXCrosshairs(d)),!l.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&l.tooltipUtil.hasBars())&&(h=h+o.globals.translateY-l.tooltipRect.ttHeight/2,c.style.left=u+o.globals.translateX+"px",c.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var r=this,s=e.e,a=e.opt,i=this.w,o=null,l=this.ttCtx,c=0,d=0,u=0,h=0,f=0,m=s.target.classList;if(m.contains("apexcharts-bar-area")||m.contains("apexcharts-candlestick-area")||m.contains("apexcharts-boxPlot-area")||m.contains("apexcharts-rangebar-area")){var p=s.target,x=p.getBoundingClientRect(),g=a.elGrid.getBoundingClientRect(),y=x.height;f=x.height;var v=x.width,b=parseInt(p.getAttribute("cx"),10),w=parseInt(p.getAttribute("cy"),10);h=parseFloat(p.getAttribute("barWidth"));var N=s.type==="touchmove"?s.touches[0].clientX:s.clientX;o=parseInt(p.getAttribute("j"),10),c=parseInt(p.parentNode.getAttribute("rel"),10)-1;var C=p.getAttribute("data-range-y1"),S=p.getAttribute("data-range-y2");i.globals.comboCharts&&(c=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var k=function(T){return i.globals.isXNumeric?b-v/2:r.isVerticalGroupedRangeBar?b+v/2:b-l.dataPointsDividedWidth+v/2},A=function(){return w-l.dataPointsDividedHeight+y/2-l.tooltipRect.ttHeight/2};l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:c,j:o,y1:C?parseInt(C,10):null,y2:S?parseInt(S,10):null,shared:!l.showOnIntersect&&i.config.tooltip.shared,e:s}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(d=N-g.left+15,u=A()):(d=k(),u=s.clientY-g.top-l.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((d=b)<l.xyRatios.baseLineInvertedY&&(d=b-l.tooltipRect.ttWidth),u=A()):(d=k(),u=w)}return{x:d,y:u,barHeight:f,barWidth:h,i:c,j:o}}}]),t}(),uH=function(){function t(e){Be(this,t),this.w=e.w,this.ttCtx=e}return Ue(t,[{key:"drawXaxisTooltip",value:function(){var e=this.w,r=this.ttCtx,s=e.config.xaxis.position==="bottom";r.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var a=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",i=e.globals.dom.elWrap;r.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(r.xaxisTooltip=document.createElement("div"),r.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(r.xaxisTooltip),r.xaxisTooltipText=document.createElement("div"),r.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),r.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,r.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,r.xaxisTooltip.appendChild(r.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,r=this.ttCtx,s=0;s<e.config.yaxis.length;s++){var a=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;r.yaxisOffX=a?e.globals.gridWidth+1:1;var i="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s))===null&&(r.yaxisTooltip=document.createElement("div"),r.yaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(r.yaxisTooltip),s===0&&(r.yaxisTooltipText=[]),r.yaxisTooltipText[s]=document.createElement("div"),r.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),r.yaxisTooltip.appendChild(r.yaxisTooltipText[s]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,r=this.ttCtx,s=r.getElXCrosshairs();if(r.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var i=parseFloat(a.getAttribute("barWidth"));r.xcrosshairsWidth=i}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;r.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var l=e.globals.labels.length;r.xcrosshairsWidth=e.globals.gridWidth/l}else if(e.config.xaxis.crosshairs.width==="barWidth"){var c=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null){var d=parseFloat(c.getAttribute("barWidth"));r.xcrosshairsWidth=d}else r.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(r.xcrosshairsWidth=0),s!==null&&r.xcrosshairsWidth>0&&s.setAttribute("width",r.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,r=this.ttCtx;r.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),r.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,r,s){var a=this.ttCtx,i=this.w,o=i.globals,l=o.seriesYAxisMap[e];if(a.yaxisTooltips[e]&&l.length>0){var c=o.yLabelFormatters[e],d=a.getElGrid().getBoundingClientRect(),u=l[0],h=0;s.yRatio.length>1&&(h=u);var f=(r-d.top)*s.yRatio[h],m=o.maxYArr[u]-o.minYArr[u],p=o.minYArr[u]+(m-f);i.config.yaxis[e].reversed&&(p=o.maxYArr[u]-(m-f)),a.tooltipPosition.moveYCrosshairs(r-d.top),a.yaxisTooltipText[e].innerHTML=c(p),a.tooltipPosition.moveYAxisTooltip(e)}}}]),t}(),bS=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.tConfig=r.config.tooltip,this.tooltipUtil=new DP(this),this.tooltipLabels=new lH(this),this.tooltipPosition=new MP(this),this.marker=new cH(this),this.intersect=new dH(this),this.axesTooltip=new uH(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!r.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Ue(t,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var r=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=r.config.xaxis.tooltip.enabled&&r.globals.axisCharts,this.yaxisTooltips=r.config.yaxis.map(function(o,l){return!!(o.show&&o.tooltip.enabled&&r.globals.axisCharts)}),this.allTooltipSeriesGroups=[],r.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),r.config.tooltip.cssClass&&s.classList.add(r.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),r.globals.dom.elWrap.appendChild(s),r.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new $h(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!r.globals.comboCharts&&!this.tConfig.intersect&&r.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),r.config.markers.size!==0&&r.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),r.globals.collapsedSeries.length!==r.globals.series.length){this.dataPointsDividedHeight=r.globals.gridHeight/r.globals.dataPoints,this.dataPointsDividedWidth=r.globals.gridWidth/r.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||r.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var i=r.globals.series.length;(r.globals.xyCharts||r.globals.comboCharts)&&this.tConfig.shared&&(i=this.showOnIntersect?1:r.globals.series.length),this.legendLabels=r.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(i),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var r=this,s=this.w,a=[],i=this.getElTooltip(),o=function(c){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(c)),d.style.order=s.config.tooltip.inverseOrder?e-c:c+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),s.config.tooltip.fillSeriesColor?u.style.backgroundColor=s.globals.colors[c]:u.style.color=s.globals.colors[c];var h=s.config.markers.shape,f=h;Array.isArray(h)&&(f=h[c]),u.setAttribute("shape",f),d.appendChild(u);var m=document.createElement("div");m.classList.add("apexcharts-tooltip-text"),m.style.fontFamily=r.tConfig.style.fontFamily||s.config.chart.fontFamily,m.style.fontSize=r.tConfig.style.fontSize,["y","goals","z"].forEach(function(p){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-".concat(p,"-group"));var g=document.createElement("span");g.classList.add("apexcharts-tooltip-text-".concat(p,"-label")),x.appendChild(g);var y=document.createElement("span");y.classList.add("apexcharts-tooltip-text-".concat(p,"-value")),x.appendChild(y),m.appendChild(x)}),d.appendChild(m),i.appendChild(d),a.push(d)},l=0;l<e;l++)o(l);return a}},{key:"addSVGEvents",value:function(){var e=this.w,r=e.config.chart.type,s=this.getElTooltip(),a=!(r!=="bar"&&r!=="candlestick"&&r!=="boxPlot"&&r!=="rangeBar"),i=r==="area"||r==="line"||r==="scatter"||r==="bubble"||r==="radar",o=e.globals.dom.Paper.node,l=this.getElGrid();l&&(this.seriesBound=l.getBoundingClientRect());var c,d=[],u=[],h={hoverArea:o,elGrid:l,tooltipEl:s,tooltipY:d,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(i?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):r!=="heatmap"&&r!=="treemap"||(c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),c&&c.length))for(var f=0;f<c.length;f++)d.push(c[f].getAttribute("cy")),u.push(c[f].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],h);else if(a&&!e.globals.comboCharts||i&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||r==="heatmap"||r==="treemap"){var m=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(m,h)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,r=this.getElTooltip(),s=r.getBoundingClientRect(),a=s.width+10,i=s.height+10,o=this.tConfig.fixed.offsetX,l=this.tConfig.fixed.offsetY,c=this.tConfig.fixed.position.toLowerCase();return c.indexOf("right")>-1&&(o=o+e.globals.svgWidth-a+10),c.indexOf("bottom")>-1&&(l=l+e.globals.svgHeight-i-10),r.style.left=o+"px",r.style.top=l+"px",{x:o,y:l,ttWidth:a,ttHeight:i}}},{key:"addDatapointEventsListeners",value:function(e){var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(r,e)}},{key:"addPathsEventListeners",value:function(e,r){for(var s=this,a=function(o){var l={paths:e[o],tooltipEl:r.tooltipEl,tooltipY:r.tooltipY,tooltipX:r.tooltipX,elGrid:r.elGrid,hoverArea:r.hoverArea,ttItems:r.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(c){return e[o].addEventListener(c,s.onSeriesHover.bind(s,l),{capture:!1,passive:!0})})},i=0;i<e.length;i++)a(i)}},{key:"onSeriesHover",value:function(e,r){var s=this,a=Date.now()-this.lastHoverTime;a>=20?this.seriesHover(e,r):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){s.seriesHover(e,r)},20-a))}},{key:"seriesHover",value:function(e,r){var s=this;this.lastHoverTime=Date.now();var a=[],i=this.w;i.config.chart.group&&(a=this.ctx.getGroupedCharts()),i.globals.axisCharts&&(i.globals.minX===-1/0&&i.globals.maxX===1/0||i.globals.dataPoints===0)||(a.length?a.forEach(function(o){var l=s.getElTooltip(o),c={paths:e.paths,tooltipEl:l,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===s.w.globals.minX&&o.w.globals.maxX===s.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:c,e:r})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:r}))}},{key:"seriesHoverByContext",value:function(e){var r=e.chartCtx,s=e.ttCtx,a=e.opt,i=e.e,o=r.w,l=this.getElTooltip(r);l&&(s.tooltipRect={x:0,y:0,ttWidth:l.getBoundingClientRect().width,ttHeight:l.getBoundingClientRect().height},s.e=i,s.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new cn(r).toggleSeriesOnHover(i,i.target.parentNode),o.globals.axisCharts?s.axisChartsTooltips({e:i,opt:a,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:i,opt:a,tooltipRect:s.tooltipRect}),s.fixedTooltip&&s.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var r,s,a=e.e,i=e.opt,o=this.w,l=i.elGrid.getBoundingClientRect(),c=a.type==="touchmove"?a.touches[0].clientX:a.clientX,d=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=d,this.clientX=c,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,d<l.top||d>l.top+l.height)this.handleMouseOut(i);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var u=parseInt(i.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(i)}var h=this.getElTooltip(),f=this.getElXCrosshairs(),m=[];o.config.chart.group&&(m=this.ctx.getSyncedCharts());var p=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;f!==null&&f.classList.add("apexcharts-active");var x=this.yaxisTooltips.filter(function(v){return v===!0});if(this.ycrosshairs!==null&&x.length&&this.ycrosshairs.classList.add("apexcharts-active"),p&&!this.showOnIntersect||m.length>1)this.handleStickyTooltip(a,c,d,i);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var g=this.intersect.handleHeatTreeTooltip({e:a,opt:i,x:r,y:s,type:o.config.chart.type});r=g.x,s=g.y,h.style.left=r+"px",h.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:i}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:i,x:r,y:s});if(this.yaxisTooltips.length)for(var y=0;y<o.config.yaxis.length;y++)this.axesTooltip.drawYaxisTooltipText(y,d,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),i.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(i)}}},{key:"nonAxisChartsTooltips",value:function(e){var r=e.e,s=e.opt,a=e.tooltipRect,i=this.w,o=s.paths.getAttribute("rel"),l=this.getElTooltip(),c=i.globals.dom.elWrap.getBoundingClientRect();if(r.type==="mousemove"||r.type==="touchmove"){i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),l.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(o,10)-1,shared:!1});var d=i.globals.clientX-c.left-a.ttWidth/2,u=i.globals.clientY-c.top-a.ttHeight-10;if(l.style.left=d+"px",l.style.top=u+"px",i.config.legend.tooltipHoverFormatter){var h=o-1,f=(0,i.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:i});this.legendLabels[h].innerHTML=f}}else r.type!=="mouseout"&&r.type!=="touchend"||(l.classList.remove("apexcharts-active"),i.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(m){var p=m.getAttribute("data:default-text");m.innerHTML=decodeURIComponent(p)}))}},{key:"handleStickyTooltip",value:function(e,r,s,a){var i=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:r,clientY:s}),l=o.j,c=o.capturedSeries;i.globals.collapsedSeriesIndices.includes(c)&&(c=null);var d=a.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>d.width)this.handleMouseOut(a);else if(c!==null)this.handleStickyCapturedSeries(e,c,a,l);else if(this.tooltipUtil.isXoverlap(l)||i.globals.isBarHorizontal){var u=i.globals.series.findIndex(function(h,f){return!i.globals.collapsedSeriesIndices.includes(f)});this.create(e,this,u,l,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,r,s,a){var i=this.w;if(!this.tConfig.shared&&i.globals.series[r][a]===null)return void this.handleMouseOut(s);if(i.globals.series[r][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,r,a,s.ttItems):this.create(e,this,r,a,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var o=i.globals.series.findIndex(function(l,c){return!i.globals.collapsedSeriesIndices.includes(c)});this.create(e,this,o,a,s.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,r=new be(this.ctx),s=e.globals.dom.Paper.find(".apexcharts-bar-area"),a=0;a<s.length;a++)r.pathMouseLeave(s[a])}},{key:"handleMouseOut",value:function(e){var r=this.w,s=this.getElXCrosshairs();if(r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),r.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),s!==null&&s.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(i){var o=i.getAttribute("data:default-text");i.innerHTML=decodeURIComponent(o)})}},{key:"markerClick",value:function(e,r,s){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(e,this.ctx,{seriesIndex:r,dataPointIndex:s,w:a}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:r,dataPointIndex:s,w:a}])}},{key:"create",value:function(e,r,s,a,i){var o,l,c,d,u,h,f,m,p,x,g,y,v,b,w,N,C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,S=this.w,k=r;e.type==="mouseup"&&this.markerClick(e,s,a),C===null&&(C=this.tConfig.shared);var A=this.tooltipUtil.hasMarkers(s),T=this.tooltipUtil.getElBars(),E=function(){S.globals.markers.largestSize>0?k.marker.enlargePoints(a):k.tooltipPosition.moveDynamicPointsOnHover(a)};if(S.config.legend.tooltipHoverFormatter){var D=S.config.legend.tooltipHoverFormatter,_=Array.from(this.legendLabels);_.forEach(function(Q){var W=Q.getAttribute("data:default-text");Q.innerHTML=decodeURIComponent(W)});for(var z=0;z<_.length;z++){var H=_[z],q=parseInt(H.getAttribute("i"),10),K=decodeURIComponent(H.getAttribute("data:default-text")),Y=D(K,{seriesIndex:C?q:s,dataPointIndex:a,w:S});if(C)H.innerHTML=S.globals.collapsedSeriesIndices.indexOf(q)<0?Y:K;else if(H.innerHTML=q===s?Y:K,s===q)break}}var J=Te(Te({ttItems:i,i:s,j:a},((o=S.globals.seriesRange)===null||o===void 0||(l=o[s])===null||l===void 0||(c=l[a])===null||c===void 0||(d=c.y[0])===null||d===void 0?void 0:d.y1)!==void 0&&{y1:(u=S.globals.seriesRange)===null||u===void 0||(h=u[s])===null||h===void 0||(f=h[a])===null||f===void 0||(m=f.y[0])===null||m===void 0?void 0:m.y1}),((p=S.globals.seriesRange)===null||p===void 0||(x=p[s])===null||x===void 0||(g=x[a])===null||g===void 0||(y=g.y[0])===null||y===void 0?void 0:y.y2)!==void 0&&{y2:(v=S.globals.seriesRange)===null||v===void 0||(b=v[s])===null||b===void 0||(w=b[a])===null||w===void 0||(N=w.y[0])===null||N===void 0?void 0:N.y2});if(C){if(k.tooltipLabels.drawSeriesTexts(Te(Te({},J),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),A)E();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(T),this.barSeriesHeight>0)){var Z=new be(this.ctx),ne=S.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),k.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&E(),k.tooltipPosition.moveStickyTooltipOverBars(a,s);for(var F=0;F<ne.length;F++)Z.pathMouseEnter(ne[F])}}else k.tooltipLabels.drawSeriesTexts(Te({shared:!1},J)),this.tooltipUtil.hasBars()&&k.tooltipPosition.moveStickyTooltipOverBars(a,s),A&&k.tooltipPosition.moveMarkers(s,a)}}]),t}(),hH=function(){function t(e){Be(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Ue(t,[{key:"handleBarDataLabels",value:function(e){var r,s,a=e.x,i=e.y,o=e.y1,l=e.y2,c=e.i,d=e.j,u=e.realIndex,h=e.columnGroupIndex,f=e.series,m=e.barHeight,p=e.barWidth,x=e.barXPosition,g=e.barYPosition,y=e.visibleSeries,v=this.w,b=new be(this.barCtx.ctx),w=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;v.globals.isXNumeric&&!v.globals.isBarHorizontal?(r=a+parseFloat(p*(y+1)),s=i+parseFloat(m*(y+1))-w):(r=a+parseFloat(p*y),s=i+parseFloat(m*y));var N,C=null,S=a,k=i,A={},T=v.config.dataLabels,E=this.barCtx.barOptions.dataLabels,D=this.barCtx.barOptions.dataLabels.total;g!==void 0&&this.barCtx.isRangeBar&&(s=g,k=g),x!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(r=x,S=x);var _=T.offsetX,z=T.offsetY,H={width:0,height:0};if(v.config.dataLabels.enabled){var q=v.globals.series[c][d];H=b.getTextRects(v.config.dataLabels.formatter?v.config.dataLabels.formatter(q,Te(Te({},v),{},{seriesIndex:c,dataPointIndex:d,w:v})):v.globals.yLabelFormatters[0](q),parseFloat(T.style.fontSize))}var K={x:a,y:i,i:c,j:d,realIndex:u,columnGroupIndex:h,bcx:r,bcy:s,barHeight:m,barWidth:p,textRects:H,strokeWidth:w,dataLabelsX:S,dataLabelsY:k,dataLabelsConfig:T,barDataLabelsConfig:E,barTotalDataLabelsConfig:D,offX:_,offY:z};return A=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(K):this.calculateColumnsDataLabelsPosition(K),N=this.drawCalculatedDataLabels({x:A.dataLabelsX,y:A.dataLabelsY,val:this.barCtx.isRangeBar?[o,l]:v.config.chart.stackType==="100%"?f[u][d]:v.globals.series[u][d],i:u,j:d,barWidth:p,barHeight:m,textRects:H,dataLabelsConfig:T}),v.config.chart.stacked&&D.enabled&&(C=this.drawTotalDataLabels({x:A.totalDataLabelsX,y:A.totalDataLabelsY,barWidth:p,barHeight:m,realIndex:u,textAnchor:A.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:d}),dataLabelsConfig:T,barTotalDataLabelsConfig:D})),{dataLabelsPos:A,dataLabels:N,totalDataLabels:C}}},{key:"getStackedTotalDataLabel",value:function(e){var r=e.realIndex,s=e.j,a=this.w,i=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(i=this.totalFormatter(i,Te(Te({},a),{},{seriesIndex:r,dataPointIndex:s,w:a}))),i}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var r=this,s=this.w,a=e.i,i=e.j,o=e.realIndex;e.columnGroupIndex;var l,c,d=e.y,u=e.bcx,h=e.barWidth,f=e.barHeight,m=e.textRects,p=e.dataLabelsX,x=e.dataLabelsY,g=e.dataLabelsConfig,y=e.barDataLabelsConfig,v=e.barTotalDataLabelsConfig,b=e.strokeWidth,w=e.offX,N=e.offY,C=u;f=Math.abs(f);var S=s.config.plotOptions.bar.dataLabels.orientation==="vertical",k=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:i}).zeroEncounters;u-=b/2;var A=s.globals.gridWidth/s.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?p+=h/2:(p=s.globals.isXNumeric?u-h/2+w:u-A+h/2+w,!s.config.chart.stacked&&k>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(p-=h*k)),S&&(p=p+m.height/2-b/2-2);var T=s.globals.series[a][i]<0,E=d;switch(this.barCtx.isReversed&&(E=d+(T?f:-f)),y.position){case"center":x=S?T?E-f/2+N:E+f/2-N:T?E-f/2+m.height/2+N:E+f/2+m.height/2-N;break;case"bottom":x=S?T?E-f+N:E+f-N:T?E-f+m.height+b+N:E+f-m.height/2+b-N;break;case"top":x=S?T?E+N:E-N:T?E-m.height/2-N:E+m.height+N}var D=E;if(s.globals.seriesGroups.forEach(function(H){var q;(q=r.barCtx[H.join(",")])===null||q===void 0||q.prevY.forEach(function(K){D=T?Math.max(K[i],D):Math.min(K[i],D)})}),this.barCtx.lastActiveBarSerieIndex===o&&v.enabled){var _=new be(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:i}),g.fontSize);l=T?D-_.height/2-N-v.offsetY+18:D+_.height+N+v.offsetY-18;var z=A;c=C+(s.globals.isXNumeric?-h*s.globals.barGroups.length/2:s.globals.barGroups.length*h/2-(s.globals.barGroups.length-1)*h-z)+v.offsetX}return s.config.chart.stacked||(x<0?x=0+b:x+m.height/3>s.globals.gridHeight&&(x=s.globals.gridHeight-b)),{bcx:u,bcy:d,dataLabelsX:p,dataLabelsY:x,totalDataLabelsX:c,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var r=this,s=this.w,a=e.x,i=e.i,o=e.j,l=e.realIndex,c=e.bcy,d=e.barHeight,u=e.barWidth,h=e.textRects,f=e.dataLabelsX,m=e.strokeWidth,p=e.dataLabelsConfig,x=e.barDataLabelsConfig,g=e.barTotalDataLabelsConfig,y=e.offX,v=e.offY,b=s.globals.gridHeight/s.globals.dataPoints,w=this.barCtx.barHelpers.getZeroValueEncounters({i,j:o}).zeroEncounters;u=Math.abs(u);var N,C,S=c-(this.barCtx.isRangeBar?0:b)+d/2+h.height/2+v-3;!s.config.chart.stacked&&w>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(S-=d*w);var k="start",A=s.globals.series[i][o]<0,T=a;switch(this.barCtx.isReversed&&(T=a+(A?-u:u),k=A?"start":"end"),x.position){case"center":f=A?T+u/2-y:Math.max(h.width/2,T-u/2)+y;break;case"bottom":f=A?T+u-m-y:T-u+m+y;break;case"top":f=A?T-m-y:T-m+y}var E=T;if(s.globals.seriesGroups.forEach(function(_){var z;(z=r.barCtx[_.join(",")])===null||z===void 0||z.prevX.forEach(function(H){E=A?Math.min(H[o],E):Math.max(H[o],E)})}),this.barCtx.lastActiveBarSerieIndex===l&&g.enabled){var D=new be(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:l,j:o}),p.fontSize);A?(N=E-m-y-g.offsetX,k="end"):N=E+y+g.offsetX+(this.barCtx.isReversed?-(u+m):m),C=S-h.height/2+D.height/2+g.offsetY+m,s.globals.barGroups.length>1&&(C-=s.globals.barGroups.length/2*(d/2))}return s.config.chart.stacked||(p.textAnchor==="start"?f-h.width<0?f=A?h.width+m:m:f+h.width>s.globals.gridWidth&&(f=A?s.globals.gridWidth-m:s.globals.gridWidth-h.width-m):p.textAnchor==="middle"?f-h.width/2<0?f=h.width/2+m:f+h.width/2>s.globals.gridWidth&&(f=s.globals.gridWidth-h.width/2-m):p.textAnchor==="end"&&(f<1?f=h.width+m:f+1>s.globals.gridWidth&&(f=s.globals.gridWidth-h.width-m))),{bcx:a,bcy:c,dataLabelsX:f,dataLabelsY:S,totalDataLabelsX:N,totalDataLabelsY:C,totalDataLabelsAnchor:k}}},{key:"drawCalculatedDataLabels",value:function(e){var r=e.x,s=e.y,a=e.val,i=e.i,o=e.j,l=e.textRects,c=e.barHeight,d=e.barWidth,u=e.dataLabelsConfig,h=this.w,f="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(f="rotate(-90, ".concat(r,", ").concat(s,")"));var m=new Id(this.barCtx.ctx),p=new be(this.barCtx.ctx),x=u.formatter,g=null,y=h.globals.collapsedSeriesIndices.indexOf(i)>-1;if(u.enabled&&!y){g=p.group({class:"apexcharts-data-labels",transform:f});var v="";a!==void 0&&(v=x(a,Te(Te({},h),{},{seriesIndex:i,dataPointIndex:o,w:h}))),!a&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(v="");var b=h.globals.series[i][o]<0,w=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(w==="top"&&(u.textAnchor=b?"end":"start"),w==="center"&&(u.textAnchor="middle"),w==="bottom"&&(u.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<p.getTextRects(v,parseFloat(u.style.fontSize)).width&&(v=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?l.width/1.6>Math.abs(d)&&(v=""):l.height/1.6>Math.abs(c)&&(v=""));var N=Te({},u);this.barCtx.isHorizontal&&a<0&&(u.textAnchor==="start"?N.textAnchor="end":u.textAnchor==="end"&&(N.textAnchor="start")),m.plotDataLabelsText({x:r,y:s,text:v,i,j:o,parent:g,dataLabelsConfig:N,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}},{key:"drawTotalDataLabels",value:function(e){var r=e.x,s=e.y,a=e.val,i=e.realIndex,o=e.textAnchor,l=e.barTotalDataLabelsConfig;this.w;var c,d=new be(this.barCtx.ctx);return l.enabled&&r!==void 0&&s!==void 0&&this.barCtx.lastActiveBarSerieIndex===i&&(c=d.drawText({x:r,y:s,foreColor:l.style.color,text:a,textAnchor:o,fontFamily:l.style.fontFamily,fontSize:l.style.fontSize,fontWeight:l.style.fontWeight})),c}}]),t}(),fH=function(){function t(e){Be(this,t),this.w=e.w,this.barCtx=e}return Ue(t,[{key:"initVariables",value:function(e){var r=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),r.globals.isXNumeric)for(var a=0;a<e[s].length;a++)r.globals.seriesX[s][a]>r.globals.minX&&r.globals.seriesX[s][a]<r.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=r.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(r.globals.series),ae.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(i){return i.map(function(o){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],r.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var r,s,a,i,o,l,c,d,u=this.w,h=u.globals.dataPoints;this.barCtx.isRangeBar&&(h=u.globals.labels.length);var f=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(f=1),this.barCtx.isHorizontal)o=(a=u.globals.gridHeight/h)/f,u.globals.isXNumeric&&(o=(a=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),d=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(d=u.globals.gridWidth/2),s=(a-o*this.barCtx.seriesLen)/2;else{if(i=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(i=u.globals.gridWidth/u.globals.dataPoints),l=i/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var m=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/m>0&&(i=u.globals.minXDiff/m),(l=i/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(l=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(l=parseInt(this.barCtx.barOptions.columnWidth,10)),c=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?r=this.barCtx.getBarXForNumericXAxis({x:r,j:0,realIndex:e,barWidth:l}).x:r=u.globals.padHorizontal+ae.noExponents(i-l*this.barCtx.seriesLen)/2}return u.globals.barHeight=o,u.globals.barWidth=l,{x:r,y:s,yDivision:a,xDivision:i,barHeight:o,barWidth:l,zeroH:c,zeroW:d}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(r){e[r]||(e[r]={}),e[r].prevY=[],e[r].prevX=[],e[r].prevYF=[],e[r].prevXF=[],e[r].prevYVal=[],e[r].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(r){e[r]||(e[r]={}),e[r].xArrj=[],e[r].xArrjF=[],e[r].xArrjVal=[],e[r].yArrj=[],e[r].yArrjF=[],e[r].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,r,s,a){var i,o,l,c,d=this.w,u=this.barCtx.ctx.fill,h=null,f=this.barCtx.barOptions.distributed?s:r,m=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(p){e[r][s]>=p.from&&e[r][s]<=p.to&&(h=p.color,m=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?f:a,dataPointIndex:s,color:h,value:e[r][s],fillConfig:(i=d.config.series[r].data[s])===null||i===void 0?void 0:i.fill,fillType:(o=d.config.series[r].data[s])!==null&&o!==void 0&&(l=o.fill)!==null&&l!==void 0&&l.type?(c=d.config.series[r].data[s])===null||c===void 0?void 0:c.fill.type:Array.isArray(d.config.fill.type)?d.config.fill.type[a]:d.config.fill.type}),useRangeColor:m}}},{key:"getStrokeWidth",value:function(e,r,s){var a=0,i=this.w;return this.barCtx.series[e][r]===void 0||this.barCtx.series[e][r]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,i.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(e){var r,s=this.w,a=!this.w.config.chart.stacked||s.config.plotOptions.bar.borderRadius<=0,i=e.length,o=0|((r=e[0])===null||r===void 0?void 0:r.length),l=Array.from({length:i},function(){return Array(o).fill(a?"top":"none")});if(a)return l;for(var c=0;c<o;c++){for(var d=[],u=[],h=0,f=0;f<i;f++){var m=e[f][c];m>0?(d.push(f),h++):m<0&&(u.push(f),h++)}if(d.length>0&&u.length===0)if(d.length===1)l[d[0]][c]="both";else{var p,x=d[0],g=d[d.length-1],y=Uu(d);try{for(y.s();!(p=y.n()).done;){var v=p.value;l[v][c]=v===x?"bottom":v===g?"top":"none"}}catch(q){y.e(q)}finally{y.f()}}else if(u.length>0&&d.length===0)if(u.length===1)l[u[0]][c]="both";else{var b,w=Math.max.apply(Math,u),N=Math.min.apply(Math,u),C=Uu(u);try{for(C.s();!(b=C.n()).done;){var S=b.value;l[S][c]=S===w?"bottom":S===N?"top":"none"}}catch(q){C.e(q)}finally{C.f()}}else if(d.length>0&&u.length>0){var k,A=d[d.length-1],T=Uu(d);try{for(T.s();!(k=T.n()).done;){var E=k.value;l[E][c]=E===A?"top":"none"}}catch(q){T.e(q)}finally{T.f()}var D,_=Math.max.apply(Math,u),z=Uu(u);try{for(z.s();!(D=z.n()).done;){var H=D.value;l[H][c]=H===_?"bottom":"none"}}catch(q){z.e(q)}finally{z.f()}}else h===1&&(l[d[0]||u[0]][c]="both")}return l}},{key:"barBackground",value:function(e){var r=e.j,s=e.i,a=e.x1,i=e.x2,o=e.y1,l=e.y2,c=e.elSeries,d=this.w,u=new be(this.barCtx.ctx),h=new cn(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===s){r>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(r%=this.barCtx.barOptions.colors.backgroundBarColors.length);var f=this.barCtx.barOptions.colors.backgroundBarColors[r],m=u.drawRect(a!==void 0?a:0,o!==void 0?o:0,i!==void 0?i:d.globals.gridWidth,l!==void 0?l:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,f,this.barCtx.barOptions.colors.backgroundBarOpacity);c.add(m),m.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var r,s=e.barWidth,a=e.barXPosition,i=e.y1,o=e.y2,l=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,h=e.realIndex,f=e.i,m=e.j,p=e.w,x=new be(this.barCtx.ctx);(l=Array.isArray(l)?l[h]:l)||(l=0);var g=s,y=a;(r=p.config.series[h].data[m])!==null&&r!==void 0&&r.columnWidthOffset&&(y=a-p.config.series[h].data[m].columnWidthOffset/2,g=s+p.config.series[h].data[m].columnWidthOffset);var v=l/2,b=y+v,w=y+g-v,N=(d[f][m]>=0?1:-1)*(c?-1:1);i+=.001-v*N,o+=.001+v*N;var C=x.move(b,i),S=x.move(b,i),k=x.line(w,i);if(p.globals.previousPaths.length>0&&(S=this.barCtx.getPreviousPath(h,m,!1)),C=C+x.line(b,o)+x.line(w,o)+k+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][m]==="both"?" Z":" z"),S=S+x.line(b,i)+k+k+k+k+k+x.line(b,i)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][m]==="both"?" Z":" z"),this.arrBorderRadius[h][m]!=="none"&&(C=x.roundPathCorners(C,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var A=this.barCtx;(A=this.barCtx[u]).yArrj.push(o-v*N),A.yArrjF.push(Math.abs(i-o+l*N)),A.yArrjVal.push(this.barCtx.series[f][m])}return{pathTo:C,pathFrom:S}}},{key:"getBarpaths",value:function(e){var r,s=e.barYPosition,a=e.barHeight,i=e.x1,o=e.x2,l=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,h=e.realIndex,f=e.i,m=e.j,p=e.w,x=new be(this.barCtx.ctx);(l=Array.isArray(l)?l[h]:l)||(l=0);var g=s,y=a;(r=p.config.series[h].data[m])!==null&&r!==void 0&&r.barHeightOffset&&(g=s-p.config.series[h].data[m].barHeightOffset/2,y=a+p.config.series[h].data[m].barHeightOffset);var v=l/2,b=g+v,w=g+y-v,N=(d[f][m]>=0?1:-1)*(c?-1:1);i+=.001+v*N,o+=.001-v*N;var C=x.move(i,b),S=x.move(i,b);p.globals.previousPaths.length>0&&(S=this.barCtx.getPreviousPath(h,m,!1));var k=x.line(i,w);if(C=C+x.line(o,b)+x.line(o,w)+k+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][m]==="both"?" Z":" z"),S=S+x.line(i,b)+k+k+k+k+k+x.line(i,b)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][m]==="both"?" Z":" z"),this.arrBorderRadius[h][m]!=="none"&&(C=x.roundPathCorners(C,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var A=this.barCtx;(A=this.barCtx[u]).xArrj.push(o+v*N),A.xArrjF.push(Math.abs(i-o-l*N)),A.xArrjVal.push(this.barCtx.series[f][m])}return{pathTo:C,pathFrom:S}}},{key:"checkZeroSeries",value:function(e){for(var r=e.series,s=this.w,a=0;a<r.length;a++){for(var i=0,o=0;o<r[s.globals.maxValsInArrayIndex].length;o++)i+=r[a][o];i===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(e,r){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?r:null;return e!=null&&(s=r+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,r,s){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?r:null;return e!=null&&(a=r-e/this.barCtx.yRatio[s]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[s]:0)),a}},{key:"getGoalValues",value:function(e,r,s,a,i,o){var l=this,c=this.w,d=[],u=function(m,p){var x;d.push((Fm(x={},e,e==="x"?l.getXForValue(m,r,!1):l.getYForValue(m,s,o,!1)),Fm(x,"attrs",p),x))};if(c.globals.seriesGoals[a]&&c.globals.seriesGoals[a][i]&&Array.isArray(c.globals.seriesGoals[a][i])&&c.globals.seriesGoals[a][i].forEach(function(m){u(m.value,m)}),this.barCtx.barOptions.isDumbbell&&c.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:c.globals.colors,f={strokeHeight:e==="x"?0:c.globals.markers.size[a],strokeWidth:e==="x"?c.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[a])?h[a][0]:h[a]};u(c.globals.seriesRangeStart[a][i],f),u(c.globals.seriesRangeEnd[a][i],Te(Te({},f),{},{strokeColor:Array.isArray(h[a])?h[a][1]:h[a]}))}return d}},{key:"drawGoalLine",value:function(e){var r=e.barXPosition,s=e.barYPosition,a=e.goalX,i=e.goalY,o=e.barWidth,l=e.barHeight,c=new be(this.barCtx.ctx),d=c.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(h){if(h.x>=-1&&h.x<=c.w.globals.gridWidth+1){var f=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:l/2,m=s+f+l/2;u=c.drawLine(h.x,m-2*f,h.x,m,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),d.add(u)}}):Array.isArray(i)&&i.forEach(function(h){if(h.y>=-1&&h.y<=c.w.globals.gridHeight+1){var f=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:o/2,m=r+f+o/2;u=c.drawLine(m-2*f,h.y,m,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),d.add(u)}}),d}},{key:"drawBarShadow",value:function(e){var r=e.prevPaths,s=e.currPaths,a=e.color,i=this.w,o=r.x,l=r.x1,c=r.barYPosition,d=s.x,u=s.x1,h=s.barYPosition,f=c+s.barHeight,m=new be(this.barCtx.ctx),p=new ae,x=m.move(l,f)+m.line(o,f)+m.line(d,h)+m.line(u,h)+m.line(l,f)+(i.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return m.drawPath({d:x,fill:p.shadeColor(.5,ae.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var r,s=e.i,a=e.j,i=this.w,o=0,l=0;return(i.config.plotOptions.bar.horizontal?i.globals.series.map(function(c,d){return d}):((r=i.globals.columnSeries)===null||r===void 0?void 0:r.i.map(function(c){return c}))||[]).forEach(function(c){var d=i.globals.seriesPercent[c][a];d&&o++,c<s&&d===0&&l++}),{nonZeroColumns:o,zeroEncounters:l}}},{key:"getGroupIndex",value:function(e){var r=this.w,s=r.globals.seriesGroups.findIndex(function(o){return o.indexOf(r.globals.seriesNames[e])>-1}),a=this.barCtx.columnGroupIndices,i=a.indexOf(s);return i<0&&(a.push(s),i=a.length-1),{groupIndex:s,columnGroupIndex:i}}}]),t}(),Od=function(){function t(e,r){Be(this,t),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.globals.seriesRange.length&&s.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=r,this.xyRatios!==null&&(this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.invertedXRatio=r.invertedXRatio,this.invertedYRatio=r.invertedYRatio,this.baseLineY=r.baseLineY,this.baseLineInvertedY=r.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new cn(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var i=a.getBarSeriesIndices(),o=new Or(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(l,c){return i.indexOf(c)===-1?c:-1}).filter(function(l){return l!==-1})),this.barHelpers=new fH(this)}return Ue(t,[{key:"draw",value:function(e,r){var s=this.w,a=new be(this.ctx),i=new Or(this.ctx,s);e=i.getLogSeries(e),this.series=e,this.yRatio=i.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var l=0,c=0;l<e.length;l++,c++){var d,u,h,f,m=void 0,p=void 0,x=[],g=[],y=s.globals.comboCharts?r[l]:l,v=this.barHelpers.getGroupIndex(y).columnGroupIndex,b=a.group({class:"apexcharts-series",rel:l+1,seriesName:ae.escapeString(s.globals.seriesNames[y]),"data:realIndex":y});this.ctx.series.addCollapsedClassToSeries(b,y),e[l].length>0&&(this.visibleI=this.visibleI+1);var w=0,N=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[y],this.translationsIndex=y);var C=this.translationsIndex;this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var S=this.barHelpers.initialPositions(y);p=S.y,w=S.barHeight,u=S.yDivision,f=S.zeroW,m=S.x,N=S.barWidth,d=S.xDivision,h=S.zeroH,this.isHorizontal||g.push(m+N/2);var k=a.group({class:"apexcharts-datalabels","data:realIndex":y});s.globals.delayedElements.push({el:k.node}),k.node.classList.add("apexcharts-element-hidden");var A=a.group({class:"apexcharts-bar-goals-markers"}),T=a.group({class:"apexcharts-bar-shadows"});s.globals.delayedElements.push({el:T.node}),T.node.classList.add("apexcharts-element-hidden");for(var E=0;E<e[l].length;E++){var D=this.barHelpers.getStrokeWidth(l,E,y),_=null,z={indexes:{i:l,j:E,realIndex:y,translationsIndex:C,bc:c},x:m,y:p,strokeWidth:D,elSeries:b};this.isHorizontal?(_=this.drawBarPaths(Te(Te({},z),{},{barHeight:w,zeroW:f,yDivision:u})),N=this.series[l][E]/this.invertedYRatio):(_=this.drawColumnPaths(Te(Te({},z),{},{xDivision:d,barWidth:N,zeroH:h})),w=this.series[l][E]/this.yRatio[C]);var H=this.barHelpers.getPathFillColor(e,l,E,y);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&E>0){var q,K=this.barHelpers.drawBarShadow({color:typeof H.color=="string"&&((q=H.color)===null||q===void 0?void 0:q.indexOf("url"))===-1?H.color:ae.hexToRgba(s.globals.colors[l]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:_});T.add(K),s.config.chart.dropShadow.enabled&&new ks(this.ctx).dropShadow(K,s.config.chart.dropShadow,y)}this.pathArr.push(_);var Y=this.barHelpers.drawGoalLine({barXPosition:_.barXPosition,barYPosition:_.barYPosition,goalX:_.goalX,goalY:_.goalY,barHeight:w,barWidth:N});Y&&A.add(Y),p=_.y,m=_.x,E>0&&g.push(m+N/2),x.push(p),this.renderSeries(Te(Te({realIndex:y,pathFill:H.color},H.useRangeColor?{lineFill:H.color}:{}),{},{j:E,i:l,columnGroupIndex:v,pathFrom:_.pathFrom,pathTo:_.pathTo,strokeWidth:D,elSeries:b,x:m,y:p,series:e,barHeight:Math.abs(_.barHeight?_.barHeight:w),barWidth:Math.abs(_.barWidth?_.barWidth:N),elDataLabelsWrap:k,elGoalsMarkers:A,elBarShadows:T,visibleSeries:this.visibleI,type:"bar"}))}s.globals.seriesXvalues[y]=g,s.globals.seriesYvalues[y]=x,o.add(b)}return o}},{key:"renderSeries",value:function(e){var r=e.realIndex,s=e.pathFill,a=e.lineFill,i=e.j,o=e.i,l=e.columnGroupIndex,c=e.pathFrom,d=e.pathTo,u=e.strokeWidth,h=e.elSeries,f=e.x,m=e.y,p=e.y1,x=e.y2,g=e.series,y=e.barHeight,v=e.barWidth,b=e.barXPosition,w=e.barYPosition,N=e.elDataLabelsWrap,C=e.elGoalsMarkers,S=e.elBarShadows,k=e.visibleSeries,A=e.type,T=e.classes,E=this.w,D=new be(this.ctx),_=!1;if(!a){var z=typeof E.globals.stroke.colors[r]=="function"?function(J){var Z,ne=E.config.stroke.colors;return Array.isArray(ne)&&ne.length>0&&((Z=ne[J])||(Z=""),typeof Z=="function")?Z({value:E.globals.series[J][i],dataPointIndex:i,w:E}):Z}(r):E.globals.stroke.colors[r];a=this.barOptions.distributed?E.globals.stroke.colors[i]:z}var H=new hH(this).handleBarDataLabels({x:f,y:m,y1:p,y2:x,i:o,j:i,series:g,realIndex:r,columnGroupIndex:l,barHeight:y,barWidth:v,barXPosition:b,barYPosition:w,visibleSeries:k});E.globals.isBarHorizontal||(H.dataLabelsPos.dataLabelsX+v<0||H.dataLabelsPos.dataLabelsX-v>E.globals.gridWidth)&&(_=!0),E.config.series[o].data[i]&&E.config.series[o].data[i].strokeColor&&(a=E.config.series[o].data[i].strokeColor),this.isNullValue&&(s="none");var q=i/E.config.chart.animations.animateGradually.delay*(E.config.chart.animations.speed/E.globals.dataPoints)/2.4;if(!_){var K=D.renderPaths({i:o,j:i,realIndex:r,pathFrom:c,pathTo:d,stroke:a,strokeWidth:u,strokeLineCap:E.config.stroke.lineCap,fill:s,animationDelay:q,initialSpeed:E.config.chart.animations.speed,dataChangeSpeed:E.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(A,"-area ").concat(T),chartType:A});K.attr("clip-path","url(#gridRectBarMask".concat(E.globals.cuid,")"));var Y=E.config.forecastDataPoints;Y.count>0&&i>=E.globals.dataPoints-Y.count&&(K.node.setAttribute("stroke-dasharray",Y.dashArray),K.node.setAttribute("stroke-width",Y.strokeWidth),K.node.setAttribute("fill-opacity",Y.fillOpacity)),p!==void 0&&x!==void 0&&(K.attr("data-range-y1",p),K.attr("data-range-y2",x)),new ks(this.ctx).setSelectionFilter(K,r,i),h.add(K),K.attr({cy:H.dataLabelsPos.bcy,cx:H.dataLabelsPos.bcx,j:i,val:E.globals.series[o][i],barHeight:y,barWidth:v}),H.dataLabels!==null&&N.add(H.dataLabels),H.totalDataLabels&&N.add(H.totalDataLabels),h.add(N),C&&h.add(C),S&&h.add(S)}return h}},{key:"drawBarPaths",value:function(e){var r,s=e.indexes,a=e.barHeight,i=e.strokeWidth,o=e.zeroW,l=e.x,c=e.y,d=e.yDivision,u=e.elSeries,h=this.w,f=s.i,m=s.j;if(h.globals.isXNumeric)r=(c=(h.globals.seriesX[f][m]-h.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=this.barHelpers.getZeroValueEncounters({i:f,j:m}),x=p.nonZeroColumns,g=p.zeroEncounters;x>0&&(a=this.seriesLen*a/x),r=c+a*this.visibleI,r-=a*g}else r=c+a*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[f][m],o)-o)/2),l=this.barHelpers.getXForValue(this.series[f][m],o);var y=this.barHelpers.getBarpaths({barYPosition:r,barHeight:a,x1:o,x2:l,strokeWidth:i,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,i:f,j:m,w:h});return h.globals.isXNumeric||(c+=d),this.barHelpers.barBackground({j:m,i:f,y1:r-a*this.visibleI,y2:a*this.seriesLen,elSeries:u}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x1:o,x:l,y:c,goalX:this.barHelpers.getGoalValues("x",o,null,f,m),barYPosition:r,barHeight:a}}},{key:"drawColumnPaths",value:function(e){var r,s=e.indexes,a=e.x,i=e.y,o=e.xDivision,l=e.barWidth,c=e.zeroH,d=e.strokeWidth,u=e.elSeries,h=this.w,f=s.realIndex,m=s.translationsIndex,p=s.i,x=s.j,g=s.bc;if(h.globals.isXNumeric){var y=this.getBarXForNumericXAxis({x:a,j:x,realIndex:f,barWidth:l});a=y.x,r=y.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var v=this.barHelpers.getZeroValueEncounters({i:p,j:x}),b=v.nonZeroColumns,w=v.zeroEncounters;b>0&&(l=this.seriesLen*l/b),r=a+l*this.visibleI,r-=l*w}else r=a+l*this.visibleI;i=this.barHelpers.getYForValue(this.series[p][x],c,m);var N=this.barHelpers.getColumnPaths({barXPosition:r,barWidth:l,y1:c,y2:i,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:f,i:p,j:x,w:h});return h.globals.isXNumeric||(a+=o),this.barHelpers.barBackground({bc:g,j:x,i:p,x1:r-d/2-l*this.visibleI,x2:l*this.seriesLen+d/2,elSeries:u}),{pathTo:N.pathTo,pathFrom:N.pathFrom,x:a,y:i,goalY:this.barHelpers.getGoalValues("y",null,c,p,x,m),barXPosition:r,barWidth:l}}},{key:"getBarXForNumericXAxis",value:function(e){var r=e.x,s=e.barWidth,a=e.realIndex,i=e.j,o=this.w,l=a;return o.globals.seriesX[a].length||(l=o.globals.maxValsInArrayIndex),ae.isNumber(o.globals.seriesX[l][i])&&(r=(o.globals.seriesX[l][i]-o.globals.minX)/this.xRatio-s*this.seriesLen/2),{barXPosition:r+s*this.visibleI,x:r}}},{key:"getPreviousPath",value:function(e,r){for(var s=this.w,a="M 0 0",i=0;i<s.globals.previousPaths.length;i++){var o=s.globals.previousPaths[i];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&s.globals.previousPaths[i].paths[r]!==void 0&&(a=s.globals.previousPaths[i].paths[r].d)}return a}}]),t}(),wS=function(t){jf(r,Od);var e=Nf(r);function r(){return Be(this,r),e.apply(this,arguments)}return Ue(r,[{key:"draw",value:function(s,a){var i=this,o=this.w;this.graphics=new be(this.ctx),this.bar=new Od(this.ctx,this.xyRatios);var l=new Or(this.ctx,o);s=l.getLogSeries(s),this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),o.config.chart.stackType==="100%"&&(s=o.globals.comboCharts?a.map(function(p){return o.globals.seriesPercent[p]}):o.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var c=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,u=0,h=function(p,x){var g=void 0,y=void 0,v=void 0,b=void 0,w=o.globals.comboCharts?a[p]:p,N=i.barHelpers.getGroupIndex(w),C=N.groupIndex,S=N.columnGroupIndex;i.groupCtx=i[o.globals.seriesGroups[C]];var k=[],A=[],T=0;i.yRatio.length>1&&(i.yaxisIndex=o.globals.seriesYAxisReverseMap[w][0],T=w),i.isReversed=o.config.yaxis[i.yaxisIndex]&&o.config.yaxis[i.yaxisIndex].reversed;var E=i.graphics.group({class:"apexcharts-series",seriesName:ae.escapeString(o.globals.seriesNames[w]),rel:p+1,"data:realIndex":w});i.ctx.series.addCollapsedClassToSeries(E,w);var D=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":w}),_=i.graphics.group({class:"apexcharts-bar-goals-markers"}),z=0,H=0,q=i.initialPositions(d,u,g,y,v,b,T);u=q.y,z=q.barHeight,y=q.yDivision,b=q.zeroW,d=q.x,H=q.barWidth,g=q.xDivision,v=q.zeroH,o.globals.barHeight=z,o.globals.barWidth=H,i.barHelpers.initializeStackedXYVars(i),i.groupCtx.prevY.length===1&&i.groupCtx.prevY[0].every(function(G){return isNaN(G)})&&(i.groupCtx.prevY[0]=i.groupCtx.prevY[0].map(function(){return v}),i.groupCtx.prevYF[0]=i.groupCtx.prevYF[0].map(function(){return 0}));for(var K=0;K<o.globals.dataPoints;K++){var Y=i.barHelpers.getStrokeWidth(p,K,w),J={indexes:{i:p,j:K,realIndex:w,translationsIndex:T,bc:x},strokeWidth:Y,x:d,y:u,elSeries:E,columnGroupIndex:S,seriesGroup:o.globals.seriesGroups[C]},Z=null;i.isHorizontal?(Z=i.drawStackedBarPaths(Te(Te({},J),{},{zeroW:b,barHeight:z,yDivision:y})),H=i.series[p][K]/i.invertedYRatio):(Z=i.drawStackedColumnPaths(Te(Te({},J),{},{xDivision:g,barWidth:H,zeroH:v})),z=i.series[p][K]/i.yRatio[T]);var ne=i.barHelpers.drawGoalLine({barXPosition:Z.barXPosition,barYPosition:Z.barYPosition,goalX:Z.goalX,goalY:Z.goalY,barHeight:z,barWidth:H});ne&&_.add(ne),u=Z.y,d=Z.x,k.push(d),A.push(u);var F=i.barHelpers.getPathFillColor(s,p,K,w),Q="",W=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(i.barHelpers.arrBorderRadius[w][K]==="bottom"&&o.globals.series[w][K]>0||i.barHelpers.arrBorderRadius[w][K]==="top"&&o.globals.series[w][K]<0)&&(Q=W),E=i.renderSeries(Te(Te({realIndex:w,pathFill:F.color},F.useRangeColor?{lineFill:F.color}:{}),{},{j:K,i:p,columnGroupIndex:S,pathFrom:Z.pathFrom,pathTo:Z.pathTo,strokeWidth:Y,elSeries:E,x:d,y:u,series:s,barHeight:z,barWidth:H,elDataLabelsWrap:D,elGoalsMarkers:_,type:"bar",visibleSeries:S,classes:Q}))}o.globals.seriesXvalues[w]=k,o.globals.seriesYvalues[w]=A,i.groupCtx.prevY.push(i.groupCtx.yArrj),i.groupCtx.prevYF.push(i.groupCtx.yArrjF),i.groupCtx.prevYVal.push(i.groupCtx.yArrjVal),i.groupCtx.prevX.push(i.groupCtx.xArrj),i.groupCtx.prevXF.push(i.groupCtx.xArrjF),i.groupCtx.prevXVal.push(i.groupCtx.xArrjVal),c.add(E)},f=0,m=0;f<s.length;f++,m++)h(f,m);return c}},{key:"initialPositions",value:function(s,a,i,o,l,c,d){var u,h,f=this.w;if(this.isHorizontal){o=f.globals.gridHeight/f.globals.dataPoints;var m=f.config.plotOptions.bar.barHeight;u=String(m).indexOf("%")===-1?parseInt(m,10):o*parseInt(m,10)/100,c=f.globals.padHorizontal+(this.isReversed?f.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(o-u)/2}else{h=i=f.globals.gridWidth/f.globals.dataPoints;var p=f.config.plotOptions.bar.columnWidth;f.globals.isXNumeric&&f.globals.dataPoints>1?h=(i=f.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(p).indexOf("%")===-1?h=parseInt(p,10):h*=parseInt(p,10)/100,l=this.isReversed?this.baseLineY[d]:f.globals.gridHeight-this.baseLineY[d],s=f.globals.padHorizontal+(i-h)/2}var x=f.globals.barGroups.length||1;return{x:s,y:a,yDivision:o,xDivision:i,barHeight:u/x,barWidth:h/x,zeroH:l,zeroW:c}}},{key:"drawStackedBarPaths",value:function(s){for(var a,i=s.indexes,o=s.barHeight,l=s.strokeWidth,c=s.zeroW,d=s.x,u=s.y,h=s.columnGroupIndex,f=s.seriesGroup,m=s.yDivision,p=s.elSeries,x=this.w,g=u+h*o,y=i.i,v=i.j,b=i.realIndex,w=i.translationsIndex,N=0,C=0;C<this.groupCtx.prevXF.length;C++)N+=this.groupCtx.prevXF[C][v];var S=y;if(x.config.series[b].name&&(S=f.indexOf(x.config.series[b].name)),S>0){var k=c;this.groupCtx.prevXVal[S-1][v]<0?k=this.series[y][v]>=0?this.groupCtx.prevX[S-1][v]+N-2*(this.isReversed?N:0):this.groupCtx.prevX[S-1][v]:this.groupCtx.prevXVal[S-1][v]>=0&&(k=this.series[y][v]>=0?this.groupCtx.prevX[S-1][v]:this.groupCtx.prevX[S-1][v]-N+2*(this.isReversed?N:0)),a=k}else a=c;d=this.series[y][v]===null?a:a+this.series[y][v]/this.invertedYRatio-2*(this.isReversed?this.series[y][v]/this.invertedYRatio:0);var A=this.barHelpers.getBarpaths({barYPosition:g,barHeight:o,x1:a,x2:d,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,seriesGroup:f,i:y,j:v,w:x});return this.barHelpers.barBackground({j:v,i:y,y1:g,y2:o,elSeries:p}),u+=m,{pathTo:A.pathTo,pathFrom:A.pathFrom,goalX:this.barHelpers.getGoalValues("x",c,null,y,v,w),barXPosition:a,barYPosition:g,x:d,y:u}}},{key:"drawStackedColumnPaths",value:function(s){var a=s.indexes,i=s.x,o=s.y,l=s.xDivision,c=s.barWidth,d=s.zeroH,u=s.columnGroupIndex,h=s.seriesGroup,f=s.elSeries,m=this.w,p=a.i,x=a.j,g=a.bc,y=a.realIndex,v=a.translationsIndex;if(m.globals.isXNumeric){var b=m.globals.seriesX[y][x];b||(b=0),i=(b-m.globals.minX)/this.xRatio-c/2*m.globals.barGroups.length}for(var w,N=i+u*c,C=0,S=0;S<this.groupCtx.prevYF.length;S++)C+=isNaN(this.groupCtx.prevYF[S][x])?0:this.groupCtx.prevYF[S][x];var k=p;if(h&&(k=h.indexOf(m.globals.seriesNames[y])),k>0&&!m.globals.isXNumeric||k>0&&m.globals.isXNumeric&&m.globals.seriesX[y-1][x]===m.globals.seriesX[y][x]){var A,T,E,D=Math.min(this.yRatio.length+1,y+1);if(this.groupCtx.prevY[k-1]!==void 0&&this.groupCtx.prevY[k-1].length)for(var _=1;_<D;_++){var z;if(!isNaN((z=this.groupCtx.prevY[k-_])===null||z===void 0?void 0:z[x])){E=this.groupCtx.prevY[k-_][x];break}}for(var H=1;H<D;H++){var q,K;if(((q=this.groupCtx.prevYVal[k-H])===null||q===void 0?void 0:q[x])<0){T=this.series[p][x]>=0?E-C+2*(this.isReversed?C:0):E;break}if(((K=this.groupCtx.prevYVal[k-H])===null||K===void 0?void 0:K[x])>=0){T=this.series[p][x]>=0?E:E+C-2*(this.isReversed?C:0);break}}T===void 0&&(T=m.globals.gridHeight),w=(A=this.groupCtx.prevYF[0])!==null&&A!==void 0&&A.every(function(J){return J===0})&&this.groupCtx.prevYF.slice(1,k).every(function(J){return J.every(function(Z){return isNaN(Z)})})?d:T}else w=d;o=this.series[p][x]?w-this.series[p][x]/this.yRatio[v]+2*(this.isReversed?this.series[p][x]/this.yRatio[v]:0):w;var Y=this.barHelpers.getColumnPaths({barXPosition:N,barWidth:c,y1:w,y2:o,yRatio:this.yRatio[v],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:a.realIndex,i:p,j:x,w:m});return this.barHelpers.barBackground({bc:g,j:x,i:p,x1:N,x2:c,elSeries:f}),{pathTo:Y.pathTo,pathFrom:Y.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,p,x),barXPosition:N,x:m.globals.isXNumeric?i:i+l,y:o}}}]),r}(),fg=function(t){jf(r,Od);var e=Nf(r);function r(){return Be(this,r),e.apply(this,arguments)}return Ue(r,[{key:"draw",value:function(s,a,i){var o=this,l=this.w,c=new be(this.ctx),d=l.globals.comboCharts?a:l.config.chart.type,u=new Ln(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=l.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var h=new Or(this.ctx,l);s=h.getLogSeries(s),this.series=s,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var f=c.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),m=function(x){o.isBoxPlot=l.config.chart.type==="boxPlot"||l.config.series[x].type==="boxPlot";var g,y,v,b,w=void 0,N=void 0,C=[],S=[],k=l.globals.comboCharts?i[x]:x,A=o.barHelpers.getGroupIndex(k).columnGroupIndex,T=c.group({class:"apexcharts-series",seriesName:ae.escapeString(l.globals.seriesNames[k]),rel:x+1,"data:realIndex":k});o.ctx.series.addCollapsedClassToSeries(T,k),s[x].length>0&&(o.visibleI=o.visibleI+1);var E,D,_=0;o.yRatio.length>1&&(o.yaxisIndex=l.globals.seriesYAxisReverseMap[k][0],_=k);var z=o.barHelpers.initialPositions(k);N=z.y,E=z.barHeight,y=z.yDivision,b=z.zeroW,w=z.x,D=z.barWidth,g=z.xDivision,v=z.zeroH,S.push(w+D/2);for(var H=c.group({class:"apexcharts-datalabels","data:realIndex":k}),q=c.group({class:"apexcharts-bar-goals-markers"}),K=function(J){var Z=o.barHelpers.getStrokeWidth(x,J,k),ne=null,F={indexes:{i:x,j:J,realIndex:k,translationsIndex:_},x:w,y:N,strokeWidth:Z,elSeries:T};ne=o.isHorizontal?o.drawHorizontalBoxPaths(Te(Te({},F),{},{yDivision:y,barHeight:E,zeroW:b})):o.drawVerticalBoxPaths(Te(Te({},F),{},{xDivision:g,barWidth:D,zeroH:v})),N=ne.y,w=ne.x;var Q=o.barHelpers.drawGoalLine({barXPosition:ne.barXPosition,barYPosition:ne.barYPosition,goalX:ne.goalX,goalY:ne.goalY,barHeight:E,barWidth:D});Q&&q.add(Q),J>0&&S.push(w+D/2),C.push(N),ne.pathTo.forEach(function(W,G){var te=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?ne.color[G]:l.globals.stroke.colors[x],ee=u.fillPath({seriesNumber:k,dataPointIndex:J,color:ne.color[G],value:s[x][J]});o.renderSeries({realIndex:k,pathFill:ee,lineFill:te,j:J,i:x,pathFrom:ne.pathFrom,pathTo:W,strokeWidth:Z,elSeries:T,x:w,y:N,series:s,columnGroupIndex:A,barHeight:E,barWidth:D,elDataLabelsWrap:H,elGoalsMarkers:q,visibleSeries:o.visibleI,type:l.config.chart.type})})},Y=0;Y<l.globals.dataPoints;Y++)K(Y);l.globals.seriesXvalues[k]=S,l.globals.seriesYvalues[k]=C,f.add(T)},p=0;p<s.length;p++)m(p);return f}},{key:"drawVerticalBoxPaths",value:function(s){var a=s.indexes,i=s.x;s.y;var o=s.xDivision,l=s.barWidth,c=s.zeroH,d=s.strokeWidth,u=this.w,h=new be(this.ctx),f=a.i,m=a.j,p=u.config.plotOptions.candlestick.colors,x=this.boxOptions.colors,g=a.realIndex,y=function(Y){return Array.isArray(Y)?Y[g]:Y},v=y(p.upward),b=y(p.downward),w=this.yRatio[a.translationsIndex],N=this.getOHLCValue(g,m),C=c,S=c,k=N.o<N.c?[v]:[b];this.isBoxPlot&&(k=[y(x.lower),y(x.upper)]);var A=Math.min(N.o,N.c),T=Math.max(N.o,N.c),E=N.m;u.globals.isXNumeric&&(i=(u.globals.seriesX[g][m]-u.globals.minX)/this.xRatio-l/2);var D=i+l*this.visibleI;this.series[f][m]===void 0||this.series[f][m]===null?(A=c,T=c):(A=c-A/w,T=c-T/w,C=c-N.h/w,S=c-N.l/w,E=c-N.m/w);var _=h.move(D,c),z=h.move(D+l/2,A);if(u.globals.previousPaths.length>0&&(z=this.getPreviousPath(g,m,!0)),this.isOHLC){var H=D+l/2,q=c-N.o/w,K=c-N.c/w;_=[h.move(H,C)+h.line(H,S)+h.move(H,q)+h.line(D,q)+h.move(H,K)+h.line(D+l,K)]}else _=this.isBoxPlot?[h.move(D,A)+h.line(D+l/2,A)+h.line(D+l/2,C)+h.line(D+l/4,C)+h.line(D+l-l/4,C)+h.line(D+l/2,C)+h.line(D+l/2,A)+h.line(D+l,A)+h.line(D+l,E)+h.line(D,E)+h.line(D,A+d/2),h.move(D,E)+h.line(D+l,E)+h.line(D+l,T)+h.line(D+l/2,T)+h.line(D+l/2,S)+h.line(D+l-l/4,S)+h.line(D+l/4,S)+h.line(D+l/2,S)+h.line(D+l/2,T)+h.line(D,T)+h.line(D,E)+"z"]:[h.move(D,T)+h.line(D+l/2,T)+h.line(D+l/2,C)+h.line(D+l/2,T)+h.line(D+l,T)+h.line(D+l,A)+h.line(D+l/2,A)+h.line(D+l/2,S)+h.line(D+l/2,A)+h.line(D,A)+h.line(D,T-d/2)];return z+=h.move(D,A),u.globals.isXNumeric||(i+=o),{pathTo:_,pathFrom:z,x:i,y:T,goalY:this.barHelpers.getGoalValues("y",null,c,f,m,a.translationsIndex),barXPosition:D,color:k}}},{key:"drawHorizontalBoxPaths",value:function(s){var a=s.indexes;s.x;var i=s.y,o=s.yDivision,l=s.barHeight,c=s.zeroW,d=s.strokeWidth,u=this.w,h=new be(this.ctx),f=a.i,m=a.j,p=this.boxOptions.colors.lower;this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var x=this.invertedYRatio,g=a.realIndex,y=this.getOHLCValue(g,m),v=c,b=c,w=Math.min(y.o,y.c),N=Math.max(y.o,y.c),C=y.m;u.globals.isXNumeric&&(i=(u.globals.seriesX[g][m]-u.globals.minX)/this.invertedXRatio-l/2);var S=i+l*this.visibleI;this.series[f][m]===void 0||this.series[f][m]===null?(w=c,N=c):(w=c+w/x,N=c+N/x,v=c+y.h/x,b=c+y.l/x,C=c+y.m/x);var k=h.move(c,S),A=h.move(w,S+l/2);return u.globals.previousPaths.length>0&&(A=this.getPreviousPath(g,m,!0)),k=[h.move(w,S)+h.line(w,S+l/2)+h.line(v,S+l/2)+h.line(v,S+l/2-l/4)+h.line(v,S+l/2+l/4)+h.line(v,S+l/2)+h.line(w,S+l/2)+h.line(w,S+l)+h.line(C,S+l)+h.line(C,S)+h.line(w+d/2,S),h.move(C,S)+h.line(C,S+l)+h.line(N,S+l)+h.line(N,S+l/2)+h.line(b,S+l/2)+h.line(b,S+l-l/4)+h.line(b,S+l/4)+h.line(b,S+l/2)+h.line(N,S+l/2)+h.line(N,S)+h.line(C,S)+"z"],A+=h.move(w,S),u.globals.isXNumeric||(i+=o),{pathTo:k,pathFrom:A,x:N,y:i,goalX:this.barHelpers.getGoalValues("x",c,null,f,m),barYPosition:S,color:p}}},{key:"getOHLCValue",value:function(s,a){var i=this.w,o=new Or(this.ctx,i),l=o.getLogValAtSeriesIndex(i.globals.seriesCandleH[s][a],s),c=o.getLogValAtSeriesIndex(i.globals.seriesCandleO[s][a],s),d=o.getLogValAtSeriesIndex(i.globals.seriesCandleM[s][a],s),u=o.getLogValAtSeriesIndex(i.globals.seriesCandleC[s][a],s),h=o.getLogValAtSeriesIndex(i.globals.seriesCandleL[s][a],s);return{o:this.isBoxPlot?l:c,h:this.isBoxPlot?c:l,m:d,l:this.isBoxPlot?u:h,c:this.isBoxPlot?h:u}}}]),r}(),RP=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"checkColorRange",value:function(){var e=this.w,r=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(a,i){a.from<=0&&(r=!0)}),r}},{key:"getShadeColor",value:function(e,r,s,a){var i=this.w,o=1,l=i.config.plotOptions[e].shadeIntensity,c=this.determineColor(e,r,s);i.globals.hasNegs||a?o=i.config.plotOptions[e].reverseNegativeShade?c.percent<0?c.percent/100*(1.25*l):(1-c.percent/100)*(1.25*l):c.percent<=0?1-(1+c.percent/100)*l:(1-c.percent/100)*l:(o=1-c.percent/100,e==="treemap"&&(o=(1-c.percent/100)*(1.25*l)));var d=c.color,u=new ae;if(i.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*o,c.color);d=ae.hexToRgba(ae.isColorHex(h)?h:ae.rgb2hex(h),i.config.fill.opacity)}else{var f=u.shadeColor(o,c.color);d=ae.hexToRgba(ae.isColorHex(f)?f:ae.rgb2hex(f),i.config.fill.opacity)}return{color:d,colorProps:c}}},{key:"determineColor",value:function(e,r,s){var a=this.w,i=a.globals.series[r][s],o=a.config.plotOptions[e],l=o.colorScale.inverse?s:r;o.distributed&&a.config.chart.type==="treemap"&&(l=s);var c=a.globals.colors[l],d=null,u=Math.min.apply(Math,ls(a.globals.series[r])),h=Math.max.apply(Math,ls(a.globals.series[r]));o.distributed||e!=="heatmap"||(u=a.globals.minY,h=a.globals.maxY),o.colorScale.min!==void 0&&(u=o.colorScale.min<a.globals.minY?o.colorScale.min:a.globals.minY,h=o.colorScale.max>a.globals.maxY?o.colorScale.max:a.globals.maxY);var f=Math.abs(h)+Math.abs(u),m=100*i/(f===0?f-1e-6:f);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(p,x){if(i>=p.from&&i<=p.to){c=p.color,d=p.foreColor?p.foreColor:null,u=p.from,h=p.to;var g=Math.abs(h)+Math.abs(u);m=100*i/(g===0?g-1e-6:g)}}),{color:c,foreColor:d,percent:m}}},{key:"calculateDataLabels",value:function(e){var r=e.text,s=e.x,a=e.y,i=e.i,o=e.j,l=e.colorProps,c=e.fontSize,d=this.w.config.dataLabels,u=new be(this.ctx),h=new Id(this.ctx),f=null;if(d.enabled){f=u.group({class:"apexcharts-data-labels"});var m=d.offsetX,p=d.offsetY,x=s+m,g=a+parseFloat(d.style.fontSize)/3+p;h.plotDataLabelsText({x,y:g,text:r,i,j:o,color:l.foreColor,parent:f,fontSize:c,dataLabelsConfig:d})}return f}},{key:"addListeners",value:function(e){var r=new be(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this,e))}}]),t}(),mH=function(){function t(e,r){Be(this,t),this.ctx=e,this.w=e.w,this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new RP(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Ue(t,[{key:"draw",value:function(e){var r=this.w,s=new be(this.ctx),a=s.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")"));var i=r.globals.gridWidth/r.globals.dataPoints,o=r.globals.gridHeight/r.globals.series.length,l=0,c=!1;this.negRange=this.helpers.checkColorRange();var d=e.slice();r.config.yaxis[0].reversed&&(c=!0,d.reverse());for(var u=c?0:d.length-1;c?u<d.length:u>=0;c?u++:u--){var h=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ae.escapeString(r.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),r.config.chart.dropShadow.enabled){var f=r.config.chart.dropShadow;new ks(this.ctx).dropShadow(h,f,u)}for(var m=0,p=r.config.plotOptions.heatmap.shadeIntensity,x=0,g=0;g<r.globals.dataPoints;g++)if(r.globals.seriesX.length&&!r.globals.allSeriesHasEqualX&&r.globals.minX+r.globals.minXDiff*g<r.globals.seriesX[u][x])m+=i;else{if(x>=d[u].length)break;var y=this.helpers.getShadeColor(r.config.chart.type,u,x,this.negRange),v=y.color,b=y.colorProps;r.config.fill.type==="image"&&(v=new Ln(this.ctx).fillPath({seriesNumber:u,dataPointIndex:x,opacity:r.globals.hasNegs?b.percent<0?1-(1+b.percent/100):p+b.percent/100:b.percent/100,patternID:ae.randomId(),width:r.config.fill.image.width?r.config.fill.image.width:i,height:r.config.fill.image.height?r.config.fill.image.height:o}));var w=this.rectRadius,N=s.drawRect(m,l,i,o,w);if(N.attr({cx:m,cy:l}),N.node.classList.add("apexcharts-heatmap-rect"),h.add(N),N.attr({fill:v,i:u,index:u,j:x,val:e[u][x],"stroke-width":this.strokeWidth,stroke:r.config.plotOptions.heatmap.useFillColorAsStroke?v:r.globals.stroke.colors[0],color:v}),this.helpers.addListeners(N),r.config.chart.animations.enabled&&!r.globals.dataChanged){var C=1;r.globals.resized||(C=r.config.chart.animations.speed),this.animateHeatMap(N,m,l,i,o,C)}if(r.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&r.globals.shouldAnimate){S=this.dynamicAnim.speed;var k=r.globals.previousPaths[u]&&r.globals.previousPaths[u][x]&&r.globals.previousPaths[u][x].color;k||(k="rgba(255, 255, 255, 0)"),this.animateHeatColor(N,ae.isColorHex(k)?k:ae.rgb2hex(k),ae.isColorHex(v)?v:ae.rgb2hex(v),S)}}var A=(0,r.config.dataLabels.formatter)(r.globals.series[u][x],{value:r.globals.series[u][x],seriesIndex:u,dataPointIndex:x,w:r}),T=this.helpers.calculateDataLabels({text:A,x:m+i/2,y:l+o/2,i:u,j:x,colorProps:b,series:d});T!==null&&h.add(T),m+=i,x++}l+=o,a.add(h)}var E=r.globals.yAxisScale[0].result.slice();return r.config.yaxis[0].reversed?E.unshift(""):E.push(""),r.globals.yAxisScale[0].result=E,a}},{key:"animateHeatMap",value:function(e,r,s,a,i,o){var l=new au(this.ctx);l.animateRect(e,{x:r+a/2,y:s+i/2,width:0,height:0},{x:r,y:s,width:a,height:i},o,function(){l.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,r,s,a){e.attr({fill:r}).animate(a).attr({fill:s})}}]),t}(),FP=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"drawYAxisTexts",value:function(e,r,s,a){var i=this.w,o=i.config.yaxis[0],l=i.globals.yLabelFormatters[0];return new be(this.ctx).drawText({x:e+o.labels.offsetX,y:r+o.labels.offsetY,text:l(a,s),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[s]:o.labels.style.colors})}}]),t}(),LP=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=Math.min(r.globals.gridWidth,r.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=r.globals.gridWidth/2,r.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(r.config.plotOptions.pie.endAngle-r.config.plotOptions.pie.startAngle),this.initialAngle=r.config.plotOptions.pie.startAngle%this.fullAngle,r.globals.radialSize=this.defaultSize/2.05-r.config.stroke.width-(r.config.chart.sparkline.enabled?0:r.config.chart.dropShadow.blur),this.donutSize=r.globals.radialSize*parseInt(r.config.plotOptions.pie.donut.size,10)/100;var s=r.config.plotOptions.pie.customScale,a=r.globals.gridWidth/2,i=r.globals.gridHeight/2;this.translateX=a-a*s,this.translateY=i-i*s,this.dataLabelsGroup=new be(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Ue(t,[{key:"draw",value:function(e){var r=this,s=this.w,a=new be(this.ctx),i=a.group({class:"apexcharts-pie"});if(s.globals.noData)return i;for(var o=0,l=0;l<e.length;l++)o+=ae.negToZero(e[l]);var c=[],d=a.group();o===0&&(o=1e-5),e.forEach(function(b){r.maxY=Math.max(r.maxY,b)}),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),s.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(i);for(var u=0;u<e.length;u++){var h=this.fullAngle*ae.negToZero(e[u])/o;c.push(h),this.chartType==="polarArea"?(c[u]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var f,m=0,p=0;p<s.globals.previousPaths.length;p++)m+=ae.negToZero(s.globals.previousPaths[p]);for(var x=0;x<s.globals.previousPaths.length;x++)f=this.fullAngle*ae.negToZero(s.globals.previousPaths[x])/m,this.prevSectorAngleArr.push(f)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var g=a.drawCircle(this.donutSize);g.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),d.add(g)}var y=this.drawArcs(c,e);if(this.sliceLabels.forEach(function(b){y.add(b)}),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),d.add(y),i.add(d),this.donutDataLabels.show){var v=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});i.add(v)}return s.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(i),i}},{key:"drawArcs",value:function(e,r){var s=this.w,a=new ks(this.ctx),i=new be(this.ctx),o=new Ln(this.ctx),l=i.group({class:"apexcharts-slices"}),c=this.initialAngle,d=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var f=0;f<e.length;f++){var m=i.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ae.escapeString(s.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});l.add(m),d=h,u=(c=u)+e[f],h=d+this.prevSectorAngleArr[f];var p=u<c?this.fullAngle+u-c:u-c,x=o.fillPath({seriesNumber:f,size:this.sliceSizes[f],value:r[f]}),g=this.getChangedPath(d,h),y=i.drawPath({d:g,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[f]:this.lineColorArr,strokeWidth:0,fill:x,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(f)});if(y.attr({index:0,j:f}),a.setSelectionFilter(y,0,f),s.config.chart.dropShadow.enabled){var v=s.config.chart.dropShadow;a.dropShadow(y,v,f)}this.addListeners(y,this.donutDataLabels),be.setAttrs(y.node,{"data:angle":p,"data:startAngle":c,"data:strokeWidth":this.strokeWidth,"data:value":r[f]});var b={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?b=ae.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(c+p/2)%this.fullAngle):this.chartType==="donut"&&(b=ae.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(c+p/2)%this.fullAngle)),m.add(y);var w=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):((w=p/this.fullAngle*s.config.chart.animations.speed)===0&&(w=1),this.animDur=w+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths(y,{size:this.sliceSizes[f],endAngle:u,startAngle:c,prevStartAngle:d,prevEndAngle:h,animateStartingPos:!0,i:f,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(y,{size:this.sliceSizes[f],endAngle:u,startAngle:c,i:f,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:w}),s.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&y.node.addEventListener("mouseup",this.pieClicked.bind(this,f)),s.globals.selectedDataPoints[0]!==void 0&&s.globals.selectedDataPoints[0].indexOf(f)>-1&&this.pieClicked(f),s.config.dataLabels.enabled){var N=b.x,C=b.y,S=100*p/this.fullAngle+"%";if(p!==0&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[f]){var k=s.config.dataLabels.formatter;k!==void 0&&(S=k(s.globals.seriesPercent[f][0],{seriesIndex:f,w:s}));var A=s.globals.dataLabels.style.colors[f],T=i.group({class:"apexcharts-datalabels"}),E=i.drawText({x:N,y:C,text:S,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:A});if(T.add(E),s.config.dataLabels.dropShadow.enabled){var D=s.config.dataLabels.dropShadow;a.dropShadow(E,D)}E.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&s.globals.resized===!1&&(E.node.classList.add("apexcharts-pie-label-delay"),E.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(T)}}}return l}},{key:"addListeners",value:function(e,r){var s=new be(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,r)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,r)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,r)))}},{key:"animatePaths",value:function(e,r){var s=this.w,a=r.endAngle<r.startAngle?this.fullAngle+r.endAngle-r.startAngle:r.endAngle-r.startAngle,i=a,o=r.startAngle,l=r.startAngle;r.prevStartAngle!==void 0&&r.prevEndAngle!==void 0&&(o=r.prevEndAngle,i=r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle),r.i===s.config.series.length-1&&(a+l>this.fullAngle?r.endAngle=r.endAngle-(a+l):a+l<this.fullAngle&&(r.endAngle=r.endAngle+(this.fullAngle-(a+l)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(e,o,l,a,i,r)}},{key:"animateArc",value:function(e,r,s,a,i,o){var l,c=this,d=this.w,u=new au(this.ctx),h=o.size;(isNaN(r)||isNaN(i))&&(r=s,i=a,o.dur=0);var f=a,m=s,p=r<s?this.fullAngle+r-s:r-s;d.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(l=c.getPiePath({me:c,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:h}),e.attr({d:l})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after(function(){c.chartType!=="pie"&&c.chartType!=="donut"&&c.chartType!=="polarArea"||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":c.strokeWidth}),o.i===d.config.series.length-1&&u.animationCompleted(e)}).during(function(x){f=p+(a-p)*x,o.animateStartingPos&&(f=i+(a-i)*x,m=r-i+(s-(r-i))*x),l=c.getPiePath({me:c,startAngle:m,angle:f,size:h}),e.node.setAttribute("data:pathOrig",l),e.attr({d:l})}):(l=c.getPiePath({me:c,startAngle:m,angle:a,size:h}),o.isTrack||(d.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",l),e.attr({d:l,"stroke-width":c.strokeWidth}))}},{key:"pieClicked",value:function(e){var r,s=this.w,a=this,i=a.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),o=s.globals.dom.Paper.findOne(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var l=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(l,function(h){h.setAttribute("data:pieClicked","false");var f=h.getAttribute("data:pathOrig");f&&h.setAttribute("d",f)}),s.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var c=parseInt(o.attr("data:startAngle"),10),d=parseInt(o.attr("data:angle"),10);r=a.getPiePath({me:a,startAngle:c,angle:d,size:i}),d!==360&&o.plot(r)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var u=o.attr("data:pathOrig");o.attr({d:u})}}},{key:"getChangedPath",value:function(e,r){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:r-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var r,s=e.me,a=e.startAngle,i=e.angle,o=e.size,l=new be(this.ctx),c=a,d=Math.PI*(c-90)/180,u=i+a;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,f=s.centerX+o*Math.cos(d),m=s.centerY+o*Math.sin(d),p=s.centerX+o*Math.cos(h),x=s.centerY+o*Math.sin(h),g=ae.polarToCartesian(s.centerX,s.centerY,s.donutSize,u),y=ae.polarToCartesian(s.centerX,s.centerY,s.donutSize,c),v=i>180?1:0,b=["M",f,m,"A",o,o,0,v,1,p,x];return r=s.chartType==="donut"?[].concat(b,["L",g.x,g.y,"A",s.donutSize,s.donutSize,0,v,0,y.x,y.y,"L",f,m,"z"]).join(" "):s.chartType==="pie"||s.chartType==="polarArea"?[].concat(b,["L",s.centerX,s.centerY,"L",f,m]).join(" "):[].concat(b).join(" "),l.roundPathCorners(r,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var r=this.w,s=new EP(this.ctx),a=new be(this.ctx),i=new FP(this.ctx),o=a.group(),l=a.group(),c=s.niceScale(0,Math.ceil(this.maxY),0),d=c.result.reverse(),u=c.result.length;this.maxY=c.niceMax;for(var h=r.globals.radialSize,f=h/(u-1),m=0;m<u-1;m++){var p=a.drawCircle(h);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":r.config.plotOptions.polarArea.rings.strokeWidth,stroke:r.config.plotOptions.polarArea.rings.strokeColor}),r.config.yaxis[0].show){var x=i.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(r.config.yaxis[0].labels.style.fontSize,10)/2,m,d[m]);l.add(x)}o.add(p),h-=f}this.drawSpokes(e),e.add(o),e.add(l)}},{key:"renderInnerDataLabels",value:function(e,r,s){var a=this.w,i=new be(this.ctx),o=r.total.show;e.node.innerHTML="",e.node.style.opacity=s.opacity;var l,c,d=s.centerX,u=this.donutDataLabels.total.label?s.centerY:s.centerY-s.centerY/6;l=r.name.color===void 0?a.globals.colors[0]:r.name.color;var h=r.name.fontSize,f=r.name.fontFamily,m=r.name.fontWeight;c=r.value.color===void 0?a.config.chart.foreColor:r.value.color;var p=r.value.formatter,x="",g="";if(o?(l=r.total.color,h=r.total.fontSize,f=r.total.fontFamily,m=r.total.fontWeight,g=this.donutDataLabels.total.label?r.total.label:"",x=r.total.formatter(a)):a.globals.series.length===1&&(x=p(a.globals.series[0],a),g=a.globals.seriesNames[0]),g&&(g=r.name.formatter(g,r.total.show,a)),r.name.show){var y=i.drawText({x:d,y:u+parseFloat(r.name.offsetY),text:g,textAnchor:"middle",foreColor:l,fontSize:h,fontWeight:m,fontFamily:f});y.node.classList.add("apexcharts-datalabel-label"),e.add(y)}if(r.value.show){var v=r.name.show?parseFloat(r.value.offsetY)+16:r.value.offsetY,b=i.drawText({x:d,y:u+v,text:x,textAnchor:"middle",foreColor:c,fontWeight:r.value.fontWeight,fontSize:r.value.fontSize,fontFamily:r.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),e.add(b)}return e}},{key:"printInnerLabels",value:function(e,r,s,a){var i,o=this.w;a?i=e.name.color===void 0?o.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(i=e.total.color);var l=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),c=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,o),a||typeof e.total.formatter!="function"||(s=e.total.formatter(o));var d=r===e.total.label;r=this.donutDataLabels.total.label?e.name.formatter(r,d,o):"",l!==null&&(l.textContent=r),c!==null&&(c.textContent=s),l!==null&&(l.style.fill=i)}},{key:"printDataLabelsInner",value:function(e,r){var s=this.w,a=e.getAttribute("data:value"),i=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(r,i,a,e);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var r=this,s=this.w,a=new be(this.ctx),i=s.config.plotOptions.polarArea.spokes;if(i.strokeWidth!==0){for(var o=[],l=360/s.globals.series.length,c=0;c<s.globals.series.length;c++)o.push(ae.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+l*c));o.forEach(function(d,u){var h=a.drawLine(d.x,d.y,r.centerX,r.centerY,Array.isArray(i.connectorColors)?i.connectorColors[u]:i.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var r=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),s=this.renderInnerDataLabels(r,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(s)}}}]),t}(),xH=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var r=this.w;this.graphics=new be(this.ctx),this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=r.globals.svgHeight<r.globals.svgWidth?r.globals.gridHeight:r.globals.gridWidth,this.isLog=r.config.yaxis[0].logarithmic,this.logBase=r.config.yaxis[0].logBase,this.coreUtils=new Or(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,r.globals.maxY,0):r.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):r.globals.minY,this.polygons=r.config.plotOptions.radar.polygons,this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-r.config.chart.dropShadow.blur,r.config.xaxis.labels.show&&(this.size=this.size-r.globals.xAxisLabelsWidth/1.75),r.config.plotOptions.radar.size!==void 0&&(this.size=r.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Ue(t,[{key:"draw",value:function(e){var r=this,s=this.w,a=new Ln(this.ctx),i=[],o=new Id(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var l=s.globals.gridWidth/2,c=s.globals.gridHeight/2,d=l+s.config.plotOptions.radar.offsetX,u=c+s.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d||0,", ").concat(u||0,")")}),f=[],m=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(g,y){var v=g.length===s.globals.dataPoints,b=r.graphics.group().attr({class:"apexcharts-series","data:longestSeries":v,seriesName:ae.escapeString(s.globals.seriesNames[y]),rel:y+1,"data:realIndex":y});r.dataRadiusOfPercent[y]=[],r.dataRadius[y]=[],r.angleArr[y]=[],g.forEach(function(_,z){var H=Math.abs(r.maxValue-r.minValue);_-=r.minValue,r.isLog&&(_=r.coreUtils.getLogVal(r.logBase,_,0)),r.dataRadiusOfPercent[y][z]=_/H,r.dataRadius[y][z]=r.dataRadiusOfPercent[y][z]*r.size,r.angleArr[y][z]=z*r.disAngle}),f=r.getDataPointsPos(r.dataRadius[y],r.angleArr[y]);var w=r.createPaths(f,{x:0,y:0});m=r.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":y}),s.globals.delayedElements.push({el:m.node,index:y});var N={i:y,realIndex:y,animationDelay:y,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[y],strokeLineCap:s.config.stroke.lineCap},C=null;s.globals.previousPaths.length>0&&(C=r.getPreviousPath(y));for(var S=0;S<w.linePathsTo.length;S++){var k=r.graphics.renderPaths(Te(Te({},N),{},{pathFrom:C===null?w.linePathsFrom[S]:C,pathTo:w.linePathsTo[S],strokeWidth:Array.isArray(r.strokeWidth)?r.strokeWidth[y]:r.strokeWidth,fill:"none",drawShadow:!1}));b.add(k);var A=a.fillPath({seriesNumber:y}),T=r.graphics.renderPaths(Te(Te({},N),{},{pathFrom:C===null?w.areaPathsFrom[S]:C,pathTo:w.areaPathsTo[S],strokeWidth:0,fill:A,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var E=new ks(r.ctx),D=s.config.chart.dropShadow;E.dropShadow(T,Object.assign({},D,{noUserSpaceOnUse:!0}),y)}b.add(T)}g.forEach(function(_,z){var H=new lu(r.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:y,dataPointIndex:z}),q=r.graphics.drawMarker(f[z].x,f[z].y,H);q.attr("rel",z),q.attr("j",z),q.attr("index",y),q.node.setAttribute("default-marker-size",H.pSize);var K=r.graphics.group({class:"apexcharts-series-markers"});K&&K.add(q),m.add(K),b.add(m);var Y=s.config.dataLabels;if(Y.enabled){var J=Y.formatter(s.globals.series[y][z],{seriesIndex:y,dataPointIndex:z,w:s});o.plotDataLabelsText({x:f[z].x,y:f[z].y,text:J,textAnchor:"middle",i:y,j:y,parent:p,offsetCorrection:!1,dataLabelsConfig:Te({},Y)})}b.add(p)}),i.push(b)}),this.drawPolygons({parent:h}),s.config.xaxis.labels.show){var x=this.drawXAxisTexts();h.add(x)}return i.forEach(function(g){h.add(g)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var r=this,s=this.w,a=e.parent,i=new FP(this.ctx),o=s.globals.yAxisScale[0].result.reverse(),l=o.length,c=[],d=this.size/(l-1),u=0;u<l;u++)c[u]=d*u;c.reverse();var h=[],f=[];c.forEach(function(m,p){var x=ae.getPolygonPos(m,r.dataPointsLen),g="";x.forEach(function(y,v){if(p===0){var b=r.graphics.drawLine(y.x,y.y,0,0,Array.isArray(r.polygons.connectorColors)?r.polygons.connectorColors[v]:r.polygons.connectorColors);f.push(b)}v===0&&r.yaxisLabelsTextsPos.push({x:y.x,y:y.y}),g+=y.x+","+y.y+" "}),h.push(g)}),h.forEach(function(m,p){var x=r.polygons.strokeColors,g=r.polygons.strokeWidth,y=r.graphics.drawPolygon(m,Array.isArray(x)?x[p]:x,Array.isArray(g)?g[p]:g,s.globals.radarPolygons.fill.colors[p]);a.add(y)}),f.forEach(function(m){a.add(m)}),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(m,p){var x=i.drawYAxisTexts(m.x,m.y,p,o[p]);r.yaxisLabels.add(x)})}},{key:"drawXAxisTexts",value:function(){var e=this,r=this.w,s=r.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),i=ae.getPolygonPos(this.size,this.dataPointsLen);return r.globals.labels.forEach(function(o,l){var c=r.config.xaxis.labels.formatter,d=new Id(e.ctx);if(i[l]){var u=e.getTextPos(i[l],e.size),h=c(o,{seriesIndex:-1,dataPointIndex:l,w:r});d.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:l,j:l,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(s.style.colors)&&s.style.colors[l]?s.style.colors[l]:"#a8a8a8",dataLabelsConfig:Te({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1}).on("click",function(f){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var m=Object.assign({},r,{labelIndex:l});r.config.chart.events.xAxisLabelClick(f,e.ctx,m)}})}}),a}},{key:"createPaths",value:function(e,r){var s=this,a=[],i=[],o=[],l=[];if(e.length){i=[this.graphics.move(r.x,r.y)],l=[this.graphics.move(r.x,r.y)];var c=this.graphics.move(e[0].x,e[0].y),d=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,h){c+=s.graphics.line(u.x,u.y),d+=s.graphics.line(u.x,u.y),h===e.length-1&&(c+="Z",d+="Z")}),a.push(c),o.push(d)}return{linePathsFrom:i,linePathsTo:a,areaPathsFrom:l,areaPathsTo:o}}},{key:"getTextPos",value:function(e,r){var s="middle",a=e.x,i=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",a+=10):e.x<0&&(s="end",a-=10):s="middle",Math.abs(e.y)>=r-10&&(e.y<0?i-=10:e.y>0&&(i+=10)),{textAnchor:s,newX:a,newY:i}}},{key:"getPreviousPath",value:function(e){for(var r=this.w,s=null,a=0;a<r.globals.previousPaths.length;a++){var i=r.globals.previousPaths[a];i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&r.globals.previousPaths[a].paths[0]!==void 0&&(s=r.globals.previousPaths[a].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],r=r||[];for(var a=[],i=0;i<s;i++){var o={};o.x=e[i]*Math.sin(r[i]),o.y=-e[i]*Math.cos(r[i]),a.push(o)}return a}}]),t}(),pH=function(t){jf(r,LP);var e=Nf(r);function r(s){var a;Be(this,r),(a=e.call(this,s)).ctx=s,a.w=s.w,a.animBeginArr=[0],a.animDur=0;var i=a.w;return a.startAngle=i.config.plotOptions.radialBar.startAngle,a.endAngle=i.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle),a.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(i.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(KE(a)),a}return Ue(r,[{key:"draw",value:function(s){var a=this.w,i=new be(this.ctx),o=i.group({class:"apexcharts-radialbar"});if(a.globals.noData)return o;var l=i.group(),c=this.defaultSize/2,d=a.globals.gridWidth/2,u=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(u=u-a.config.stroke.width-a.config.chart.dropShadow.blur);var h=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var f=this.drawTracks({size:u,centerX:d,centerY:c,colorArr:h,series:s});l.add(f)}var m=this.drawArcs({size:u,centerX:d,centerY:c,colorArr:h,series:s}),p=360;a.config.plotOptions.radialBar.startAngle<0&&(p=this.totalAngle);var x=(360-p)/360;if(a.globals.radialSize=u-u*x,this.radialDataLabels.value.show){var g=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=g*x}return l.add(m.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(m.g.add(m.elHollow),m.dataLabels&&m.g.add(m.dataLabels)),o.add(l),o}},{key:"drawTracks",value:function(s){var a=this.w,i=new be(this.ctx),o=i.group({class:"apexcharts-tracks"}),l=new ks(this.ctx),c=new Ln(this.ctx),d=this.getStrokeWidth(s);s.size=s.size-d/2;for(var u=0;u<s.series.length;u++){var h=i.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(h),h.attr({rel:u+1}),s.size=s.size-d-this.margin;var f=a.config.plotOptions.radialBar.track,m=c.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(f.background)?f.background[u]:f.background,solid:!0}),p=this.trackStartAngle,x=this.trackEndAngle;Math.abs(x)+Math.abs(p)>=360&&(x=360-Math.abs(this.startAngle)-.1);var g=i.drawPath({d:"",stroke:m,strokeWidth:d*parseInt(f.strokeWidth,10)/100,fill:"none",strokeOpacity:f.opacity,classes:"apexcharts-radialbar-area"});if(f.dropShadow.enabled){var y=f.dropShadow;l.dropShadow(g,y)}h.add(g),g.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(g,{centerX:s.centerX,centerY:s.centerY,endAngle:x,startAngle:p,size:s.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(s){var a=this.w,i=new be(this.ctx),o=new Ln(this.ctx),l=new ks(this.ctx),c=i.group(),d=this.getStrokeWidth(s);s.size=s.size-d/2;var u=a.config.plotOptions.radialBar.hollow.background,h=s.size-d*s.series.length-this.margin*s.series.length-d*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,f=h-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(s,c,h,u));var m=this.drawHollow({size:f,centerX:s.centerX,centerY:s.centerY,fill:u||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var p=a.config.plotOptions.radialBar.hollow.dropShadow;l.dropShadow(m,p)}var x=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(x=0);var g=null;if(this.radialDataLabels.show){var y=a.globals.dom.Paper.findOne(".apexcharts-datalabels-group");g=this.renderInnerDataLabels(y,this.radialDataLabels,{hollowSize:h,centerX:s.centerX,centerY:s.centerY,opacity:x})}a.config.plotOptions.radialBar.hollow.position==="back"&&(c.add(m),g&&c.add(g));var v=!1;a.config.plotOptions.radialBar.inverseOrder&&(v=!0);for(var b=v?s.series.length-1:0;v?b>=0:b<s.series.length;v?b--:b++){var w=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ae.escapeString(a.globals.seriesNames[b])});c.add(w),w.attr({rel:b+1,"data:realIndex":b}),this.ctx.series.addCollapsedClassToSeries(w,b),s.size=s.size-d-this.margin;var N=o.fillPath({seriesNumber:b,size:s.size,value:s.series[b]}),C=this.startAngle,S=void 0,k=ae.negToZero(s.series[b]>100?100:s.series[b])/100,A=Math.round(this.totalAngle*k)+this.startAngle,T=void 0;a.globals.dataChanged&&(S=this.startAngle,T=Math.round(this.totalAngle*ae.negToZero(a.globals.previousPaths[b])/100)+S),Math.abs(A)+Math.abs(C)>360&&(A-=.01),Math.abs(T)+Math.abs(S)>360&&(T-=.01);var E=A-C,D=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[b]:a.config.stroke.dashArray,_=i.drawPath({d:"",stroke:N,strokeWidth:d,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+b,strokeDashArray:D});if(be.setAttrs(_.node,{"data:angle":E,"data:value":s.series[b]}),a.config.chart.dropShadow.enabled){var z=a.config.chart.dropShadow;l.dropShadow(_,z,b)}if(l.setSelectionFilter(_,0,b),this.addListeners(_,this.radialDataLabels),w.add(_),_.attr({index:0,j:b}),this.barLabels.enabled){var H=ae.polarToCartesian(s.centerX,s.centerY,s.size,C),q=this.barLabels.formatter(a.globals.seriesNames[b],{seriesIndex:b,w:a}),K=["apexcharts-radialbar-label"];this.barLabels.onClick||K.push("apexcharts-no-click");var Y=this.barLabels.useSeriesColors?a.globals.colors[b]:a.config.chart.foreColor;Y||(Y=a.config.chart.foreColor);var J=H.x+this.barLabels.offsetX,Z=H.y+this.barLabels.offsetY,ne=i.drawText({x:J,y:Z,text:q,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:Y,cssClass:K.join(" ")});ne.on("click",this.onBarLabelClick),ne.attr({rel:b+1}),C!==0&&ne.attr({"transform-origin":"".concat(J," ").concat(Z),transform:"rotate(".concat(C," 0 0)")}),w.add(ne)}var F=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(F=a.config.chart.animations.speed),a.globals.dataChanged&&(F=a.config.chart.animations.dynamicAnimation.speed),this.animDur=F/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(_,{centerX:s.centerX,centerY:s.centerY,endAngle:A,startAngle:C,prevEndAngle:T,prevStartAngle:S,size:s.size,i:b,totalItems:2,animBeginArr:this.animBeginArr,dur:F,shouldSetPrevPaths:!0})}return{g:c,elHollow:m,dataLabels:g}}},{key:"drawHollow",value:function(s){var a=new be(this.ctx).drawCircle(2*s.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),a}},{key:"drawHollowImage",value:function(s,a,i,o){var l=this.w,c=new Ln(this.ctx),d=ae.randomId(),u=l.config.plotOptions.radialBar.hollow.image;if(l.config.plotOptions.radialBar.hollow.imageClipped)c.clippedImgArea({width:i,height:i,image:u,patternID:"pattern".concat(l.globals.cuid).concat(d)}),o="url(#pattern".concat(l.globals.cuid).concat(d,")");else{var h=l.config.plotOptions.radialBar.hollow.imageWidth,f=l.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&f===void 0){var m=l.globals.dom.Paper.image(u,function(x){this.move(s.centerX-x.width/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-x.height/2+l.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(m)}else{var p=l.globals.dom.Paper.image(u,function(x){this.move(s.centerX-h/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-f/2+l.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,f)});a.add(p)}}return o}},{key:"getStrokeWidth",value:function(s){var a=this.w;return s.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(s){var a=parseInt(s.target.getAttribute("rel"),10)-1,i=this.barLabels.onClick,o=this.w;i&&i(o.globals.seriesNames[a],{w:o,seriesIndex:a})}}]),r}(),gH=function(t){jf(r,Od);var e=Nf(r);function r(){return Be(this,r),e.apply(this,arguments)}return Ue(r,[{key:"draw",value:function(s,a){var i=this.w,o=new be(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var l=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),c=0;c<s.length;c++){var d,u,h,f,m=void 0,p=void 0,x=i.globals.comboCharts?a[c]:c,g=this.barHelpers.getGroupIndex(x).columnGroupIndex,y=o.group({class:"apexcharts-series",seriesName:ae.escapeString(i.globals.seriesNames[x]),rel:c+1,"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(y,x),s[c].length>0&&(this.visibleI=this.visibleI+1);var v=0,b=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[x][0],w=x);var N=this.barHelpers.initialPositions(x);p=N.y,f=N.zeroW,m=N.x,b=N.barWidth,v=N.barHeight,d=N.xDivision,u=N.yDivision,h=N.zeroH;for(var C=o.group({class:"apexcharts-datalabels","data:realIndex":x}),S=o.group({class:"apexcharts-rangebar-goals-markers"}),k=0;k<i.globals.dataPoints;k++){var A=this.barHelpers.getStrokeWidth(c,k,x),T=this.seriesRangeStart[c][k],E=this.seriesRangeEnd[c][k],D=null,_=null,z=null,H={x:m,y:p,strokeWidth:A,elSeries:y},q=this.seriesLen;if(i.config.plotOptions.bar.rangeBarGroupRows&&(q=1),i.config.series[c].data[k]===void 0)break;if(this.isHorizontal){z=p+v*this.visibleI;var K=(u-v*q)/2;if(i.config.series[c].data[k].x){var Y=this.detectOverlappingBars({i:c,j:k,barYPosition:z,srty:K,barHeight:v,yDivision:u,initPositions:N});v=Y.barHeight,z=Y.barYPosition}b=(D=this.drawRangeBarPaths(Te({indexes:{i:c,j:k,realIndex:x},barHeight:v,barYPosition:z,zeroW:f,yDivision:u,y1:T,y2:E},H))).barWidth}else{i.globals.isXNumeric&&(m=(i.globals.seriesX[c][k]-i.globals.minX)/this.xRatio-b/2),_=m+b*this.visibleI;var J=(d-b*q)/2;if(i.config.series[c].data[k].x){var Z=this.detectOverlappingBars({i:c,j:k,barXPosition:_,srtx:J,barWidth:b,xDivision:d,initPositions:N});b=Z.barWidth,_=Z.barXPosition}v=(D=this.drawRangeColumnPaths(Te({indexes:{i:c,j:k,realIndex:x,translationsIndex:w},barWidth:b,barXPosition:_,zeroH:h,xDivision:d},H))).barHeight}var ne=this.barHelpers.drawGoalLine({barXPosition:D.barXPosition,barYPosition:z,goalX:D.goalX,goalY:D.goalY,barHeight:v,barWidth:b});ne&&S.add(ne),p=D.y,m=D.x;var F=this.barHelpers.getPathFillColor(s,c,k,x);this.renderSeries({realIndex:x,pathFill:F.color,lineFill:F.useRangeColor?F.color:i.globals.stroke.colors[x],j:k,i:c,x:m,y:p,y1:T,y2:E,pathFrom:D.pathFrom,pathTo:D.pathTo,strokeWidth:A,elSeries:y,series:s,barHeight:v,barWidth:b,barXPosition:_,barYPosition:z,columnGroupIndex:g,elDataLabelsWrap:C,elGoalsMarkers:S,visibleSeries:this.visibleI,type:"rangebar"})}l.add(y)}return l}},{key:"detectOverlappingBars",value:function(s){var a=s.i,i=s.j,o=s.barYPosition,l=s.barXPosition,c=s.srty,d=s.srtx,u=s.barHeight,h=s.barWidth,f=s.yDivision,m=s.xDivision,p=s.initPositions,x=this.w,g=[],y=x.config.series[a].data[i].rangeName,v=x.config.series[a].data[i].x,b=Array.isArray(v)?v.join(" "):v,w=x.globals.labels.map(function(C){return Array.isArray(C)?C.join(" "):C}).indexOf(b),N=x.globals.seriesRange[a].findIndex(function(C){return C.x===b&&C.overlaps.length>0});return this.isHorizontal?(o=x.config.plotOptions.bar.rangeBarGroupRows?c+f*w:c+u*this.visibleI+f*w,N>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(g=x.globals.seriesRange[a][N].overlaps).indexOf(y)>-1&&(o=(u=p.barHeight/g.length)*this.visibleI+f*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+g.indexOf(y))+f*w)):(w>-1&&!x.globals.timescaleLabels.length&&(l=x.config.plotOptions.bar.rangeBarGroupRows?d+m*w:d+h*this.visibleI+m*w),N>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(g=x.globals.seriesRange[a][N].overlaps).indexOf(y)>-1&&(l=(h=p.barWidth/g.length)*this.visibleI+m*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+g.indexOf(y))+m*w)),{barYPosition:o,barXPosition:l,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(s){var a=s.indexes,i=s.x,o=s.xDivision,l=s.barWidth,c=s.barXPosition,d=s.zeroH,u=this.w,h=a.i,f=a.j,m=a.realIndex,p=a.translationsIndex,x=this.yRatio[p],g=this.getRangeValue(m,f),y=Math.min(g.start,g.end),v=Math.max(g.start,g.end);this.series[h][f]===void 0||this.series[h][f]===null?y=d:(y=d-y/x,v=d-v/x);var b=Math.abs(v-y),w=this.barHelpers.getColumnPaths({barXPosition:c,barWidth:l,y1:y,y2:v,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:m,i:m,j:f,w:u});if(u.globals.isXNumeric){var N=this.getBarXForNumericXAxis({x:i,j:f,realIndex:m,barWidth:l});i=N.x,c=N.barXPosition}else i+=o;return{pathTo:w.pathTo,pathFrom:w.pathFrom,barHeight:b,x:i,y:g.start<0&&g.end<0?y:v,goalY:this.barHelpers.getGoalValues("y",null,d,h,f,p),barXPosition:c}}},{key:"preventBarOverflow",value:function(s){var a=this.w;return s<0&&(s=0),s>a.globals.gridWidth&&(s=a.globals.gridWidth),s}},{key:"drawRangeBarPaths",value:function(s){var a=s.indexes,i=s.y,o=s.y1,l=s.y2,c=s.yDivision,d=s.barHeight,u=s.barYPosition,h=s.zeroW,f=this.w,m=a.realIndex,p=a.j,x=this.preventBarOverflow(h+o/this.invertedYRatio),g=this.preventBarOverflow(h+l/this.invertedYRatio),y=this.getRangeValue(m,p),v=Math.abs(g-x),b=this.barHelpers.getBarpaths({barYPosition:u,barHeight:d,x1:x,x2:g,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:m,realIndex:m,j:p,w:f});return f.globals.isXNumeric||(i+=c),{pathTo:b.pathTo,pathFrom:b.pathFrom,barWidth:v,x:y.start<0&&y.end<0?x:g,goalX:this.barHelpers.getGoalValues("x",h,null,m,p),y:i}}},{key:"getRangeValue",value:function(s,a){var i=this.w;return{start:i.globals.seriesRangeStart[s][a],end:i.globals.seriesRangeEnd[s][a]}}}]),r}(),yH=function(){function t(e){Be(this,t),this.w=e.w,this.lineCtx=e}return Ue(t,[{key:"sameValueSeriesFix",value:function(e,r){var s=this.w;if((s.config.fill.type==="gradient"||s.config.fill.type[e]==="gradient")&&new Or(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var a=r[e].slice();a[a.length-1]=a[a.length-1]+1e-6,r[e]=a}return r}},{key:"calculatePoints",value:function(e){var r=e.series,s=e.realIndex,a=e.x,i=e.y,o=e.i,l=e.j,c=e.prevY,d=this.w,u=[],h=[],f=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;return d.globals.isXNumeric&&(f=(d.globals.seriesX[s][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),l===0&&(u.push(f),h.push(ae.isNumber(r[o][0])?c+d.config.markers.offsetY:null)),u.push(a+d.config.markers.offsetX),h.push(ae.isNumber(r[o][l+1])?i+d.config.markers.offsetY:null),{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var r=e.pathFromLine,s=e.pathFromArea,a=e.realIndex,i=this.w,o=0;o<i.globals.previousPaths.length;o++){var l=i.globals.previousPaths[o];(l.type==="line"||l.type==="area")&&l.paths.length>0&&parseInt(l.realIndex,10)===parseInt(a,10)&&(l.type==="line"?(this.lineCtx.appendPathFrom=!1,r=i.globals.previousPaths[o].paths[0].d):l.type==="area"&&(this.lineCtx.appendPathFrom=!1,s=i.globals.previousPaths[o].paths[0].d,i.config.stroke.show&&i.globals.previousPaths[o].paths[1]&&(r=i.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:r,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var r,s,a,i=e.i,o=e.realIndex,l=e.series,c=e.prevY,d=e.lineYPosition,u=e.translationsIndex,h=this.w,f=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((r=this.w.config.series[o])===null||r===void 0?void 0:r.type)==="bar"||((s=this.w.config.series[o])===null||s===void 0?void 0:s.type)==="column");if(((a=l[i])===null||a===void 0?void 0:a[0])!==void 0)c=(d=f&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-l[i][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?l[i][0]/this.lineCtx.yRatio[u]:0);else if(f&&i>0&&l[i][0]===void 0){for(var m=i-1;m>=0;m--)if(l[m][0]!==null&&l[m][0]!==void 0){c=d=this.lineCtx.prevSeriesY[m][0];break}}return{prevY:c,lineYPosition:d}}}]),t}(),vH=function(t){for(var e,r,s,a,i=function(u){for(var h=[],f=u[0],m=u[1],p=h[0]=mg(f,m),x=1,g=u.length-1;x<g;x++)f=m,m=u[x+1],h[x]=.5*(p+(p=mg(f,m)));return h[x]=p,h}(t),o=t.length-1,l=[],c=0;c<o;c++)s=mg(t[c],t[c+1]),Math.abs(s)<1e-6?i[c]=i[c+1]=0:(a=(e=i[c]/s)*e+(r=i[c+1]/s)*r)>9&&(a=3*s/Math.sqrt(a),i[c]=a*e,i[c+1]=a*r);for(var d=0;d<=o;d++)a=(t[Math.min(o,d+1)][0]-t[Math.max(0,d-1)][0])/(6*(1+i[d]*i[d])),l.push([a||0,i[d]*a||0]);return l},bH=function(t){var e=vH(t),r=t[1],s=t[0],a=[],i=e[1],o=e[0];a.push(s,[s[0]+o[0],s[1]+o[1],r[0]-i[0],r[1]-i[1],r[0],r[1]]);for(var l=2,c=e.length;l<c;l++){var d=t[l],u=e[l];a.push([d[0]-u[0],d[1]-u[1],d[0],d[1]])}return a},wH=function(t,e,r){var s=t.slice(e,r);if(e){if(r-e>1&&s[1].length<6){var a=s[0].length;s[1]=[2*s[0][a-2]-s[0][a-4],2*s[0][a-1]-s[0][a-3]].concat(s[1])}s[0]=s[0].slice(-2)}return s};function mg(t,e){return(e[1]-t[1])/(e[0]-t[0])}var xg=function(){function t(e,r,s){Be(this,t),this.ctx=e,this.w=e.w,this.xyRatios=r,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||s,this.scatter=new AP(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new yH(this),this.markers=new lu(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Ue(t,[{key:"draw",value:function(e,r,s,a){var i,o=this.w,l=new be(this.ctx),c=o.globals.comboCharts?r:o.config.chart.type,d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),u=new Or(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],f=0;f<e.length;f++){e=this.lineHelpers.sameValueSeriesFix(f,e);var m=o.globals.comboCharts?s[f]:f,p=this.yRatio.length>1?m:0;this._initSerieVariables(e,f,m);var x=[],g=[],y=[],v=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,m),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(v=(o.globals.seriesX[m][0]-o.globals.minX)/this.xRatio),y.push(v);var b,w=v,N=void 0,C=w,S=this.zeroY,k=this.zeroY;S=this.lineHelpers.determineFirstPrevY({i:f,realIndex:m,series:e,prevY:S,lineYPosition:0,translationsIndex:p}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[f][0]===null?x.push(null):x.push(S),b=S,c==="rangeArea"&&(N=k=this.lineHelpers.determineFirstPrevY({i:f,realIndex:m,series:a,prevY:k,lineYPosition:0,translationsIndex:p}).prevY,g.push(x[0]!==null?k:null));var A=this._calculatePathsFrom({type:c,series:e,i:f,realIndex:m,translationsIndex:p,prevX:C,prevY:S,prevY2:k}),T=[x[0]],E=[g[0]],D={type:c,series:e,realIndex:m,translationsIndex:p,i:f,x:v,y:1,pX:w,pY:b,pathsFrom:A,linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:y,yArrj:x,y2Arrj:g,seriesRangeEnd:a},_=this._iterateOverDataPoints(Te(Te({},D),{},{iterations:c==="rangeArea"?e[f].length-1:void 0,isRangeStart:!0}));if(c==="rangeArea"){for(var z=this._calculatePathsFrom({series:a,i:f,realIndex:m,prevX:C,prevY:k}),H=this._iterateOverDataPoints(Te(Te({},D),{},{series:a,xArrj:[v],yArrj:T,y2Arrj:E,pY:N,areaPaths:_.areaPaths,pathsFrom:z,iterations:a[f].length-1,isRangeStart:!1})),q=_.linePaths.length/2,K=0;K<q;K++)_.linePaths[K]=H.linePaths[K+q]+_.linePaths[K];_.linePaths.splice(q),_.pathFromLine=H.pathFromLine+_.pathFromLine}else _.pathFromArea+="z";this._handlePaths({type:c,realIndex:m,i:f,paths:_}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((i=o.config.series[0])===null||i===void 0?void 0:i.zIndex)!==void 0&&h.sort(function(Z,ne){return Number(Z.node.getAttribute("zIndex"))-Number(ne.node.getAttribute("zIndex"))}),o.config.chart.stacked)for(var Y=h.length-1;Y>=0;Y--)d.add(h[Y]);else for(var J=0;J<h.length;J++)d.add(h[J]);return d}},{key:"_initSerieVariables",value:function(e,r,s){var a=this.w,i=new be(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[s]:a.config.stroke.width;var o=0;if(this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[s],o=s),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[o]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=i.group({class:"apexcharts-series",zIndex:a.config.series[s].zIndex!==void 0?a.config.series[s].zIndex:s,seriesName:ae.escapeString(a.globals.seriesNames[s])}),this.elPointsMain=i.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),a.globals.hasNullValues){var l=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[a.globals.gridHeight+a.globals.markers.largestSize]},seriesIndex:r,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});l!==null&&this.elPointsMain.add(l)}this.elDataLabelsWrap=i.group({class:"apexcharts-datalabels","data:realIndex":s});var c=e[r].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:r+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var r,s,a,i,o=e.type,l=e.series,c=e.i,d=e.realIndex,u=e.translationsIndex,h=e.prevX,f=e.prevY,m=e.prevY2,p=this.w,x=new be(this.ctx);if(l[c][0]===null){for(var g=0;g<l[c].length;g++)if(l[c][g]!==null){h=this.xDivision*g,f=this.zeroY-l[c][g]/this.yRatio[u],r=x.move(h,f),s=x.move(h,this.areaBottomY);break}}else r=x.move(h,f),o==="rangeArea"&&(r=x.move(h,m)+x.line(h,f)),s=x.move(h,this.areaBottomY)+x.line(h,f);if(a=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),i=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),p.globals.previousPaths.length>0){var y=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:i,realIndex:d});a=y.pathFromLine,i=y.pathFromArea}return{prevX:h,prevY:f,linePath:r,areaPath:s,pathFromLine:a,pathFromArea:i}}},{key:"_handlePaths",value:function(e){var r=e.type,s=e.realIndex,a=e.i,i=e.paths,o=this.w,l=new be(this.ctx),c=new Ln(this.ctx);this.prevSeriesY.push(i.yArrj),o.globals.seriesXvalues[s]=i.xArrj,o.globals.seriesYvalues[s]=i.yArrj;var d=o.config.forecastDataPoints;if(d.count>0&&r!=="rangeArea"){var u=o.globals.seriesXvalues[s][o.globals.seriesXvalues[s].length-d.count-1],h=l.drawRect(u,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(h.node);var f=l.drawRect(0,0,u,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(f.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var m={i:a,realIndex:s,animationDelay:a,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(r)};if(r==="area")for(var p=c.fillPath({seriesNumber:s}),x=0;x<i.areaPaths.length;x++){var g=l.renderPaths(Te(Te({},m),{},{pathFrom:i.pathFromArea,pathTo:i.areaPaths[x],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(g)}if(o.config.stroke.show&&!this.pointsChart){var y=null;if(r==="line")y=c.fillPath({seriesNumber:s,i:a});else if(o.config.stroke.fill.type==="solid")y=o.globals.stroke.colors[s];else{var v=o.config.fill;o.config.fill=o.config.stroke.fill,y=c.fillPath({seriesNumber:s,i:a}),o.config.fill=v}for(var b=0;b<i.linePaths.length;b++){var w=y;r==="rangeArea"&&(w=c.fillPath({seriesNumber:s}));var N=Te(Te({},m),{},{pathFrom:i.pathFromLine,pathTo:i.linePaths[b],stroke:y,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:r==="rangeArea"?w:"none"}),C=l.renderPaths(N);if(this.elSeries.add(C),C.attr("fill-rule","evenodd"),d.count>0&&r!=="rangeArea"){var S=l.renderPaths(N);S.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&S.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(S),S.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),C.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var r,s,a=this,i=e.type,o=e.series,l=e.iterations,c=e.realIndex,d=e.translationsIndex,u=e.i,h=e.x,f=e.y,m=e.pX,p=e.pY,x=e.pathsFrom,g=e.linePaths,y=e.areaPaths,v=e.seriesIndex,b=e.lineYPosition,w=e.xArrj,N=e.yArrj,C=e.y2Arrj,S=e.isRangeStart,k=e.seriesRangeEnd,A=this.w,T=new be(this.ctx),E=this.yRatio,D=x.prevY,_=x.linePath,z=x.areaPath,H=x.pathFromLine,q=x.pathFromArea,K=ae.isNumber(A.globals.minYArr[c])?A.globals.minYArr[c]:A.globals.minY;l||(l=A.globals.dataPoints>1?A.globals.dataPoints-1:A.globals.dataPoints);var Y=function(oe,V){return V-oe/E[d]+2*(a.isReversed?oe/E[d]:0)},J=f,Z=A.config.chart.stacked&&!A.globals.comboCharts||A.config.chart.stacked&&A.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((r=this.w.config.series[c])===null||r===void 0?void 0:r.type)==="bar"||((s=this.w.config.series[c])===null||s===void 0?void 0:s.type)==="column"),ne=A.config.stroke.curve;Array.isArray(ne)&&(ne=Array.isArray(v)?ne[v[u]]:ne[u]);for(var F,Q=0,W=0;W<l&&o[u].length!==0;W++){var G=o[u][W+1]===void 0||o[u][W+1]===null;if(A.globals.isXNumeric){var te=A.globals.seriesX[c][W+1];A.globals.seriesX[c][W+1]===void 0&&(te=A.globals.seriesX[c][l-1]),h=(te-A.globals.minX)/this.xRatio}else h+=this.xDivision;Z?u>0&&A.globals.collapsedSeries.length<A.config.series.length-1?b=this.prevSeriesY[function(oe){for(var V=oe;V>0;V--){if(!(A.globals.collapsedSeriesIndices.indexOf((v==null?void 0:v[V])||V)>-1))return V;V--}return 0}(u-1)][W+1]:b=this.zeroY:b=this.zeroY,G?f=Y(K,b):(f=Y(o[u][W+1],b),i==="rangeArea"&&(J=Y(k[u][W+1],b))),w.push(o[u][W+1]===null?null:h),!G||A.config.stroke.curve!=="smooth"&&A.config.stroke.curve!=="monotoneCubic"?(N.push(f),C.push(J)):(N.push(null),C.push(null));var ee=this.lineHelpers.calculatePoints({series:o,x:h,y:f,realIndex:c,i:u,j:W,prevY:D}),I=this._createPaths({type:i,series:o,i:u,realIndex:c,j:W,x:h,y:f,y2:J,xArrj:w,yArrj:N,y2Arrj:C,pX:m,pY:p,pathState:Q,segmentStartX:F,linePath:_,areaPath:z,linePaths:g,areaPaths:y,curve:ne,isRangeStart:S});y=I.areaPaths,g=I.linePaths,m=I.pX,p=I.pY,Q=I.pathState,F=I.segmentStartX,z=I.areaPath,_=I.linePath,!this.appendPathFrom||A.globals.hasNullValues||ne==="monotoneCubic"&&i==="rangeArea"||(H+=T.line(h,this.areaBottomY),q+=T.line(h,this.areaBottomY)),this.handleNullDataPoints(o,ee,u,W,c),this._handleMarkersAndLabels({type:i,pointsPos:ee,i:u,j:W,realIndex:c,isRangeStart:S})}return{yArrj:N,xArrj:w,pathFromArea:q,areaPaths:y,pathFromLine:H,linePaths:g,linePath:_,areaPath:z}}},{key:"_handleMarkersAndLabels",value:function(e){var r=e.type,s=e.pointsPos,a=e.isRangeStart,i=e.i,o=e.j,l=e.realIndex,c=this.w,d=new Id(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:l,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{c.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:s,seriesIndex:l,j:o+1});u!==null&&this.elPointsMain.add(u)}var h=d.drawDataLabel({type:r,isRangeStart:a,pos:s,i:l,j:o+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var r=e.type,s=e.series,a=e.i;e.realIndex;var i,o=e.j,l=e.x,c=e.y,d=e.xArrj,u=e.yArrj,h=e.y2,f=e.y2Arrj,m=e.pX,p=e.pY,x=e.pathState,g=e.segmentStartX,y=e.linePath,v=e.areaPath,b=e.linePaths,w=e.areaPaths,N=e.curve,C=e.isRangeStart,S=new be(this.ctx),k=this.areaBottomY,A=r==="rangeArea",T=r==="rangeArea"&&C;switch(N){case"monotoneCubic":var E=C?u:f;switch(x){case 0:if(E[o+1]===null)break;x=1;case 1:if(!(A?d.length===s[a].length:o===s[a].length-2))break;case 2:var D=C?d:d.slice().reverse(),_=C?E:E.slice().reverse(),z=(i=_,D.map(function(te,ee){return[te,i[ee]]}).filter(function(te){return te[1]!==null})),H=z.length>1?bH(z):z,q=[];A&&(T?w=z:q=w.reverse());var K=0,Y=0;if(function(te,ee){for(var I=function(ye){var Ae=[],Re=0;return ye.forEach(function(nt){nt!==null?Re++:Re>0&&(Ae.push(Re),Re=0)}),Re>0&&Ae.push(Re),Ae}(te),oe=[],V=0,pe=0;V<I.length;pe+=I[V++])oe[V]=wH(ee,pe,pe+I[V]);return oe}(_,H).forEach(function(te){K++;var ee=function(V){for(var pe="",ye=0;ye<V.length;ye++){var Ae=V[ye],Re=Ae.length;Re>4?(pe+="C".concat(Ae[0],", ").concat(Ae[1]),pe+=", ".concat(Ae[2],", ").concat(Ae[3]),pe+=", ".concat(Ae[4],", ").concat(Ae[5])):Re>2&&(pe+="S".concat(Ae[0],", ").concat(Ae[1]),pe+=", ".concat(Ae[2],", ").concat(Ae[3]))}return pe}(te),I=Y,oe=(Y+=te.length)-1;T?y=S.move(z[I][0],z[I][1])+ee:A?y=S.move(q[I][0],q[I][1])+S.line(z[I][0],z[I][1])+ee+S.line(q[oe][0],q[oe][1]):(y=S.move(z[I][0],z[I][1])+ee,v=y+S.line(z[oe][0],k)+S.line(z[I][0],k)+"z",w.push(v)),b.push(y)}),A&&K>1&&!T){var J=b.slice(K).reverse();b.splice(K),J.forEach(function(te){return b.push(te)})}x=0}break;case"smooth":var Z=.35*(l-m);if(s[a][o]===null)x=0;else switch(x){case 0:if(g=m,y=T?S.move(m,f[o])+S.line(m,p):S.move(m,p),v=S.move(m,p),s[a][o+1]===null||s[a][o+1]===void 0){b.push(y),w.push(v);break}if(x=1,o<s[a].length-2){var ne=S.curve(m+Z,p,l-Z,c,l,c);y+=ne,v+=ne;break}case 1:if(s[a][o+1]===null)y+=T?S.line(m,h):S.move(m,p),v+=S.line(m,k)+S.line(g,k)+"z",b.push(y),w.push(v),x=-1;else{var F=S.curve(m+Z,p,l-Z,c,l,c);y+=F,v+=F,o>=s[a].length-2&&(T&&(y+=S.curve(l,c,l,c,l,h)+S.move(l,h)),v+=S.curve(l,c,l,c,l,k)+S.line(g,k)+"z",b.push(y),w.push(v),x=-1)}}m=l,p=c;break;default:var Q=function(te,ee,I){var oe=[];switch(te){case"stepline":oe=S.line(ee,null,"H")+S.line(null,I,"V");break;case"linestep":oe=S.line(null,I,"V")+S.line(ee,null,"H");break;case"straight":oe=S.line(ee,I)}return oe};if(s[a][o]===null)x=0;else switch(x){case 0:if(g=m,y=T?S.move(m,f[o])+S.line(m,p):S.move(m,p),v=S.move(m,p),s[a][o+1]===null||s[a][o+1]===void 0){b.push(y),w.push(v);break}if(x=1,o<s[a].length-2){var W=Q(N,l,c);y+=W,v+=W;break}case 1:if(s[a][o+1]===null)y+=T?S.line(m,h):S.move(m,p),v+=S.line(m,k)+S.line(g,k)+"z",b.push(y),w.push(v),x=-1;else{var G=Q(N,l,c);y+=G,v+=G,o>=s[a].length-2&&(T&&(y+=S.line(l,h)),v+=S.line(l,k)+S.line(g,k)+"z",b.push(y),w.push(v),x=-1)}}m=l,p=c}return{linePaths:b,areaPaths:w,pX:m,pY:p,pathState:x,segmentStartX:g,linePath:y,areaPath:v}}},{key:"handleNullDataPoints",value:function(e,r,s,a,i){var o=this.w;if(e[s][a]===null&&o.config.markers.showNullDataPoints||e[s].length===1){var l=this.strokeWidth-o.config.markers.strokeWidth/2;l>0||(l=0);var c=this.markers.plotChartMarkers({pointsPos:r,seriesIndex:i,j:a+1,pSize:l,alwaysDrawMarker:!0});c!==null&&this.elPointsMain.add(c)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(l,c,d,u){this.xoffset=l,this.yoffset=c,this.height=u,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var f,m=[],p=this.xoffset,x=this.yoffset,g=i(h)/this.height,y=i(h)/this.width;if(this.width>=this.height)for(f=0;f<h.length;f++)m.push([p,x,p+g,x+h[f]/g]),x+=h[f]/g;else for(f=0;f<h.length;f++)m.push([p,x,p+h[f]/y,x+y]),p+=h[f]/y;return m},this.cutArea=function(h){var f;if(this.width>=this.height){var m=h/this.height,p=this.width-m;f=new t(this.xoffset+m,this.yoffset,p,this.height)}else{var x=h/this.width,g=this.height-x;f=new t(this.xoffset,this.yoffset+x,this.width,g)}return f}}function e(l,c,d,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var f=r(function(m,p){var x,g=[],y=p/i(m);for(x=0;x<m.length;x++)g[x]=m[x]*y;return g}(l,c*d),[],new t(u,h,c,d),[]);return function(m){var p,x,g=[];for(p=0;p<m.length;p++)for(x=0;x<m[p].length;x++)g.push(m[p][x]);return g}(f)}function r(l,c,d,u){var h,f,m;if(l.length!==0)return h=d.shortestEdge(),function(p,x,g){var y;if(p.length===0)return!0;(y=p.slice()).push(x);var v=s(p,g),b=s(y,g);return v>=b}(c,f=l[0],h)?(c.push(f),r(l.slice(1),c,d,u)):(m=d.cutArea(i(c),u),u.push(d.getCoordinates(c)),r(l,[],m,u)),u;u.push(d.getCoordinates(c))}function s(l,c){var d=Math.min.apply(Math,l),u=Math.max.apply(Math,l),h=i(l);return Math.max(Math.pow(c,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(c,2)*d))}function a(l){return l&&l.constructor===Array}function i(l){var c,d=0;for(c=0;c<l.length;c++)d+=l[c];return d}function o(l){var c,d=0;if(a(l[0]))for(c=0;c<l.length;c++)d+=o(l[c]);else d=i(l);return d}return function l(c,d,u,h,f){h=h===void 0?0:h,f=f===void 0?0:f;var m,p,x=[],g=[];if(a(c[0])){for(p=0;p<c.length;p++)x[p]=o(c[p]);for(m=e(x,d,u,h,f),p=0;p<c.length;p++)g.push(l(c[p],m[p][2]-m[p][0],m[p][3]-m[p][1],m[p][0],m[p][1]))}else g=e(c,d,u,h,f);return g}}();var NH=function(){function t(e,r){Be(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new RP(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Ue(t,[{key:"draw",value:function(e){var r=this,s=this.w,a=new be(this.ctx),i=new Ln(this.ctx),o=a.group({class:"apexcharts-treemap"});if(s.globals.noData)return o;var l=[];return e.forEach(function(c){var d=c.map(function(u){return Math.abs(u)});l.push(d)}),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach(function(c,d){c.data.forEach(function(u){Array.isArray(r.labels[d])||(r.labels[d]=[]),r.labels[d].push(u.x)})}),window.TreemapSquared.generate(l,s.globals.gridWidth,s.globals.gridHeight).forEach(function(c,d){var u=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ae.escapeString(s.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(s.config.chart.dropShadow.enabled){var h=s.config.chart.dropShadow;new ks(r.ctx).dropShadow(o,h,d)}var f=a.group({class:"apexcharts-data-labels"}),m={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};c.forEach(function(H,q){var K=H[0],Y=H[1],J=H[2],Z=H[3];m.xMin=Math.min(m.xMin,K),m.yMin=Math.min(m.yMin,Y),m.xMax=Math.max(m.xMax,J),m.yMax=Math.max(m.yMax,Z);var ne=r.helpers.getShadeColor(s.config.chart.type,d,q,r.negRange),F=ne.color,Q=i.fillPath({color:F,seriesNumber:d,dataPointIndex:q}),W=a.drawRect(K,Y,J-K,Z-Y,s.config.plotOptions.treemap.borderRadius,"#fff",1,r.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?F:s.globals.stroke.colors[d]);W.attr({cx:K,cy:Y,index:d,i:d,j:q,width:J-K,height:Z-Y,fill:Q}),W.node.classList.add("apexcharts-treemap-rect"),r.helpers.addListeners(W);var G={x:K+(J-K)/2,y:Y+(Z-Y)/2,width:0,height:0},te={x:K,y:Y,width:J-K,height:Z-Y};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var ee=1;s.globals.resized||(ee=s.config.chart.animations.speed),r.animateTreemap(W,G,te,ee)}if(s.globals.dataChanged){var I=1;r.dynamicAnim.enabled&&s.globals.shouldAnimate&&(I=r.dynamicAnim.speed,s.globals.previousPaths[d]&&s.globals.previousPaths[d][q]&&s.globals.previousPaths[d][q].rect&&(G=s.globals.previousPaths[d][q].rect),r.animateTreemap(W,G,te,I))}var oe=r.getFontSize(H),V=s.config.dataLabels.formatter(r.labels[d][q],{value:s.globals.series[d][q],seriesIndex:d,dataPointIndex:q,w:s});s.config.plotOptions.treemap.dataLabels.format==="truncate"&&(oe=parseInt(s.config.dataLabels.style.fontSize,10),V=r.truncateLabels(V,oe,K,Y,J,Z));var pe=null;s.globals.series[d][q]&&(pe=r.helpers.calculateDataLabels({text:V,x:(K+J)/2,y:(Y+Z)/2+r.strokeWidth/2+oe/3,i:d,j:q,colorProps:ne,fontSize:oe,series:e})),s.config.dataLabels.enabled&&pe&&r.rotateToFitLabel(pe,oe,V,K,Y,J,Z),u.add(W),pe!==null&&u.add(pe)});var p=s.config.plotOptions.treemap.seriesTitle;if(s.config.series.length>1&&p&&p.show){var x=s.config.series[d].name||"";if(x&&m.xMin<1/0&&m.yMin<1/0){var g=p.offsetX,y=p.offsetY,v=p.borderColor,b=p.borderWidth,w=p.borderRadius,N=p.style,C=N.color||s.config.chart.foreColor,S={left:N.padding.left,right:N.padding.right,top:N.padding.top,bottom:N.padding.bottom},k=a.getTextRects(x,N.fontSize,N.fontFamily),A=k.width+S.left+S.right,T=k.height+S.top+S.bottom,E=m.xMin+(g||0),D=m.yMin+(y||0),_=a.drawRect(E,D,A,T,w,N.background,1,b,v),z=a.drawText({x:E+S.left,y:D+S.top+.75*k.height,text:x,fontSize:N.fontSize,fontFamily:N.fontFamily,fontWeight:N.fontWeight,foreColor:C,cssClass:N.cssClass||""});u.add(_),u.add(z)}}u.add(f),o.add(u)}),o}},{key:"getFontSize",value:function(e){var r=this.w,s=function a(i){var o,l=0;if(Array.isArray(i[0]))for(o=0;o<i.length;o++)l+=a(i[o]);else for(o=0;o<i.length;o++)l+=i[o].length;return l}(this.labels)/function a(i){var o,l=0;if(Array.isArray(i[0]))for(o=0;o<i.length;o++)l+=a(i[o]);else for(o=0;o<i.length;o++)l+=1;return l}(this.labels);return function(a,i){var o=a*i,l=Math.pow(o,.5);return Math.min(l/s,parseInt(r.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,r,s,a,i,o,l){var c=new be(this.ctx),d=c.getTextRects(s,r);if(d.width+this.w.config.stroke.width+5>o-a&&d.width<=l-i){var u=c.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(e,r,s,a,i,o){var l=new be(this.ctx),c=l.getTextRects(e,r).width+this.w.config.stroke.width+5>i-s&&o-a>i-s?o-a:i-s,d=l.getTextBasedOnMaxWidth({text:e,maxWidth:c,fontSize:r});return e.length!==d.length&&c/r<5?"":d}},{key:"animateTreemap",value:function(e,r,s,a){var i=new au(this.ctx);i.animateRect(e,r,s,a,function(){i.animationCompleted(e)})}}]),t}(),IP=86400,jH=10/IP,SH=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Ue(t,[{key:"calculateTimeScaleTicks",value:function(e,r){var s=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var i=new js(this.ctx),o=(r-e)/864e5;this.determineInterval(o),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,o<jH?a.globals.disableZoomIn=!0:o>5e4&&(a.globals.disableZoomOut=!0);var l=i.getTimeUnitsfromTimestamp(e,r,this.utc),c=a.globals.gridWidth/o,d=c/24,u=d/60,h=u/60,f=Math.floor(24*o),m=Math.floor(1440*o),p=Math.floor(o*IP),x=Math.floor(o),g=Math.floor(o/30),y=Math.floor(o/365),v={minMillisecond:l.minMillisecond,minSecond:l.minSecond,minMinute:l.minMinute,minHour:l.minHour,minDate:l.minDate,minMonth:l.minMonth,minYear:l.minYear},b={firstVal:v,currentMillisecond:v.minMillisecond,currentSecond:v.minSecond,currentMinute:v.minMinute,currentHour:v.minHour,currentMonthDate:v.minDate,currentDate:v.minDate,currentMonth:v.minMonth,currentYear:v.minYear,daysWidthOnXAxis:c,hoursWidthOnXAxis:d,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:p,numberOfMinutes:m,numberOfHours:f,numberOfDays:x,numberOfMonths:g,numberOfYears:y};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var w=this.timeScaleArray.map(function(N){var C={position:N.position,unit:N.unit,year:N.year,day:N.day?N.day:1,hour:N.hour?N.hour:0,month:N.month+1};return N.unit==="month"?Te(Te({},C),{},{day:1,value:N.value+1}):N.unit==="day"||N.unit==="hour"?Te(Te({},C),{},{value:N.value}):N.unit==="minute"?Te(Te({},C),{},{value:N.value,minute:N.value}):N.unit==="second"?Te(Te({},C),{},{value:N.value,minute:N.minute,second:N.second}):N});return w.filter(function(N){var C=1,S=Math.ceil(a.globals.gridWidth/120),k=N.value;a.config.xaxis.tickAmount!==void 0&&(S=a.config.xaxis.tickAmount),w.length>S&&(C=Math.floor(w.length/S));var A=!1,T=!1;switch(s.tickInterval){case"years":N.unit==="year"&&(A=!0);break;case"half_year":C=7,N.unit==="year"&&(A=!0);break;case"months":C=1,N.unit==="year"&&(A=!0);break;case"months_fortnight":C=15,N.unit!=="year"&&N.unit!=="month"||(A=!0),k===30&&(T=!0);break;case"months_days":C=10,N.unit==="month"&&(A=!0),k===30&&(T=!0);break;case"week_days":C=8,N.unit==="month"&&(A=!0);break;case"days":C=1,N.unit==="month"&&(A=!0);break;case"hours":N.unit==="day"&&(A=!0);break;case"minutes_fives":case"seconds_fives":k%5!=0&&(T=!0);break;case"seconds_tens":k%10!=0&&(T=!0)}if(s.tickInterval==="hours"||s.tickInterval==="minutes_fives"||s.tickInterval==="seconds_tens"||s.tickInterval==="seconds_fives"){if(!T)return!0}else if((k%C==0||A)&&!T)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,r){var s=this.w,a=this.formatDates(e),i=this.removeOverlappingTS(a);s.globals.timescaleLabels=i.slice(),new Bm(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var r=24*e,s=60*r;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case r>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var r=e.firstVal,s=e.currentMonth,a=e.currentYear,i=e.daysWidthOnXAxis,o=e.numberOfYears,l=r.minYear,c=0,d=new js(this.ctx),u="year";if(r.minDate>1||r.minMonth>0){var h=d.determineRemainingDaysOfYear(r.minYear,r.minMonth,r.minDate);c=(d.determineDaysOfYear(r.minYear)-h+1)*i,l=r.minYear+1,this.timeScaleArray.push({position:c,value:l,unit:u,year:l,month:ae.monthMod(s+1)})}else r.minDate===1&&r.minMonth===0&&this.timeScaleArray.push({position:c,value:l,unit:u,year:a,month:ae.monthMod(s+1)});for(var f=l,m=c,p=0;p<o;p++)f++,m=d.determineDaysOfYear(f-1)*i+m,this.timeScaleArray.push({position:m,value:f,unit:u,year:f,month:1})}},{key:"generateMonthScale",value:function(e){var r=e.firstVal,s=e.currentMonthDate,a=e.currentMonth,i=e.currentYear,o=e.daysWidthOnXAxis,l=e.numberOfMonths,c=a,d=0,u=new js(this.ctx),h="month",f=0;if(r.minDate>1){d=(u.determineDaysOfMonths(a+1,r.minYear)-s+1)*o,c=ae.monthMod(a+1);var m=i+f,p=ae.monthMod(c),x=c;c===0&&(h="year",x=m,p=1,m+=f+=1),this.timeScaleArray.push({position:d,value:x,unit:h,year:m,month:p})}else this.timeScaleArray.push({position:d,value:c,unit:h,year:i,month:ae.monthMod(a)});for(var g=c+1,y=d,v=0,b=1;v<l;v++,b++){(g=ae.monthMod(g))===0?(h="year",f+=1):h="month";var w=this._getYear(i,g,f);y=u.determineDaysOfMonths(g,w)*o+y;var N=g===0?w:g;this.timeScaleArray.push({position:y,value:N,unit:h,year:w,month:g===0?1:g}),g++}}},{key:"generateDayScale",value:function(e){var r=e.firstVal,s=e.currentMonth,a=e.currentYear,i=e.hoursWidthOnXAxis,o=e.numberOfDays,l=new js(this.ctx),c="day",d=r.minDate+1,u=d,h=function(b,w,N){return b>l.determineDaysOfMonths(w+1,N)&&(u=1,c="month",m=w+=1),w},f=(24-r.minHour)*i,m=d,p=h(u,s,a);r.minHour===0&&r.minDate===1?(f=0,m=ae.monthMod(r.minMonth),c="month",u=r.minDate):r.minDate!==1&&r.minHour===0&&r.minMinute===0&&(f=0,d=r.minDate,m=d,p=h(u=d,s,a),m!==1&&(c="day")),this.timeScaleArray.push({position:f,value:m,unit:c,year:this._getYear(a,p,0),month:ae.monthMod(p),day:u});for(var x=f,g=0;g<o;g++){c="day",p=h(u+=1,p,this._getYear(a,p,0));var y=this._getYear(a,p,0);x=24*i+x;var v=u===1?ae.monthMod(p):u;this.timeScaleArray.push({position:x,value:v,unit:c,year:y,month:ae.monthMod(p),day:v})}}},{key:"generateHourScale",value:function(e){var r=e.firstVal,s=e.currentDate,a=e.currentMonth,i=e.currentYear,o=e.minutesWidthOnXAxis,l=e.numberOfHours,c=new js(this.ctx),d="hour",u=function(C,S){return C>c.determineDaysOfMonths(S+1,i)&&(g=1,S+=1),{month:S,date:g}},h=function(C,S){return C>c.determineDaysOfMonths(S+1,i)?S+=1:S},f=60-(r.minMinute+r.minSecond/60),m=f*o,p=r.minHour+1,x=p;f===60&&(m=0,x=p=r.minHour);var g=s;x>=24&&(x=0,d="day",p=g+=1);var y=u(g,a).month;y=h(g,y),p>31&&(p=g=1),this.timeScaleArray.push({position:m,value:p,unit:d,day:g,hour:x,year:i,month:ae.monthMod(y)}),x++;for(var v=m,b=0;b<l;b++){d="hour",x>=24&&(x=0,d="day",y=u(g+=1,y).month,y=h(g,y));var w=this._getYear(i,y,0);v=60*o+v;var N=x===0?g:x;this.timeScaleArray.push({position:v,value:N,unit:d,hour:x,day:g,year:w,month:ae.monthMod(y)}),x++}}},{key:"generateMinuteScale",value:function(e){for(var r=e.currentMillisecond,s=e.currentSecond,a=e.currentMinute,i=e.currentHour,o=e.currentDate,l=e.currentMonth,c=e.currentYear,d=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,f=a+1,m=o,p=l,x=c,g=i,y=(60-s-r/1e3)*u,v=0;v<h;v++)f>=60&&(f=0,(g+=1)===24&&(g=0)),this.timeScaleArray.push({position:y,value:f,unit:"minute",hour:g,minute:f,day:m,year:this._getYear(x,p,0),month:ae.monthMod(p)}),y+=d,f++}},{key:"generateSecondScale",value:function(e){for(var r=e.currentMillisecond,s=e.currentSecond,a=e.currentMinute,i=e.currentHour,o=e.currentDate,l=e.currentMonth,c=e.currentYear,d=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=s+1,f=a,m=o,p=l,x=c,g=i,y=(1e3-r)/1e3*d,v=0;v<u;v++)h>=60&&(h=0,++f>=60&&(f=0,++g===24&&(g=0))),this.timeScaleArray.push({position:y,value:h,unit:"second",hour:g,minute:f,second:h,day:m,year:this._getYear(x,p,0),month:ae.monthMod(p)}),y+=d,h++}},{key:"createRawDateString",value:function(e,r){var s=e.year;return e.month===0&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?s+=e.unit==="day"?"-"+("0"+r).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?s+=e.unit==="hour"?"T"+("0"+r).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?s+=":"+("0"+r).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?s+=":"+("0"+r).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var r=this,s=this.w;return e.map(function(a){var i=a.value.toString(),o=new js(r.ctx),l=r.createRawDateString(a,i),c=o.getDate(o.parseDate(l));if(r.utc||(c=o.getDate(o.parseDateWithTimezone(l))),s.config.xaxis.labels.format===void 0){var d="dd MMM",u=s.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(d=u.year),a.unit==="month"&&(d=u.month),a.unit==="day"&&(d=u.day),a.unit==="hour"&&(d=u.hour),a.unit==="minute"&&(d=u.minute),a.unit==="second"&&(d=u.second),i=o.formatDate(c,d)}else i=o.formatDate(c,s.config.xaxis.labels.format);return{dateString:l,position:a.position,value:i,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(e){var r,s=this,a=new be(this.ctx),i=!1;e.length>0&&e[0].value&&e.every(function(c){return c.value.length===e[0].value.length})&&(i=!0,r=a.getTextRects(e[0].value).width);var o=0,l=e.map(function(c,d){if(d>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var u=i?r:a.getTextRects(e[o].value).width,h=e[o].position;return c.position>h+u+10?(o=d,c):null}return c});return l=l.filter(function(c){return c!==null})}},{key:"_getYear",value:function(e,r,s){return e+Math.floor(r/12)+s}}]),t}(),CH=function(){function t(e,r){Be(this,t),this.ctx=r,this.w=r.w,this.el=e}return Ue(t,[{key:"setupElements",value:function(){var e=this.w,r=e.globals,s=e.config,a=s.chart.type;r.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),r.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),r.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&s.plotOptions.bar.horizontal,r.chartClass=".apexcharts".concat(r.chartID),r.dom.baseEl=this.el,r.dom.elWrap=document.createElement("div"),be.setAttrs(r.dom.elWrap,{id:r.chartClass.substring(1),class:"apexcharts-canvas ".concat(r.chartClass.substring(1))}),this.el.appendChild(r.dom.elWrap),r.dom.Paper=window.SVG().addTo(r.dom.elWrap),r.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),r.dom.Paper.node.style.background=s.theme.mode!=="dark"||s.chart.background?s.theme.mode!=="light"||s.chart.background?s.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),r.dom.elLegendForeign=document.createElementNS(r.SVGNS,"foreignObject"),be.setAttrs(r.dom.elLegendForeign,{x:0,y:0,width:r.svgWidth,height:r.svgHeight}),r.dom.elLegendWrap=document.createElement("div"),r.dom.elLegendWrap.classList.add("apexcharts-legend"),r.dom.elWrap.appendChild(r.dom.elLegendWrap),r.dom.Paper.node.appendChild(r.dom.elLegendForeign),r.dom.elGraphical=r.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),r.dom.elDefs=r.dom.Paper.defs(),r.dom.Paper.add(r.dom.elGraphical),r.dom.elGraphical.add(r.dom.elDefs)}},{key:"plotChartType",value:function(e,r){var s=this.w,a=this.ctx,i=s.config,o=s.globals,l={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},c=i.chart.type||"line",d=null,u=0;o.series.forEach(function(C,S){var k=e[S].type==="column"?"bar":e[S].type||(c==="column"?"bar":c);l[k]?(k==="rangeArea"?(l[k].series.push(o.seriesRangeStart[S]),l[k].seriesRangeEnd.push(o.seriesRangeEnd[S])):l[k].series.push(C),l[k].i.push(S),k==="bar"&&(s.globals.columnSeries=l.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(k)?d=k:console.warn("You have specified an unrecognized series type (".concat(k,").")),c!==k&&k!=="scatter"&&u++}),u>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),l.bar.series.length>0&&i.plotOptions.bar.horizontal&&(u-=l.bar.series.length,l.bar={series:[],i:[]},s.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=u>0);var h=new xg(a,r),f=new fg(a,r);a.pie=new LP(a);var m=new pH(a);a.rangeBar=new gH(a,r);var p=new xH(a),x=[];if(o.comboCharts){var g,y,v=new Or(a);if(l.area.series.length>0&&(g=x).push.apply(g,ls(v.drawSeriesByGroup(l.area,o.areaGroups,"area",h))),l.bar.series.length>0)if(i.chart.stacked){var b=new wS(a,r);x.push(b.draw(l.bar.series,l.bar.i))}else a.bar=new Od(a,r),x.push(a.bar.draw(l.bar.series,l.bar.i));if(l.rangeArea.series.length>0&&x.push(h.draw(l.rangeArea.series,"rangeArea",l.rangeArea.i,l.rangeArea.seriesRangeEnd)),l.line.series.length>0&&(y=x).push.apply(y,ls(v.drawSeriesByGroup(l.line,o.lineGroups,"line",h))),l.candlestick.series.length>0&&x.push(f.draw(l.candlestick.series,"candlestick",l.candlestick.i)),l.boxPlot.series.length>0&&x.push(f.draw(l.boxPlot.series,"boxPlot",l.boxPlot.i)),l.rangeBar.series.length>0&&x.push(a.rangeBar.draw(l.rangeBar.series,l.rangeBar.i)),l.scatter.series.length>0){var w=new xg(a,r,!0);x.push(w.draw(l.scatter.series,"scatter",l.scatter.i))}if(l.bubble.series.length>0){var N=new xg(a,r,!0);x.push(N.draw(l.bubble.series,"bubble",l.bubble.i))}}else switch(i.chart.type){case"line":x=h.draw(o.series,"line");break;case"area":x=h.draw(o.series,"area");break;case"bar":i.chart.stacked?x=new wS(a,r).draw(o.series):(a.bar=new Od(a,r),x=a.bar.draw(o.series));break;case"candlestick":x=new fg(a,r).draw(o.series,"candlestick");break;case"boxPlot":x=new fg(a,r).draw(o.series,i.chart.type);break;case"rangeBar":x=a.rangeBar.draw(o.series);break;case"rangeArea":x=h.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":x=new mH(a,r).draw(o.series);break;case"treemap":x=new NH(a,r).draw(o.series);break;case"pie":case"donut":case"polarArea":x=a.pie.draw(o.series);break;case"radialBar":x=m.draw(o.series);break;case"radar":x=p.draw(o.series);break;default:x=h.draw(o.series)}return x}},{key:"setSVGDimensions",value:function(){var e=this.w,r=e.globals,s=e.config;s.chart.width=s.chart.width||"100%",s.chart.height=s.chart.height||"auto",r.svgWidth=s.chart.width,r.svgHeight=s.chart.height;var a=ae.getDimensions(this.el),i=s.chart.width.toString().split(/[0-9]+/g).pop();i==="%"?ae.isNumber(a[0])&&(a[0].width===0&&(a=ae.getDimensions(this.el.parentNode)),r.svgWidth=a[0]*parseInt(s.chart.width,10)/100):i!=="px"&&i!==""||(r.svgWidth=parseInt(s.chart.width,10));var o=String(s.chart.height).toString().split(/[0-9]+/g).pop();if(r.svgHeight!=="auto"&&r.svgHeight!=="")if(o==="%"){var l=ae.getDimensions(this.el.parentNode);r.svgHeight=l[1]*parseInt(s.chart.height,10)/100}else r.svgHeight=parseInt(s.chart.height,10);else r.svgHeight=r.axisCharts?r.svgWidth/1.61:r.svgWidth/1.2;if(r.svgWidth=Math.max(r.svgWidth,0),r.svgHeight=Math.max(r.svgHeight,0),be.setAttrs(r.dom.Paper.node,{width:r.svgWidth,height:r.svgHeight}),o!=="%"){var c=s.chart.sparkline.enabled?0:r.axisCharts?s.chart.parentHeightOffset:0;r.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(r.svgHeight+c,"px")}r.dom.elWrap.style.width="".concat(r.svgWidth,"px"),r.dom.elWrap.style.height="".concat(r.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,r=e.translateY,s=e.translateX;be.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(s,", ").concat(r,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,r=e.globals,s=0,a=e.config.chart.sparkline.enabled?1:15;a+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(s=new PP(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var i=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(i&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var l=ae.getBoundingClientRect(i);o=l.bottom;var c=l.bottom-l.top;o=Math.max(2.05*e.globals.radialSize,c)}var d=Math.ceil(o+r.translateY+s+a);r.dom.elLegendForeign&&r.dom.elLegendForeign.setAttribute("height",d),e.config.chart.height&&String(e.config.chart.height).includes("%")||(r.dom.elWrap.style.height="".concat(d,"px"),be.setAttrs(r.dom.Paper.node,{height:d}),r.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new Ev(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,r=function(){return e.w.config.series.map(function(){return[]})},s=new kP,a=this.w.globals;s.initGlobalVars(a),a.seriesXvalues=r(),a.seriesYvalues=r()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,r=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Pv(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Pv(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new SH(this.ctx);var s=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}r=new Or(this.ctx).getCalculatedRatios()}return r}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,r=this.ctx,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var a=Array.isArray(s.config.chart.brush.targets)?s.config.chart.brush.targets:[s.config.chart.brush.target];a.forEach(function(i){var o=r.constructor.getChartByID(i);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})}),s.config.chart.events.selection=function(i,o){a.forEach(function(l){r.constructor.getChartByID(l).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)})}}}}]),t}(),kH=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"_updateOptions",value:function(e){var r=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(l){var c=[r.ctx];i&&(c=r.ctx.getSyncedCharts()),r.ctx.w.globals.isExecCalled&&(c=[r.ctx],r.ctx.w.globals.isExecCalled=!1),c.forEach(function(d,u){var h=d.w;if(h.globals.shouldAnimate=a,s||(h.globals.resized=!0,h.globals.dataChanged=!0,a&&d.series.getPreviousPaths()),e&&Ld(e)==="object"&&(d.config=new Vh(e),e=Or.extendArrayProps(d.config,e,h),d.w.globals.chartID!==r.ctx.w.globals.chartID&&delete e.series,h.config=ae.extend(h.config,e),o&&(h.globals.lastXAxis=e.xaxis?ae.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?ae.clone(e.yaxis):[],h.globals.initialConfig=ae.extend({},h.config),h.globals.initialSeries=ae.clone(h.config.series),e.series))){for(var f=0;f<h.globals.collapsedSeriesIndices.length;f++){var m=h.config.series[h.globals.collapsedSeriesIndices[f]];h.globals.collapsedSeries[f].data=h.globals.axisCharts?m.data.slice():m}for(var p=0;p<h.globals.ancillaryCollapsedSeriesIndices.length;p++){var x=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[p]];h.globals.ancillaryCollapsedSeries[p].data=h.globals.axisCharts?x.data.slice():x}d.series.emptyCollapsedSeries(h.config.series)}return d.update(e).then(function(){u===c.length-1&&l(d)})})})}},{key:"_updateSeries",value:function(e,r){var s=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(i){var o,l=s.w;return l.globals.shouldAnimate=r,l.globals.dataChanged=!0,r&&s.ctx.series.getPreviousPaths(),l.globals.axisCharts?((o=e.map(function(c,d){return s._extendSeries(c,d)})).length===0&&(o=[{data:[]}]),l.config.series=o):l.config.series=e.slice(),a&&(l.globals.initialConfig.series=ae.clone(l.config.series),l.globals.initialSeries=ae.clone(l.config.series)),s.ctx.update().then(function(){i(s.ctx)})})}},{key:"_extendSeries",value:function(e,r){var s=this.w,a=s.config.series[r];return Te(Te({},s.config.series[r]),{},{name:e.name?e.name:a==null?void 0:a.name,color:e.color?e.color:a==null?void 0:a.color,type:e.type?e.type:a==null?void 0:a.type,group:e.group?e.group:a==null?void 0:a.group,hidden:e.hidden!==void 0?e.hidden:a==null?void 0:a.hidden,data:e.data?e.data:a==null?void 0:a.data,zIndex:e.zIndex!==void 0?e.zIndex:r})}},{key:"toggleDataPointSelection",value:function(e,r){var s=this.w,a=null,i=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?a=s.globals.dom.Paper.findOne("".concat(i," path[j='").concat(r,"'], ").concat(i," circle[j='").concat(r,"'], ").concat(i," rect[j='").concat(r,"']")):r===void 0&&(a=s.globals.dom.Paper.findOne("".concat(i," path[j='").concat(e,"']")),s.config.chart.type!=="pie"&&s.config.chart.type!=="polarArea"&&s.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),a?(new be(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var r=this.w;if(["min","max"].forEach(function(a){e.xaxis[a]!==void 0&&(r.config.xaxis[a]=e.xaxis[a],r.globals.lastXAxis[a]=e.xaxis[a])}),e.xaxis.categories&&e.xaxis.categories.length&&(r.config.xaxis.categories=e.xaxis.categories),r.config.xaxis.convertedCatToNumeric){var s=new Yh(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(r,s){e.yaxis[s].min=0,e.yaxis[s].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var r=this,s=this.w,a=s.globals.lastXAxis,i=s.globals.lastYAxis;e&&e.xaxis&&(a=e.xaxis),e&&e.yaxis&&(i=e.yaxis),s.config.xaxis.min=a.min,s.config.xaxis.max=a.max;var o=function(l){i[l]!==void 0&&(s.config.yaxis[l].min=i[l].min,s.config.yaxis[l].max=i[l].max)};s.config.yaxis.map(function(l,c){s.globals.zoomed||i[c]!==void 0?o(c):r.ctx.opts.yaxis[c]!==void 0&&(l.min=r.ctx.opts.yaxis[c].min,l.max=r.ctx.opts.yaxis[c].max)})}}]),t}();(function(){function t(){for(var i=arguments.length>0&&arguments[0]!==h?arguments[0]:[],o=arguments.length>1?arguments[1]:h,l=arguments.length>2?arguments[2]:h,c=arguments.length>3?arguments[3]:h,d=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,f=i.slice(o,l||h),m=c.slice(d,u||h),p=0,x={pos:[0,0],start:[0,0]},g={pos:[0,0],start:[0,0]};f[p]=e.call(x,f[p]),m[p]=e.call(g,m[p]),f[p][0]!=m[p][0]||f[p][0]=="M"||f[p][0]=="A"&&(f[p][4]!=m[p][4]||f[p][5]!=m[p][5])?(Array.prototype.splice.apply(f,[p,1].concat(s.call(x,f[p]))),Array.prototype.splice.apply(m,[p,1].concat(s.call(g,m[p])))):(f[p]=r.call(x,f[p]),m[p]=r.call(g,m[p])),!(++p==f.length&&p==m.length);)p==f.length&&f.push(["C",x.pos[0],x.pos[1],x.pos[0],x.pos[1],x.pos[0],x.pos[1]]),p==m.length&&m.push(["C",g.pos[0],g.pos[1],g.pos[0],g.pos[1],g.pos[0],g.pos[1]]);return{start:f,dest:m}}function e(i){switch(i[0]){case"z":case"Z":i[0]="L",i[1]=this.start[0],i[2]=this.start[1];break;case"H":i[0]="L",i[2]=this.pos[1];break;case"V":i[0]="L",i[2]=i[1],i[1]=this.pos[0];break;case"T":i[0]="Q",i[3]=i[1],i[4]=i[2],i[1]=this.reflection[1],i[2]=this.reflection[0];break;case"S":i[0]="C",i[6]=i[4],i[5]=i[3],i[4]=i[2],i[3]=i[1],i[2]=this.reflection[1],i[1]=this.reflection[0]}return i}function r(i){var o=i.length;return this.pos=[i[o-2],i[o-1]],"SCQT".indexOf(i[0])!=-1&&(this.reflection=[2*this.pos[0]-i[o-4],2*this.pos[1]-i[o-3]]),i}function s(i){var o=[i];switch(i[0]){case"M":return this.pos=this.start=[i[1],i[2]],o;case"L":i[5]=i[3]=i[1],i[6]=i[4]=i[2],i[1]=this.pos[0],i[2]=this.pos[1];break;case"Q":i[6]=i[4],i[5]=i[3],i[4]=1*i[4]/3+2*i[2]/3,i[3]=1*i[3]/3+2*i[1]/3,i[2]=1*this.pos[1]/3+2*i[2]/3,i[1]=1*this.pos[0]/3+2*i[1]/3;break;case"A":o=function(l,c){var d,u,h,f,m,p,x,g,y,v,b,w,N,C,S,k,A,T,E,D,_,z,H,q,K,Y,J=Math.abs(c[1]),Z=Math.abs(c[2]),ne=c[3]%360,F=c[4],Q=c[5],W=c[6],G=c[7],te=new Bt(l),ee=new Bt(W,G),I=[];if(J===0||Z===0||te.x===ee.x&&te.y===ee.y)return[["C",te.x,te.y,ee.x,ee.y,ee.x,ee.y]];for(d=new Bt((te.x-ee.x)/2,(te.y-ee.y)/2).transform(new Ze().rotate(ne)),u=d.x*d.x/(J*J)+d.y*d.y/(Z*Z),u>1&&(J*=u=Math.sqrt(u),Z*=u),h=new Ze().rotate(ne).scale(1/J,1/Z).rotate(-ne),te=te.transform(h),ee=ee.transform(h),f=[ee.x-te.x,ee.y-te.y],p=f[0]*f[0]+f[1]*f[1],m=Math.sqrt(p),f[0]/=m,f[1]/=m,x=p<4?Math.sqrt(1-p/4):0,F===Q&&(x*=-1),g=new Bt((ee.x+te.x)/2+x*-f[1],(ee.y+te.y)/2+x*f[0]),y=new Bt(te.x-g.x,te.y-g.y),v=new Bt(ee.x-g.x,ee.y-g.y),b=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(b*=-1),w=Math.acos(v.x/Math.sqrt(v.x*v.x+v.y*v.y)),v.y<0&&(w*=-1),Q&&b>w&&(w+=2*Math.PI),!Q&&b<w&&(w-=2*Math.PI),C=Math.ceil(2*Math.abs(b-w)/Math.PI),k=[],A=b,N=(w-b)/C,S=4*Math.tan(N/4)/3,_=0;_<=C;_++)E=Math.cos(A),T=Math.sin(A),D=new Bt(g.x+E,g.y+T),k[_]=[new Bt(D.x+S*T,D.y-S*E),D,new Bt(D.x-S*T,D.y+S*E)],A+=N;for(k[0][0]=k[0][1].clone(),k[k.length-1][2]=k[k.length-1][1].clone(),h=new Ze().rotate(ne).scale(J,Z).rotate(-ne),_=0,z=k.length;_<z;_++)k[_][0]=k[_][0].transform(h),k[_][1]=k[_][1].transform(h),k[_][2]=k[_][2].transform(h);for(_=1,z=k.length;_<z;_++)H=(D=k[_-1][2]).x,q=D.y,K=(D=k[_][0]).x,Y=D.y,W=(D=k[_][1]).x,G=D.y,I.push(["C",H,q,K,Y,W,G]);return I}(this.pos,i),i=o[0]}return i[0]="C",this.pos=[i[5],i[6]],this.reflection=[2*i[5]-i[3],2*i[6]-i[4]],o}function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var l=o,c=i.length;l<c;++l)if(i[l][0]=="M")return l;return!1}rt(En,{morph:function(i,o,l,c,d){for(var u=this.parse(i),h=this.parse(o),f=0,m=0,p=!1,x=!1;f!==!1||m!==!1;){var g;p=a(u,f!==!1&&f+1),x=a(h,m!==!1&&m+1),f===!1&&(f=(g=new En(y.start).bbox()).height==0||g.width==0?u.push(u[0])-1:u.push(["M",g.x+g.width/2,g.y+g.height/2])-1),m===!1&&(m=(g=new En(y.dest).bbox()).height==0||g.width==0?h.push(h[0])-1:h.push(["M",g.x+g.width/2,g.y+g.height/2])-1);var y=t(u,f,p,h,m,x);u=u.slice(0,f).concat(y.start,p===!1?[]:u.slice(p)),h=h.slice(0,m).concat(y.dest,x===!1?[]:h.slice(x)),f=p!==!1&&f+y.start.length,m=x!==!1&&m+y.dest.length}this._array=u,this.destination=new En,this.destination._array=h;var v=this.fromArray(u.map(function(b,w){var N=h[w].map(function(C,S){return S===0?C:c.step(b[S],h[w][S],l,d[w],d)});return N}));return v}})})();const NS=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY});class AH{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const r=!e.type.indexOf("mouse");if(r&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(NS(e));const s=(r?"mouseup":"touchend")+".drag";yi(window,(r?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),yi(window,s,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:r,lastClick:s}=this,a=this.el.point(NS(e)),i=a.x-s.x,o=a.y-s.y;if(!i&&!o)return r;const l=r.x+i,c=r.y+o;this.box=new Ir(l,c,r.w,r.h),this.lastClick=a,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(l,c)}move(e,r){this.el.type==="svg"?To.prototype.move.call(this.el,e,r):this.el.move(e,r)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),on(window,"mousemove.drag"),on(window,"touchmove.drag"),on(window,"mouseup.drag"),on(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function _v(t,e,r,s=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,o=a.pageY||a.touches[0].pageY;e.fire(t,{x:i,y:o,event:a,index:s,points:r})}}function Dv([t,e],{a:r,b:s,c:a,d:i,e:o,f:l}){return[t*r+e*a+o,t*s+e*i+l]}rt(Ms,{draggable(t=!0){return(this.remember("_draggable")||new AH(this)).init(t),this}});let OP=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new To,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Sf();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,r)=>{const s=this.order[e];this.createHandle.call(this,this.selection,t,e,r,s),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",_v(s,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,r,s){const a=s.at(r-1),i=s[(r+1)%s.length],o=e,l=[o[0]-a[0],o[1]-a[1]],c=[o[0]-i[0],o[1]-i[1]],d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=[l[0]/d,l[1]/d],f=[c[0]/u,c[1]/u],m=[o[0]-10*h[0],o[1]-10*h[1]],p=[o[0]-10*f[0],o[1]-10*f[1]];t.plot([m,o,p])}updateResizeHandles(){this.handlePoints.forEach((t,e,r)=>{const s=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,r,s)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const r=this.getPoint("t");t.get(0).plot(r[0],r[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",_v("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(r=>Dv(r,e)),this.rotationPoint=Dv(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:r,y2:s,cx:a,cy:i}=this.el.bbox()){return[[t,r],[a,r],[e,r],[e,i],[e,s],[a,s],[t,s],[t,i]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const jS=t=>function(e=!0,r={}){typeof e=="object"&&(r=e,e=!0);let s=this.remember("_"+t.name);return s||(e.prototype instanceof OP?(s=new e(this),e=!0):s=new t(this),this.remember("_"+t.name,s)),s.active(e,r),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Mv(t,e,r,s=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,o=a.pageY||a.touches[0].pageY;e.fire(t,{x:i,y:o,event:a,index:s,points:r})}}function Rv([t,e],{a:r,b:s,c:a,d:i,e:o,f:l}){return[t*r+e*a+o,t*s+e*i+l]}rt(Ms,{select:jS(OP)}),rt([Cl,kl,Sl],{pointSelect:jS(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new To,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Sf();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,r)=>{this.createHandle.call(this,this.selection,t,e,r),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",_v("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,r)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,r)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Dv(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class BP{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new To,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const r=Sf();this.observer=new r.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,r){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(r)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,r,s)=>{const a=this.order[r];this.createHandle.call(this,this.selection,e,r,s,a),this.selection.get(r+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",Mv(a,this.el,this.handlePoints,r))})}createHandleFn(e){e.polyline()}updateHandleFn(e,r,s,a){const i=a.at(s-1),o=a[(s+1)%a.length],l=r,c=[l[0]-i[0],l[1]-i[1]],d=[l[0]-o[0],l[1]-o[1]],u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=[c[0]/u,c[1]/u],m=[d[0]/h,d[1]/h],p=[l[0]-10*f[0],l[1]-10*f[1]],x=[l[0]-10*m[0],l[1]-10*m[1]];e.plot([p,l,x])}updateResizeHandles(){this.handlePoints.forEach((e,r,s)=>{const a=this.order[r];this.updateHandle.call(this,this.selection.get(r+1),e,r,s,a)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,r){const s=this.getPoint("t");e.get(0).plot(s[0],s[1],r[0],r[1]),e.get(1).center(r[0],r[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Mv("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(s=>Rv(s,r)),this.rotationPoint=Rv(this.getRotationPoint(e),r)}getHandlePoints({x:e,x2:r,y:s,y2:a,cx:i,cy:o}=this.el.bbox()){return[[e,s],[i,s],[r,s],[r,o],[r,a],[i,a],[e,a],[e,o]]}getRotationPoint({y:e,cx:r}=this.el.bbox()){return[r,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const SS=t=>function(e=!0,r={}){typeof e=="object"&&(r=e,e=!0);let s=this.remember("_"+t.name);return s||(e.prototype instanceof BP?(s=new e(this),e=!0):s=new t(this),this.remember("_"+t.name,s)),s.active(e,r),this};rt(Ms,{select:SS(BP)}),rt([Cl,kl,Sl],{pointSelect:SS(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new To,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Sf();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,r)=>{this.createHandle.call(this,this.selection,t,e,r),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Mv("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,r)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,r)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Rv(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const u0=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}),CS=t=>{let e=1/0,r=1/0,s=-1/0,a=-1/0;for(let i=0;i<t.length;i++){const o=t[i];e=Math.min(e,o[0]),r=Math.min(r,o[1]),s=Math.max(s,o[0]),a=Math.max(a,o[1])}return new Ir(e,r,s-e,a-r)};class kS{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,r){this.preserveAspectRatio=r.preserveAspectRatio??!1,this.aroundCenter=r.aroundCenter??!1,this.grid=r.grid??0,this.degree=r.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:r,index:s,points:a}=e.detail,i=!r.type.indexOf("mouse");if(i&&(r.which||r.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(u0(r)),this.index=s,this.points=a.slice();const o=(i?"mousemove":"touchmove")+".resize",l=(i?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?yi(window,o,this.movePoint):e.type==="rot"?yi(window,o,this.rotate):yi(window,o,this.resize),yi(window,l,this.endResize)}resize(e){this.lastEvent=e;const r=this.snapToGrid(this.el.point(u0(e)));let s=r.x-this.startPoint.x,a=r.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(s*=2,a*=2);const i=this.box.x+s,o=this.box.y+a,l=this.box.x2+s,c=this.box.y2+a;let d=new Ir(this.box);if(this.eventType.includes("l")&&(d.x=Math.min(i,this.box.x2),d.x2=Math.max(i,this.box.x2)),this.eventType.includes("r")&&(d.x=Math.min(l,this.box.x),d.x2=Math.max(l,this.box.x)),this.eventType.includes("t")&&(d.y=Math.min(o,this.box.y2),d.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(d.y=Math.min(c,this.box.y),d.y2=Math.max(c,this.box.y)),d.width=d.x2-d.x,d.height=d.y2-d.y,this.preserveAspectRatio){const u=d.width/this.box.width,h=d.height/this.box.height,f=["lt","t","rt","r","rb","b","lb","l"],m=(f.indexOf(this.eventType)+4)%f.length,p=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[m];let x=this.eventType.includes("t")||this.eventType.includes("b")?h:u;x=this.eventType.length===2?Math.max(u,h):x,d=function(g,y,v){const b=[[g.x,g.y],[g.x+g.width,g.y],[g.x+g.width,g.y+g.height],[g.x,g.y+g.height]].map(([w,N])=>{const C=w-y[0],S=(N-y[1])*v;return[C*v+y[0],S+y[1]]});return CS(b)}(this.box,p,x)}this.el.dispatch("resize",{box:new Ir(d),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(d.width,d.height).move(d.x,d.y)}movePoint(e){this.lastEvent=e;const{x:r,y:s}=this.snapToGrid(this.el.point(u0(e))),a=this.el.array().slice();a[this.index]=[r,s],this.el.dispatch("resize",{box:CS(a),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(a)}rotate(e){this.lastEvent=e;const r=this.startPoint,s=this.el.point(u0(e)),{cx:a,cy:i}=this.box,o=r.x-a,l=r.y-i,c=s.x-a,d=s.y-i,u=Math.sqrt(o*o+l*l)*Math.sqrt(c*c+d*d);if(u===0)return;let h=Math.acos((o*c+l*d)/u)/Math.PI*180;if(!h)return;s.x<r.x&&(h=-h);const f=new Ze(this.el),{x:m,y:p}=new Bt(a,i).transformO(f),{rotate:x}=f.decompose(),g=this.snapToAngle(x+h)-x;this.el.dispatch("resize",{box:this.box,angle:g,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(f.rotateO(g,m,p))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",on(window,"mousemove.resize touchmove.resize"),on(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}rt(Ms,{resize:function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let r=this.remember("_ResizeHandler");return r||(t.prototype instanceof kS?(r=new t(this),t=!0):r=new kS(this),this.remember("_resizeHandler",r)),r.active(t,e),this}}),window.SVG===void 0&&(window.SVG=z7),window.Apex===void 0&&(window.Apex={});var AS=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new au(this.ctx),this.ctx.axes=new Q7(this.ctx),this.ctx.core=new CH(this.ctx.el,this.ctx),this.ctx.config=new Vh({}),this.ctx.data=new sw(this.ctx),this.ctx.grid=new TP(this.ctx),this.ctx.graphics=new be(this.ctx),this.ctx.coreUtils=new Or(this.ctx),this.ctx.crosshairs=new Pv(this.ctx),this.ctx.events=new q7(this.ctx),this.ctx.exports=new rh(this.ctx),this.ctx.fill=new Ln(this.ctx),this.ctx.localization=new Z7(this.ctx),this.ctx.options=new fl,this.ctx.responsive=new J7(this.ctx),this.ctx.series=new cn(this.ctx),this.ctx.theme=new eH(this.ctx),this.ctx.formatters=new Af(this.ctx),this.ctx.titleSubtitle=new tH(this.ctx),this.ctx.legend=new PP(this.ctx),this.ctx.toolbar=new _P(this.ctx),this.ctx.tooltip=new bS(this.ctx),this.ctx.dimensions=new Bm(this.ctx),this.ctx.updateHelpers=new kH(this.ctx),this.ctx.zoomPanSelection=new oH(this.ctx),this.ctx.w.globals.tooltip=new bS(this.ctx)}}]),t}(),TS=function(){function t(e){Be(this,t),this.ctx=e,this.w=e.w}return Ue(t,[{key:"clear",value:function(e){var r=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:r})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var r=this,s=e.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!s&&(a.parentNode.parentNode.style.minHeight="unset");var i=this.w.globals.dom.baseEl;i&&this.ctx.eventList.forEach(function(l){i.removeEventListener(l,r.ctx.events.documentEvent)});var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),t}(),pg=new WeakMap,TH=function(){function t(e,r){Be(this,t),this.opts=r,this.ctx=this,this.w=new K7(r).init(),this.el=e,this.w.globals.cuid=ae.randomId(),this.w.globals.chartID=this.w.config.chart.id?ae.escapeString(this.w.config.chart.id):this.w.globals.cuid,new AS(this).initModules(),this.lastUpdateOptions=null,this.create=ae.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Ue(t,[{key:"render",value:function(){var e=this;return new Promise(function(r,s){if(ae.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var a=e.w.config.chart.events.beforeMount;typeof a=="function"&&a(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(f,m){var p=!1;if(f.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var x=f.getBoundingClientRect();f.style.display!=="none"&&x.width!==0||(p=!0)}var g=new ResizeObserver(function(y){p&&m.call(f,y),p=!0});f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(f.children).forEach(function(y){return g.observe(y)}):g.observe(f),pg.set(m,g)}(e.el.parentNode,e.parentResizeHandler);var i=e.el.getRootNode&&e.el.getRootNode(),o=ae.is("ShadowRoot",i),l=e.el.ownerDocument,c=o?i.getElementById("apexcharts-css"):l.getElementById("apexcharts-css");if(!c){var d;(c=document.createElement("style")).id="apexcharts-css",c.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var u=((d=e.opts.chart)===null||d===void 0?void 0:d.nonce)||e.w.config.chart.nonce;u&&c.setAttribute("nonce",u),o?i.prepend(c):l.head.appendChild(c)}var h=e.create(e.w.config.series,{});if(!h)return r(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),r(h)}).catch(function(f){s(f)})}else s(new Error("Element not found"))})}},{key:"create",value:function(e,r){var s=this,a=this.w;new AS(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,!ae.elementExists(this.el)||(this.responsive.checkResponsiveConfig(r),a.config.xaxis.convertedCatToNumeric&&new Yh(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),i.svgWidth===0))return i.animationEnded=!0,null;var o=e;e.forEach(function(f,m){f.hidden&&(o=s.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:m}))});var l=Or.checkComboSeries(o,a.config.chart.type);i.comboCharts=l.comboCharts,i.comboBarCount=l.comboBarCount;var c=o.every(function(f){return f.data&&f.data.length===0});(o.length===0||c&&i.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new lu(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new Or(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(o,d),h=new Id(this);return h.bringForward(),a.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),a.globals.dataPoints>50&&a.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:u,xyRatios:d,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this,a=s.w;return new Promise(function(i,o){if(s.el===null)return o(new Error("Not enough data to display or target element not found"));(r===null||a.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new TP(s);var l,c,d=s.grid.drawGrid();if(s.annotations=new G7(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(d&&a.globals.dom.elGraphical.add(d.el),d!=null&&(l=d.elGridBorders)!==null&&l!==void 0&&l.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(r.elGraph))for(var u=0;u<r.elGraph.length;u++)a.globals.dom.elGraphical.add(r.elGraph[u]);else a.globals.dom.elGraphical.add(r.elGraph);a.config.grid.position==="front"&&(d&&a.globals.dom.elGraphical.add(d.el),d!=null&&(c=d.elGridBorders)!==null&&c!==void 0&&c.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&s.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&s.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&s.axes.drawAxis(a.config.chart.type,d);var h=new $h(e.ctx,d),f=new aw(e.ctx,d);if(d!==null&&(h.xAxisLabelCorrections(d.xAxisTickWidth),f.setYAxisTextAlignments(),a.config.yaxis.map(function(p,x){a.globals.ignoreYAxisIndexes.indexOf(x)===-1&&f.yAxisTitleRotate(x,p.opposite)})),s.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&s.w.globals.tooltip.drawTooltip(r.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:r.xyRatios});else{var m=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(p){m[p]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(p){p.method(p.params,!1,p.context)}),a.globals.axisCharts||a.globals.noData||s.core.resizeNonAxisCharts(),i(s)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(r,s){var a=pg.get(s);a&&(a.disconnect(),pg.delete(s))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(r,s){r.id===ae.escapeString(e)&&Apex._chartInstances.splice(s,1)}),new TS(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var r=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=this.w;return l.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(this.lastUpdateOptions=ae.clone(e),e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(c,d){return r.updateHelpers._extendSeries(c,d)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),l.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,a,i,o))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,r,s)}},{key:"appendSeries",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w.config.series.slice();return a.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,r,s)}},{key:"appendData",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this;s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var a=s.w.config.series.slice(),i=0;i<a.length;i++)if(e[i]!==null&&e[i]!==void 0)for(var o=0;o<e[i].data.length;o++)a[i].data.push(e[i].data[o]);return s.w.config.series=a,r&&(s.w.globals.initialSeries=ae.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var r=this;return new Promise(function(s,a){if(r.lastUpdateOptions&&JSON.stringify(r.lastUpdateOptions)===JSON.stringify(e))return s(r);r.lastUpdateOptions=ae.clone(e),new TS(r.ctx).clear({isUpdating:!0});var i=r.create(r.w.config.series,e);if(!i)return s(r);r.mount(i).then(function(){typeof r.w.config.chart.events.updated=="function"&&r.w.config.chart.events.updated(r,r.w),r.events.fireEvent("updated",[r,r.w]),r.w.globals.isDirty=!0,s(r)}).catch(function(o){a(o)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),r=[this];return e.length&&(r=[],e.forEach(function(s){r.push(s)})),r}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(r){if(r.group)return!0}).map(function(r){return e.w.config.chart.group===r.group?r.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,r){return this.series.toggleSeriesOnHover(e,r)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,r)}},{key:"addEventListener",value:function(e,r){this.events.addEventListener(e,r)}},{key:"removeEventListener",value:function(e,r){this.events.removeEventListener(e,r)}},{key:"addXaxisAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addXaxisAnnotationExternal(e,r,a)}},{key:"addYaxisAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addYaxisAnnotationExternal(e,r,a)}},{key:"addPointAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;s&&(a=s),a.annotations.addPointAnnotationExternal(e,r,a)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=this;e&&(r=e),r.annotations.clearAnnotations(r)}},{key:"removeAnnotation",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=this;r&&(s=r),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,r){return this.coreUtils.getSeriesTotalsXRange(e,r)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Ev(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Ev(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,r){return this.updateHelpers.toggleDataPointSelection(e,r)}},{key:"zoomX",value:function(e,r){this.ctx.toolbar.zoomUpdateOptions(e,r)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new rh(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new rh(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new rh(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var r=ae.escapeString(e);if(Apex._chartInstances){var s=Apex._chartInstances.filter(function(a){return a.id===r})[0];return s&&s.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),r=0;r<e.length;r++)new t(e[r],JSON.parse(e[r].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,r){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var a=null;if(s.publicMethods.indexOf(r)!==-1){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];a=s[r].apply(s,o)}return a}}},{key:"merge",value:function(e,r){return ae.extend(e,r)}}]),t}();const EH=Object.freeze(Object.defineProperty({__proto__:null,default:TH},Symbol.toStringTag,{value:"Module"})),PH=o_(EH);var UP={exports:{}},_H="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DH=_H,MH=DH;function HP(){}function zP(){}zP.resetWarningCache=HP;var RH=function(){function t(s,a,i,o,l,c){if(c!==MH){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zP,resetWarningCache:HP};return r.PropTypes=r,r};UP.exports=RH();var FH=UP.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var e=l(P),r=i(PH),s=i(FH),a=["type","width","height","series","options"];function i(w){return w&&w.__esModule?w:{default:w}}function o(w){var N,C;return typeof WeakMap!="function"?null:(N=new WeakMap,C=new WeakMap,(o=function(S){return S?C:N})(w))}function l(w,N){if(!N&&w&&w.__esModule)return w;if(w===null||h(w)!="object"&&typeof w!="function")return{default:w};if(N=o(N),N&&N.has(w))return N.get(w);var C,S,k={__proto__:null},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in w)C!=="default"&&{}.hasOwnProperty.call(w,C)&&((S=A?Object.getOwnPropertyDescriptor(w,C):null)&&(S.get||S.set)?Object.defineProperty(k,C,S):k[C]=w[C]);return k.default=w,N&&N.set(w,k),k}function c(){return(c=Object.assign?Object.assign.bind():function(w){for(var N=1;N<arguments.length;N++){var C,S=arguments[N];for(C in S)!{}.hasOwnProperty.call(S,C)||(w[C]=S[C])}return w}).apply(null,arguments)}function d(w,N){if(w==null)return{};var C,S=u(w,N);if(Object.getOwnPropertySymbols)for(var k=Object.getOwnPropertySymbols(w),A=0;A<k.length;A++)C=k[A],N.includes(C)||{}.propertyIsEnumerable.call(w,C)&&(S[C]=w[C]);return S}function u(w,N){if(w==null)return{};var C,S={};for(C in w)if({}.hasOwnProperty.call(w,C)){if(N.includes(C))continue;S[C]=w[C]}return S}function h(w){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(w)}function f(w,N){var C,S=Object.keys(w);return Object.getOwnPropertySymbols&&(C=Object.getOwnPropertySymbols(w),N&&(C=C.filter(function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable})),S.push.apply(S,C)),S}function m(w){for(var N=1;N<arguments.length;N++){var C=arguments[N]!=null?arguments[N]:{};N%2?f(Object(C),!0).forEach(function(S){p(w,S,C[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(C)):f(Object(C)).forEach(function(S){Object.defineProperty(w,S,Object.getOwnPropertyDescriptor(C,S))})}return w}function p(w,N,C){return(N=x(N))in w?Object.defineProperty(w,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[N]=C,w}function x(w){return w=g(w,"string"),h(w)=="symbol"?w:w+""}function g(w,N){if(h(w)!="object"||!w)return w;var C=w[Symbol.toPrimitive];if(C===void 0)return(N==="string"?String:Number)(w);if(C=C.call(w,N||"default"),h(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}function y(w,N){var C=m({},w);return N.forEach(function(S){delete C[S]}),C}function v(w,N){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(w!==N){if(h(w)!=="object"||w===null||h(N)!=="object"||N===null)return!1;if(!C.has(w)&&!C.has(N)){C.add(w),C.add(N);var S=Object.keys(w),k=Object.keys(N);if(S.length!==k.length)return!1;for(var A=0,T=S;A<T.length;A++){var E=T[A];if(!k.includes(E)||!v(w[E],N[E],C))return!1}}}return!0}function b(K){function N(Y){return Y&&h(Y)==="object"&&!Array.isArray(Y)}var E=K.type,C=E===void 0?"line":E,E=K.width,S=E===void 0?"100%":E,E=K.height,k=E===void 0?"auto":E,A=K.series,T=K.options,E=d(K,a),D=(0,e.useRef)(null),_=(0,e.useRef)(null),z=(0,e.useRef)(),H=((0,e.useEffect)(function(){z.current=T;var Y=D.current;return _.current=new r.default(Y,H()),_.current.render(),function(){_.current&&typeof _.current.destroy=="function"&&_.current.destroy()}},[]),(0,e.useEffect)(function(){var Y=!v(_.current.w.config.series,A),J=!v(z.current,T)||k!==_.current.opts.chart.height||S!==_.current.opts.chart.width;(Y||J)&&(!Y||J?_.current.updateOptions(H()):_.current.updateSeries(A)),z.current=T},[T,A,k,S]),function(){return q(T,{chart:{type:C,height:k,width:S},series:A})}),q=function(Y,J){var Z=m({},Y);return N(Y)&&N(J)&&Object.keys(J).forEach(function(ne){N(J[ne])&&ne in Y?Z[ne]=q(Y[ne],J[ne]):Object.assign(Z,p({},ne,J[ne]))}),Z},K=y(E,Object.keys(b.propTypes));return e.default.createElement("div",c({ref:D},K))}b.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}})(GE);const nw=Vv(GE);function Br(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function si(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function WP(t,e){const r=Br(t);if(isNaN(e))return si(t,NaN);if(!e)return r;const s=r.getDate(),a=si(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const YP=6048e5,LH=864e5,VP=6e4,$P=36e5;let IH={};function Tf(){return IH}function Bd(t,e){var l,c,d,u;const r=Tf(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Br(t),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Um(t){return Bd(t,{weekStartsOn:1})}function XP(t){const e=Br(t),r=e.getFullYear(),s=si(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Um(s),i=si(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Um(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Hm(t){const e=Br(t);return e.setHours(0,0,0,0),e}function ES(t){const e=Br(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function GP(t,e){const r=Hm(t),s=Hm(e),a=+r-ES(r),i=+s-ES(s);return Math.round((a-i)/LH)}function OH(t){const e=XP(t),r=si(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Um(r)}function BH(t){return si(t,Date.now())}function KP(t,e){const r=Hm(t),s=Hm(e);return+r==+s}function UH(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function HH(t){if(!UH(t)&&typeof t!="number")return!1;const e=Br(t);return!isNaN(Number(e))}function iw(t,e){const r=Br(t),s=Br(e),a=PS(r,s),i=Math.abs(GP(r,s));r.setDate(r.getDate()-a*i);const o=+(PS(r,s)===-a),l=a*(i-o);return l===0?0:l}function PS(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function zH(t){const e=Br(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function WH(t,e){const r=Br(t.start),s=Br(t.end);let a=+r>+s;const i=a?+r:+s,o=a?s:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(Br(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function YH(t){const e=Br(t);return e.setDate(1),e.setHours(0,0,0,0),e}function VH(t){const e=Br(t),r=si(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function $H(t,e){const r=e==null?void 0:e.weekStartsOn,s=Br(t),a=s.getDay(),i=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}const XH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GH=(t,e,r)=>{let s;const a=XH[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function gg(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const KH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QH={date:gg({formats:KH,defaultWidth:"full"}),time:gg({formats:qH,defaultWidth:"full"}),dateTime:gg({formats:ZH,defaultWidth:"full"})},JH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ez=(t,e,r,s)=>JH[t];function Au(t){return(e,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const tz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},az={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oz=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lz={ordinalNumber:oz,era:Au({values:tz,defaultWidth:"wide"}),quarter:Au({values:rz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Au({values:sz,defaultWidth:"wide"}),day:Au({values:az,defaultWidth:"wide"}),dayPeriod:Au({values:nz,defaultWidth:"wide",formattingValues:iz,defaultFormattingWidth:"wide"})};function Tu(t){return(e,r={})=>{const s=r.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?dz(l,h=>h.test(o)):cz(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function cz(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function dz(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function uz(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const hz=/^(\d+)(th|st|nd|rd)?/i,fz=/\d+/i,mz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xz={any:[/^b/i,/^(a|c)/i]},pz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gz={any:[/1/i,/2/i,/3/i,/4/i]},yz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sz={ordinalNumber:uz({matchPattern:hz,parsePattern:fz,valueCallback:t=>parseInt(t,10)}),era:Tu({matchPatterns:mz,defaultMatchWidth:"wide",parsePatterns:xz,defaultParseWidth:"any"}),quarter:Tu({matchPatterns:pz,defaultMatchWidth:"wide",parsePatterns:gz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Tu({matchPatterns:yz,defaultMatchWidth:"wide",parsePatterns:vz,defaultParseWidth:"any"}),day:Tu({matchPatterns:bz,defaultMatchWidth:"wide",parsePatterns:wz,defaultParseWidth:"any"}),dayPeriod:Tu({matchPatterns:Nz,defaultMatchWidth:"any",parsePatterns:jz,defaultParseWidth:"any"})},Cz={code:"en-US",formatDistance:GH,formatLong:QH,formatRelative:ez,localize:lz,match:Sz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kz(t){const e=Br(t);return GP(e,VH(e))+1}function Az(t){const e=Br(t),r=+Um(e)-+OH(e);return Math.round(r/YP)+1}function qP(t,e){var u,h,f,m;const r=Br(t),s=r.getFullYear(),a=Tf(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=si(t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Bd(o,e),c=si(t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Bd(c,e);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Tz(t,e){var l,c,d,u;const r=Tf(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=qP(t,e),i=si(t,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Bd(i,e)}function Ez(t,e){const r=Br(t),s=+Bd(r,e)-+Tz(r,e);return Math.round(s/YP)+1}function qt(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Vi={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return qt(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):qt(r+1,2)},d(t,e){return qt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return qt(t.getHours()%12||12,e.length)},H(t,e){return qt(t.getHours(),e.length)},m(t,e){return qt(t.getMinutes(),e.length)},s(t,e){return qt(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return qt(a,e.length)}},Nc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_S={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Vi.y(t,e)},Y:function(t,e,r,s){const a=qP(t,s),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return qt(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):qt(i,e.length)},R:function(t,e){const r=XP(t);return qt(r,e.length)},u:function(t,e){const r=t.getFullYear();return qt(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return qt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return qt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Vi.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return qt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const a=Ez(t,s);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):qt(a,e.length)},I:function(t,e,r){const s=Az(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):qt(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Vi.d(t,e)},D:function(t,e,r){const s=kz(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):qt(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return qt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),a=s===0?7:s;switch(e){case"i":return String(a);case"ii":return qt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let a;switch(s===12?a=Nc.noon:s===0?a=Nc.midnight:a=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let a;switch(s>=17?a=Nc.evening:s>=12?a=Nc.afternoon:s>=4?a=Nc.morning:a=Nc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Vi.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Vi.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):qt(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):qt(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vi.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Vi.s(t,e)},S:function(t,e){return Vi.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return MS(s);case"XXXX":case"XX":return ol(s);case"XXXXX":case"XXX":default:return ol(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return MS(s);case"xxxx":case"xx":return ol(s);case"xxxxx":case"xxx":default:return ol(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+DS(s,":");case"OOOO":default:return"GMT"+ol(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+DS(s,":");case"zzzz":default:return"GMT"+ol(s,":")}},t:function(t,e,r){const s=Math.trunc(t.getTime()/1e3);return qt(s,e.length)},T:function(t,e,r){const s=t.getTime();return qt(s,e.length)}};function DS(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+e+qt(i,2)}function MS(t,e){return t%60===0?(t>0?"-":"+")+qt(Math.abs(t)/60,2):ol(t,e)}function ol(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=qt(Math.trunc(s/60),2),i=qt(s%60,2);return r+a+e+i}const RS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ZP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Pz=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return RS(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",RS(s,e)).replace("{{time}}",ZP(a,e))},_z={p:ZP,P:Pz},Dz=/^D+$/,Mz=/^Y+$/,Rz=["D","DD","YY","YYYY"];function Fz(t){return Dz.test(t)}function Lz(t){return Mz.test(t)}function Iz(t,e,r){const s=Oz(t,e,r);if(console.warn(s),Rz.includes(t))throw new RangeError(s)}function Oz(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hz=/^'([^]*?)'?$/,zz=/''/g,Wz=/[a-zA-Z]/;function Ke(t,e,r){var u,h,f,m,p,x,g,y;const s=Tf(),a=(r==null?void 0:r.locale)??s.locale??Cz,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??s.weekStartsOn??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Br(t);if(!HH(l))throw new RangeError("Invalid time value");let c=e.match(Uz).map(v=>{const b=v[0];if(b==="p"||b==="P"){const w=_z[b];return w(v,a.formatLong)}return v}).join("").match(Bz).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:Yz(v)};if(_S[b])return{isToken:!0,value:v};if(b.match(Wz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Lz(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Fz(b))&&Iz(b,e,String(t));const w=_S[b[0]];return w(l,b,a.localize,d)}).join("")}function Yz(t){const e=t.match(Hz);return e?e[1].replace(zz,"'"):t}function Vz(){return Object.assign({},Tf())}function $z(t,e){const r=Br(t),s=Br(e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Xz(t){return KP(t,BH(t))}function Gz(t,e){const s=Qz(t);let a;if(s.date){const c=Jz(s.date,2);a=eW(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(s.time&&(o=tW(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=rW(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const h0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Kz=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Zz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Qz(t){const e={},r=t.split(h0.dateTimeDelimiter);let s;if(r.length>2)return e;if(/:/.test(r[0])?s=r[0]:(e.date=r[0],s=r[1],h0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(h0.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const a=h0.timezone.exec(s);a?(e.time=s.replace(a[1],""),e.timezone=a[1]):e.time=s}return e}function Jz(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(r);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((s[1]||s[2]).length)}}function eW(t,e){if(e===null)return new Date(NaN);const r=t.match(Kz);if(!r)return new Date(NaN);const s=!!r[4],a=Eu(r[1]),i=Eu(r[2])-1,o=Eu(r[3]),l=Eu(r[4]),c=Eu(r[5])-1;if(s)return oW(e,l,c)?sW(e,l,c):new Date(NaN);{const d=new Date(0);return!nW(e,i,o)||!iW(e,a)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(a,o)),d)}}function Eu(t){return t?parseInt(t):1}function tW(t){const e=t.match(qz);if(!e)return NaN;const r=yg(e[1]),s=yg(e[2]),a=yg(e[3]);return lW(r,s,a)?r*$P+s*VP+a*1e3:NaN}function yg(t){return t&&parseFloat(t.replace(",","."))||0}function rW(t){if(t==="Z")return 0;const e=t.match(Zz);if(!e)return 0;const r=e[1]==="+"?-1:1,s=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return cW(s,a)?r*(s*$P+a*VP):NaN}function sW(t,e,r){const s=new Date(0);s.setUTCFullYear(t,0,4);const a=s.getUTCDay()||7,i=(e-1)*7+r+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const aW=[31,null,31,30,31,30,31,31,30,31,30,31];function QP(t){return t%400===0||t%4===0&&t%100!==0}function nW(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(aW[e]||(QP(t)?29:28))}function iW(t,e){return e>=1&&e<=(QP(t)?366:365)}function oW(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function lW(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function cW(t,e){return e>=0&&e<=59}function dW(t,e){return WP(t,-e)}function FS(t,e,r){const s=Vz(),a=fW(t,r.timeZone,r.locale??s.locale);return"formatToParts"in a?uW(a,e):hW(a,e)}function uW(t,e){const r=t.formatToParts(e);for(let s=r.length-1;s>=0;--s)if(r[s].type==="timeZoneName")return r[s].value}function hW(t,e){const r=t.format(e).replace(/\u200E/g,""),s=/ [\w-+ ]+$/.exec(r);return s?s[0].substr(1):""}function fW(t,e,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function mW(t,e){const r=vW(e);return"formatToParts"in r?pW(r,t):gW(r,t)}const xW={year:0,month:1,day:2,hour:3,minute:4,second:5};function pW(t,e){try{const r=t.formatToParts(e),s=[];for(let a=0;a<r.length;a++){const i=xW[r[a].type];i!==void 0&&(s[i]=parseInt(r[a].value,10))}return s}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function gW(t,e){const r=t.format(e),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(s[3],10),parseInt(s[1],10),parseInt(s[2],10),parseInt(s[4],10),parseInt(s[5],10),parseInt(s[6],10)]}const vg={},LS=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),yW=LS==="06/25/2014, 00:00:00"||LS==="06/25/2014 00:00:00";function vW(t){return vg[t]||(vg[t]=yW?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),vg[t]}function JP(t,e,r,s,a,i,o){const l=new Date(0);return l.setUTCFullYear(t,e,r),l.setUTCHours(s,a,i,o),l}const IS=36e5,bW=6e4,bg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function ow(t,e,r){if(!t)return 0;let s=bg.timezoneZ.exec(t);if(s)return 0;let a,i;if(s=bg.timezoneHH.exec(t),s)return a=parseInt(s[1],10),OS(a)?-(a*IS):NaN;if(s=bg.timezoneHHMM.exec(t),s){a=parseInt(s[2],10);const o=parseInt(s[3],10);return OS(a,o)?(i=Math.abs(a)*IS+o*bW,s[1]==="+"?-i:i):NaN}if(jW(t)){e=new Date(e||Date.now());const o=r?e:wW(e),l=Fv(o,t);return-(r?l:NW(e,l,t))}return NaN}function wW(t){return JP(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Fv(t,e){const r=mW(t,e),s=JP(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=t.getTime();const i=a%1e3;return a-=i>=0?i:1e3+i,s-a}function NW(t,e,r){let a=t.getTime()-e;const i=Fv(new Date(a),r);if(e===i)return e;a-=i-e;const o=Fv(new Date(a),r);return i===o?i:Math.max(i,o)}function OS(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const BS={};function jW(t){if(BS[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),BS[t]=!0,!0}catch{return!1}}const SW=60*1e3,CW={X:function(t,e,r){const s=wg(r.timeZone,t);if(s===0)return"Z";switch(e){case"X":return US(s);case"XXXX":case"XX":return kc(s);case"XXXXX":case"XXX":default:return kc(s,":")}},x:function(t,e,r){const s=wg(r.timeZone,t);switch(e){case"x":return US(s);case"xxxx":case"xx":return kc(s);case"xxxxx":case"xxx":default:return kc(s,":")}},O:function(t,e,r){const s=wg(r.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+kW(s,":");case"OOOO":default:return"GMT"+kc(s,":")}},z:function(t,e,r){switch(e){case"z":case"zz":case"zzz":return FS("short",t,r);case"zzzz":default:return FS("long",t,r)}}};function wg(t,e){const r=t?ow(t,e,!0)/SW:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+t);return r}function zm(t,e){const r=t<0?"-":"";let s=Math.abs(t).toString();for(;s.length<e;)s="0"+s;return r+s}function kc(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=zm(Math.floor(s/60),2),i=zm(Math.floor(s%60),2);return r+a+e+i}function US(t,e){return t%60===0?(t>0?"-":"+")+zm(Math.abs(t)/60,2):kc(t,e)}function kW(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=Math.floor(s/60),i=s%60;return i===0?r+String(a):r+String(a)+e+zm(i,2)}function HS(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const AW=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Ng=36e5,zS=6e4,TW=2,ta={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:AW};function e5(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const r=e.additionalDigits==null?TW:Number(e.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const s=EW(t),{year:a,restDateString:i}=PW(s.date,r),o=_W(i,a);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const l=o.getTime();let c=0,d;if(s.time&&(c=DW(s.time),c===null||isNaN(c)))return new Date(NaN);if(s.timeZone||e.timeZone){if(d=ow(s.timeZone||e.timeZone,new Date(l+c)),isNaN(d))return new Date(NaN)}else d=HS(new Date(l+c)),d=HS(new Date(l+c+d));return new Date(l+c+d)}else return new Date(NaN)}function EW(t){const e={};let r=ta.dateTimePattern.exec(t),s;if(r?(e.date=r[1],s=r[3]):(r=ta.datePattern.exec(t),r?(e.date=r[1],s=r[2]):(e.date=null,s=t)),s){const a=ta.timeZone.exec(s);a?(e.time=s.replace(a[1],""),e.timeZone=a[1].trim()):e.time=s}return e}function PW(t,e){if(t){const r=ta.YYY[e],s=ta.YYYYY[e];let a=ta.YYYY.exec(t)||s.exec(t);if(a){const i=a[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(a=ta.YY.exec(t)||r.exec(t),a){const i=a[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function _W(t,e){if(e===null)return null;let r,s,a;if(!t||!t.length)return r=new Date(0),r.setUTCFullYear(e),r;let i=ta.MM.exec(t);if(i)return r=new Date(0),s=parseInt(i[1],10)-1,YS(e,s)?(r.setUTCFullYear(e,s),r):new Date(NaN);if(i=ta.DDD.exec(t),i){r=new Date(0);const o=parseInt(i[1],10);return FW(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(i=ta.MMDD.exec(t),i){r=new Date(0),s=parseInt(i[1],10)-1;const o=parseInt(i[2],10);return YS(e,s,o)?(r.setUTCFullYear(e,s,o),r):new Date(NaN)}if(i=ta.Www.exec(t),i)return a=parseInt(i[1],10)-1,VS(a)?WS(e,a):new Date(NaN);if(i=ta.WwwD.exec(t),i){a=parseInt(i[1],10)-1;const o=parseInt(i[2],10)-1;return VS(a,o)?WS(e,a,o):new Date(NaN)}return null}function DW(t){let e,r,s=ta.HH.exec(t);if(s)return e=parseFloat(s[1].replace(",",".")),jg(e)?e%24*Ng:NaN;if(s=ta.HHMM.exec(t),s)return e=parseInt(s[1],10),r=parseFloat(s[2].replace(",",".")),jg(e,r)?e%24*Ng+r*zS:NaN;if(s=ta.HHMMSS.exec(t),s){e=parseInt(s[1],10),r=parseInt(s[2],10);const a=parseFloat(s[3].replace(",","."));return jg(e,r,a)?e%24*Ng+r*zS+a*1e3:NaN}return null}function WS(t,e,r){e=e||0,r=r||0;const s=new Date(0);s.setUTCFullYear(t,0,4);const a=s.getUTCDay()||7,i=e*7+r+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const MW=[31,28,31,30,31,30,31,31,30,31,30,31],RW=[31,29,31,30,31,30,31,31,30,31,30,31];function t5(t){return t%400===0||t%4===0&&t%100!==0}function YS(t,e,r){if(e<0||e>11)return!1;if(r!=null){if(r<1)return!1;const s=t5(t);if(s&&r>RW[e]||!s&&r>MW[e])return!1}return!0}function FW(t,e){if(e<1)return!1;const r=t5(t);return!(r&&e>366||!r&&e>365)}function VS(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function jg(t,e,r){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||r!=null&&(r<0||r>=60))}const LW=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function IW(t,e,r={}){e=String(e);const s=e.match(LW);if(s){const a=e5(r.originalDate||t,r);e=s.reduce(function(i,o){if(o[0]==="'")return i;const l=i.indexOf(o),c=i[l-1]==="'",d=i.replace(o,"'"+CW[o[0]](a,o,r)+"'");return c?d.substring(0,l-1)+d.substring(l+1):d},e)}return Ke(t,e,r)}function OW(t,e,r){t=e5(t,r);const s=ow(e,t,!0),a=new Date(t.getTime()-s),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}function $e(t,e,r,s){return s={...s,timeZone:e,originalDate:t},IW(OW(t,e,{timeZone:s.timeZone}),r,s)}const Yr=({value:t,onChange:e,onClose:r,position:s})=>{const[a,i]=P.useState(t||new Date),[o,l]=P.useState(t),c=YH(a),d=zH(a),u=Bd(c,{weekStartsOn:0}),h=$H(d,{weekStartsOn:0}),f=WH({start:u,end:h}),m=()=>i(dW(a,1)),p=()=>i(WP(a,1)),x=y=>{console.log(" Original date from calendar:",y),console.log(" Original date ISO:",y.toISOString()),console.log(" Original date local string:",y.toLocaleString());const v=new Date(y.getFullYear(),y.getMonth(),y.getDate(),12,0,0,0);console.log(" Normalized date:",v),console.log(" Normalized date ISO:",v.toISOString()),console.log(" Normalized date local string:",v.toLocaleString()),l(v),e(v)};P.useEffect(()=>{const y=v=>{v.target.closest(".date-picker-container")||r()};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[r]);const g=[{label:"Today",onClick:()=>x(new Date)},{label:"Yesterday",onClick:()=>x(new Date(Date.now()-864e5))},{label:"Last Week",onClick:()=>x(new Date(Date.now()-7*864e5))},{label:"Last Month",onClick:()=>x(new Date(Date.now()-30*864e5))}];return n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`${s==="right"?"right-0":"left-0"} date-picker-container absolute z-50 mt-2 p-4 bg-white rounded-xl shadow-xl border border-gray-200 w-[320px]`,children:[n.jsx("div",{className:"mb-4 grid grid-cols-2 gap-2",children:g.map((y,v)=>n.jsx("button",{onClick:y.onClick,className:"px-3 py-2 text-sm text-gray-600 hover:text-primary hover:bg-primary/5 rounded-lg transition-colors",children:y.label},v))}),n.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(_6,{className:"h-4 w-4 text-gray-500"})}),n.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:Ke(a,"MMMM yyyy")}),n.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(D6,{className:"h-4 w-4 text-gray-500"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(y=>n.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-1",children:y},y))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:f.map((y,v)=>{const b=o&&KP(y,o),w=$z(y,a),N=Xz(y);return n.jsxs("button",{onClick:()=>x(y),className:`
                  relative h-8 w-8 flex items-center justify-center text-sm rounded-full
                  transition-all duration-200
                  ${!w&&"text-gray-300 hover:text-gray-400"}
                  ${w&&!b&&"text-gray-700 hover:bg-primary/10"}
                  ${b&&"bg-primary text-white"}
                  ${N&&!b&&w&&"text-primary font-semibold"}
                `,children:[Ke(y,"d"),N&&!b&&n.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-primary rounded-full"})]},v)})})]}),o&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Selected:"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ke(o,"EEEE, MMMM d, yyyy")})]})]})},BW=()=>{var k;const[t,e]=P.useState("this_month"),[r,s]=P.useState(!1),[a,i]=P.useState(null),[o,l]=P.useState(null),[c,d]=P.useState(!1),[u,h]=P.useState(!1),[f,m]=P.useState(new Date),{adminUser:p,useStats:x}=su(),{data:g,isLoading:y,error:v}=x(t);P.useEffect(()=>{const A=setInterval(()=>{m(new Date)},1e3);return()=>clearInterval(A)},[]);const b={chart:{type:"area",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#6936d3","#94a3b8"],stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.45,opacityTo:.05,stops:[50,100]}},xaxis:{categories:g!=null&&g.dailyRevenue&&g.dailyRevenue.length>0?g.dailyRevenue.map(A=>$e(new Date(A.date),"UTC","MMM d")):["No data"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{labels:{formatter:A=>`$${A}`,style:{fontSize:"12px"}}},grid:{strokeDashArray:4,padding:{left:20,bottom:0}},dataLabels:{enabled:!1},legend:{show:!1},responsive:[{breakpoint:480,options:{chart:{height:200}}}]},w=[{name:"Revenue",data:((k=g==null?void 0:g.dailyRevenue)==null?void 0:k.map(A=>A.amount))||[]}],N=A=>{if(A.startsWith("custom_")){const E=A.replace("custom_","").split("_");if(E.length===2)return`${$e(new Date(E[0]),"UTC","MMM d")} - ${$e(new Date(E[1]),"UTC","MMM d, yyyy")}`}return{today:"Today",yesterday:"Yesterday",this_week:"This week",last_week:"Last week",this_month:"This month",last_month:"Last month",all_time:"All time"}[A]||A},C=()=>{if(a&&o){const A=Ke(a,"yyyy-MM-dd"),T=Ke(o,"yyyy-MM-dd");e(`custom_${A}_${T}`),s(!1)}else ce.error("Please select both start and end dates")},S=A=>{A==="custom"?s(!0):e(A)};return console.log("Stats data:",g),console.log("Chart series:",w),v?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-red-600 mb-2",children:n.jsx(dt,{className:"h-8 w-8 mx-auto"})}),n.jsx("p",{className:"text-gray-600",children:"Failed to load admin statistics. Please try again."})]}):n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[p&&n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-primary-dark to-purple-700 rounded-2xl p-6 md:p-8 text-white",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 bg-white rounded-full -translate-x-20 -translate-y-20"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-60 h-60 bg-white rounded-full translate-x-20 translate-y-20"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 w-32 h-32 bg-white rounded-full -translate-x-16 -translate-y-16"})]}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center border border-white/30",children:n.jsx("span",{className:"text-2xl font-bold text-white",children:p.username.charAt(0).toUpperCase()})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-green-400 rounded-full border-2 border-white flex items-center justify-center",children:n.jsx(Ps,{className:"w-3 h-3 text-white"})})]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:["Welcome back, ",p.username,"!"]}),n.jsx("p",{className:"text-white/80 mb-2",children:"Administrator Dashboard"}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/70",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ps,{className:"h-4 w-4"}),n.jsx("span",{children:"Admin Access"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Et,{className:"h-4 w-4"}),n.jsx("span",{children:"System Management"})]})]})]})]}),n.jsx("div",{className:"flex items-end space-x-6",children:n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-3xl font-bold text-white",children:y?"...":(g==null?void 0:g.trapayEarningsAllTime.toLocaleString())||"0"}),n.jsx("div",{className:"text-sm text-white/70",children:"TRAPAY Earnings"}),n.jsxs("div",{className:"text-xs text-white/60 mt-2 flex items-center justify-center space-x-1",children:[n.jsx(tr,{className:"h-3 w-3"}),n.jsxs("span",{children:["Server Time: ",new Date().toLocaleString("en-GB",{timeZone:"Europe/London",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$1.$2.$3,")," (GMT)"]})]})]})})]})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 md:gap-6",children:y?n.jsxs(n.Fragment,{children:[Array.from({length:4}).map((A,T)=>n.jsx("div",{className:"col-span-3 bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-200",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]})},T)),Array.from({length:3}).map((A,T)=>n.jsx("div",{className:"col-span-4 bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-200",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]})},T+4))]}):g?n.jsxs(n.Fragment,{children:[n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"col-span-3 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-green-400 to-green-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(Zr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total Revenue"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:[g.totalRevenue.toLocaleString()," USDC"]})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:N(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"col-span-3 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(Zr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"TRAPAY Earnings"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:[g.trapayEarnings.toLocaleString()," USDC"]})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:N(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"col-span-3 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(os,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total Success Payments"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:g.successfulPayments.toLocaleString()})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:N(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"col-span-3 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-orange-400 to-orange-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(A6,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Average Success Payment"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:[g.averagePayment.toFixed(2)," USDC"]})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:N(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"col-span-4 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group lg:col-span-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-red-400 to-red-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(Bn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Chargebacks"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:(g.chargebacks||0).toLocaleString()})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:N(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"col-span-4 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group lg:col-span-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-red-400 to-red-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(Dh,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Chargeback Rate"}),n.jsx("p",{className:"text-lg font-bold text-red-600 leading-tight",children:g.totalPayments>0?((g.chargebacks||0)/g.totalPayments*100).toFixed(1)+"%":"0%"})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:N(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"col-span-4 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group lg:col-span-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(ff,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Refunds"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:(g.refunds||0).toLocaleString()})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:N(t)})]})]}):null}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx(Fn,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Platform Revenue"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track overall platform performance"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"this_week",label:"This week"},{value:"last_week",label:"Last week"},{value:"this_month",label:"This month"},{value:"last_month",label:"Last month"},{value:"all_time",label:"All time"},{value:"custom",label:"Custom period"}].map(A=>n.jsx("button",{onClick:()=>S(A.value),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${t===A.value||A.value==="custom"&&t.startsWith("custom_")?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,children:A.label},A.value))})]}),n.jsx(tt,{children:r&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>s(!1),children:n.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",onClick:A=>A.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx(bt,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Custom Period"})]}),n.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Lt,{className:"h-5 w-5 text-gray-500"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>{d(!c),h(!1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-left flex items-center justify-between hover:border-primary transition-colors",children:[n.jsx("span",{className:a?"text-gray-900":"text-gray-400",children:a?Ke(a,"MMMM d, yyyy"):"Select start date"}),n.jsx(bt,{className:"h-5 w-5 text-gray-400"})]}),n.jsx(tt,{children:c&&n.jsx(Yr,{value:a,onChange:A=>{i(A),d(!1),h(!0)},onClose:()=>d(!1),position:"left"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>{h(!u),d(!1)},disabled:!a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-left flex items-center justify-between hover:border-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:border-gray-300",children:[n.jsx("span",{className:o?"text-gray-900":"text-gray-400",children:o?Ke(o,"MMMM d, yyyy"):"Select end date"}),n.jsx(bt,{className:"h-5 w-5 text-gray-400"})]}),n.jsx(tt,{children:u&&n.jsx(Yr,{value:o,onChange:A=>{l(A),h(!1)},onClose:()=>h(!1),position:"left"})})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:C,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors font-medium",children:"Apply"})]})]})]})})}),n.jsx("div",{className:"h-64",children:y?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(Qe,{size:"lg"})}):n.jsx(nw,{options:b,series:w,type:"area",height:"100%"})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(O4,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Admin Actions"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs(Ma,{to:"/admin/users",className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300 group",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(H4,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Manage Users"}),n.jsx("div",{className:"text-sm text-gray-500",children:"View and edit users"})]})]}),n.jsxs(Ma,{to:"/admin/payments",className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl hover:from-green-100 hover:to-green-200 transition-all duration-300 group",children:[n.jsx("div",{className:"p-2 bg-green-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(St,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"View Payments"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Monitor transactions"})]})]}),n.jsxs(Ma,{to:"/admin/payouts",className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl hover:from-purple-100 hover:to-purple-200 transition-all duration-300 group",children:[n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(Hi,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Manage Payouts"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Process withdrawals"})]})]})]})]})]})},Ef=t=>{console.log("Transforming user:",t);const e=Array.isArray(t.gateways)?t.gateways:[];console.log("Server gateways:",e);const r=Li(e);return console.log("Transformed gateways:",r),{id:t.id,name:t.fullName||"",username:t.username||"",telegram:t.telegramId||"",commision:t.commission||0,shopUrl:t.merchantUrl||"",shopUrl2:t.merchantUrl2,shopUrl3:t.merchantUrl3,shopUrl4:t.merchantUrl4,paymentGateways:r,publicKey:t.publicKey||"",status:t.status||"PENDING",createdAt:t.createdAt||new Date().toISOString(),lastLogin:t.lastLoginAt,twoFactorEnabled:t.twoFactorEnabled||t.isTwoFactorEnabled||t.twoFaEnabled||!1,telegramUsersCount:t.telegramUsersCount||0,gatewaySettings:t.gatewaySettings?(()=>{const s={};return Object.entries(t.gatewaySettings).forEach(([a,i])=>{const o=Li([a])[0];o&&(s[o]={commission:i.commission||0,...i.customer&&{customer:i.customer}})}),s})():void 0,wallets:t.wallets}},r5=t=>{const e=[];if((!t.name||t.name.trim().length<2)&&e.push({field:"name",message:"Brand name must be at least 2 characters long"}),t.name&&t.name.length>100&&e.push({field:"name",message:"Brand name must not exceed 100 characters"}),(!t.username||t.username.trim().length<3)&&e.push({field:"username",message:"Username must be at least 3 characters long"}),t.username&&t.username.length>50&&e.push({field:"username",message:"Username must not exceed 50 characters"}),t.password&&t.password.length<6&&e.push({field:"password",message:"Password must be at least 6 characters long"}),t.password&&t.password.length>100&&e.push({field:"password",message:"Password must not exceed 100 characters"}),t.telegram&&t.telegram.length>0&&t.telegram.length<3&&e.push({field:"telegram",message:"Telegram must be at least 3 characters long or empty"}),t.telegram&&t.telegram.length>50&&e.push({field:"telegram",message:"Telegram must not exceed 50 characters"}),t.merchantUrl&&t.merchantUrl.trim().length>0)try{new URL(t.merchantUrl)}catch{e.push({field:"merchantUrl",message:"Please enter a valid URL"})}if(t.merchantUrl2&&t.merchantUrl2.trim().length>0)try{new URL(t.merchantUrl2)}catch{e.push({field:"merchantUrl2",message:"Please enter a valid URL"})}if(t.merchantUrl3&&t.merchantUrl3.trim().length>0)try{new URL(t.merchantUrl3)}catch{e.push({field:"merchantUrl3",message:"Please enter a valid URL"})}if(t.merchantUrl4&&t.merchantUrl4.trim().length>0)try{new URL(t.merchantUrl4)}catch{e.push({field:"merchantUrl4",message:"Please enter a valid URL"})}return t.paymentGateways&&t.paymentGateways.length>0&&(!t.gatewaySettings||Object.keys(t.gatewaySettings).length===0?e.push({field:"gatewaySettings",message:"Gateway settings are required for all selected gateways"}):(t.paymentGateways.forEach(s=>{t.gatewaySettings[s]||e.push({field:`gatewaySettings.${s}`,message:`Settings required for Gateway ${s}`})}),Object.entries(t.gatewaySettings).forEach(([s,a])=>{(a.commission<0||a.commission>100)&&e.push({field:`gatewaySettings.${s}.commission`,message:`Commission for Gateway ${s} must be between 0 and 100`})}))),["ACTIVE","INACTIVE","SUSPENDED"].includes(t.status)||e.push({field:"status",message:"Invalid status value"}),e},va={all:["admin","users"],lists:()=>[...va.all,"list"],list:t=>[...va.lists(),{filters:t}],details:()=>[...va.all,"detail"],detail:t=>[...va.details(),t]};function UW(){const t=sr();return Ht({mutationFn:async e=>{if(!e.gatewaySettings||Object.keys(e.gatewaySettings).length===0)throw new Error("Gateway settings are required");for(const o of e.gateways)if(!e.gatewaySettings[o])throw new Error(`Settings required for Gateway ${o}`);const r=Uh(e.gateways),s={};Object.entries(e.gatewaySettings).forEach(([o,l])=>{const c=Uh([o])[0];if(c){const d={commission:l.commission};l.customer&&(d.customer=l.customer),s[c]=d}});const a={fullName:e.brandName,username:e.username,password:e.password,telegramId:e.telegramId,merchantUrl:e.merchantUrl,merchantUrl2:e.merchantUrl2,merchantUrl3:e.merchantUrl3,merchantUrl4:e.merchantUrl4,gateways:r,gatewaySettings:s};return e.wallets&&(a.wallets=e.wallets),console.log("Creating user with data:",a),console.log("Gateway settings being sent:",s),await Pe.post("/admin/users",a)},onSuccess:e=>{console.log("User created successfully:",e),t.invalidateQueries({queryKey:va.lists()}),e.result&&t.setQueryData(va.detail(e.result.id),Ef(e.result))}})}function HW(t={}){return Vt({queryKey:va.list(t),queryFn:async()=>{try{const e=new URLSearchParams;t.page&&e.append("page",t.page.toString()),t.limit&&e.append("limit",t.limit.toString()),t.status&&e.append("status",t.status),t.search&&e.append("search",t.search);const r=e.toString(),s=await Pe.get(`/admin/users${r?`?${r}`:""}`);if(console.log("API Response:",s),!s.users||!Array.isArray(s.users))throw new Error("Invalid response format: users array not found");console.log("Raw users data:",s.users);const a=s.users.map(Ef);return console.log("Transformed users:",a),{users:a,pagination:s.pagination}}catch(e){throw console.error("Error fetching users:",e),new Error("Failed to fetch users")}},placeholderData:e=>e})}function zW(){const t=sr();return Ht({mutationFn:async({id:e,data:r})=>{console.log(" useUpdateUser called with:",{id:e,data:r});const s=r5(r);if(s.length>0)throw new Error(`Validation failed: ${s.map(c=>c.message).join(", ")}`);const a=Uh(r.paymentGateways);console.log(" Gateway IDs from form:",r.paymentGateways),console.log(" Gateway names for API:",a);const i={};r.gatewaySettings&&Object.entries(r.gatewaySettings).forEach(([c,d])=>{const u=Uh([c])[0];if(u){const h={commission:d.commission};d.customer&&(h.customer=d.customer),i[u]=h}});const o={fullName:r.name,username:r.username,telegramId:r.telegram,merchantUrl:r.merchantUrl,merchantUrl2:r.merchantUrl2,merchantUrl3:r.merchantUrl3,merchantUrl4:r.merchantUrl4,gateways:a,status:r.status,gatewaySettings:i};r.password&&r.password.trim().length>0&&(o.password=r.password),r.wallets&&(o.wallets=r.wallets),console.log(" Updating user with data:",o),console.log(" Gateway settings being sent:",i);const l=await Pe.put(`/admin/users/${e}`,o);return console.log(" Update user response:",l),l},onSuccess:(e,r)=>{console.log(" useUpdateUser onSuccess called"),t.invalidateQueries({queryKey:va.lists()}),e.result&&t.setQueryData(va.detail(r.id),Ef(e.result))},onError:e=>{console.error(" useUpdateUser onError:",e)}})}function WW(){const t=sr();return Ht({mutationFn:({id:e,twoFactorToken:r})=>{const s=r?{twoFactorToken:r}:void 0;return Pe.delete(`/admin/users/${e}`,s)},onSuccess:()=>{t.invalidateQueries({queryKey:va.lists()})}})}function YW(){const t=sr();return Ht({mutationFn:e=>Pe.post(`/admin/users/${e}/suspend`),onSuccess:(e,r)=>{t.invalidateQueries({queryKey:va.lists()}),e.result&&t.setQueryData(va.detail(r),Ef(e.result))}})}function VW(){const t=sr();return Ht({mutationFn:e=>Pe.post(`/admin/users/${e}/activate`),onSuccess:(e,r)=>{t.invalidateQueries({queryKey:va.lists()}),e.result&&t.setQueryData(va.detail(r),Ef(e.result))}})}const $W=({user:t,onClose:e})=>{const[r,s]=P.useState(""),[a,i]=P.useState(""),[o,l]=P.useState(!1),[c,d]=P.useState({}),u=async()=>{var f,m;const h={};if(!r||r.trim()==="")h.amount="Amount is required";else{const p=parseFloat(r);(isNaN(p)||p<=0)&&(h.amount="Amount must be greater than 0")}if(Object.keys(h).length>0){d(h);return}try{l(!0);const p=parseFloat(r);await Pe.post("/admin/deposit",{shopId:t.id,amount:p,notes:a.trim()||void 0}),ce.success(`Successfully deposited ${p} USDC to ${t.name}`),e()}catch(p){console.error("Deposit error:",p),ce.error(((m=(f=p.response)==null?void 0:f.data)==null?void 0:m.message)||"Failed to deposit balance")}finally{l(!1)}};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-xl",children:n.jsx(Mh,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Deposit Balance"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.name})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (USDC) *"}),n.jsx("input",{type:"number",value:r,onChange:h=>{s(h.target.value),c.amount&&d(f=>({...f,amount:""}))},className:`w-full px-4 py-2.5 rounded-lg border ${c.amount?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary"} focus:ring-2 focus:border-primary outline-none`,placeholder:"0.00",step:"0.01",min:"0",disabled:o}),c.amount&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:c.amount})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),n.jsx("textarea",{value:a,onChange:h=>i(h.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Add notes for this deposit...",rows:3,disabled:o})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ct,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-700",children:[n.jsx("p",{className:"font-medium mb-1",children:"Transaction Details:"}),n.jsxs("ul",{className:"space-y-1 text-xs",children:[n.jsx("li",{children:" Gateway: Deposit"}),n.jsx("li",{children:" Currency: USDC"}),n.jsxs("li",{children:[" Customer: ",t.username]}),n.jsxs("li",{children:[" Email: @",t.telegram||t.username]}),n.jsx("li",{children:" Payment Method: CRYPTO"})]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{onClick:e,disabled:o,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800 disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:u,disabled:o,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx(ff,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Processing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Mh,{className:"h-4 w-4"}),n.jsx("span",{children:"Deposit Balance"})]})})]})]})]})})},XW=({user:t,onClose:e})=>{var N,C,S,k;const[r,s]=P.useState("month"),[a,i]=P.useState(null),[o,l]=P.useState(null),[c,d]=P.useState(!1),[u,h]=P.useState(!1),{useMerchantStatistics:f}=su(),m=P.useMemo(()=>{const A={shopId:t.id,period:r};if(r==="custom"&&a&&o){const T=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0)),E=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),23,59,59));A.dateFrom=T.toISOString(),A.dateTo=E.toISOString()}return A},[t.id,r,a,o]),{data:p,isLoading:x,error:g}=f(m),y=[{value:"month",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"all",label:"All Time"},{value:"custom",label:"Custom Range"}],v={chart:{type:"area",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#6936d3","#10b981","#f59e0b"],stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.45,opacityTo:.05,stops:[50,100]}},xaxis:{categories:((N=p==null?void 0:p.dailyData)==null?void 0:N.map(A=>Ke(Gz(A.date),"dd.MM")))||[],labels:{rotate:-45,rotateAlways:!0,hideOverlappingLabels:!0,trim:!1,minHeight:80,style:{fontSize:"10px"}},axisBorder:{show:!1},axisTicks:{show:!0},tickAmount:p!=null&&p.dailyData?Math.min(p.dailyData.length-1,20):void 0,tickPlacement:"between"},yaxis:{labels:{formatter:A=>`$${A.toFixed(0)}`,style:{fontSize:"12px"}}},grid:{strokeDashArray:4,padding:{left:20,bottom:0}},dataLabels:{enabled:!1},legend:{show:!0,position:"top",horizontalAlign:"right"},responsive:[{breakpoint:480,options:{chart:{height:200}}}]},b=[{name:"Total Turnover",data:((C=p==null?void 0:p.dailyData)==null?void 0:C.map(A=>A.turnover))||[]},{name:"Merchant Earnings",data:((S=p==null?void 0:p.dailyData)==null?void 0:S.map(A=>A.merchantEarnings))||[]},{name:"Gateway Earnings",data:((k=p==null?void 0:p.dailyData)==null?void 0:k.map(A=>A.gatewayEarnings))||[]}],w=r!=="custom"||a&&o;return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-6xl min-h-[90vh] max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 sticky top-0 bg-white z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(Td,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Merchant Analytics"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[t.name," (",t.telegram,")"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[r==="custom"&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>d(!0),className:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-left flex items-center space-x-2 hover:border-primary transition-all duration-200 text-sm",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:a?"text-gray-900":"text-gray-500",children:a?Ke(a,"dd.MM.yy"):"Start date"})]}),n.jsx(tt,{children:c&&n.jsx(Yr,{value:a,onChange:A=>{i(A),d(!1),h(!0)},onClose:()=>d(!1)})})]}),n.jsx("span",{className:"text-gray-400",children:"to"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>h(!0),className:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-left flex items-center space-x-2 hover:border-primary transition-all duration-200 text-sm",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:o?"text-gray-900":"text-gray-500",children:o?Ke(o,"dd.MM.yy"):"End date"})]}),n.jsx(tt,{children:u&&n.jsx(Yr,{value:o,onChange:A=>{l(A),h(!1)},onClose:()=>h(!1)})})]})]}),n.jsx(ir,{value:r,onChange:s,options:y,placeholder:"Select period",className:"w-[180px]"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Lt,{className:"h-5 w-5"})})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[r==="custom"&&!w&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(bt,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Select Date Range"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Please select both start and end dates to view custom period analytics."})]})]})}),x?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):g?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(dt,{className:"h-8 w-8 text-red-400"})}),n.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load merchant statistics"})]}):w?p?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-12 gap-4",children:[n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:border-primary/20 transition-all duration-200 lg:col-span-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded-xl",children:n.jsx(Zr,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Turnover"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[p.totalTurnover.toLocaleString()," USDC"]})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:border-primary/20 transition-all duration-200 lg:col-span-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:n.jsx(Sr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Merchant Earnings"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[p.merchantEarnings.toLocaleString()," USDC"]})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:border-primary/20 transition-all duration-200 lg:col-span-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-50 rounded-xl",children:n.jsx(os,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Payments"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:p.totalPayments.toLocaleString()})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:border-primary/20 transition-all duration-200 lg:col-span-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-emerald-50 rounded-xl",children:n.jsx(wt,{className:"h-5 w-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Successful Payments"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:p.successfulPayments.toLocaleString()})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:border-primary/20 transition-all duration-200 lg:col-span-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-red-50 rounded-xl",children:n.jsx(Bn,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Chargebacks"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(p.chargebacks||0).toLocaleString()})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:border-primary/20 transition-all duration-200 lg:col-span-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-red-50 rounded-xl",children:n.jsx(Dh,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Chargeback Rate"}),n.jsx("p",{className:"text-xl font-semibold text-red-600",children:p.successfulPayments>0?((p.chargebacks||0)/p.successfulPayments*100).toFixed(1)+"%":"0%"})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:border-primary/20 transition-all duration-200 lg:col-span-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-indigo-50 rounded-xl",children:n.jsx(ff,{className:"h-5 w-5 text-indigo-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Refunds"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(p.refunds||0).toLocaleString()})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 hover:border-primary/20 transition-all duration-200 lg:col-span-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-orange-50 rounded-xl",children:n.jsx(Fn,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Conversion Rate"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[p.conversionRate.toFixed(1),"%"]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Analytics"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Daily breakdown of earnings and turnover"})]})}),n.jsx("div",{className:"h-64",children:n.jsx(nw,{options:v,series:b,type:"area",height:"100%"})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gateway Performance"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.gatewayBreakdown.map((A,T)=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:A.gatewayDisplayName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[A.paymentsCount," payments"]})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[n.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-blue-900",children:A.turnoverUSDT.toLocaleString()}),n.jsx("div",{className:"text-xs text-blue-700",children:"Turnover USDC"})]}),n.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-green-900",children:A.merchantEarningsUSDT.toLocaleString()}),n.jsx("div",{className:"text-xs text-green-700",children:"Earnings USDC"})]}),n.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[n.jsxs("div",{className:"text-lg font-bold text-orange-900",children:[A.averageCommissionRate,"%"]}),n.jsx("div",{className:"text-xs text-orange-700",children:"Commission"})]})]})]},T))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded-xl",children:n.jsx(Hi,{className:"h-5 w-5 text-green-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payouts"})]}),n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Total Paid Out"}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[p.totalPaidOut.toLocaleString()," USDC"]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:n.jsx(os,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Average Check"}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[p.averageCheck.toFixed(2)," USDC"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Success Rate"}),n.jsxs("span",{className:"text-sm font-medium text-green-600",children:[(p.successfulPayments/p.totalPayments*100).toFixed(1),"%"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 bg-purple-50 rounded-xl",children:n.jsx(Dh,{className:"h-5 w-5 text-purple-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Commissions"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Gateway Earnings"}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[p.gatewayEarnings.toLocaleString()," USDC"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Avg Commission"}),n.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[(p.gatewayEarnings/p.totalTurnover*100).toFixed(1),"%"]})]})]})]})]}),p.periodInfo&&n.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-gray-500",children:"Period:"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[$e(new Date(p.periodInfo.from),"UTC","dd.MM.yy")," - ",$e(new Date(p.periodInfo.to),"UTC","dd.MM.yy")]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-gray-500",children:"Duration:"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[p.periodInfo.daysCount," days"]})]})]})})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Td,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No statistics available for this period"})]}):null]})]})})},GW=({user:t,onClose:e,onEdit:r,onDelete:s,onSuspend:a,onActivate:i,onDeposit:o})=>{const[l,c]=P.useState(null),d=(m,p)=>{navigator.clipboard.writeText(m),c(p),setTimeout(()=>c(null),2e3)},u=async m=>{switch(m){case"edit":r(t);break;case"delete":window.confirm("Are you sure you want to delete this user?")&&s(t.id);break;case"suspend":window.confirm("Are you sure you want to suspend this user?")&&a(t.id);break;case"activate":i(t.id);break}e()},h=(m,p,x=!1,g,y,v)=>p==null||p===""?null:n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`group relative p-5 bg-gradient-to-br from-white via-gray-50 to-white rounded-2xl border border-gray-200 hover:border-primary/30 hover:shadow-lg transition-all duration-300 ${v||""}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[y&&n.jsx("div",{className:"p-2 bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl text-primary group-hover:scale-110 transition-transform duration-200",children:y}),n.jsx("div",{className:"text-sm font-semibold text-gray-700 group-hover:text-gray-900 transition-colors duration-200",children:m})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-base text-gray-900 break-all mr-3 font-medium",children:typeof p=="boolean"?p?"Yes":"No":p}),x&&g&&n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>d(p.toString(),g),className:"p-2.5 text-gray-400 hover:text-primary hover:bg-white rounded-xl transition-all duration-200 flex-shrink-0 shadow-sm border border-gray-200 hover:border-primary/30",children:l===g?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]})]}),f=m=>{const p={ACTIVE:{icon:n.jsx(wt,{className:"h-5 w-5"}),bg:"from-green-500 to-emerald-600",text:"Active User"},SUSPENDED:{icon:n.jsx(hr,{className:"h-5 w-5"}),bg:"from-red-500 to-rose-600",text:"Suspended"},PENDING:{icon:n.jsx(tr,{className:"h-5 w-5"}),bg:"from-yellow-500 to-orange-500",text:"Pending Approval"}},x=p[m]||p.PENDING;return n.jsxs("div",{className:`inline-flex items-center px-4 py-2 bg-gradient-to-r ${x.bg} text-white rounded-xl shadow-lg`,children:[x.icon,n.jsx("span",{className:"ml-2 font-semibold",children:x.text})]})};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-3xl shadow-2xl w-full max-w-5xl max-h-[95vh] overflow-hidden",children:[n.jsxs("div",{className:"relative px-8 py-6 bg-gradient-to-r from-primary via-primary-dark to-purple-700 text-white",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"p-4 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30",children:n.jsx(Dt,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx(X.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-2xl font-bold text-white",children:t.name}),n.jsxs(X.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-white/80 font-mono text-sm",children:["@",t.username]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>u("edit"),className:"p-3 text-white/80 hover:text-white hover:bg-white/20 rounded-xl transition-all duration-200 backdrop-blur-sm",children:n.jsx(Pd,{className:"h-5 w-5"})}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"p-3 text-white/80 hover:text-white hover:bg-white/20 rounded-xl transition-all duration-200 backdrop-blur-sm",children:n.jsx(Lt,{className:"h-6 w-6"})})]})]})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-120px)]",children:n.jsxs("div",{className:"p-8 space-y-8",children:[n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center",children:f(t.status)}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h("Brand Name",t.name,!1,"",n.jsx(ga,{className:"h-5 w-5"}),"border-2 border-primary/20"),h("Username",`@${t.username}`,!1,"",n.jsx(Dt,{className:"h-5 w-5"})),h("Telegram",t.telegram||"Not set",!1,"",n.jsx(oi,{className:"h-5 w-5"})),h("Merchant URL",t.shopUrl,!0,"shop-url",n.jsx(Et,{className:"h-5 w-5"})),t.shopUrl2&&h("Merchant URL 2",t.shopUrl2,!0,"shop-url-2",n.jsx(Et,{className:"h-5 w-5"})),t.shopUrl3&&h("Merchant URL 3",t.shopUrl3,!0,"shop-url-3",n.jsx(Et,{className:"h-5 w-5"})),t.shopUrl4&&h("Merchant URL 4",t.shopUrl4,!0,"shop-url-4",n.jsx(Et,{className:"h-5 w-5"})),h("Created At",$e(new Date(t.createdAt),"UTC","dd.MM.yy HH:mm")+" UTC",!1,"",n.jsx(bt,{className:"h-5 w-5"})),t.lastLoginAt&&h("Last Login",$e(new Date(t.lastLoginAt),"UTC","dd.MM.yy HH:mm")+" UTC",!1,"",n.jsx(bt,{className:"h-5 w-5"})),h("Public Key",`${t.publicKey.slice(0,20)}...`,!0,"public-key",n.jsx(Ps,{className:"h-5 w-5"}))]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-xl font-bold text-gray-900 flex items-center",children:[n.jsx(Sr,{className:"h-6 w-6 mr-3 text-primary"}),"Payment Gateways"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.paymentGateways.map(m=>{var g;const p=cc(m),x=(g=t.gatewaySettings)==null?void 0:g[m];return n.jsxs(X.div,{whileHover:{scale:1.02},className:"p-6 border-2 border-gray-200 rounded-2xl bg-gradient-to-br from-white to-gray-50 hover:border-primary/30 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-lg font-bold text-gray-900",children:p?p.name:`Gateway ${m}`}),n.jsx("p",{className:"text-sm text-gray-600",children:p?p.description:"Payment gateway"})]}),n.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:n.jsx(Sr,{className:"h-6 w-6 text-primary"})})]}),x&&n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-primary",children:[x.commission,"%"]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Commission"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[x.payoutDelay||0,"d"]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Payout Delay"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 pt-3 border-t border-gray-200",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",x.minAmount||0]}),n.jsx("div",{className:"text-xs text-gray-500",children:"Min Amount"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",x.maxAmount||0]}),n.jsx("div",{className:"text-xs text-gray-500",children:"Max Amount"})]})]})]})]},m)})})]}),t.wallets&&Object.keys(t.wallets).length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-xl font-bold text-gray-900 flex items-center",children:[n.jsx(Sr,{className:"h-6 w-6 mr-3 text-primary"}),"Crypto Wallets"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(t.wallets).map(([m,p])=>{if(!p)return null;const g={usdtPolygonWallet:{label:"USDT (Polygon)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),gradient:"from-blue-500 to-indigo-600"},usdtTrcWallet:{label:"USDT (TRC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),gradient:"from-red-500 to-rose-600"},usdtErcWallet:{label:"USDT (ERC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),gradient:"from-gray-700 to-gray-900"},usdcPolygonWallet:{label:"USDC (Polygon)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),gradient:"from-blue-600 to-cyan-600"},usdcErcWallet:{label:"USDC (ERC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),gradient:"from-green-500 to-emerald-600"}}[m];return g?n.jsxs(X.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-white to-gray-50 rounded-2xl border-2 border-gray-200 hover:border-primary/30 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:g.icon}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-gray-900",children:g.label}),n.jsx("p",{className:"text-sm text-gray-600",children:"Cryptocurrency Wallet"})]})]}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>d(p,m),className:"p-3 text-gray-400 hover:text-primary hover:bg-white rounded-xl transition-all duration-200 shadow-sm border border-gray-200 hover:border-primary/30",children:l===m?n.jsx(Rt,{className:"h-5 w-5 text-green-500"}):n.jsx(ct,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:n.jsx("div",{className:"text-sm font-mono text-gray-600 break-all",children:p})})]},m):null})})]}),n.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[n.jsxs("h4",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx(_d,{className:"h-6 w-6 mr-3 text-primary"}),"Actions"]}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{o(t),e()},className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-3 font-semibold",children:[n.jsx(Mh,{className:"h-5 w-5"}),n.jsx("span",{children:"Deposit Balance"})]}),n.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("edit"),className:"px-6 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-3 font-semibold",children:[n.jsx(Pd,{className:"h-5 w-5"}),n.jsx("span",{children:"Edit User"})]}),t.status==="ACTIVE"?n.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("suspend"),className:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-3 font-semibold",children:[n.jsx(Ps,{className:"h-5 w-5"}),n.jsx("span",{children:"Suspend"})]}):n.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("activate"),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-3 font-semibold",children:[n.jsx(wt,{className:"h-5 w-5"}),n.jsx("span",{children:"Activate"})]}),n.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("delete"),className:"px-6 py-3 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-3 font-semibold",children:[n.jsx(Jb,{className:"h-5 w-5"}),n.jsx("span",{children:"Delete"})]})]})]})]})})]})})},KW=({isOpen:t,onClose:e,onSubmit:r,isLoading:s})=>{const[a,i]=P.useState({brandName:"",username:"",password:"",telegramId:"",merchantUrl:"",merchantUrl2:"",merchantUrl3:"",merchantUrl4:"",gateways:[],gatewaySettings:{},wallets:{usdtPolygonWallet:"",usdtTrcWallet:"",usdtErcWallet:"",usdcPolygonWallet:"",usdcErcWallet:""}}),[o,l]=P.useState({}),c=Object.values(Zn),d=[{key:"usdtPolygonWallet",label:"USDT (Polygon)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"blue"},{key:"usdtTrcWallet",label:"USDT (TRC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"red"},{key:"usdtErcWallet",label:"USDT (ERC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"gray"},{key:"usdcPolygonWallet",label:"USDC (Polygon)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"cyan"},{key:"usdcErcWallet",label:"USDC (ERC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"green"}],u=p=>{i(x=>{const g=x.gateways.includes(p),y=g?x.gateways.filter(b=>b!==p):[...x.gateways,p],v={...x.gatewaySettings};if(g)delete v[p];else{const b={commission:2.5};p==="1110"&&(b.customer=""),v[p]=b}return{...x,gateways:y,gatewaySettings:v}})},h=p=>{p.preventDefault();const x=r5({name:a.brandName,username:a.username,password:a.password,telegram:a.telegramId,merchantUrl:a.merchantUrl,paymentGateways:a.gateways,status:"ACTIVE",gatewaySettings:a.gatewaySettings,wallets:a.wallets});if(x.length>0){const g={};x.forEach(y=>{g[y.field]=y.message}),l(g);return}l({}),r(a)},f=()=>{i({brandName:"",username:"",password:"",telegramId:"",merchantUrl:"",merchantUrl2:"",merchantUrl3:"",merchantUrl4:"",gateways:[],gatewaySettings:{},wallets:{usdtPolygonWallet:"",usdtTrcWallet:"",usdtErcWallet:"",usdcPolygonWallet:"",usdcErcWallet:""}}),l({}),e()},m=(p,x,g,y)=>n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center space-x-3 text-sm font-semibold text-gray-700",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:x}),n.jsx("span",{children:p})]}),g,y&&n.jsxs(X.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-red-600 flex items-center space-x-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:y})]})]});return n.jsx(tt,{children:t&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-3xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden",children:[n.jsxs("div",{className:"relative px-8 py-6 bg-gradient-to-r from-primary via-primary-dark to-purple-700 text-white",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"p-4 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30",children:n.jsx(km,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx(X.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-2xl font-bold text-white",children:"Add New User"}),n.jsx(X.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-white/80",children:"Create a new merchant account"})]})]}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:f,className:"p-3 text-white/80 hover:text-white hover:bg-white/20 rounded-xl transition-all duration-200 backdrop-blur-sm",children:n.jsx(Lt,{className:"h-6 w-6"})})]})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-120px)]",children:n.jsxs("form",{onSubmit:h,className:"p-8 space-y-8",children:[n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:n.jsx(Dt,{className:"h-6 w-6 text-primary"})}),n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Basic Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("Brand Name *",n.jsx(ga,{className:"h-5 w-5"}),n.jsx("input",{type:"text",value:a.brandName,onChange:p=>i({...a,brandName:p.target.value}),className:`w-full px-4 py-3 border-2 ${o.name?"border-red-300":"border-gray-200"} rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300`,placeholder:"Enter brand name"}),o.name),m("Username *",n.jsx(Dt,{className:"h-5 w-5"}),n.jsx("input",{type:"text",value:a.username,onChange:p=>i({...a,username:p.target.value}),className:`w-full px-4 py-3 border-2 ${o.username?"border-red-300":"border-gray-200"} rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300`,placeholder:"Enter username"}),o.username),m("Password *",n.jsx(Ps,{className:"h-5 w-5"}),n.jsx("input",{type:"password",value:a.password,onChange:p=>i({...a,password:p.target.value}),className:`w-full px-4 py-3 border-2 ${o.password?"border-red-300":"border-gray-200"} rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300`,placeholder:"Enter password"}),o.password),m("Telegram ID",n.jsx(oi,{className:"h-5 w-5"}),n.jsx("input",{type:"text",value:a.telegramId,onChange:p=>i({...a,telegramId:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",placeholder:"@username"}))]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m("Merchant URL",n.jsx(Et,{className:"h-5 w-5"}),n.jsx("input",{type:"url",value:a.merchantUrl,onChange:p=>i({...a,merchantUrl:p.target.value}),className:`w-full px-4 py-3 border-2 ${o.merchantUrl?"border-red-300":"border-gray-200"} rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300`,placeholder:"https://example.com"}),o.merchantUrl),m("Merchant URL 2",n.jsx(Et,{className:"h-5 w-5"}),n.jsx("input",{type:"url",value:a.merchantUrl2,onChange:p=>i({...a,merchantUrl2:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",placeholder:"https://example2.com (optional)"})),m("Merchant URL 3",n.jsx(Et,{className:"h-5 w-5"}),n.jsx("input",{type:"url",value:a.merchantUrl3,onChange:p=>i({...a,merchantUrl3:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",placeholder:"https://example3.com (optional)"})),m("Merchant URL 4",n.jsx(Et,{className:"h-5 w-5"}),n.jsx("input",{type:"url",value:a.merchantUrl4,onChange:p=>i({...a,merchantUrl4:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",placeholder:"https://example4.com (optional)"}))]})]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:n.jsx(St,{className:"h-6 w-6 text-primary"})}),n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Payment Gateways"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(p=>{var g,y;const x=a.gateways.includes(p.id);return n.jsxs(X.div,{whileHover:{scale:1.02},className:`p-6 border-2 rounded-2xl transition-all duration-300 ${x?"border-primary bg-gradient-to-br from-primary/5 to-primary/10":"border-gray-200 bg-white hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-3 rounded-xl ${x?"bg-primary text-white":"bg-gray-100 text-gray-600"}`,children:n.jsx(Sr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-gray-900",children:p.displayName}),n.jsx("p",{className:"text-sm text-gray-600",children:p.description})]})]}),n.jsx(X.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>u(p.id),className:`relative inline-flex h-8 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${x?"bg-primary":"bg-gray-200"}`,children:n.jsx("span",{className:`pointer-events-none inline-block h-7 w-7 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${x?"translate-x-6":"translate-x-0"}`})})]}),x&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commission Rate (%)"}),n.jsx("input",{type:"number",value:((g=a.gatewaySettings[p.id])==null?void 0:g.commission)||0,onChange:v=>{const b=parseFloat(v.target.value)||0;i(w=>({...w,gatewaySettings:{...w.gatewaySettings,[p.id]:{...w.gatewaySettings[p.id],commission:b}}}))},className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors",placeholder:"0",min:"0",max:"100",step:"0.01"})]}),p.id==="1110"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Dt,{className:"h-4 w-4 inline-block mr-1"}),"Customer ID"]}),n.jsx("input",{type:"text",value:((y=a.gatewaySettings[p.id])==null?void 0:y.customer)||"",onChange:v=>{const b=v.target.value;i(w=>({...w,gatewaySettings:{...w.gatewaySettings,[p.id]:{...w.gatewaySettings[p.id],customer:b}}}))},className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors",placeholder:"Enter customer ID"})]})]})})]},p.id)})}),o.paymentGateways&&n.jsx("p",{className:"text-sm text-red-600",children:o.paymentGateways})]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:n.jsx(Sr,{className:"h-6 w-6 text-primary"})}),n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Crypto Wallets (Optional)"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(p=>{var x;return n.jsxs(X.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-white to-gray-50 rounded-2xl border-2 border-gray-200 hover:border-primary/30 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"flex-shrink-0",children:p.icon}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-gray-900",children:p.label}),n.jsx("p",{className:"text-sm text-gray-600",children:"Wallet Address"})]})]}),n.jsx("input",{type:"text",value:((x=a.wallets)==null?void 0:x[p.key])||"",onChange:g=>i({...a,wallets:{...a.wallets,[p.key]:g.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300 font-mono text-sm",placeholder:"Enter wallet address"})]},p.key)})})]}),n.jsx("div",{className:"border-t-2 border-gray-200 pt-8",children:n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsxs(X.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:s,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all duration-200 flex items-center space-x-3 font-semibold disabled:opacity-50",children:[n.jsx(Lt,{className:"h-5 w-5"}),n.jsx("span",{children:"Cancel"})]}),n.jsx(X.button,{type:"submit",disabled:s,whileHover:s?{}:{scale:1.05},whileTap:s?{}:{scale:.95},className:"px-8 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-3 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:"Creating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(km,{className:"h-5 w-5"}),n.jsx("span",{children:"Create User"})]})})]})})]})})]})})})},qW=({user:t,onClose:e,onSubmit:r,isLoading:s})=>{var g,y,v,b,w;const[a,i]=P.useState({name:t.name,username:t.username,password:"",telegram:t.telegram||"",merchantUrl:t.shopUrl,merchantUrl2:t.shopUrl2||"",merchantUrl3:t.shopUrl3||"",merchantUrl4:t.shopUrl4||"",paymentGateways:t.paymentGateways,status:t.status==="PENDING"?"INACTIVE":t.status,gatewaySettings:t.gatewaySettings||{},wallets:{usdtPolygonWallet:((g=t.wallets)==null?void 0:g.usdtPolygonWallet)||"",usdtTrcWallet:((y=t.wallets)==null?void 0:y.usdtTrcWallet)||"",usdtErcWallet:((v=t.wallets)==null?void 0:v.usdtErcWallet)||"",usdcPolygonWallet:((b=t.wallets)==null?void 0:b.usdcPolygonWallet)||"",usdcErcWallet:((w=t.wallets)==null?void 0:w.usdcErcWallet)||""}}),[o,l]=P.useState({}),c=s9(),d=Object.values(Zn),u=[{key:"usdtPolygonWallet",label:"USDT (Polygon)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"blue"},{key:"usdtTrcWallet",label:"USDT (TRC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"red"},{key:"usdtErcWallet",label:"USDT (ERC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"gray"},{key:"usdcPolygonWallet",label:"USDC (Polygon)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"cyan"},{key:"usdcErcWallet",label:"USDC (ERC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]}),color:"green"}],h=N=>{console.log(" handleGatewayToggle called with gatewayId:",N),i(C=>{console.log(" Previous formData:",C);const S=C.paymentGateways.includes(N);console.log(" Gateway isSelected:",S);const k=S?C.paymentGateways.filter(E=>E!==N):[...C.paymentGateways,N];console.log(" New gateways array:",k);const A={...C.gatewaySettings};if(S)delete A[N],console.log(" Removed gateway settings for:",N);else{const E={commission:2.5,minAmount:0,maxAmount:1e5,payoutDelay:0};N==="1110"&&(E.customer=""),A[N]=E,console.log(" Added gateway settings for:",N)}const T={...C,paymentGateways:k,gatewaySettings:A};return console.log(" New formData:",T),T})},f=N=>{N.preventDefault(),console.log(" EditUserModal handleSubmit called"),console.log(" Form data being submitted:",a),console.log(" Payment gateways:",a.paymentGateways),console.log(" Gateway settings:",a.gatewaySettings),l({}),r(a)},m=()=>{l({}),e()};console.log(" EditUserModal user data:",t),console.log(" user.twoFactorEnabled:",t.twoFactorEnabled);const p=async()=>{try{await c.mutateAsync(t.id),ce.success("2FA disabled successfully")}catch(N){ce.error(N.message||"Failed to disable 2FA")}},x=(N,C,S,k)=>n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center space-x-3 text-sm font-semibold text-gray-700",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:C}),n.jsx("span",{children:N})]}),S,k&&n.jsxs(X.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-red-600 flex items-center space-x-2",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:k})]})]});return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-3xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden",children:[n.jsxs("div",{className:"relative px-8 py-6 bg-gradient-to-r from-primary via-primary-dark to-purple-700 text-white",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"p-4 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30",children:n.jsx(Pd,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsxs(X.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-2xl font-bold text-white",children:["Edit User - ",t.name]}),n.jsx(X.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-white/80",children:"Modify user settings and configuration"})]})]}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:m,className:"p-3 text-white/80 hover:text-white hover:bg-white/20 rounded-xl transition-all duration-200 backdrop-blur-sm",children:n.jsx(Lt,{className:"h-6 w-6"})})]})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-120px)]",children:n.jsxs("form",{onSubmit:f,className:"p-8 space-y-8",children:[t.twoFactorEnabled&&n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"bg-purple-50 border-2 border-purple-200 rounded-2xl p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(Ps,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-bold text-purple-900 mb-2",children:"Two-Factor Authentication Enabled"}),n.jsx("p",{className:"text-sm text-purple-700",children:"This user has 2FA enabled. Click the button below to disable it."})]})]}),n.jsxs(X.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,disabled:c.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 flex-shrink-0 ml-4",children:[c.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:c.isPending?"Disabling...":"Disable 2FA"})]})]})}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:n.jsx(Dt,{className:"h-6 w-6 text-primary"})}),n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Basic Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x("Brand Name *",n.jsx(ga,{className:"h-5 w-5"}),n.jsx("input",{type:"text",value:a.name,onChange:N=>i({...a,name:N.target.value}),className:`w-full px-4 py-3 border-2 ${o.name?"border-red-300":"border-gray-200"} rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300`,placeholder:"Enter brand name"}),o.name),x("Username *",n.jsx(Dt,{className:"h-5 w-5"}),n.jsx("input",{type:"text",value:a.username,onChange:N=>i({...a,username:N.target.value}),className:`w-full px-4 py-3 border-2 ${o.username?"border-red-300":"border-gray-200"} rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300`,placeholder:"Enter username"}),o.username),x("New Password",n.jsx(Qd,{className:"h-5 w-5"}),n.jsx("input",{type:"password",value:a.password||"",onChange:N=>i({...a,password:N.target.value}),className:`w-full px-4 py-3 border-2 ${o.password?"border-red-300":"border-gray-200"} rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300`,placeholder:"Leave empty to keep current password"}),o.password),x("Telegram ID",n.jsx(oi,{className:"h-5 w-5"}),n.jsx("input",{type:"text",value:a.telegram,onChange:N=>i({...a,telegram:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",placeholder:"@username"})),x("Status",n.jsx(Ps,{className:"h-5 w-5"}),n.jsxs("select",{value:a.status,onChange:N=>i({...a,status:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",children:[n.jsx("option",{value:"ACTIVE",children:"Active"}),n.jsx("option",{value:"SUSPENDED",children:"Suspended"}),n.jsx("option",{value:"INACTIVE",children:"Inactive"})]}))]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x("Merchant URL",n.jsx(Et,{className:"h-5 w-5"}),n.jsx("input",{type:"url",value:a.merchantUrl,onChange:N=>i({...a,merchantUrl:N.target.value}),className:`w-full px-4 py-3 border-2 ${o.merchantUrl?"border-red-300":"border-gray-200"} rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300`,placeholder:"https://example.com"}),o.merchantUrl),x("Merchant URL 2",n.jsx(Et,{className:"h-5 w-5"}),n.jsx("input",{type:"url",value:a.merchantUrl2,onChange:N=>i({...a,merchantUrl2:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",placeholder:"https://example2.com (optional)"})),x("Merchant URL 3",n.jsx(Et,{className:"h-5 w-5"}),n.jsx("input",{type:"url",value:a.merchantUrl3,onChange:N=>i({...a,merchantUrl3:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",placeholder:"https://example3.com (optional)"})),x("Merchant URL 4",n.jsx(Et,{className:"h-5 w-5"}),n.jsx("input",{type:"url",value:a.merchantUrl4,onChange:N=>i({...a,merchantUrl4:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300",placeholder:"https://example4.com (optional)"}))]})]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:n.jsx(St,{className:"h-6 w-6 text-primary"})}),n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Payment Gateways"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(N=>{var S,k;const C=a.paymentGateways.includes(N.id);return n.jsxs(X.div,{whileHover:{scale:1.02},className:`p-6 border-2 rounded-2xl transition-all duration-300 ${C?"border-primary bg-gradient-to-br from-primary/5 to-primary/10":"border-gray-200 bg-white hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-3 rounded-xl ${C?"bg-primary text-white":"bg-gray-100 text-gray-600"}`,children:n.jsx(Sr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-gray-900",children:N.displayName}),n.jsx("p",{className:"text-sm text-gray-600",children:N.description})]})]}),n.jsx(X.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>h(N.id),className:`relative inline-flex h-8 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${C?"bg-primary":"bg-gray-200"}`,children:n.jsx("span",{className:`pointer-events-none inline-block h-7 w-7 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${C?"translate-x-6":"translate-x-0"}`})})]}),C&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commission Rate (%)"}),n.jsx("input",{type:"number",value:((S=a.gatewaySettings[N.id])==null?void 0:S.commission)||0,onChange:A=>{const T=parseFloat(A.target.value)||0;i(E=>({...E,gatewaySettings:{...E.gatewaySettings,[N.id]:{...E.gatewaySettings[N.id],commission:T}}}))},className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors",placeholder:"0",min:"0",max:"100",step:"0.01"})]}),N.id==="1110"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Dt,{className:"h-4 w-4 inline-block mr-1"}),"Customer ID"]}),n.jsx("input",{type:"text",value:((k=a.gatewaySettings[N.id])==null?void 0:k.customer)||"",onChange:A=>{const T=A.target.value;i(E=>({...E,gatewaySettings:{...E.gatewaySettings,[N.id]:{...E.gatewaySettings[N.id],customer:T}}}))},className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors",placeholder:"Enter customer ID"})]})]})})]},N.id)})})]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:n.jsx(Sr,{className:"h-6 w-6 text-primary"})}),n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Crypto Wallets (Optional)"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map(N=>{var C;return n.jsxs(X.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-white to-gray-50 rounded-2xl border-2 border-gray-200 hover:border-primary/30 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:`p-3 bg-gradient-to-r ${N.color==="blue"?"from-blue-500 to-indigo-600":N.color==="red"?"from-red-500 to-rose-600":N.color==="gray"?"from-gray-700 to-gray-900":"from-blue-600 to-cyan-600"} rounded-xl text-white`,children:n.jsx("span",{className:"text-xl",children:N.icon})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-gray-900",children:N.label}),n.jsx("p",{className:"text-sm text-gray-600",children:"Wallet Address"})]})]}),n.jsx("input",{type:"text",value:((C=a.wallets)==null?void 0:C[N.key])||"",onChange:S=>i({...a,wallets:{...a.wallets,[N.key]:S.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 transition-colors text-gray-900 bg-white hover:border-gray-300 font-mono text-sm",placeholder:"Enter wallet address"})]},N.key)})})]}),n.jsx("div",{className:"border-t-2 border-gray-200 pt-8",children:n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsxs(X.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:s,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all duration-200 flex items-center space-x-3 font-semibold disabled:opacity-50",children:[n.jsx(Lt,{className:"h-5 w-5"}),n.jsx("span",{children:"Cancel"})]}),n.jsx(X.button,{type:"submit",disabled:s,whileHover:s?{}:{scale:1.05},whileTap:s?{}:{scale:.95},className:"px-8 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-3 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:"Updating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(kx,{className:"h-5 w-5"}),n.jsx("span",{children:"Update User"})]})})]})})]})})]})})},ZW=()=>{var I;const[t,e]=P.useState(""),[r,s]=P.useState(""),[a,i]=P.useState("all"),[o,l]=P.useState(null),[c,d]=P.useState(null),[u,h]=P.useState(null),[f,m]=P.useState(!1),[p,x]=P.useState(null),[g,y]=P.useState(1),[v]=P.useState(20),[b,w]=P.useState(!1),[N,C]=P.useState(""),[S,k]=P.useState(null),A=ii();P.useEffect(()=>{const oe=setTimeout(()=>{s(t)},500);return()=>clearTimeout(oe)},[t]);const T=P.useMemo(()=>{const oe={page:g,limit:v};return a!=="all"&&(oe.status=a),r&&(oe.search=r),oe},[g,v,a,r]),{data:E,isLoading:D,error:_}=HW(T),{data:z}=UE(),H=UW(),q=zW(),K=WW(),Y=YW(),J=VW();console.log(" Users data from hook:",E),console.log(" Is loading:",D),console.log(" Error:",_);const Z=[{value:"all",label:"All Status"},{value:"ACTIVE",label:"Active",icon:n.jsx(wt,{className:"h-4 w-4 text-green-600"})},{value:"SUSPENDED",label:"Suspended",icon:n.jsx(hr,{className:"h-4 w-4 text-red-600"})},{value:"PENDING",label:"Pending",icon:n.jsx(tr,{className:"h-4 w-4 text-yellow-600"})}],ne=async oe=>{try{await H.mutateAsync(oe),ce.success("User created successfully!"),m(!1)}catch(V){const pe=(V==null?void 0:V.message)||(V==null?void 0:V.toString())||"Failed to create user";console.error("Create user error:",V),ce.error(pe)}},F=async oe=>{if(z!=null&&z.twoFactorEnabled){k(oe),w(!0),C("");return}try{await K.mutateAsync({id:oe}),ce.success("User deleted successfully")}catch(V){const pe=(V==null?void 0:V.message)||(V==null?void 0:V.toString())||"Failed to delete user";console.error("Delete user error:",V),ce.error(pe)}},Q=async()=>{if(!S||N.length!==6){ce.error("Enter 6-digit code");return}try{await K.mutateAsync({id:S,twoFactorToken:N}),ce.success("User deleted successfully"),w(!1),k(null),C("")}catch(oe){const V=(oe==null?void 0:oe.message)||(oe==null?void 0:oe.toString())||"Failed to delete user";console.error("Delete user error:",oe),ce.error(V)}},W=async oe=>{try{await Y.mutateAsync(oe),ce.success("User suspended successfully")}catch(V){const pe=(V==null?void 0:V.message)||(V==null?void 0:V.toString())||"Failed to suspend user";console.error("Suspend user error:",V),ce.error(pe)}},G=async oe=>{try{await J.mutateAsync(oe),ce.success("User activated successfully")}catch(V){const pe=(V==null?void 0:V.message)||(V==null?void 0:V.toString())||"Failed to activate user";console.error("Activate user error:",V),ce.error(pe)}},te=oe=>{x(oe),l(null)},ee=async oe=>{if(p){console.log(" handleUpdateUser called with data:",oe),console.log(" editingUser:",p);try{console.log(" Calling updateUserMutation.mutateAsync..."),await q.mutateAsync({id:p.id,data:oe}),console.log(" updateUserMutation completed successfully"),ce.success("User updated successfully!"),x(null)}catch(V){console.error(" updateUserMutation failed:",V);const pe=(V==null?void 0:V.message)||(V==null?void 0:V.toString())||"Failed to update user";ce.error(pe)}}};return _?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-red-600 mb-2",children:n.jsx(dt,{className:"h-8 w-8 mx-auto"})}),n.jsx("p",{className:"text-gray-600",children:"Failed to load users. Please try again."}),n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Error: ",_.message]})]}):n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Users"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage platform users and their settings"})]}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-primary text-white rounded-xl shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all duration-200 w-full sm:w-auto justify-center",children:[n.jsx(km,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-4 md:p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search users...",value:t,onChange:oe=>e(oe.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:bg-white transition-all duration-200"})]})}),n.jsx("div",{className:"flex gap-4",children:n.jsx(ir,{value:a,onChange:i,options:Z,placeholder:"Filter by status",className:"w-[180px]"})})]})}),D?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"User"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Status"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Gateways"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Last Login"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500 whitespace-nowrap",children:"Bot Status"})}),n.jsx("th",{className:"text-right px-6 py-4"})]})}),n.jsx("tbody",{children:(I=E==null?void 0:E.users)==null?void 0:I.map(oe=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Dt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe.name}),n.jsx("div",{className:"text-sm text-gray-500",children:oe.telegram})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[oe.status==="ACTIVE"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),oe.status==="SUSPENDED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(hr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Suspended"})]}),oe.status==="PENDING"&&n.jsxs("div",{className:"flex items-center space-x-2 text-yellow-600 bg-yellow-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(tr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Pending"})]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[oe.paymentGateways.slice(0,3).map(V=>{var Re,nt;const pe=cc(V),ye=(nt=(Re=oe.gatewaySettings)==null?void 0:Re[V])==null?void 0:nt.commission,Ae=pe?`${pe.name}${ye!==void 0?` | ${ye}%`:""}`:V;return n.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded-full",children:Ae},V)}),oe.paymentGateways.length>3&&n.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded-full",children:["+",oe.paymentGateways.length-3]})]})}),n.jsx("td",{className:"px-6 py-4",children:oe.lastLogin?n.jsx("button",{onClick:()=>A(`/admin/users/${oe.id}/login-logs`),className:"text-sm text-primary hover:text-primary-dark hover:underline cursor-pointer transition-colors",children:$e(new Date(oe.lastLogin),"UTC","dd.MM.yy HH:mm")}):n.jsx("span",{className:"text-sm text-gray-400",children:"Never"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:`w-3 h-3 rounded-full ${(oe.telegramUsersCount||0)>0?"bg-green-500":"bg-red-500"}`})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx("button",{onClick:()=>d(oe),className:"p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-all duration-200",title:"View Analytics",children:n.jsx(Td,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>l(oe),className:"p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-all duration-200",title:"View Details",children:n.jsx(Ts,{className:"h-4 w-4"})})]})})]},oe.id))})]})}),!D&&(!(E!=null&&E.users)||E.users.length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Dt,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No users found"}),n.jsx("p",{className:"text-gray-400 text-xs mt-1",children:t?"Try adjusting your search criteria":"Create your first user to get started"})]}),(E==null?void 0:E.pagination)&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(E.pagination.page-1)*E.pagination.limit+1," to"," ",Math.min(E.pagination.page*E.pagination.limit,E.pagination.total)," of"," ",E.pagination.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>y(Math.max(1,g-1)),disabled:g===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",E.pagination.page," of ",E.pagination.totalPages]}),n.jsx("button",{onClick:()=>y(Math.min(E.pagination.totalPages,g+1)),disabled:g===E.pagination.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),n.jsxs(tt,{children:[o&&n.jsx(GW,{user:o,onClose:()=>l(null),onEdit:te,onDelete:F,onSuspend:W,onActivate:G,onDeposit:oe=>h(oe)}),c&&n.jsx(XW,{user:c,onClose:()=>d(null)}),u&&n.jsx($W,{user:u,onClose:()=>h(null)}),p&&n.jsx(qW,{user:p,onClose:()=>x(null),onSubmit:ee,isLoading:q.isPending}),n.jsx(KW,{isOpen:f,onClose:()=>m(!1),onSubmit:ne,isLoading:H.isPending})]}),n.jsx(tt,{children:b&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:oe=>{oe.target===oe.currentTarget&&(w(!1),C(""),k(null))},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2FA Verification Required"}),n.jsx("button",{onClick:()=>{w(!1),C(""),k(null)},className:"text-gray-400 hover:text-gray-500",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsx(dt,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-amber-900",children:[n.jsx("p",{className:"font-medium",children:"Delete User Confirmation"}),n.jsx("p",{className:"mt-1 text-amber-700",children:"Enter your 2FA code to confirm user deletion. This action cannot be undone."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Authentication Code"}),n.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:N,onChange:oe=>C(oe.target.value.replace(/\D/g,"")),className:"w-full px-4 py-2.5 text-center text-2xl tracking-widest rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"000000"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>{w(!1),C(""),k(null)},className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Q,disabled:K.isPending||N.length!==6,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:K.isPending?"Deleting...":"Confirm Delete"})]})]})]})})})]})},QW=t=>{console.log("Transforming shop profile:",t);const e=Array.isArray(t.gateways)?t.gateways:[];console.log("Server gateways:",e);const r=Li(e);return console.log("Transformed gateways:",r),{id:t.id,name:t.fullName||"",username:t.username||"",telegram:t.telegramId||"",commision:0,shopUrl:t.merchantUrl||"",shopUrl2:t.merchantUrl2,shopUrl3:t.merchantUrl3,shopUrl4:t.merchantUrl4,paymentGateways:r,payoutDelay:0,publicKey:t.publicKey||"",secretKey:t.secretKey||"",status:t.status||"ACTIVE",createdAt:t.createdAt||new Date().toISOString(),gatewaySettings:t.gatewaySettings,wallets:t.wallets}},mr={all:["shop"],profile:()=>[...mr.all,"profile"],payments:()=>[...mr.all,"payments"],paymentsList:t=>[...mr.payments(),"list",t],payment:t=>[...mr.payments(),"detail",t],payouts:()=>[...mr.all,"payouts"],payoutsList:t=>[...mr.payouts(),"list",t],payout:t=>[...mr.payouts(),"detail",t],payoutStats:()=>[...mr.payouts(),"stats"],webhookLogs:()=>[...mr.all,"webhook-logs"],webhookLogsList:t=>[...mr.webhookLogs(),"list",t],statistics:(t,e,r)=>[...mr.all,"statistics",t,e,r],settings:()=>[...mr.all,"settings"],wallets:()=>[...mr.all,"wallets"]};function zx(){return Vt({queryKey:mr.profile(),queryFn:async()=>{const t=await Pe.get("/shop/profile");console.log("Shop profile API response:",t);const e=t.result;if(!e)throw new Error("No profile data found in response");return QW(e)},staleTime:1e3*60*5})}function s5(t={}){return Vt({queryKey:mr.paymentsList(t),queryFn:async()=>{const e=new URLSearchParams;if(t.page&&e.append("page",t.page.toString()),t.limit&&e.append("limit",t.limit.toString()),t.status&&e.append("status",t.status),t.gateway){const i=Uh([t.gateway])[0];e.append("gateway",i)}t.currency&&e.append("currency",t.currency),t.sortBy&&e.append("sortBy",t.sortBy),t.sortOrder&&e.append("sortOrder",t.sortOrder),t.dateFrom&&e.append("dateFrom",t.dateFrom),t.dateTo&&e.append("dateTo",t.dateTo);const r=e.toString(),s=await Pe.get(`/shop/payments${r?`?${r}`:""}`);return{payments:s.result.payments.map(i=>({...i,gateway:Li([i.gateway])[0]})),pagination:s.result.pagination}},placeholderData:e=>e})}function JW(t={}){return Vt({queryKey:mr.payoutsList(t),queryFn:async()=>{const e=new URLSearchParams;t.page&&e.append("page",t.page.toString()),t.limit&&e.append("limit",t.limit.toString()),t.status&&e.append("status",t.status),t.network&&e.append("network",t.network),t.periodFrom&&e.append("periodFrom",t.periodFrom),t.periodTo&&e.append("periodTo",t.periodTo),t.dateFrom&&e.append("dateFrom",t.dateFrom),t.dateTo&&e.append("dateTo",t.dateTo);const r=e.toString(),s=await Pe.get(`/shop/payouts${r?`?${r}`:""}`);return{payouts:s.result.payouts,pagination:s.result.pagination}},placeholderData:e=>e})}function eY(){return Vt({queryKey:mr.payoutStats(),queryFn:async()=>(await Pe.get("/shop/payouts/stats")).result,staleTime:1e3*60*2})}function tY(t={}){return Vt({queryKey:mr.webhookLogsList(t),queryFn:async()=>{const e=new URLSearchParams;t.page&&e.append("page",t.page.toString()),t.limit&&e.append("limit",t.limit.toString()),t.paymentId&&e.append("paymentId",t.paymentId);const r=e.toString(),s=await Pe.get(`/shop/webhook-logs${r?`?${r}`:""}`);return{logs:s.result.logs,pagination:s.result.pagination}},placeholderData:e=>e})}function a5(t="30d",e,r){return Vt({queryKey:mr.statistics(t,e,r),queryFn:async()=>{const s=new URLSearchParams,a=new Date().toISOString();s.append("currentDate",a),e||r?(e&&s.append("dateFrom",e),r&&s.append("dateTo",r)):s.append("period",t);const i=`/shop/statistics?${s.toString()}`,l=(await Pe.get(i)).result;return console.log(" Shop statistics API response:",l),l?{totalPayments:l.totalPayments||0,successfulPayments:l.successfulPayments||0,totalAmount:l.totalRevenue||0,merchantEarnings:l.merchantEarnings||0,payoutBalance:l.payoutBalance||0,averageAmount:l.averageAmount||0,conversionRate:l.conversionRate||0,chargebacks:l.chargebacks||0,chargebackRate:l.chargebackRate||0,refunds:l.refunds||0,paymentsByStatus:l.paymentsByStatus||{PAID:0,PENDING:0,PROCESSING:0,FAILED:0,EXPIRED:0},paymentsByGateway:l.paymentsByGateway||{},recentPayments:(l.recentPayments||[]).map(c=>({...c,gateway:Li([c.gateway])[0]})),dailyRevenue:l.dailyRevenue||[],dailyPayments:l.dailyPayments||[]}:{totalPayments:0,successfulPayments:0,totalAmount:0,averageAmount:0,chargebacks:0,refunds:0,paymentsByStatus:{PAID:0,PENDING:0,PROCESSING:0,FAILED:0,EXPIRED:0},paymentsByGateway:{},recentPayments:[],dailyRevenue:[],dailyPayments:[]}},staleTime:1e3*60*2})}function rY(){return Vt({queryKey:mr.settings(),queryFn:async()=>(await Pe.get("/shop/settings")).data,staleTime:1e3*60*5})}function sY(){return Vt({queryKey:mr.wallets(),queryFn:async()=>(await Pe.get("/shop/profile")).result.wallets||{},staleTime:1e3*60*5})}function aY(){const t=sr();return Ht({mutationFn:async e=>(await Pe.put("/shop/integrations/webhook",e)).data,onSuccess:()=>{t.invalidateQueries({queryKey:[...mr.settings(),"webhook"]}),t.invalidateQueries({queryKey:mr.settings()})}})}function nY(){const t=sr();return Ht({mutationFn:async e=>(await Pe.put("/shop/wallets",e)).result,onSuccess:()=>{t.invalidateQueries({queryKey:mr.wallets()}),t.invalidateQueries({queryKey:mr.profile()})}})}function iY(){const t=sr();return Ht({mutationFn:async e=>await Pe.post(`/shop/payments/${e}/retry-webhook`),onSuccess:()=>{t.invalidateQueries({queryKey:mr.webhookLogs()})}})}function oY(){return Ht({mutationFn:async()=>await Pe.post("/shop/webhook/test")})}const lY=({log:t,onClose:e})=>n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-2xl overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(I0,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Webhook Log Details"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.id})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(hr,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"p-6 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Event"}),n.jsx("div",{className:"text-sm text-gray-900",children:t.event})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status Code"}),n.jsx("div",{className:`text-sm font-medium ${t.statusCode>=200&&t.statusCode<300?"text-green-600":"text-red-600"}`,children:t.statusCode})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Retry Count"}),n.jsx("div",{className:"text-sm text-gray-900",children:t.retryCount})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[$e(new Date(t.createdAt),"UTC","dd.MM.yy HH:mm")," UTC"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[t.payment&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Payment Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm text-gray-900",children:t.payment.productName}),n.jsx("div",{className:"text-sm text-gray-600",children:t.payment.amount.toLocaleString("en-US",{style:"currency",currency:t.payment.currency})})]})]}),t.responseBody&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Response Body"}),n.jsx("pre",{className:"text-xs text-gray-900 whitespace-pre-wrap break-all",children:t.responseBody})]})]})]})})]})}),cY=()=>{const[t,e]=P.useState("curl"),[r,s]=P.useState(null),[a,i]=P.useState(null),[o,l]=P.useState(!1),[c,d]=P.useState({webhookUrl:"",webhookEvents:["payment.success","payment.failed","payment.pending"]}),[u,h]=P.useState(!1),[f,m]=P.useState(null),{data:p,isLoading:x}=zx(),{data:g,isLoading:y}=tY({limit:10}),{data:v,isLoading:b}=rY(),w=aY(),N=oY();iY(),P.useEffect(()=>{v&&(d({webhookUrl:v.webhookUrl||"",webhookEvents:v.webhookEvents||["payment.success","payment.failed","payment.pending"]}),h(!1))},[v]);const C=(_,z)=>{navigator.clipboard.writeText(_),s(z),setTimeout(()=>s(null),2e3)},S=(_,z)=>{d(H=>({...H,webhookEvents:z?[...H.webhookEvents,_]:H.webhookEvents.filter(q=>q!==_)})),h(!0)},k=_=>{d(z=>({...z,webhookUrl:_})),h(!0),m(null)},A=async()=>{try{await w.mutateAsync(c),ce.success("Webhook settings updated successfully"),h(!1)}catch(_){ce.error(_.message||"Failed to update webhook settings")}},T=async()=>{var _,z;if(!c.webhookUrl){ce.error("Please enter a webhook URL first");return}try{m(null);const H=await N.mutateAsync();m({success:H.success,statusCode:(_=H.result)==null?void 0:_.statusCode,responseTime:(z=H.result)==null?void 0:z.responseTime}),H.success?ce.success("Test webhook sent successfully!"):ce.error("Webhook test failed")}catch(H){m({success:!1,error:H.message||"Failed to send test webhook"}),ce.error(H.message||"Failed to send test webhook")}},E=[{id:"payment.success",label:"payment.success",description:"Triggered when a payment is successfully completed"},{id:"payment.failed",label:"payment.failed",description:"Triggered when a payment fails or is declined"},{id:"payment.pending",label:"payment.pending",description:"Triggered when a payment is pending confirmation"}],D={curl:`curl -X POST https://api.trapay.uk/api/payments/create \\
  -H "Content-Type: application/json" \\
  -d '{
    "public_key": "${(p==null?void 0:p.publicKey)||"your_public_key"}",
    "gateway": "0000",
    "order_id": "order_${Date.now()}",
    "amount": 50,
    "currency": "USD",
    "success_url": "https://yoursite.com/payment/success",
    "fail_url": "https://yoursite.com/payment/fail",
    "pending_url": "https://yoursite.com/payment/pending"
  }'`,node:`const trapay = require('trapay');
const client = new trapay('${(p==null?void 0:p.publicKey)||"your_api_key"}');

const payment = await client.payments.create({
  amount: 1000,
  currency: 'USD',
  product_name: 'Premium Subscription',
  customer_email: 'customer@example.com'
});`,python:`import trapay

client = trapay.Client('${(p==null?void 0:p.publicKey)||"your_api_key"}')

payment = client.payments.create(
    amount=1000,
    currency='USD',
    product_name='Premium Subscription',
    customer_email='customer@example.com'
)`};return x?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(Qe,{size:"lg"})}):n.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Integration"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your API keys, webhooks, and view documentation"})]}),n.jsxs("a",{href:"https://doc.trapay.uk",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-primary hover:bg-primary-dark transition-colors",children:[n.jsx(F4,{className:"h-4 w-4 mr-2"}),"View Documentation"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsxs("div",{className:"lg:col-span-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 md:px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(hf,{className:"h-5 w-5 text-gray-400"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"API Keys"})]})}),n.jsx("div",{className:"p-4 md:p-6 space-y-6",children:p&&n.jsxs(n.Fragment,{children:[n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group",children:n.jsxs("div",{className:"border rounded-lg p-4 group-hover:border-primary transition-colors",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-2",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Public Key"}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.status})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(p.publicKey,"public-key"),className:"text-gray-500 hover:text-gray-700 p-1 rounded-lg hover:bg-gray-100 transition-colors",children:r==="public-key"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 font-mono text-sm break-all",children:n.jsx("span",{className:"text-gray-600",children:p.publicKey})})]})}),n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative group",children:n.jsxs("div",{className:"border rounded-lg p-4 group-hover:border-primary transition-colors",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-2",children:[n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Secret Key"})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!o),className:"text-gray-500 hover:text-gray-700 p-1 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(p.secretKey,"secret-key"),className:"text-gray-500 hover:text-gray-700 p-1 rounded-lg hover:bg-gray-100 transition-colors",children:r==="secret-key"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 font-mono text-sm break-all",children:n.jsx("span",{className:"text-gray-600",children:o?p.secretKey:""})})]})})]})})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 md:px-6 py-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ei,{className:"h-5 w-5 text-gray-400"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Code Examples"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["curl"].map(_=>n.jsx("button",{onClick:()=>e(_),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${t===_?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,children:_.toUpperCase()},_))})]})}),n.jsx("div",{className:"p-4 md:p-6",children:n.jsx(tt,{mode:"wait",children:n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"relative",children:[n.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:n.jsx("pre",{className:"text-white text-sm",children:n.jsx("code",{children:D[t]})})}),n.jsx("button",{onClick:()=>C(D[t],`code-${t}`),className:"absolute top-2 right-2 p-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:r===`code-${t}`?n.jsx(Rt,{className:"h-4 w-4 text-green-400"}):n.jsx(ct,{className:"h-4 w-4 text-white"})})]},t)})})]})]}),n.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 md:px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(I0,{className:"h-5 w-5 text-gray-400"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Webhook Settings"})]})}),n.jsx("div",{className:"p-4 md:p-6 space-y-6",children:b?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Qe,{size:"lg"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"webhook-url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Webhook URL"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Et,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"url",id:"webhook-url",value:c.webhookUrl,onChange:_=>k(_.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"https://your-domain.com/webhook"})]}),n.jsxs("button",{onClick:T,disabled:!c.webhookUrl||N.isPending,className:"px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:[N.isPending?n.jsx(Qe,{size:"sm"}):n.jsx(z6,{className:"h-4 w-4"}),n.jsx("span",{children:"Test"})]})]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This URL will receive POST requests when payment events occur."}),f&&n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`mt-3 p-4 rounded-lg border ${f.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:f.success?n.jsx(kn,{className:"h-5 w-5 text-green-600"}):n.jsx(hr,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`text-sm font-medium ${f.success?"text-green-900":"text-red-900"}`,children:f.success?"Webhook Test Successful":"Webhook Test Failed"}),n.jsx("div",{className:`mt-1 text-sm ${f.success?"text-green-700":"text-red-700"}`,children:f.success?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{children:"Your webhook endpoint is working correctly!"}),f.statusCode&&n.jsxs("p",{children:["Status Code: ",n.jsx("span",{className:"font-mono",children:f.statusCode})]}),f.responseTime&&n.jsxs("p",{children:["Response Time: ",n.jsxs("span",{className:"font-mono",children:[f.responseTime,"ms"]})]})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{children:"Your webhook endpoint is not responding correctly."}),f.error&&n.jsxs("p",{children:["Error: ",f.error]}),f.statusCode&&n.jsxs("p",{children:["Status Code: ",n.jsx("span",{className:"font-mono",children:f.statusCode})]}),n.jsx("p",{className:"text-xs",children:"Please check your endpoint URL and ensure it's accessible."})]})})]})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Webhook Events"}),n.jsx("div",{className:"space-y-4",children:E.map(_=>n.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("code",{className:"text-sm font-mono bg-gray-200 px-2 py-1 rounded text-gray-800",children:_.label})}),n.jsx("p",{className:"mt-1 text-sm text-gray-600",children:_.description})]}),n.jsx("div",{className:"flex items-center",children:n.jsx("label",{className:"flex items-center space-x-2",children:n.jsx("input",{type:"checkbox",checked:c.webhookEvents.includes(_.id),onChange:z=>S(_.id,z.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"})})})]},_.id))})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(I0,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Webhook Security"}),n.jsxs("div",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[n.jsx("p",{children:" All webhook requests include a signature header for verification"}),n.jsx("p",{children:" Webhooks are sent with a 10-second timeout"}),n.jsx("p",{children:" Failed webhooks are retried up to 3 times with exponential backoff"}),n.jsx("p",{children:" Use HTTPS URLs for secure webhook delivery"})]})]})]})}),n.jsxs("button",{onClick:A,disabled:!u||w.isPending,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-primary hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[w.isPending?n.jsx(Qe,{size:"sm",className:"mr-2"}):n.jsx(kx,{className:"h-4 w-4 mr-2"}),w.isPending?"Saving...":"Save Webhook Settings"]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 md:px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(F6,{className:"h-5 w-5 text-gray-400"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Deliveries"})]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:y?n.jsx("div",{className:"p-4 text-center",children:n.jsx(Qe,{size:"sm"})}):g!=null&&g.logs&&g.logs.length>0?g.logs.map(_=>n.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>i(_),children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.event}),_.statusCode>=200&&_.statusCode<300?n.jsx(kn,{className:"h-5 w-5 text-green-500"}):n.jsx(hr,{className:"h-5 w-5 text-red-500"})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[$e(new Date(_.createdAt),"UTC","dd.MM.yy HH:mm")," UTC"]}),n.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${_.statusCode>=200&&_.statusCode<300?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.statusCode}),_.retryCount>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Retry: ",_.retryCount]})]})]},_.id)):n.jsxs("div",{className:"p-4 text-center text-gray-500",children:[n.jsx(I0,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{className:"text-sm",children:"No webhook deliveries yet"})]})})]})]})]}),n.jsx(tt,{children:a&&n.jsx(lY,{log:a,onClose:()=>i(null)})})]})},Hl={all:["gatewaySettings"],list:()=>[...Hl.all,"list"],shop:["shopGatewaySettings"],shopList:()=>[...Hl.shop,"list"],statistics:t=>[...Hl.all,"statistics",t]};function n5(){return Vt({queryKey:Hl.list(),queryFn:async()=>{const e=await Pe.get("/admin/gateway-settings");if(e.success&&e.result)return e.result;if(Array.isArray(e))return e;throw new Error("Invalid response format")}})}function dY(){return Vt({queryKey:Hl.shopList(),queryFn:async()=>{const e=await Pe.get("/shop/gateway-settings");if(e.success&&e.result)return e.result;if(Array.isArray(e))return e;throw new Error("Invalid response format")}})}function uY(){const t=sr();return Ht({mutationFn:async({gatewayId:e,settings:r})=>(await Pe.patch(`/admin/gateway-settings/${e}`,r)).data,onSuccess:()=>{t.invalidateQueries({queryKey:Hl.list()})}})}function hY(t){return Vt({queryKey:Hl.statistics(t),queryFn:async()=>{const r=await Pe.get(`/admin/gateway-statistics/${t}`);if(r.success&&r.result)return r.result;throw new Error("Invalid response format")},enabled:!!t})}const fY=({payment:t,onClose:e})=>{const r=Li([t.gateway])[0],s=cc(r);return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-2xl overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(St,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Details"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.id})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(hr,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Gateway"}),n.jsx("div",{className:"text-sm text-gray-900",children:s?s.displayName:`Gateway ${r||t.gateway}`})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Customer"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[t.customer_name&&n.jsx("div",{children:t.customer_name}),t.customer_email&&n.jsx("div",{className:"text-gray-600",children:t.customer_email})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),n.jsxs("div",{className:"mt-1",children:[t.status.toUpperCase()==="PAID"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Paid"})]}),t.status.toUpperCase()==="PENDING"&&n.jsxs("div",{className:"flex items-center space-x-2 text-yellow-600 bg-yellow-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(tr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Pending"})]}),t.status.toUpperCase()==="PROCESSING"&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(ff,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{className:"text-sm font-medium",children:"Processing"})]}),t.status.toUpperCase()==="FAILED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(dt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Failed"})]}),t.status.toUpperCase()==="EXPIRED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 bg-gray-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(hr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Expired"})]}),t.status.toUpperCase()==="REFUND"&&n.jsxs("div",{className:"flex items-center space-x-2 text-orange-600 bg-orange-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(Bn,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Refunded"})]}),t.status.toUpperCase()==="CHARGEBACK"&&n.jsxs("div",{className:"flex items-center space-x-2 text-purple-600 bg-purple-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(St,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Chargeback"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Amount"}),n.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:t.amount.toLocaleString("en-US",{style:"currency",currency:t.currency})})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[$e(new Date(t.created_at),"UTC","dd.MM.yy HH:mm")," UTC"]})]}),t.updatedAt&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Updated At"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[$e(new Date(t.updatedAt),"UTC","dd.MM.yy HH:mm")," UTC"]})]})]})]}),t.webhook_logs&&t.webhook_logs.length>0&&n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Webhook Logs"}),n.jsx("div",{className:"space-y-3",children:t.webhookLogs.map(a=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${a.statusCode>=200&&a.statusCode<300?"bg-green-500":"bg-red-500"}`}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.event}),n.jsx("div",{className:"text-xs text-gray-500",children:$e(new Date(a.created_at),"UTC","MMM d, HH:mm")})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded ${a.statusCode>=200&&a.statusCode<300?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.statusCode}),a.retryCount>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Retry: ",a.retryCount]})]})]},a.id))})]})]})]})})},mY=({profile:t,onClose:e})=>{const[r,s]=P.useState(null),{data:a}=dY(),i=(l,c)=>{navigator.clipboard.writeText(l),s(c),setTimeout(()=>s(null),2e3)},o=t.gatewaySettings?Object.entries(t.gatewaySettings).map(([l,c])=>{var f;const d=Li([l])[0],u=cc(d),h=(f=a==null?void 0:a.find(m=>m.id===d))==null?void 0:f.settings;return{id:d,name:l,info:u,settings:c,globalSettings:h}}):[];return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 sticky top-0 bg-white z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(_d,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gateway Settings"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Individual settings for each payment gateway"})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(hr,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(l=>{var c,d,u,h,f,m,p,x,g,y,v;return n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:`p-4 ${((c=l.info)==null?void 0:c.color)||"bg-gray-500"} text-white relative overflow-hidden`,children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:((d=l.info)==null?void 0:d.displayName)||`Gateway ${l.id}`}),n.jsx("p",{className:"text-sm opacity-90",children:((u=l.info)==null?void 0:u.description)||l.name})]})}),n.jsx("div",{className:"flex items-center space-x-1",children:(h=l.info)==null?void 0:h.features.slice(0,2).map(b=>n.jsx("span",{className:"text-xs px-2 py-1 bg-white/20 rounded-full",children:b},b))})]})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(Dh,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[l.settings.commission,"%"]}),n.jsx("div",{className:"text-sm text-blue-700",children:"Commission"})]}),n.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(U4,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[((f=l.globalSettings)==null?void 0:f.payoutDelay)||0,"d"]}),n.jsx("div",{className:"text-sm text-purple-700",children:"Payout Delay"})]})]}),(((m=l.globalSettings)==null?void 0:m.minAmount)!==void 0||((p=l.globalSettings)==null?void 0:p.maxAmount)!==void 0)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(Hi,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",((x=l.globalSettings)==null?void 0:x.minAmount)||0]}),n.jsx("div",{className:"text-sm text-green-700",children:"Min Amount"})]}),n.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(Cm,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:["$",(g=l.globalSettings)!=null&&g.maxAmount?l.globalSettings.maxAmount.toLocaleString():""]}),n.jsx("div",{className:"text-sm text-orange-700",children:"Max Amount"})]})]}),n.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(wt,{className:"h-5 w-5 text-emerald-600"})}),n.jsx("div",{className:"text-2xl font-bold text-emerald-900",children:"Active"}),n.jsx("div",{className:"text-sm text-emerald-700",children:"Status"})]}),n.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-gray-600",children:((y=l.info)==null?void 0:y.description)||"Payment gateway configuration"})}),((v=l.info)==null?void 0:v.features)&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.info.features.map(b=>n.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded-full",children:b},b))})]})]})]},l.id)})}),t.wallets&&Object.keys(t.wallets).length>0&&n.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-200",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-xl",children:n.jsx(Sr,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Crypto Wallets"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Configured payout addresses"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.wallets).map(([l,c])=>{if(!c)return null;const u={usdtPolygonWallet:{label:"USDT (Polygon)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdtTrcWallet:{label:"USDT (TRC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdtErcWallet:{label:"USDT (ERC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdcPolygonWallet:{label:"USDC (Polygon)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdcErcWallet:{label:"USDC (ERC-20)",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})}}[l];return u?n.jsxs("div",{className:"p-4 bg-white rounded-lg border border-purple-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex-shrink-0",children:u.icon}),n.jsx("span",{className:"font-medium text-gray-900",children:u.label})]}),n.jsx("button",{onClick:()=>i(c,l),className:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-100 rounded-lg transition-colors",children:r===l?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"text-sm font-mono text-gray-600 break-all",children:c})]},l):null})})]})]})]})})},xY=()=>{var Y,J;const[t,e]=P.useState("this_month"),[r,s]=P.useState(null),[a,i]=P.useState(!1),[o,l]=P.useState(!1),[c,d]=P.useState(null),[u,h]=P.useState(null),[f,m]=P.useState(!1),[p,x]=P.useState(!1),[g,y]=P.useState(new Date),{data:v,isLoading:b,error:w}=zx(),{data:N,isLoading:C,error:S}=s5({limit:5}),{data:k,isLoading:A,error:T}=a5(t);P.useEffect(()=>{const Z=setInterval(()=>{y(new Date)},1e3);return()=>clearInterval(Z)},[]);const E=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"this_week",label:"This week"},{value:"last_week",label:"Last week"},{value:"this_month",label:"This month"},{value:"last_month",label:"Last month"},{value:"all_time",label:"All time"},{value:"custom",label:"Custom period"}],D=Z=>{if(Z.startsWith("custom_")){const F=Z.replace("custom_","").split("_");if(F.length===2)return`${$e(new Date(F[0]),"UTC","MMM d")} - ${$e(new Date(F[1]),"UTC","MMM d, yyyy")}`}return{today:"Today",yesterday:"Yesterday",this_week:"This week",last_week:"Last week",this_month:"This month",last_month:"Last month",all_time:"All time"}[Z]||Z},_=()=>{if(c&&u){const Z=Ke(c,"yyyy-MM-dd"),ne=Ke(u,"yyyy-MM-dd");e(`custom_${Z}_${ne}`),l(!1)}else ce.error("Please select both start and end dates")},z=Z=>{Z==="custom"?l(!0):e(Z)},H={chart:{type:"area",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#6936d3","#94a3b8"],stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.45,opacityTo:.05,stops:[50,100]}},xaxis:{categories:((Y=k==null?void 0:k.dailyRevenue)==null?void 0:Y.map(Z=>$e(new Date(Z.date),"UTC","MMM d")))||["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{labels:{formatter:Z=>`$${Z}`,style:{fontSize:"12px"}}},grid:{strokeDashArray:4,padding:{left:20,bottom:0}},dataLabels:{enabled:!1},legend:{show:!1},responsive:[{breakpoint:480,options:{chart:{height:200}}}]},q=[{name:"Revenue",data:((J=k==null?void 0:k.dailyRevenue)==null?void 0:J.map(Z=>Z.amount))||[3100,4e3,2800,5100,4200,6e3,4800]}],K=Object.values(Zn).map(Z=>{let ne=null;return v!=null&&v.gatewaySettings&&(ne=v.gatewaySettings[Z.name],ne||Object.entries(v.gatewaySettings).forEach(([F,Q])=>{Li([F])[0]===Z.id&&(ne=Q)})),{id:Z.id,name:Z.displayName,description:Z.description,status:v!=null&&v.paymentGateways.includes(Z.id)?"active":"available",features:Z.features,color:Z.color,fee:ne?`${ne.commission}%`:Z.fee,payout:ne?`${ne.payoutDelay}d`:Z.payout,minAmount:ne==null?void 0:ne.minAmount,maxAmount:ne==null?void 0:ne.maxAmount}});return b?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(Qe,{size:"lg"})}):w?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-red-600 mb-2",children:n.jsx(dt,{className:"h-8 w-8 mx-auto"})}),n.jsx("p",{className:"text-gray-600",children:"Failed to load profile. Please try again."})]}):n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[v&&n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-primary-dark to-purple-700 rounded-2xl p-6 md:p-8 text-white",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 bg-white rounded-full -translate-x-20 -translate-y-20"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-60 h-60 bg-white rounded-full translate-x-20 translate-y-20"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 w-32 h-32 bg-white rounded-full -translate-x-16 -translate-y-16"})]}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center border border-white/30",children:n.jsx("span",{className:"text-2xl font-bold text-white",children:v.name.charAt(0).toUpperCase()})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-green-400 rounded-full border-2 border-white flex items-center justify-center",children:n.jsx(wt,{className:"w-3 h-3 text-white"})})]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:["Welcome back, ",v.name,"!"]}),n.jsxs("p",{className:"text-white/80 mb-2",children:["@",v.username]}),n.jsxs("div",{className:"flex flex-col space-y-1.5 text-sm",children:[n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{className:"flex items-center space-x-1.5 text-white/70",children:[n.jsx(Ps,{className:"h-4 w-4"}),n.jsx("span",{className:"capitalize",children:v.status.toLowerCase()})]})}),v.shopUrl||v.shopUrl2||v.shopUrl3||v.shopUrl4?n.jsxs("div",{className:"flex items-center space-x-2 text-white/60",children:[n.jsx(Et,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),n.jsxs("div",{className:"flex items-center flex-wrap gap-x-2 gap-y-1",children:[v.shopUrl&&n.jsx("a",{href:v.shopUrl,target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white transition-colors",children:v.shopUrl.replace(/^https?:\/\//,"")}),v.shopUrl2&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-white/30",children:""}),n.jsx("a",{href:v.shopUrl2,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:v.shopUrl2.replace(/^https?:\/\//,"")})]}),v.shopUrl3&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-white/30",children:""}),n.jsx("a",{href:v.shopUrl3,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:v.shopUrl3.replace(/^https?:\/\//,"")})]}),v.shopUrl4&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-white/30",children:""}),n.jsx("a",{href:v.shopUrl4,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:v.shopUrl4.replace(/^https?:\/\//,"")})]})]})]}):n.jsxs("div",{className:"flex items-center space-x-2 text-white/40",children:[n.jsx(Et,{className:"h-4 w-4 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:"No merchant URL configured"})]})]})]})]}),n.jsx("div",{className:"flex flex-col",children:n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-white",children:v.paymentGateways.length}),n.jsx("div",{className:"text-sm text-white/70",children:"Gateways"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl transition-colors",children:[n.jsx(_d,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"View Settings"})]})]})})]}),n.jsxs("div",{className:"relative z-10 mt-4 pt-4 border-t border-white/20 flex items-center justify-between flex-wrap",children:[n.jsxs("div",{className:`text-xl font-medium text-right ${k&&k.payoutBalance<0?"text-red-400":"text-white"}`,children:["Payout Balance: ",k?(k.payoutBalance||0).toLocaleString():"..."," USDC"]}),n.jsxs("div",{className:"text-xs text-white/60",children:["Server Time: ",$e(g,"GMT","dd.MM.yyyy, HH:mm:ss")," (GMT)"]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 md:gap-6",children:A?Array.from({length:6}).map((Z,ne)=>n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-200",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]})},ne)):T?n.jsxs("div",{className:"col-span-full text-center text-red-600",children:[n.jsx(dt,{className:"h-8 w-8 mx-auto mb-2"}),n.jsx("p",{children:"Failed to load statistics"})]}):k?n.jsxs(n.Fragment,{children:[n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"sm:col-span-1 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-green-400 to-green-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(Zr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total Turnover"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:[k.totalAmount.toLocaleString()," USDC"]})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:D(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"sm:col-span-1 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-amber-400 to-amber-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(B4,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Merchant Earnings"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:[(k.merchantEarnings||0).toLocaleString()," USDC"]})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:D(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"sm:col-span-1 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(os,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Successful payments"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:k.successfulPayments.toLocaleString()})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:D(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"sm:col-span-1 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(os,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total Transactions"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:k.totalPayments.toLocaleString()})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:D(t)})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"sm:col-span-1 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-red-400 to-red-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(Bn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Chargebacks"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:(k.chargebacks||0).toLocaleString()})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:"All time"})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"sm:col-span-1 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-red-400 to-red-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(Dh,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Chargeback Rate"}),n.jsx("p",{className:"text-lg font-bold text-red-600 leading-tight",children:k.chargebackRate?`${k.chargebackRate.toFixed(1)}%`:"0%"})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:"All time"})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"sm:col-span-1 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(ff,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Refunds"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 leading-tight",children:(k.refunds||0).toLocaleString()})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:"All time"})]}),n.jsxs(X.div,{whileHover:{scale:1.02,y:-2},className:"sm:col-span-1 bg-white rounded-xl shadow-sm p-3 border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2.5 bg-gradient-to-br from-teal-400 to-teal-600 rounded-xl group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:n.jsx(Fn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Conversion Rate"}),n.jsx("p",{className:"text-lg font-bold text-teal-600 leading-tight",children:k.conversionRate?`${k.conversionRate.toFixed(2)}%`:"0%"})]})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 ",children:D(t)})]})]}):null}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx("div",{className:"lg:col-span-8",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx(Fn,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Revenue Analytics"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track your payment performance over time"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(Z=>n.jsx("button",{onClick:()=>z(Z.value),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${t===Z.value||Z.value==="custom"&&t.startsWith("custom_")?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,children:Z.label},Z.value))})]}),n.jsx(tt,{children:o&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>l(!1),children:n.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",onClick:Z=>Z.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx(bt,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Custom Period"})]}),n.jsx("button",{onClick:()=>l(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Lt,{className:"h-5 w-5 text-gray-500"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>{m(!f),x(!1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-left flex items-center justify-between hover:border-primary transition-colors",children:[n.jsx("span",{className:c?"text-gray-900":"text-gray-400",children:c?Ke(c,"MMMM d, yyyy"):"Select start date"}),n.jsx(bt,{className:"h-5 w-5 text-gray-400"})]}),n.jsx(tt,{children:f&&n.jsx(Yr,{value:c,onChange:Z=>{d(Z),m(!1),x(!0)},onClose:()=>m(!1),position:"left"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>{x(!p),m(!1)},disabled:!c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-left flex items-center justify-between hover:border-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:border-gray-300",children:[n.jsx("span",{className:u?"text-gray-900":"text-gray-400",children:u?Ke(u,"MMMM d, yyyy"):"Select end date"}),n.jsx(bt,{className:"h-5 w-5 text-gray-400"})]}),n.jsx(tt,{children:p&&n.jsx(Yr,{value:u,onChange:Z=>{h(Z),x(!1)},onClose:()=>x(!1),position:"left"})})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),n.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors font-medium",children:"Apply"})]})]})]})})}),n.jsx("div",{className:"h-64",children:A?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(Qe,{size:"lg"})}):n.jsx(nw,{options:H,series:q,type:"area",height:"100%"})})]})}),n.jsx("div",{className:"lg:col-span-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx(os,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Recent Activity"})]}),n.jsxs(Ma,{to:"/dashboard/transactions",className:"text-primary hover:text-primary-dark text-sm font-medium flex items-center space-x-1 group",children:[n.jsx("span",{children:"View all"}),n.jsx(Cm,{className:"h-4 w-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]}),C?n.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((Z,ne)=>n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},ne))}):S?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(dt,{className:"h-8 w-8 text-red-400"})}),n.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load payments"})]}):N!=null&&N.payments&&N.payments.length>0?n.jsx("div",{className:"space-y-3",children:N.payments.map((Z,ne)=>{const F=Li([Z.gateway])[0],Q=cc(F);return n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl hover:from-primary/5 hover:to-primary/10 transition-all duration-300 cursor-pointer group",onClick:()=>s(Z),children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-2",children:[n.jsx("span",{children:$e(new Date(Z.created_at),"UTC","MMM d, HH:mm")}),n.jsx("span",{children:""}),n.jsx("span",{className:"text-primary",children:Q?Q.displayName:`Gateway ${F||Z.gateway}`})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Z.amount.toFixed(2)}),n.jsx("div",{className:"text-xs text-gray-500",children:Z.currency})]}),Z.status.toUpperCase()==="PAID"&&n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),Z.status.toUpperCase()==="PENDING"&&n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),Z.status.toUpperCase()==="PROCESSING"&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),Z.status.toUpperCase()==="FAILED"&&n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),Z.status.toUpperCase()==="EXPIRED"&&n.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),Z.status.toUpperCase()==="REFUND"&&n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),Z.status.toUpperCase()==="CHARGEBACK"&&n.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})]})]},Z.id)})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(St,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No payments yet"}),n.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Your recent transactions will appear here"})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx(Rh,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Payment Gateways"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Available payment methods for your store"})]}),n.jsxs(Ma,{to:"/dashboard/integration",className:"text-primary hover:text-primary-dark text-sm font-medium flex items-center space-x-1 group",children:[n.jsx("span",{children:"Manage"}),n.jsx(Cm,{className:"h-4 w-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4",children:K.map((Z,ne)=>{const F=Z.status==="active";if(F)return n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},className:`relative p-4 rounded-xl border-2 transition-all duration-300 group cursor-pointer ${F?"border-primary bg-primary/5 shadow-lg shadow-primary/20":"border-gray-200 bg-gray-50 hover:border-gray-300 hover:bg-gray-100"}`,children:[F&&n.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-primary rounded-full flex items-center justify-center",children:n.jsx(wt,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:`font-semibold text-sm mb-1 ${F?"text-primary":"text-gray-900"}`,children:Z.name}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:Z.description})]}),n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:Z.features.map(Q=>n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${F?"bg-primary/10 text-primary":"bg-gray-200 text-gray-600"}`,children:Q},Q))}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs(X.div,{whileHover:{scale:1.05},className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 border border-blue-200/50 p-4 group",children:[n.jsx("div",{className:"absolute top-1 right-1 w-8 h-8 bg-blue-400/20 rounded-full blur-sm"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-blue-900",children:Z.fee}),n.jsx("div",{className:"text-xs text-blue-700 font-medium",children:"Fee"})]})})]}),n.jsxs(X.div,{whileHover:{scale:1.05},className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-purple-50 via-purple-100 to-violet-100 border border-purple-200/50 p-4 group",children:[n.jsx("div",{className:"absolute top-1 right-1 w-8 h-8 bg-purple-400/20 rounded-full blur-sm"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-purple-900",children:Z.payout}),n.jsx("div",{className:"text-xs text-purple-700 font-medium",children:"Payout"})]})})]})]}),(Z.minAmount!==void 0||Z.maxAmount!==void 0)&&n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs(X.div,{whileHover:{scale:1.05},className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-green-50 via-emerald-50 to-teal-100 border border-green-200/50 p-4 group",children:[n.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-green-400/20 rounded-full blur-sm"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-sm font-bold text-green-900",children:["$",Z.minAmount||0]}),n.jsx("div",{className:"text-xs text-green-700 font-medium",children:"Min"})]})})]}),n.jsxs(X.div,{whileHover:{scale:1.05},className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-orange-50 via-red-50 to-rose-100 border border-orange-200/50 p-4 group",children:[n.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-orange-400/20 rounded-full blur-sm"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-sm font-bold text-orange-900",children:["$",Z.maxAmount||""]}),n.jsx("div",{className:"text-xs text-orange-700 font-medium",children:"Max"})]})})]})]})]}),n.jsx("div",{className:`text-xs font-medium ${F?"text-primary":"text-gray-500"}`,children:F?"Active":"Available"})]},Z.id)})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(O4,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Quick Actions"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(Ma,{to:"/dashboard/payment-links",className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300 group",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(Cx,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Payment Links"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Create payment links"})]})]}),n.jsxs(Ma,{to:"/dashboard/transactions",className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl hover:from-green-100 hover:to-green-200 transition-all duration-300 group",children:[n.jsx("div",{className:"p-2 bg-green-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(os,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"View Transactions"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Monitor payments"})]})]}),n.jsxs(Ma,{to:"/dashboard/integration",className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl hover:from-purple-100 hover:to-purple-200 transition-all duration-300 group",children:[n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(Rh,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"API Integration"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Setup webhooks"})]})]}),n.jsxs(Ma,{to:"/dashboard/settings",className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-orange-50 to-orange-100 rounded-xl hover:from-orange-100 hover:to-orange-200 transition-all duration-300 group",children:[n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(Ps,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Settings"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Account settings"})]})]})]})]}),n.jsxs(tt,{children:[r&&n.jsx(fY,{payment:r,onClose:()=>s(null)}),a&&v&&n.jsx(mY,{profile:v,onClose:()=>i(!1)})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Wm={};Wm.version="0.18.5";var i5=1252,pY=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],o5=function(t){pY.indexOf(t)!=-1&&(i5=t)};function gY(){o5(1252)}var Xh=function(t){o5(t)};function yY(){Xh(1200),gY()}var f0=function(e){return String.fromCharCode(e)},$S=function(e){return String.fromCharCode(e)},ml,po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Gh(t){for(var e="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<t.length;)r=t.charCodeAt(d++),i=r>>2,s=t.charCodeAt(d++),o=(r&3)<<4|s>>4,a=t.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),e+=po.charAt(i)+po.charAt(o)+po.charAt(l)+po.charAt(c);return e}function Ii(t){var e="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)i=po.indexOf(t.charAt(d++)),o=po.indexOf(t.charAt(d++)),r=i<<2|o>>4,e+=String.fromCharCode(r),l=po.indexOf(t.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(s)),c=po.indexOf(t.charAt(d++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var Ut=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Wi=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function rc(t){return Ut?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function XS(t){return Ut?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var An=function(e){return Ut?Wi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Wx(t){if(typeof ArrayBuffer>"u")return An(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),s=0;s!=t.length;++s)r[s]=t.charCodeAt(s)&255;return e}function Pf(t){if(Array.isArray(t))return t.map(function(s){return String.fromCharCode(s)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function vY(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Ss=Ut?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Wi(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var s=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)s.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";s.set(new Uint8Array(t[e]),r)}return s}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function bY(t){for(var e=[],r=0,s=t.length+250,a=rc(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(e.push(a.slice(0,r)),r=0,a=rc(65535),s=65530)}return e.push(a.slice(0,r)),Ss(e)}var sh=/\u0000/g,m0=/[\u0001-\u0006]/g;function rd(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function _n(t,e){var r=""+t;return r.length>=e?r:Lr("0",e-r.length)+r}function lw(t,e){var r=""+t;return r.length>=e?r:Lr(" ",e-r.length)+r}function Ym(t,e){var r=""+t;return r.length>=e?r:r+Lr(" ",e-r.length)}function wY(t,e){var r=""+Math.round(t);return r.length>=e?r:Lr("0",e-r.length)+r}function NY(t,e){var r=""+t;return r.length>=e?r:Lr("0",e-r.length)+r}var GS=Math.pow(2,32);function jc(t,e){if(t>GS||t<-GS)return wY(t,e);var r=Math.round(t);return NY(r,e)}function Vm(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var KS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Sg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function jY(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},qS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SY={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function $m(t,e,r){for(var s=t<0?-1:1,a=t*s,i=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(a);d<e&&(h=Math.floor(a),l=h*o+i,u=h*d+c,!(a-h<5e-8));)a=1/(a-h),i=o,o=l,c=d,d=u;if(u>e&&(d>e?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var f=Math.floor(s*l/u);return[f,s*l-f*u,u]}function x0(t,e,r){if(t>2958465||t<0)return null;var s=t|0,a=Math.floor(86400*(t-s)),i=0,o=[],l={D:s,T:a,u:86400*(t-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=_Y(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var l5=new Date(1899,11,31,0,0,0),CY=l5.getTime(),kY=new Date(1900,2,1,0,0,0);function c5(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=kY&&(r+=24*60*60*1e3),(r-(CY+(t.getTimezoneOffset()-l5.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function cw(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function AY(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function TY(t){var e=t<0?12:11,r=cw(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function EY(t){var e=cw(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function PY(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=TY(t):e===10?r=t.toFixed(10).substr(0,12):r=EY(t),cw(AY(r.toUpperCase()))}function Lv(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):PY(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Lo(14,c5(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function _Y(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function DY(t,e,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,d=e.length;break;case 3:return Sg[r.m-1][1];case 5:return Sg[r.m-1][0];default:return Sg[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,d=e.length;break;case 3:return KS[r.q][0];default:return KS[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?_n(r.S,e.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(a=_n(i,2+s),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?_n(c,d):"";return u}function go(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,s=t.substr(0,r);r!=t.length;r+=e)s+=(s.length>0?",":"")+t.substr(r,e);return s}var d5=/%/g;function MY(t,e,r){var s=e.replace(d5,""),a=e.length-s.length;return Ci(t,s,r*Math.pow(10,2*a))+Lr("%",a)}function RY(t,e,r){for(var s=e.length-1;e.charCodeAt(s-1)===44;)--s;return Ci(t,e.substr(0,s),r/Math.pow(10,3*(e.length-s)))}function u5(t,e){var r,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+u5(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(s);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var h5=/# (\?+)( ?)\/( ?)(\d+)/;function FY(t,e,r){var s=parseInt(t[4],10),a=Math.round(e*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?Lr(" ",t[1].length+1+t[4].length):lw(o,t[1].length)+t[2]+"/"+t[3]+_n(l,t[4].length))}function LY(t,e,r){return r+(e===0?"":""+e)+Lr(" ",t[1].length+2+t[4].length)}var f5=/^#*0*\.([0#]+)/,m5=/\).*[0#]/,x5=/\(###\) ###\\?-####/;function Zs(t){for(var e="",r,s=0;s!=t.length;++s)switch(r=t.charCodeAt(s)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function ZS(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function QS(t,e){var r=t-Math.floor(t),s=Math.pow(10,e);return e<(""+Math.round(r*s)).length?0:Math.round(r*s)}function IY(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function OY(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Qa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(m5)){var s=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Qa("n",s,r):"("+Qa("n",s,-r)+")"}if(e.charCodeAt(e.length-1)===44)return RY(t,e,r);if(e.indexOf("%")!==-1)return MY(t,e,r);if(e.indexOf("E")!==-1)return u5(e,r);if(e.charCodeAt(0)===36)return"$"+Qa(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+jc(c,e.length);if(e.match(/^[#?]+$/))return a=jc(r,0),a==="0"&&(a=""),a.length>e.length?a:Zs(e.substr(0,e.length-a.length))+a;if(i=e.match(h5))return FY(i,c,d);if(e.match(/^#+0+$/))return d+jc(c,e.length-e.indexOf("0"));if(i=e.match(f5))return a=ZS(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Zs(i[1])).replace(/\.$/,"."+Zs(i[1])).replace(/\.(\d*)$/,function(p,x){return"."+x+Lr("0",Zs(i[1]).length-x.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+ZS(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+go(jc(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Qa(t,e,-r):go(""+(Math.floor(r)+IY(r,i[1].length)))+"."+_n(QS(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Qa(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=rd(Qa(t,e.replace(/[\\-]/g,""),r)),o=0,rd(rd(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(e.match(x5))return a=Qa(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=$m(c,Math.pow(10,o)-1,!1),a=""+d,u=Ci("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Ym(l[2],o),u.length<i[4].length&&(u=Zs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=$m(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?lw(l[1],o)+i[2]+"/"+i[3]+Ym(l[2],o):Lr(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=jc(r,0),e.length<=a.length?a:Zs(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,f=e.length-a.length-h;return Zs(e.substr(0,h)+a+e.substr(e.length-f))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=QS(r,i[1].length),r<0?"-"+Qa(t,e,-r):go(OY(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?_n(0,3-p.length):"")+p})+"."+_n(o,i[1].length);switch(e){case"###,##0.00":return Qa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=go(jc(c,0));return m!=="0"?d+m:"";case"###,###.00":return Qa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Qa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function BY(t,e,r){for(var s=e.length-1;e.charCodeAt(s-1)===44;)--s;return Ci(t,e.substr(0,s),r/Math.pow(10,3*(e.length-s)))}function UY(t,e,r){var s=e.replace(d5,""),a=e.length-s.length;return Ci(t,s,r*Math.pow(10,2*a))+Lr("%",a)}function p5(t,e){var r,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+p5(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(s);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Yn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(m5)){var s=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yn("n",s,r):"("+Yn("n",s,-r)+")"}if(e.charCodeAt(e.length-1)===44)return BY(t,e,r);if(e.indexOf("%")!==-1)return UY(t,e,r);if(e.indexOf("E")!==-1)return p5(e,r);if(e.charCodeAt(0)===36)return"$"+Yn(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+_n(c,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:Zs(e.substr(0,e.length-a.length))+a;if(i=e.match(h5))return LY(i,c,d);if(e.match(/^#+0+$/))return d+_n(c,e.length-e.indexOf("0"));if(i=e.match(f5))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Zs(i[1])).replace(/\.$/,"."+Zs(i[1])),a=a.replace(/\.(\d*)$/,function(p,x){return"."+x+Lr("0",Zs(i[1]).length-x.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+go(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yn(t,e,-r):go(""+r)+"."+Lr("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Yn(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=rd(Yn(t,e.replace(/[\\-]/g,""),r)),o=0,rd(rd(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(e.match(x5))return a=Yn(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=$m(c,Math.pow(10,o)-1,!1),a=""+d,u=Ci("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Ym(l[2],o),u.length<i[4].length&&(u=Zs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=$m(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?lw(l[1],o)+i[2]+"/"+i[3]+Ym(l[2],o):Lr(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:Zs(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,f=e.length-a.length-h;return Zs(e.substr(0,h)+a+e.substr(e.length-f))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Yn(t,e,-r):go(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?_n(0,3-p.length):"")+p})+"."+_n(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=go(""+c);return m!=="0"?d+m:"";default:if(e.match(/\.[0#?]*$/))return Yn(t,e.slice(0,e.lastIndexOf(".")),r)+Zs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ci(t,e,r){return(r|0)===r?Yn(t,e,r):Qa(t,e,r)}function HY(t){for(var e=[],r=!1,s=0,a=0;s<t.length;++s)switch(t.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:e[e.length]=t.substr(a,s-a),a=s+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var g5=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function y5(t){for(var e=0,r="",s="";e<t.length;)switch(r=t.charAt(e)){case"G":Vm(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(s=r;t.charAt(e++)!=="]"&&e<t.length;)s+=t.charAt(e);if(s.match(g5))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function zY(t,e,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,h,f="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!Vm(t,o))throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=t.charAt(++o),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=x0(e,r,t.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:t.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=x0(e,r),d==null))return"";for(i=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=f),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(d==null&&(d=x0(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(x.v=d.H>=12?"P":"A"),x.t="T",f="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(x.v=d.H>=12?"PM":"AM"),x.t="T",o+=5,f="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(x.v=d.H>=12?"":""),x.t="T",o+=5,f="h"):(x.t="t",++o),d==null&&x.t==="T")return"";a[a.length]=x,c=l;break;case"[":for(i=l;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(g5)){if(d==null&&(d=x0(e,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",y5(t)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<t.length&&(l=t.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"t",v:l},++o;break}var g=0,y=0,v;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=f,c="h",g<1&&(g=1);break;case"s":(v=a[o].v.match(/\.0+$/))&&(y=Math.max(y,v[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var b="",w;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=DY(a[o].t.charCodeAt(0),a[o].v,d,y),a[o].t="t";break;case"n":case"?":for(w=o+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[o].v+=a[w].v,a[w]={v:"",t:";"},++w;b+=a[o].v,o=w-1;break;case"G":a[o].t="t",a[o].v=Lv(e,r);break}var N="",C,S;if(b.length>0){b.charCodeAt(0)==40?(C=e<0&&b.charCodeAt(0)===45?-e:e,S=Ci("n",b,C)):(C=e<0&&s>1?-e:e,S=Ci("n",b,C),C<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),w=S.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var A=a.length;if(k===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(w>=a[o].v.length-1?(w-=a[o].v.length,a[o].v=S.substr(w+1,a[o].v.length)):w<0?a[o].v="":(a[o].v=S.substr(0,w+1),w=-1),a[o].t="t",A=o);w>=0&&A<a.length&&(a[A].v=S.substr(0,w+1)+a[A].v)}else if(k!==a.length&&S.indexOf("E")===-1){for(w=S.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)w>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=S.charAt(w--)+N);a[o].v=N,a[o].t="t",A=o}for(w>=0&&A<a.length&&(a[A].v=S.substr(0,w+1)+a[A].v),w=S.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(u=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)w<S.length&&(N+=S.charAt(w++));a[o].v=N,a[o].t="t",A=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(C=s>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=Ci(a[o].t,a[o].v,C),a[o].t="t");var T="";for(o=0;o!==a.length;++o)a[o]!=null&&(T+=a[o].v);return T}var JS=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function eC(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function WY(t,e){var r=HY(t),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(JS),l=r[1].match(JS);return eC(e,o)?[s,r[0]]:eC(e,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function Lo(t,e,r){r==null&&(r={});var s="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?s=r.dateNF:s=t;break;case"number":t==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Ur)[t],s==null&&(s=r.table&&r.table[qS[t]]||Ur[qS[t]]),s==null&&(s=SY[t]||"General");break}if(Vm(s,0))return Lv(e,r);e instanceof Date&&(e=c5(e,r.date1904));var a=WY(s,e);if(Vm(a[1]))return Lv(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return zY(a[1],e,r,a[0])}function v5(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Ur[r]==null){e<0&&(e=r);continue}if(Ur[r]==t){e=r;break}}e<0&&(e=391)}return Ur[e]=t,e}function Yx(t){for(var e=0;e!=392;++e)t[e]!==void 0&&v5(t[e],e)}function Vx(){Ur=jY()}var b5=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function YY(t){var e=typeof t=="number"?Ur[t]:t;return e=e.replace(b5,"(\\d+)"),new RegExp("^"+e+"$")}function VY(t,e,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(e.match(b5)||[]).forEach(function(h,f){var m=parseInt(r[f+1],10);switch(h.toLowerCase().charAt(0)){case"y":s=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var $Y=function(){var t={};t.version="1.2.0";function e(){for(var S=0,k=new Array(256),A=0;A!=256;++A)S=A,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,k[A]=S;return typeof Int32Array<"u"?new Int32Array(k):k}var r=e();function s(S){var k=0,A=0,T=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)E[T]=S[T];for(T=0;T!=256;++T)for(A=S[T],k=256+T;k<4096;k+=256)A=E[k]=A>>>8^S[A&255];var D=[];for(T=1;T!=16;++T)D[T-1]=typeof Int32Array<"u"?E.subarray(T*256,T*256+256):E.slice(T*256,T*256+256);return D}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],h=a[6],f=a[7],m=a[8],p=a[9],x=a[10],g=a[11],y=a[12],v=a[13],b=a[14];function w(S,k){for(var A=k^-1,T=0,E=S.length;T<E;)A=A>>>8^r[(A^S.charCodeAt(T++))&255];return~A}function N(S,k){for(var A=k^-1,T=S.length-15,E=0;E<T;)A=b[S[E++]^A&255]^v[S[E++]^A>>8&255]^y[S[E++]^A>>16&255]^g[S[E++]^A>>>24]^x[S[E++]]^p[S[E++]]^m[S[E++]]^f[S[E++]]^h[S[E++]]^u[S[E++]]^d[S[E++]]^c[S[E++]]^l[S[E++]]^o[S[E++]]^i[S[E++]]^r[S[E++]];for(T+=15;E<T;)A=A>>>8^r[(A^S[E++])&255];return~A}function C(S,k){for(var A=k^-1,T=0,E=S.length,D=0,_=0;T<E;)D=S.charCodeAt(T++),D<128?A=A>>>8^r[(A^D)&255]:D<2048?(A=A>>>8^r[(A^(192|D>>6&31))&255],A=A>>>8^r[(A^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,_=S.charCodeAt(T++)&1023,A=A>>>8^r[(A^(240|D>>8&7))&255],A=A>>>8^r[(A^(128|D>>2&63))&255],A=A>>>8^r[(A^(128|_>>6&15|(D&3)<<4))&255],A=A>>>8^r[(A^(128|_&63))&255]):(A=A>>>8^r[(A^(224|D>>12&15))&255],A=A>>>8^r[(A^(128|D>>6&63))&255],A=A>>>8^r[(A^(128|D&63))&255]);return~A}return t.table=r,t.bstr=w,t.buf=N,t.str=C,t}(),nr=function(){var e={};e.version="1.2.1";function r(M,B){for(var R=M.split("/"),L=B.split("/"),O=0,U=0,ie=Math.min(R.length,L.length);O<ie;++O){if(U=R[O].length-L[O].length)return U;if(R[O]!=L[O])return R[O]<L[O]?-1:1}return R.length-L.length}function s(M){if(M.charAt(M.length-1)=="/")return M.slice(0,-1).indexOf("/")===-1?M:s(M.slice(0,-1));var B=M.lastIndexOf("/");return B===-1?M:M.slice(0,B+1)}function a(M){if(M.charAt(M.length-1)=="/")return a(M.slice(0,-1));var B=M.lastIndexOf("/");return B===-1?M:M.slice(B+1)}function i(M,B){typeof B=="string"&&(B=new Date(B));var R=B.getHours();R=R<<6|B.getMinutes(),R=R<<5|B.getSeconds()>>>1,M.write_shift(2,R);var L=B.getFullYear()-1980;L=L<<4|B.getMonth()+1,L=L<<5|B.getDate(),M.write_shift(2,L)}function o(M){var B=M.read_shift(2)&65535,R=M.read_shift(2)&65535,L=new Date,O=R&31;R>>>=5;var U=R&15;R>>>=4,L.setMilliseconds(0),L.setFullYear(R+1980),L.setMonth(U-1),L.setDate(O);var ie=B&31;B>>>=5;var fe=B&63;return B>>>=6,L.setHours(B),L.setMinutes(fe),L.setSeconds(ie<<1),L}function l(M){Da(M,0);for(var B={},R=0;M.l<=M.length-4;){var L=M.read_shift(2),O=M.read_shift(2),U=M.l+O,ie={};switch(L){case 21589:R=M.read_shift(1),R&1&&(ie.mtime=M.read_shift(4)),O>5&&(R&2&&(ie.atime=M.read_shift(4)),R&4&&(ie.ctime=M.read_shift(4))),ie.mtime&&(ie.mt=new Date(ie.mtime*1e3));break}M.l=U,B[L]=ie}return B}var c;function d(){return c||(c={})}function u(M,B){if(M[0]==80&&M[1]==75)return cs(M,B);if((M[0]|32)==109&&(M[1]|32)==105)return $s(M,B);if(M.length<512)throw new Error("CFB file size "+M.length+" < 512");var R=3,L=512,O=0,U=0,ie=0,fe=0,he=0,ue=[],de=M.slice(0,512);Da(de,0);var ve=h(de);switch(R=ve[0],R){case 3:L=512;break;case 4:L=4096;break;case 0:if(ve[1]==0)return cs(M,B);default:throw new Error("Major Version: Expected 3 or 4 saw "+R)}L!==512&&(de=M.slice(0,L),Da(de,28));var De=M.slice(0,L);f(de,R);var He=de.read_shift(4,"i");if(R===3&&He!==0)throw new Error("# Directory Sectors: Expected 0 saw "+He);de.l+=4,ie=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),fe=de.read_shift(4,"i"),O=de.read_shift(4,"i"),he=de.read_shift(4,"i"),U=de.read_shift(4,"i");for(var Ce=-1,Ie=0;Ie<109&&(Ce=de.read_shift(4,"i"),!(Ce<0));++Ie)ue[Ie]=Ce;var it=m(M,L);g(he,U,it,L,ue);var Xt=v(it,ie,ue,L);Xt[ie].name="!Directory",O>0&&fe!==_&&(Xt[fe].name="!MiniFAT"),Xt[ue[0]].name="!FAT",Xt.fat_addrs=ue,Xt.ssz=L;var Ot={},Hr=[],Hn=[],yt=[];b(ie,Xt,it,Hr,O,Ot,Hn,fe),p(Hn,yt,Hr),Hr.shift();var ar={FileIndex:Hn,FullPaths:yt};return B&&B.raw&&(ar.raw={header:De,sectors:it}),ar}function h(M){if(M[M.l]==80&&M[M.l+1]==75)return[0,0];M.chk(z,"Header Signature: "),M.l+=16;var B=M.read_shift(2,"u");return[M.read_shift(2,"u"),B]}function f(M,B){var R=9;switch(M.l+=2,R=M.read_shift(2)){case 9:if(B!=3)throw new Error("Sector Shift: Expected 9 saw "+R);break;case 12:if(B!=4)throw new Error("Sector Shift: Expected 12 saw "+R);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+R)}M.chk("0600","Mini Sector Shift: "),M.chk("000000000000","Reserved: ")}function m(M,B){for(var R=Math.ceil(M.length/B)-1,L=[],O=1;O<R;++O)L[O-1]=M.slice(O*B,(O+1)*B);return L[R-1]=M.slice(R*B),L}function p(M,B,R){for(var L=0,O=0,U=0,ie=0,fe=0,he=R.length,ue=[],de=[];L<he;++L)ue[L]=de[L]=L,B[L]=R[L];for(;fe<de.length;++fe)L=de[fe],O=M[L].L,U=M[L].R,ie=M[L].C,ue[L]===L&&(O!==-1&&ue[O]!==O&&(ue[L]=ue[O]),U!==-1&&ue[U]!==U&&(ue[L]=ue[U])),ie!==-1&&(ue[ie]=L),O!==-1&&L!=ue[L]&&(ue[O]=ue[L],de.lastIndexOf(O)<fe&&de.push(O)),U!==-1&&L!=ue[L]&&(ue[U]=ue[L],de.lastIndexOf(U)<fe&&de.push(U));for(L=1;L<he;++L)ue[L]===L&&(U!==-1&&ue[U]!==U?ue[L]=ue[U]:O!==-1&&ue[O]!==O&&(ue[L]=ue[O]));for(L=1;L<he;++L)if(M[L].type!==0){if(fe=L,fe!=ue[fe])do fe=ue[fe],B[L]=B[fe]+"/"+B[L];while(fe!==0&&ue[fe]!==-1&&fe!=ue[fe]);ue[L]=-1}for(B[0]+="/",L=1;L<he;++L)M[L].type!==2&&(B[L]+="/")}function x(M,B,R){for(var L=M.start,O=M.size,U=[],ie=L;R&&O>0&&ie>=0;)U.push(B.slice(ie*D,ie*D+D)),O-=D,ie=xl(R,ie*4);return U.length===0?ge(0):Ss(U).slice(0,M.size)}function g(M,B,R,L,O){var U=_;if(M===_){if(B!==0)throw new Error("DIFAT chain shorter than expected")}else if(M!==-1){var ie=R[M],fe=(L>>>2)-1;if(!ie)return;for(var he=0;he<fe&&(U=xl(ie,he*4))!==_;++he)O.push(U);g(xl(ie,L-4),B-1,R,L,O)}}function y(M,B,R,L,O){var U=[],ie=[];O||(O=[]);var fe=L-1,he=0,ue=0;for(he=B;he>=0;){O[he]=!0,U[U.length]=he,ie.push(M[he]);var de=R[Math.floor(he*4/L)];if(ue=he*4&fe,L<4+ue)throw new Error("FAT boundary crossed: "+he+" 4 "+L);if(!M[de])break;he=xl(M[de],ue)}return{nodes:U,data:lC([ie])}}function v(M,B,R,L){var O=M.length,U=[],ie=[],fe=[],he=[],ue=L-1,de=0,ve=0,De=0,He=0;for(de=0;de<O;++de)if(fe=[],De=de+B,De>=O&&(De-=O),!ie[De]){he=[];var Ce=[];for(ve=De;ve>=0;){Ce[ve]=!0,ie[ve]=!0,fe[fe.length]=ve,he.push(M[ve]);var Ie=R[Math.floor(ve*4/L)];if(He=ve*4&ue,L<4+He)throw new Error("FAT boundary crossed: "+ve+" 4 "+L);if(!M[Ie]||(ve=xl(M[Ie],He),Ce[ve]))break}U[De]={nodes:fe,data:lC([he])}}return U}function b(M,B,R,L,O,U,ie,fe){for(var he=0,ue=L.length?2:0,de=B[M].data,ve=0,De=0,He;ve<de.length;ve+=128){var Ce=de.slice(ve,ve+128);Da(Ce,64),De=Ce.read_shift(2),He=mw(Ce,0,De-ue),L.push(He);var Ie={name:He,type:Ce.read_shift(1),color:Ce.read_shift(1),L:Ce.read_shift(4,"i"),R:Ce.read_shift(4,"i"),C:Ce.read_shift(4,"i"),clsid:Ce.read_shift(16),state:Ce.read_shift(4,"i"),start:0,size:0},it=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);it!==0&&(Ie.ct=w(Ce,Ce.l-8));var Xt=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);Xt!==0&&(Ie.mt=w(Ce,Ce.l-8)),Ie.start=Ce.read_shift(4,"i"),Ie.size=Ce.read_shift(4,"i"),Ie.size<0&&Ie.start<0&&(Ie.size=Ie.type=0,Ie.start=_,Ie.name=""),Ie.type===5?(he=Ie.start,O>0&&he!==_&&(B[he].name="!StreamData")):Ie.size>=4096?(Ie.storage="fat",B[Ie.start]===void 0&&(B[Ie.start]=y(R,Ie.start,B.fat_addrs,B.ssz)),B[Ie.start].name=Ie.name,Ie.content=B[Ie.start].data.slice(0,Ie.size)):(Ie.storage="minifat",Ie.size<0?Ie.size=0:he!==_&&Ie.start!==_&&B[he]&&(Ie.content=x(Ie,B[he].data,(B[fe]||{}).data))),Ie.content&&Da(Ie.content,0),U[He]=Ie,ie.push(Ie)}}function w(M,B){return new Date((Fa(M,B+4)/1e7*Math.pow(2,32)+Fa(M,B)/1e7-11644473600)*1e3)}function N(M,B){return d(),u(c.readFileSync(M),B)}function C(M,B){var R=B&&B.type;switch(R||Ut&&Buffer.isBuffer(M)&&(R="buffer"),R||"base64"){case"file":return N(M,B);case"base64":return u(An(Ii(M)),B);case"binary":return u(An(M),B)}return u(M,B)}function S(M,B){var R=B||{},L=R.root||"Root Entry";if(M.FullPaths||(M.FullPaths=[]),M.FileIndex||(M.FileIndex=[]),M.FullPaths.length!==M.FileIndex.length)throw new Error("inconsistent CFB structure");M.FullPaths.length===0&&(M.FullPaths[0]=L+"/",M.FileIndex[0]={name:L,type:5}),R.CLSID&&(M.FileIndex[0].clsid=R.CLSID),k(M)}function k(M){var B="Sh33tJ5";if(!nr.find(M,"/"+B)){var R=ge(4);R[0]=55,R[1]=R[3]=50,R[2]=54,M.FileIndex.push({name:B,type:2,content:R,size:4,L:69,R:69,C:69}),M.FullPaths.push(M.FullPaths[0]+B),A(M)}}function A(M,B){S(M);for(var R=!1,L=!1,O=M.FullPaths.length-1;O>=0;--O){var U=M.FileIndex[O];switch(U.type){case 0:L?R=!0:(M.FileIndex.pop(),M.FullPaths.pop());break;case 1:case 2:case 5:L=!0,isNaN(U.R*U.L*U.C)&&(R=!0),U.R>-1&&U.L>-1&&U.R==U.L&&(R=!0);break;default:R=!0;break}}if(!(!R&&!B)){var ie=new Date(1987,1,19),fe=0,he=Object.create?Object.create(null):{},ue=[];for(O=0;O<M.FullPaths.length;++O)he[M.FullPaths[O]]=!0,M.FileIndex[O].type!==0&&ue.push([M.FullPaths[O],M.FileIndex[O]]);for(O=0;O<ue.length;++O){var de=s(ue[O][0]);L=he[de],L||(ue.push([de,{name:a(de).replace("/",""),type:1,clsid:q,ct:ie,mt:ie,content:null}]),he[de]=!0)}for(ue.sort(function(He,Ce){return r(He[0],Ce[0])}),M.FullPaths=[],M.FileIndex=[],O=0;O<ue.length;++O)M.FullPaths[O]=ue[O][0],M.FileIndex[O]=ue[O][1];for(O=0;O<ue.length;++O){var ve=M.FileIndex[O],De=M.FullPaths[O];if(ve.name=a(De).replace("/",""),ve.L=ve.R=ve.C=-(ve.color=1),ve.size=ve.content?ve.content.length:0,ve.start=0,ve.clsid=ve.clsid||q,O===0)ve.C=ue.length>1?1:-1,ve.size=0,ve.type=5;else if(De.slice(-1)=="/"){for(fe=O+1;fe<ue.length&&s(M.FullPaths[fe])!=De;++fe);for(ve.C=fe>=ue.length?-1:fe,fe=O+1;fe<ue.length&&s(M.FullPaths[fe])!=s(De);++fe);ve.R=fe>=ue.length?-1:fe,ve.type=1}else s(M.FullPaths[O+1]||"")==s(De)&&(ve.R=O+1),ve.type=2}}}function T(M,B){var R=B||{};if(R.fileType=="mad")return Ka(M,R);switch(A(M),R.fileType){case"zip":return At(M,R)}var L=function(He){for(var Ce=0,Ie=0,it=0;it<He.FileIndex.length;++it){var Xt=He.FileIndex[it];if(Xt.content){var Ot=Xt.content.length;Ot>0&&(Ot<4096?Ce+=Ot+63>>6:Ie+=Ot+511>>9)}}for(var Hr=He.FullPaths.length+3>>2,Hn=Ce+7>>3,yt=Ce+127>>7,ar=Hn+Ie+Hr+yt,ca=ar+127>>7,di=ca<=109?0:Math.ceil((ca-109)/127);ar+ca+di+127>>7>ca;)di=++ca<=109?0:Math.ceil((ca-109)/127);var zt=[1,di,ca,yt,Hr,Ie,Ce,0];return He.FileIndex[0].size=Ce<<6,zt[7]=(He.FileIndex[0].start=zt[0]+zt[1]+zt[2]+zt[3]+zt[4]+zt[5])+(zt[6]+7>>3),zt}(M),O=ge(L[7]<<9),U=0,ie=0;{for(U=0;U<8;++U)O.write_shift(1,H[U]);for(U=0;U<8;++U)O.write_shift(2,0);for(O.write_shift(2,62),O.write_shift(2,3),O.write_shift(2,65534),O.write_shift(2,9),O.write_shift(2,6),U=0;U<3;++U)O.write_shift(2,0);for(O.write_shift(4,0),O.write_shift(4,L[2]),O.write_shift(4,L[0]+L[1]+L[2]+L[3]-1),O.write_shift(4,0),O.write_shift(4,4096),O.write_shift(4,L[3]?L[0]+L[1]+L[2]-1:_),O.write_shift(4,L[3]),O.write_shift(-4,L[1]?L[0]-1:_),O.write_shift(4,L[1]),U=0;U<109;++U)O.write_shift(-4,U<L[2]?L[1]+U:-1)}if(L[1])for(ie=0;ie<L[1];++ie){for(;U<236+ie*127;++U)O.write_shift(-4,U<L[2]?L[1]+U:-1);O.write_shift(-4,ie===L[1]-1?_:ie+1)}var fe=function(He){for(ie+=He;U<ie-1;++U)O.write_shift(-4,U+1);He&&(++U,O.write_shift(-4,_))};for(ie=U=0,ie+=L[1];U<ie;++U)O.write_shift(-4,K.DIFSECT);for(ie+=L[2];U<ie;++U)O.write_shift(-4,K.FATSECT);fe(L[3]),fe(L[4]);for(var he=0,ue=0,de=M.FileIndex[0];he<M.FileIndex.length;++he)de=M.FileIndex[he],de.content&&(ue=de.content.length,!(ue<4096)&&(de.start=ie,fe(ue+511>>9)));for(fe(L[6]+7>>3);O.l&511;)O.write_shift(-4,K.ENDOFCHAIN);for(ie=U=0,he=0;he<M.FileIndex.length;++he)de=M.FileIndex[he],de.content&&(ue=de.content.length,!(!ue||ue>=4096)&&(de.start=ie,fe(ue+63>>6)));for(;O.l&511;)O.write_shift(-4,K.ENDOFCHAIN);for(U=0;U<L[4]<<2;++U){var ve=M.FullPaths[U];if(!ve||ve.length===0){for(he=0;he<17;++he)O.write_shift(4,0);for(he=0;he<3;++he)O.write_shift(4,-1);for(he=0;he<12;++he)O.write_shift(4,0);continue}de=M.FileIndex[U],U===0&&(de.start=de.size?de.start-1:_);var De=U===0&&R.root||de.name;if(ue=2*(De.length+1),O.write_shift(64,De,"utf16le"),O.write_shift(2,ue),O.write_shift(1,de.type),O.write_shift(1,de.color),O.write_shift(-4,de.L),O.write_shift(-4,de.R),O.write_shift(-4,de.C),de.clsid)O.write_shift(16,de.clsid,"hex");else for(he=0;he<4;++he)O.write_shift(4,0);O.write_shift(4,de.state||0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,de.start),O.write_shift(4,de.size),O.write_shift(4,0)}for(U=1;U<M.FileIndex.length;++U)if(de=M.FileIndex[U],de.size>=4096)if(O.l=de.start+1<<9,Ut&&Buffer.isBuffer(de.content))de.content.copy(O,O.l,0,de.size),O.l+=de.size+511&-512;else{for(he=0;he<de.size;++he)O.write_shift(1,de.content[he]);for(;he&511;++he)O.write_shift(1,0)}for(U=1;U<M.FileIndex.length;++U)if(de=M.FileIndex[U],de.size>0&&de.size<4096)if(Ut&&Buffer.isBuffer(de.content))de.content.copy(O,O.l,0,de.size),O.l+=de.size+63&-64;else{for(he=0;he<de.size;++he)O.write_shift(1,de.content[he]);for(;he&63;++he)O.write_shift(1,0)}if(Ut)O.l=O.length;else for(;O.l<O.length;)O.write_shift(1,0);return O}function E(M,B){var R=M.FullPaths.map(function(he){return he.toUpperCase()}),L=R.map(function(he){var ue=he.split("/");return ue[ue.length-(he.slice(-1)=="/"?2:1)]}),O=!1;B.charCodeAt(0)===47?(O=!0,B=R[0].slice(0,-1)+B):O=B.indexOf("/")!==-1;var U=B.toUpperCase(),ie=O===!0?R.indexOf(U):L.indexOf(U);if(ie!==-1)return M.FileIndex[ie];var fe=!U.match(m0);for(U=U.replace(sh,""),fe&&(U=U.replace(m0,"!")),ie=0;ie<R.length;++ie)if((fe?R[ie].replace(m0,"!"):R[ie]).replace(sh,"")==U||(fe?L[ie].replace(m0,"!"):L[ie]).replace(sh,"")==U)return M.FileIndex[ie];return null}var D=64,_=-2,z="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:_,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(M,B,R){d();var L=T(M,R);c.writeFileSync(B,L)}function J(M){for(var B=new Array(M.length),R=0;R<M.length;++R)B[R]=String.fromCharCode(M[R]);return B.join("")}function Z(M,B){var R=T(M,B);switch(B&&B.type||"buffer"){case"file":return d(),c.writeFileSync(B.filename,R),R;case"binary":return typeof R=="string"?R:J(R);case"base64":return Gh(typeof R=="string"?R:J(R));case"buffer":if(Ut)return Buffer.isBuffer(R)?R:Wi(R);case"array":return typeof R=="string"?An(R):R}return R}var ne;function F(M){try{var B=M.InflateRaw,R=new B;if(R._processChunk(new Uint8Array([3,0]),R._finishFlushFlag),R.bytesRead)ne=M;else throw new Error("zlib does not expose bytesRead")}catch(L){console.error("cannot use native zlib: "+(L.message||L))}}function Q(M,B){if(!ne)return Dr(M,B);var R=ne.InflateRaw,L=new R,O=L._processChunk(M.slice(M.l),L._finishFlushFlag);return M.l+=L.bytesRead,O}function W(M){return ne?ne.deflateRawSync(M):oa(M)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function I(M){var B=(M<<1|M<<11)&139536|(M<<5|M<<15)&558144;return(B>>16|B>>8|B)&255}for(var oe=typeof Uint8Array<"u",V=oe?new Uint8Array(256):[],pe=0;pe<256;++pe)V[pe]=I(pe);function ye(M,B){var R=V[M&255];return B<=8?R>>>8-B:(R=R<<8|V[M>>8&255],B<=16?R>>>16-B:(R=R<<8|V[M>>16&255],R>>>24-B))}function Ae(M,B){var R=B&7,L=B>>>3;return(M[L]|(R<=6?0:M[L+1]<<8))>>>R&3}function Re(M,B){var R=B&7,L=B>>>3;return(M[L]|(R<=5?0:M[L+1]<<8))>>>R&7}function nt(M,B){var R=B&7,L=B>>>3;return(M[L]|(R<=4?0:M[L+1]<<8))>>>R&15}function Xe(M,B){var R=B&7,L=B>>>3;return(M[L]|(R<=3?0:M[L+1]<<8))>>>R&31}function _e(M,B){var R=B&7,L=B>>>3;return(M[L]|(R<=1?0:M[L+1]<<8))>>>R&127}function Ye(M,B,R){var L=B&7,O=B>>>3,U=(1<<R)-1,ie=M[O]>>>L;return R<8-L||(ie|=M[O+1]<<8-L,R<16-L)||(ie|=M[O+2]<<16-L,R<24-L)||(ie|=M[O+3]<<24-L),ie&U}function Ge(M,B,R){var L=B&7,O=B>>>3;return L<=5?M[O]|=(R&7)<<L:(M[O]|=R<<L&255,M[O+1]=(R&7)>>8-L),B+3}function ze(M,B,R){var L=B&7,O=B>>>3;return R=(R&1)<<L,M[O]|=R,B+1}function lt(M,B,R){var L=B&7,O=B>>>3;return R<<=L,M[O]|=R&255,R>>>=8,M[O+1]=R,B+8}function $t(M,B,R){var L=B&7,O=B>>>3;return R<<=L,M[O]|=R&255,R>>>=8,M[O+1]=R&255,M[O+2]=R>>>8,B+16}function gs(M,B){var R=M.length,L=2*R>B?2*R:B+5,O=0;if(R>=B)return M;if(Ut){var U=XS(L);if(M.copy)M.copy(U);else for(;O<M.length;++O)U[O]=M[O];return U}else if(oe){var ie=new Uint8Array(L);if(ie.set)ie.set(M);else for(;O<R;++O)ie[O]=M[O];return ie}return M.length=L,M}function xt(M){for(var B=new Array(M),R=0;R<M;++R)B[R]=0;return B}function Fs(M,B,R){var L=1,O=0,U=0,ie=0,fe=0,he=M.length,ue=oe?new Uint16Array(32):xt(32);for(U=0;U<32;++U)ue[U]=0;for(U=he;U<R;++U)M[U]=0;he=M.length;var de=oe?new Uint16Array(he):xt(he);for(U=0;U<he;++U)ue[O=M[U]]++,L<O&&(L=O),de[U]=0;for(ue[0]=0,U=1;U<=L;++U)ue[U+16]=fe=fe+ue[U-1]<<1;for(U=0;U<he;++U)fe=M[U],fe!=0&&(de[U]=ue[fe+16]++);var ve=0;for(U=0;U<he;++U)if(ve=M[U],ve!=0)for(fe=ye(de[U],L)>>L-ve,ie=(1<<L+4-ve)-1;ie>=0;--ie)B[fe|ie<<ve]=ve&15|U<<4;return L}var wr=oe?new Uint16Array(512):xt(512),Cr=oe?new Uint16Array(32):xt(32);if(!oe){for(var _r=0;_r<512;++_r)wr[_r]=0;for(_r=0;_r<32;++_r)Cr[_r]=0}(function(){for(var M=[],B=0;B<32;B++)M.push(5);Fs(M,Cr,32);var R=[];for(B=0;B<=143;B++)R.push(8);for(;B<=255;B++)R.push(9);for(;B<=279;B++)R.push(7);for(;B<=287;B++)R.push(8);Fs(R,wr,288)})();var ys=function(){for(var B=oe?new Uint8Array(32768):[],R=0,L=0;R<ee.length-1;++R)for(;L<ee[R+1];++L)B[L]=R;for(;L<32768;++L)B[L]=29;var O=oe?new Uint8Array(259):[];for(R=0,L=0;R<te.length-1;++R)for(;L<te[R+1];++L)O[L]=R;function U(fe,he){for(var ue=0;ue<fe.length;){var de=Math.min(65535,fe.length-ue),ve=ue+de==fe.length;for(he.write_shift(1,+ve),he.write_shift(2,de),he.write_shift(2,~de&65535);de-- >0;)he[he.l++]=fe[ue++]}return he.l}function ie(fe,he){for(var ue=0,de=0,ve=oe?new Uint16Array(32768):[];de<fe.length;){var De=Math.min(65535,fe.length-de);if(De<10){for(ue=Ge(he,ue,+(de+De==fe.length)),ue&7&&(ue+=8-(ue&7)),he.l=ue/8|0,he.write_shift(2,De),he.write_shift(2,~De&65535);De-- >0;)he[he.l++]=fe[de++];ue=he.l*8;continue}ue=Ge(he,ue,+(de+De==fe.length)+2);for(var He=0;De-- >0;){var Ce=fe[de];He=(He<<5^Ce)&32767;var Ie=-1,it=0;if((Ie=ve[He])&&(Ie|=de&-32768,Ie>de&&(Ie-=32768),Ie<de))for(;fe[Ie+it]==fe[de+it]&&it<250;)++it;if(it>2){Ce=O[it],Ce<=22?ue=lt(he,ue,V[Ce+1]>>1)-1:(lt(he,ue,3),ue+=5,lt(he,ue,V[Ce-23]>>5),ue+=3);var Xt=Ce<8?0:Ce-4>>2;Xt>0&&($t(he,ue,it-te[Ce]),ue+=Xt),Ce=B[de-Ie],ue=lt(he,ue,V[Ce]>>3),ue-=3;var Ot=Ce<4?0:Ce-2>>1;Ot>0&&($t(he,ue,de-Ie-ee[Ce]),ue+=Ot);for(var Hr=0;Hr<it;++Hr)ve[He]=de&32767,He=(He<<5^fe[de])&32767,++de;De-=it-1}else Ce<=143?Ce=Ce+48:ue=ze(he,ue,1),ue=lt(he,ue,V[Ce]),ve[He]=de&32767,++de}ue=lt(he,ue,0)-1}return he.l=(ue+7)/8|0,he.l}return function(he,ue){return he.length<8?U(he,ue):ie(he,ue)}}();function oa(M){var B=ge(50+Math.floor(M.length*1.1)),R=ys(M,B);return B.slice(0,R)}var Ta=oe?new Uint16Array(32768):xt(32768),fn=oe?new Uint16Array(32768):xt(32768),Se=oe?new Uint16Array(128):xt(128),pt=1,we=1;function qe(M,B){var R=Xe(M,B)+257;B+=5;var L=Xe(M,B)+1;B+=5;var O=nt(M,B)+4;B+=4;for(var U=0,ie=oe?new Uint8Array(19):xt(19),fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,ue=oe?new Uint8Array(8):xt(8),de=oe?new Uint8Array(8):xt(8),ve=ie.length,De=0;De<O;++De)ie[G[De]]=U=Re(M,B),he<U&&(he=U),ue[U]++,B+=3;var He=0;for(ue[0]=0,De=1;De<=he;++De)de[De]=He=He+ue[De-1]<<1;for(De=0;De<ve;++De)(He=ie[De])!=0&&(fe[De]=de[He]++);var Ce=0;for(De=0;De<ve;++De)if(Ce=ie[De],Ce!=0){He=V[fe[De]]>>8-Ce;for(var Ie=(1<<7-Ce)-1;Ie>=0;--Ie)Se[He|Ie<<Ce]=Ce&7|De<<3}var it=[];for(he=1;it.length<R+L;)switch(He=Se[_e(M,B)],B+=He&7,He>>>=3){case 16:for(U=3+Ae(M,B),B+=2,He=it[it.length-1];U-- >0;)it.push(He);break;case 17:for(U=3+Re(M,B),B+=3;U-- >0;)it.push(0);break;case 18:for(U=11+_e(M,B),B+=7;U-- >0;)it.push(0);break;default:it.push(He),he<He&&(he=He);break}var Xt=it.slice(0,R),Ot=it.slice(R);for(De=R;De<286;++De)Xt[De]=0;for(De=L;De<30;++De)Ot[De]=0;return pt=Fs(Xt,Ta,286),we=Fs(Ot,fn,30),B}function kt(M,B){if(M[0]==3&&!(M[1]&3))return[rc(B),2];for(var R=0,L=0,O=XS(B||1<<18),U=0,ie=O.length>>>0,fe=0,he=0;!(L&1);){if(L=Re(M,R),R+=3,L>>>1)L>>1==1?(fe=9,he=5):(R=qe(M,R),fe=pt,he=we);else{R&7&&(R+=8-(R&7));var ue=M[R>>>3]|M[(R>>>3)+1]<<8;if(R+=32,ue>0)for(!B&&ie<U+ue&&(O=gs(O,U+ue),ie=O.length);ue-- >0;)O[U++]=M[R>>>3],R+=8;continue}for(;;){!B&&ie<U+32767&&(O=gs(O,U+32767),ie=O.length);var de=Ye(M,R,fe),ve=L>>>1==1?wr[de]:Ta[de];if(R+=ve&15,ve>>>=4,!(ve>>>8&255))O[U++]=ve;else{if(ve==256)break;ve-=257;var De=ve<8?0:ve-4>>2;De>5&&(De=0);var He=U+te[ve];De>0&&(He+=Ye(M,R,De),R+=De),de=Ye(M,R,he),ve=L>>>1==1?Cr[de]:fn[de],R+=ve&15,ve>>>=4;var Ce=ve<4?0:ve-2>>1,Ie=ee[ve];for(Ce>0&&(Ie+=Ye(M,R,Ce),R+=Ce),!B&&ie<He&&(O=gs(O,He+100),ie=O.length);U<He;)O[U]=O[U-Ie],++U}}}return B?[O,R+7>>>3]:[O.slice(0,U),R+7>>>3]}function Dr(M,B){var R=M.slice(M.l||0),L=kt(R,B);return M.l+=L[1],L[0]}function ts(M,B){if(M)typeof console<"u"&&console.error(B);else throw new Error(B)}function cs(M,B){var R=M;Da(R,0);var L=[],O=[],U={FileIndex:L,FullPaths:O};S(U,{root:B.root});for(var ie=R.length-4;(R[ie]!=80||R[ie+1]!=75||R[ie+2]!=5||R[ie+3]!=6)&&ie>=0;)--ie;R.l=ie+4,R.l+=4;var fe=R.read_shift(2);R.l+=6;var he=R.read_shift(4);for(R.l=he,ie=0;ie<fe;++ie){R.l+=20;var ue=R.read_shift(4),de=R.read_shift(4),ve=R.read_shift(2),De=R.read_shift(2),He=R.read_shift(2);R.l+=8;var Ce=R.read_shift(4),Ie=l(R.slice(R.l+ve,R.l+ve+De));R.l+=ve+De+He;var it=R.l;R.l=Ce+4,rs(R,ue,de,U,Ie),R.l=it}return U}function rs(M,B,R,L,O){M.l+=2;var U=M.read_shift(2),ie=M.read_shift(2),fe=o(M);if(U&8257)throw new Error("Unsupported ZIP encryption");for(var he=M.read_shift(4),ue=M.read_shift(4),de=M.read_shift(4),ve=M.read_shift(2),De=M.read_shift(2),He="",Ce=0;Ce<ve;++Ce)He+=String.fromCharCode(M[M.l++]);if(De){var Ie=l(M.slice(M.l,M.l+De));(Ie[21589]||{}).mt&&(fe=Ie[21589].mt),((O||{})[21589]||{}).mt&&(fe=O[21589].mt)}M.l+=De;var it=M.slice(M.l,M.l+ue);switch(ie){case 8:it=Q(M,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ie)}var Xt=!1;U&8&&(he=M.read_shift(4),he==134695760&&(he=M.read_shift(4),Xt=!0),ue=M.read_shift(4),de=M.read_shift(4)),ue!=B&&ts(Xt,"Bad compressed size: "+B+" != "+ue),de!=R&&ts(Xt,"Bad uncompressed size: "+R+" != "+de),le(L,He,it,{unsafe:!0,mt:fe})}function At(M,B){var R=B||{},L=[],O=[],U=ge(1),ie=R.compression?8:0,fe=0,he=0,ue=0,de=0,ve=0,De=M.FullPaths[0],He=De,Ce=M.FileIndex[0],Ie=[],it=0;for(he=1;he<M.FullPaths.length;++he)if(He=M.FullPaths[he].slice(De.length),Ce=M.FileIndex[he],!(!Ce.size||!Ce.content||He=="Sh33tJ5")){var Xt=de,Ot=ge(He.length);for(ue=0;ue<He.length;++ue)Ot.write_shift(1,He.charCodeAt(ue)&127);Ot=Ot.slice(0,Ot.l),Ie[ve]=$Y.buf(Ce.content,0);var Hr=Ce.content;ie==8&&(Hr=W(Hr)),U=ge(30),U.write_shift(4,67324752),U.write_shift(2,20),U.write_shift(2,fe),U.write_shift(2,ie),Ce.mt?i(U,Ce.mt):U.write_shift(4,0),U.write_shift(-4,Ie[ve]),U.write_shift(4,Hr.length),U.write_shift(4,Ce.content.length),U.write_shift(2,Ot.length),U.write_shift(2,0),de+=U.length,L.push(U),de+=Ot.length,L.push(Ot),de+=Hr.length,L.push(Hr),U=ge(46),U.write_shift(4,33639248),U.write_shift(2,0),U.write_shift(2,20),U.write_shift(2,fe),U.write_shift(2,ie),U.write_shift(4,0),U.write_shift(-4,Ie[ve]),U.write_shift(4,Hr.length),U.write_shift(4,Ce.content.length),U.write_shift(2,Ot.length),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(4,0),U.write_shift(4,Xt),it+=U.l,O.push(U),it+=Ot.length,O.push(Ot),++ve}return U=ge(22),U.write_shift(4,101010256),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,ve),U.write_shift(2,ve),U.write_shift(4,it),U.write_shift(4,de),U.write_shift(2,0),Ss([Ss(L),Ss(O),U])}var gt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function la(M,B){if(M.ctype)return M.ctype;var R=M.name||"",L=R.match(/\.([^\.]+)$/);return L&&gt[L[1]]||B&&(L=(R=B).match(/[\.\\]([^\.\\])+$/),L&&gt[L[1]])?gt[L[1]]:"application/octet-stream"}function Je(M){for(var B=Gh(M),R=[],L=0;L<B.length;L+=76)R.push(B.slice(L,L+76));return R.join(`\r
`)+`\r
`}function jt(M){var B=M.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var de=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});B=B.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),B.charAt(0)==`
`&&(B="=0D"+B.slice(1)),B=B.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var R=[],L=B.split(`\r
`),O=0;O<L.length;++O){var U=L[O];if(U.length==0){R.push("");continue}for(var ie=0;ie<U.length;){var fe=76,he=U.slice(ie,ie+fe);he.charAt(fe-1)=="="?fe--:he.charAt(fe-2)=="="?fe-=2:he.charAt(fe-3)=="="&&(fe-=3),he=U.slice(ie,ie+fe),ie+=fe,ie<U.length&&(he+="="),R.push(he)}}return R.join(`\r
`)}function Pt(M){for(var B=[],R=0;R<M.length;++R){for(var L=M[R];R<=M.length&&L.charAt(L.length-1)=="=";)L=L.slice(0,L.length-1)+M[++R];B.push(L)}for(var O=0;O<B.length;++O)B[O]=B[O].replace(/[=][0-9A-Fa-f]{2}/g,function(U){return String.fromCharCode(parseInt(U.slice(1),16))});return An(B.join(`\r
`))}function ds(M,B,R){for(var L="",O="",U="",ie,fe=0;fe<10;++fe){var he=B[fe];if(!he||he.match(/^\s*$/))break;var ue=he.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":L=ue[2].trim();break;case"content-type":U=ue[2].trim();break;case"content-transfer-encoding":O=ue[2].trim();break}}switch(++fe,O.toLowerCase()){case"base64":ie=An(Ii(B.slice(fe).join("")));break;case"quoted-printable":ie=Pt(B.slice(fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+O)}var de=le(M,L.slice(R.length),ie,{unsafe:!0});U&&(de.ctype=U)}function $s(M,B){if(J(M.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var R=B&&B.root||"",L=(Ut&&Buffer.isBuffer(M)?M.toString("binary"):J(M)).split(`\r
`),O=0,U="";for(O=0;O<L.length;++O)if(U=L[O],!!/^Content-Location:/i.test(U)&&(U=U.slice(U.indexOf("file")),R||(R=U.slice(0,U.lastIndexOf("/")+1)),U.slice(0,R.length)!=R))for(;R.length>0&&(R=R.slice(0,R.length-1),R=R.slice(0,R.lastIndexOf("/")+1),U.slice(0,R.length)!=R););var ie=(L[1]||"").match(/boundary="(.*?)"/);if(!ie)throw new Error("MAD cannot find boundary");var fe="--"+(ie[1]||""),he=[],ue=[],de={FileIndex:he,FullPaths:ue};S(de);var ve,De=0;for(O=0;O<L.length;++O){var He=L[O];He!==fe&&He!==fe+"--"||(De++&&ds(de,L.slice(ve,O),R),ve=O)}return de}function Ka(M,B){var R=B||{},L=R.boundary||"SheetJS";L="------="+L;for(var O=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+L.slice(2)+'"',"","",""],U=M.FullPaths[0],ie=U,fe=M.FileIndex[0],he=1;he<M.FullPaths.length;++he)if(ie=M.FullPaths[he].slice(U.length),fe=M.FileIndex[he],!(!fe.size||!fe.content||ie=="Sh33tJ5")){ie=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(it){return"_x"+it.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(it){return"_u"+it.charCodeAt(0).toString(16)+"_"});for(var ue=fe.content,de=Ut&&Buffer.isBuffer(ue)?ue.toString("binary"):J(ue),ve=0,De=Math.min(1024,de.length),He=0,Ce=0;Ce<=De;++Ce)(He=de.charCodeAt(Ce))>=32&&He<128&&++ve;var Ie=ve>=De*4/5;O.push(L),O.push("Content-Location: "+(R.root||"file:///C:/SheetJS/")+ie),O.push("Content-Transfer-Encoding: "+(Ie?"quoted-printable":"base64")),O.push("Content-Type: "+la(fe,ie)),O.push(""),O.push(Ie?jt(de):Je(de))}return O.push(L+`--\r
`),O.join(`\r
`)}function re(M){var B={};return S(B,M),B}function le(M,B,R,L){var O=L&&L.unsafe;O||S(M);var U=!O&&nr.find(M,B);if(!U){var ie=M.FullPaths[0];B.slice(0,ie.length)==ie?ie=B:(ie.slice(-1)!="/"&&(ie+="/"),ie=(ie+B).replace("//","/")),U={name:a(B),type:2},M.FileIndex.push(U),M.FullPaths.push(ie),O||nr.utils.cfb_gc(M)}return U.content=R,U.size=R?R.length:0,L&&(L.CLSID&&(U.clsid=L.CLSID),L.mt&&(U.mt=L.mt),L.ct&&(U.ct=L.ct)),U}function me(M,B){S(M);var R=nr.find(M,B);if(R){for(var L=0;L<M.FileIndex.length;++L)if(M.FileIndex[L]==R)return M.FileIndex.splice(L,1),M.FullPaths.splice(L,1),!0}return!1}function je(M,B,R){S(M);var L=nr.find(M,B);if(L){for(var O=0;O<M.FileIndex.length;++O)if(M.FileIndex[O]==L)return M.FileIndex[O].name=a(R),M.FullPaths[O]=R,!0}return!1}function Oe(M){A(M,!0)}return e.find=E,e.read=C,e.parse=u,e.write=Z,e.writeFile=Y,e.utils={cfb_new:re,cfb_add:le,cfb_del:me,cfb_mov:je,cfb_gc:Oe,ReadShift:nh,CheckField:O5,prep_blob:Da,bconcat:Ss,use_zlib:F,_deflateRaw:oa,_inflateRaw:Dr,consts:K},e}();function XY(t){return typeof t=="string"?Wx(t):Array.isArray(t)?vY(t):t}function _f(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Wx(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var s=r=="utf8"?qh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,t);if(typeof Blob<"u"){var a=new Blob([XY(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=Pf(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function Rs(t){for(var e=Object.keys(t),r=[],s=0;s<e.length;++s)Object.prototype.hasOwnProperty.call(t,e[s])&&r.push(e[s]);return r}function tC(t,e){for(var r=[],s=Rs(t),a=0;a!==s.length;++a)r[t[s[a]][e]]==null&&(r[t[s[a]][e]]=s[a]);return r}function dw(t){for(var e=[],r=Rs(t),s=0;s!==r.length;++s)e[t[r[s]]]=r[s];return e}function $x(t){for(var e=[],r=Rs(t),s=0;s!==r.length;++s)e[t[r[s]]]=parseInt(r[s],10);return e}function GY(t){for(var e=[],r=Rs(t),s=0;s!==r.length;++s)e[t[r[s]]]==null&&(e[t[r[s]]]=[]),e[t[r[s]]].push(r[s]);return e}var Xm=new Date(1899,11,30,0,0,0);function ka(t,e){var r=t.getTime(),s=Xm.getTime()+(t.getTimezoneOffset()-Xm.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var w5=new Date,KY=Xm.getTime()+(w5.getTimezoneOffset()-Xm.getTimezoneOffset())*6e4,rC=w5.getTimezoneOffset();function N5(t){var e=new Date;return e.setTime(t*24*60*60*1e3+KY),e.getTimezoneOffset()!==rC&&e.setTime(e.getTime()+(e.getTimezoneOffset()-rC)*6e4),e}var sC=new Date("2017-02-19T19:06:09.000Z"),j5=isNaN(sC.getFullYear())?new Date("2/19/17"):sC,qY=j5.getFullYear()==2017;function sa(t,e){var r=new Date(t);if(qY)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(j5.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return t.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Xx(t,e){if(Ut&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=t.length;++a)s.push(String.fromCharCode(t[a]));return s.join("")}function Aa(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Aa(t[r]));return e}function Lr(t,e){for(var r="";r.length<e;)r+=t;return r}function ki(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,s=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(s)))?e/r:e}var ZY=["january","february","march","april","may","june","july","august","september","october","november","december"];function Kh(t){var e=new Date(t),r=new Date(NaN),s=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&ZY.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function mt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var s;return Ut?s=Wi(r):s=bY(r),nr.utils.cfb_add(t,e,s)}nr.utils.cfb_add(t,e,r)}else t.file(e,r)}function uw(){return nr.utils.cfb_new()}var es=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,QY={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},hw=dw(QY),fw=/[&<>'"]/g,JY=/[\u0000-\u0008\u000b-\u001f]/g;function Jt(t){var e=t+"";return e.replace(fw,function(r){return hw[r]}).replace(JY,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function aC(t){return Jt(t).replace(/ /g,"_x0020_")}var S5=/[\u0000-\u001f]/g;function eV(t){var e=t+"";return e.replace(fw,function(r){return hw[r]}).replace(/\n/g,"<br/>").replace(S5,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function tV(t){var e=t+"";return e.replace(fw,function(r){return hw[r]}).replace(S5,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function rV(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function sV(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cg(t){for(var e="",r=0,s=0,a=0,i=0,o=0,l=0;r<t.length;){if(s=t.charCodeAt(r++),s<128){e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),s<240){e+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=t.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function nC(t){var e=rc(2*t.length),r,s,a=1,i=0,o=0,l;for(s=0;s<t.length;s+=a)a=1,(l=t.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(t.charCodeAt(s+1)&63)*64+(t.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(t.charCodeAt(s+1)&63)*4096+(t.charCodeAt(s+2)&63)*64+(t.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function iC(t){return Wi(t,"binary").toString("utf8")}var p0="foo bar baz",ah=Ut&&(iC(p0)==Cg(p0)&&iC||nC(p0)==Cg(p0)&&nC)||Cg,qh=Ut?function(t){return Wi(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,s=0,a=0;r<t.length;)switch(s=t.charCodeAt(r++),!0){case s<128:e.push(String.fromCharCode(s));break;case s<2048:e.push(String.fromCharCode(192+(s>>6))),e.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=t.charCodeAt(r++)-56320+(s<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(s>>12))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)))}return e.join("")},aV=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)s=s.replace(t[a][0],t[a][1]);return s}}(),C5=/(^\s|\s$|\n)/;function Cs(t,e){return"<"+t+(e.match(C5)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Zh(t){return Rs(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Me(t,e,r){return"<"+t+(r!=null?Zh(r):"")+(e!=null?(e.match(C5)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Iv(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function nV(t,e){switch(typeof t){case"string":var r=Me("vt:lpwstr",Jt(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Me((t|0)==t?"vt:i4":"vt:r8",Jt(String(t)));case"boolean":return Me("vt:bool",t?"true":"false")}if(t instanceof Date)return Me("vt:filetime",Iv(t));throw new Error("Unable to serialize "+t)}var fs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},cu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ra={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function iV(t,e){for(var r=1-2*(t[e+7]>>>7),s=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function oV(t,e,r){var s=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,o=s?-e:e;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)t[r+l]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|s}var oC=function(t){for(var e=[],r=10240,s=0;s<t[0].length;++s)if(t[0][s])for(var a=0,i=t[0][s].length;a<i;a+=r)e.push.apply(e,t[0][s].slice(a,a+r));return e},lC=Ut?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Wi(e)})):oC(t)}:oC,cC=function(t,e,r){for(var s=[],a=e;a<r;a+=2)s.push(String.fromCharCode(Hu(t,a)));return s.join("").replace(sh,"")},mw=Ut?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(sh,""):cC(t,e,r)}:cC,dC=function(t,e,r){for(var s=[],a=e;a<e+r;++a)s.push(("0"+t[a].toString(16)).slice(-2));return s.join("")},k5=Ut?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):dC(t,e,r)}:dC,uC=function(t,e,r){for(var s=[],a=e;a<r;a++)s.push(String.fromCharCode(Ac(t,a)));return s.join("")},Df=Ut?function(e,r,s){return Buffer.isBuffer(e)?e.toString("utf8",r,s):uC(e,r,s)}:uC,A5=function(t,e){var r=Fa(t,e);return r>0?Df(t,e+4,e+4+r-1):""},T5=A5,E5=function(t,e){var r=Fa(t,e);return r>0?Df(t,e+4,e+4+r-1):""},P5=E5,_5=function(t,e){var r=2*Fa(t,e);return r>0?Df(t,e+4,e+4+r-1):""},D5=_5,M5=function(e,r){var s=Fa(e,r);return s>0?mw(e,r+4,r+4+s):""},R5=M5,F5=function(t,e){var r=Fa(t,e);return r>0?Df(t,e+4,e+4+r):""},L5=F5,I5=function(t,e){return iV(t,e)},Gm=I5,xw=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ut&&(T5=function(e,r){if(!Buffer.isBuffer(e))return A5(e,r);var s=e.readUInt32LE(r);return s>0?e.toString("utf8",r+4,r+4+s-1):""},P5=function(e,r){if(!Buffer.isBuffer(e))return E5(e,r);var s=e.readUInt32LE(r);return s>0?e.toString("utf8",r+4,r+4+s-1):""},D5=function(e,r){if(!Buffer.isBuffer(e))return _5(e,r);var s=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+s-1)},R5=function(e,r){if(!Buffer.isBuffer(e))return M5(e,r);var s=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+s)},L5=function(e,r){if(!Buffer.isBuffer(e))return F5(e,r);var s=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+s)},Gm=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):I5(e,r)},xw=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ac=function(t,e){return t[e]},Hu=function(t,e){return t[e+1]*256+t[e]},lV=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Fa=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},xl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},cV=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function nh(t,e){var r="",s,a,i=[],o,l,c,d;switch(e){case"dbcs":if(d=this.l,Ut&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(Hu(this,d)),d+=2;t*=2;break;case"utf8":r=Df(this,this.l,this.l+t);break;case"utf16le":t*=2,r=mw(this,this.l,this.l+t);break;case"wstr":return nh.call(this,t,"dbcs");case"lpstr-ansi":r=T5(this,this.l),t=4+Fa(this,this.l);break;case"lpstr-cp":r=P5(this,this.l),t=4+Fa(this,this.l);break;case"lpwstr":r=D5(this,this.l),t=4+2*Fa(this,this.l);break;case"lpp4":t=4+Fa(this,this.l),r=R5(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Fa(this,this.l),r=L5(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=Ac(this,this.l+t++))!==0;)i.push(f0(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=Hu(this,this.l+t))!==0;)i.push(f0(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Ac(this,d),this.l=d+1,l=nh.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(f0(Hu(this,d))),d+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Ac(this,d),this.l=d+1,l=nh.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(f0(Ac(this,d))),d+=1}r=i.join("");break;default:switch(t){case 1:return s=Ac(this,this.l),this.l++,s;case 2:return s=(e==="i"?lV:Hu)(this,this.l),this.l+=2,s;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(s=(t>0?xl:cV)(this,this.l),this.l+=4,s):(a=Fa(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=Gm(this,this.l):a=Gm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=k5(this,this.l,t);break}}return this.l+=t,r}var dV=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},uV=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},hV=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function fV(t,e,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)hV(this,e.charCodeAt(a),this.l+2*a);s=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;s=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var o=e.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:s=1,this[this.l]=e&255;break;case 2:s=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:s=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:s=4,dV(this,e,this.l);break;case 8:if(s=8,r==="f"){oV(this,e,this.l);break}case 16:break;case-4:s=4,uV(this,e,this.l);break}return this.l+=s,this}function O5(t,e){var r=k5(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Da(t,e){t.l=e,t.read_shift=nh,t.chk=O5,t.write_shift=fV}function ai(t,e){t.l+=e}function ge(t){var e=rc(t);return Da(e,0),e}function Ca(){var t=[],e=Ut?256:2048,r=function(d){var u=ge(d);return Da(u,0),u},s=r(e),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&t.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,e)))},o=function(){return a(),Ss(t)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(e)};return{next:i,push:l,end:o,_bufs:t}}function Ne(t,e,r,s){var a=+e,i;if(!isNaN(a)){s||(s=iZ[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=t.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&xw(r)&&t.push(r)}}function ih(t,e,r){var s=Aa(t);if(e.s?(s.cRel&&(s.c+=e.s.c),s.rRel&&(s.r+=e.s.r)):(s.cRel&&(s.c+=e.c),s.rRel&&(s.r+=e.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function hC(t,e,r){var s=Aa(t);return s.s=ih(s.s,e.s,r),s.e=ih(s.e,e.s,r),s}function oh(t,e){if(t.cRel&&t.c<0)for(t=Aa(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Aa(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=rr(t);return!t.cRel&&t.cRel!=null&&(r=pV(r)),!t.rRel&&t.rRel!=null&&(r=mV(r)),r}function kg(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ws(t.s.c)+":"+(t.e.cRel?"":"$")+Ws(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+_s(t.s.r)+":"+(t.e.rRel?"":"$")+_s(t.e.r):oh(t.s,e.biff)+":"+oh(t.e,e.biff)}function pw(t){return parseInt(xV(t),10)-1}function _s(t){return""+(t+1)}function mV(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function xV(t){return t.replace(/\$(\d+)$/,"$1")}function gw(t){for(var e=gV(t),r=0,s=0;s!==e.length;++s)r=26*r+e.charCodeAt(s)-64;return r-1}function Ws(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function pV(t){return t.replace(/^([A-Z])/,"$$$1")}function gV(t){return t.replace(/^\$([A-Z])/,"$1")}function yV(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ms(t){for(var e=0,r=0,s=0;s<t.length;++s){var a=t.charCodeAt(s);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function rr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Ya(t){var e=t.indexOf(":");return e==-1?{s:ms(t),e:ms(t)}:{s:ms(t.slice(0,e)),e:ms(t.slice(e+1))}}function Qr(t,e){return typeof e>"u"||typeof e=="number"?Qr(t.s,t.e):(typeof t!="string"&&(t=rr(t)),typeof e!="string"&&(e=rr(e)),t==e?t:t+":"+e)}function br(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=t.length;for(r=0;s<i&&!((a=t.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(e.s.c=--r,r=0;s<i&&!((a=t.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(e.s.r=--r,s===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++s,r=0;s!=i&&!((a=t.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(e.e.c=--r,r=0;s!=i&&!((a=t.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return e.e.r=--r,e}function fC(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Lo(t.z,r?ka(e):e)}catch{}try{return t.w=Lo((t.XF||{}).numFmtId||(r?14:0),r?ka(e):e)}catch{return""+e}}function Oi(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Mf[t.v]||t.v:e==null?fC(t,t.v):fC(t,e))}function uc(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",s={};return s[r]=t,{SheetNames:[r],Sheets:s}}function B5(t,e,r){var s=r||{},a=t?Array.isArray(t):s.dense,i=t||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?ms(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=br(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=e[h].length;++f)if(!(typeof e[h][f]>"u")){var m={v:e[h][f]},p=o+h,x=l+f;if(d.s.r>p&&(d.s.r=p),d.s.c>x&&(d.s.c=x),d.e.r<p&&(d.e.r=p),d.e.c<x&&(d.e.c=x),e[h][f]&&typeof e[h][f]=="object"&&!Array.isArray(e[h][f])&&!(e[h][f]instanceof Date))m=e[h][f];else if(Array.isArray(m.v)&&(m.f=e[h][f][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(s.nullError)m.t="e",m.v=0;else if(s.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=s.dateNF||Ur[14],s.cellDates?(m.t="d",m.w=Lo(m.z,ka(m.v))):(m.t="n",m.v=ka(m.v),m.w=Lo(m.z,m.v))):m.t="s";if(a)i[p]||(i[p]=[]),i[p][x]&&i[p][x].z&&(m.z=i[p][x].z),i[p][x]=m;else{var g=rr({c:x,r:p});i[g]&&i[g].z&&(m.z=i[g].z),i[g]=m}}}return d.s.c<1e7&&(i["!ref"]=Qr(d)),i}function du(t,e){return B5(null,t,e)}function vV(t){return t.read_shift(4,"i")}function In(t,e){return e||(e=ge(4)),e.write_shift(4,t),e}function Ys(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function xs(t,e){var r=!1;return e==null&&(r=!0,e=ge(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function bV(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function wV(t,e){return e||(e=ge(4)),e.write_shift(2,0),e.write_shift(2,0),e}function yw(t,e){var r=t.l,s=t.read_shift(1),a=Ys(t),i=[],o={t:a,h:a};if(s&1){for(var l=t.read_shift(4),c=0;c!=l;++c)i.push(bV(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function NV(t,e){var r=!1;return e==null&&(r=!0,e=ge(15+4*t.t.length)),e.write_shift(1,0),xs(t.t,e),r?e.slice(0,e.l):e}var jV=yw;function SV(t,e){var r=!1;return e==null&&(r=!0,e=ge(23+4*t.t.length)),e.write_shift(1,1),xs(t.t,e),e.write_shift(4,1),wV({ich:0,ifnt:0},e),r?e.slice(0,e.l):e}function hn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function hc(t,e){return e==null&&(e=ge(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function fc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function mc(t,e){return e==null&&(e=ge(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var CV=Ys,U5=xs;function vw(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Km(t,e){var r=!1;return e==null&&(r=!0,e=ge(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var kV=Ys,Ov=vw,bw=Km;function H5(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,s=e[0]&2;t.l+=4;var a=s===0?Gm([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):xl(e,0)>>2;return r?a/100:a}function z5(t,e){e==null&&(e=ge(4));var r=0,s=0,a=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?s=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(s=1,r=1),s)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function W5(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function AV(t,e){return e||(e=ge(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var xc=W5,uu=AV;function hu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function sc(t,e){return(e||ge(8)).write_shift(8,t,"f")}function TV(t){var e={},r=t.read_shift(1),s=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,s){case 0:e.auto=1;break;case 1:e.index=a;var d=IV[a];d&&(e.rgb=SC(d));break;case 2:e.rgb=SC([o,l,c]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function qm(t,e){if(e||(e=ge(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var s=t.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),e.write_shift(1,parseInt(s.slice(0,2),16)),e.write_shift(1,parseInt(s.slice(2,4),16)),e.write_shift(1,parseInt(s.slice(4,6),16)),e.write_shift(1,255)}return e}function EV(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function PV(t,e){e||(e=ge(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var Y5=2,Ea=3,g0=11,Zm=19,y0=64,_V=65,DV=71,MV=4108,RV=4126,Ns=80,mC={1:{n:"CodePage",t:Y5},2:{n:"Category",t:Ns},3:{n:"PresentationFormat",t:Ns},4:{n:"ByteCount",t:Ea},5:{n:"LineCount",t:Ea},6:{n:"ParagraphCount",t:Ea},7:{n:"SlideCount",t:Ea},8:{n:"NoteCount",t:Ea},9:{n:"HiddenCount",t:Ea},10:{n:"MultimediaClipCount",t:Ea},11:{n:"ScaleCrop",t:g0},12:{n:"HeadingPairs",t:MV},13:{n:"TitlesOfParts",t:RV},14:{n:"Manager",t:Ns},15:{n:"Company",t:Ns},16:{n:"LinksUpToDate",t:g0},17:{n:"CharacterCount",t:Ea},19:{n:"SharedDoc",t:g0},22:{n:"HyperlinksChanged",t:g0},23:{n:"AppVersion",t:Ea,p:"version"},24:{n:"DigSig",t:_V},26:{n:"ContentType",t:Ns},27:{n:"ContentStatus",t:Ns},28:{n:"Language",t:Ns},29:{n:"Version",t:Ns},255:{},2147483648:{n:"Locale",t:Zm},2147483651:{n:"Behavior",t:Zm},1919054434:{}},xC={1:{n:"CodePage",t:Y5},2:{n:"Title",t:Ns},3:{n:"Subject",t:Ns},4:{n:"Author",t:Ns},5:{n:"Keywords",t:Ns},6:{n:"Comments",t:Ns},7:{n:"Template",t:Ns},8:{n:"LastAuthor",t:Ns},9:{n:"RevNumber",t:Ns},10:{n:"EditTime",t:y0},11:{n:"LastPrinted",t:y0},12:{n:"CreatedDate",t:y0},13:{n:"ModifiedDate",t:y0},14:{n:"PageCount",t:Ea},15:{n:"WordCount",t:Ea},16:{n:"CharCount",t:Ea},17:{n:"Thumbnail",t:DV},18:{n:"Application",t:Ns},19:{n:"DocSecurity",t:Ea},255:{},2147483648:{n:"Locale",t:Zm},2147483651:{n:"Behavior",t:Zm},1919054434:{}};function FV(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var LV=FV([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),IV=Aa(LV),Mf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},OV={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},v0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function V5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function $5(t,e){var r=GY(OV),s=[],a;s[s.length]=es,s[s.length]=Me("Types",null,{xmlns:fs.CT,"xmlns:xsd":fs.xsd,"xmlns:xsi":fs.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Me("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){t[c]&&t[c].length>0&&(a=t[c][0],s[s.length]=Me("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:v0[c][e.bookType]||v0[c].xlsx}))},o=function(c){(t[c]||[]).forEach(function(d){s[s.length]=Me("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:v0[c][e.bookType]||v0[c].xlsx})})},l=function(c){(t[c]||[]).forEach(function(d){s[s.length]=Me("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var It={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function X5(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function sd(t){var e=[es,Me("Relationships",null,{xmlns:fs.RELS})];return Rs(t["!id"]).forEach(function(r){e[e.length]=Me("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Zt(t,e,r,s,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=s,a.Target=r,[It.HLINK,It.XPATH,It.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}function BV(t){var e=[es];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function pC(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function UV(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function HV(t){var e=[es];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(pC(t[r][0],t[r][1])),e.push(UV("",t[r][0]));return e.push(pC("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function G5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Wm.version+"</meta:generator></office:meta></office:document-meta>"}var zl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Ag(t,e,r,s,a){a[t]!=null||e==null||e===""||(a[t]=e,e=Jt(e),s[s.length]=r?Me(t,e,r):Cs(t,e))}function K5(t,e){var r=e||{},s=[es,Me("cp:coreProperties",null,{"xmlns:cp":fs.CORE_PROPS,"xmlns:dc":fs.dc,"xmlns:dcterms":fs.dcterms,"xmlns:dcmitype":fs.dcmitype,"xmlns:xsi":fs.xsi})],a={};if(!t&&!r.Props)return s.join("");t&&(t.CreatedDate!=null&&Ag("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Iv(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),t.ModifiedDate!=null&&Ag("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Iv(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=zl.length;++i){var o=zl[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Ag(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var ad=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],q5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Z5(t){var e=[],r=Me;return t||(t={}),t.Application="SheetJS",e[e.length]=es,e[e.length]=Me("Properties",null,{xmlns:fs.EXT_PROPS,"xmlns:vt":fs.vt}),ad.forEach(function(s){if(t[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Jt(String(t[s[1]]));break;case"bool":a=t[s[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(s[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(s){return"<vt:lpstr>"+Jt(s)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function Q5(t){var e=[es,Me("Properties",null,{xmlns:fs.CUST_PROPS,"xmlns:vt":fs.vt})];if(!t)return e.join("");var r=1;return Rs(t).forEach(function(a){++r,e[e.length]=Me("property",nV(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Jt(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var gC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function zV(t,e){var r=[];return Rs(gC).map(function(s){for(var a=0;a<zl.length;++a)if(zl[a][1]==s)return zl[a];for(a=0;a<ad.length;++a)if(ad[a][1]==s)return ad[a];throw s}).forEach(function(s){if(t[s[1]]!=null){var a=e&&e.Props&&e.Props[s[1]]!=null?e.Props[s[1]]:t[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Cs(gC[s[1]]||s[1],a))}}),Me("DocumentProperties",r.join(""),{xmlns:Ra.o})}function WV(t,e){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return t&&Rs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<zl.length;++o)if(i==zl[o][1])return;for(o=0;o<ad.length;++o)if(i==ad[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=t[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Me(aC(i),l,{"dt:dt":c}))}}),e&&Rs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Me(aC(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Ra.o+'">'+a.join("")+"</"+s+">"}function YV(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=ge(8);return o.write_shift(4,s),o.write_shift(4,a),o}function yC(t,e){var r=ge(4),s=ge(4);switch(r.write_shift(4,t==80?31:t),t){case 3:s.write_shift(-4,e);break;case 5:s=ge(8),s.write_shift(8,e,"f");break;case 11:s.write_shift(4,e?1:0);break;case 64:s=YV(e);break;case 31:case 80:for(s=ge(4+2*(e.length+1)+(e.length%2?0:2)),s.write_shift(4,e.length+1),s.write_shift(0,e,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ss([r,s])}var J5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function VV(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function vC(t,e,r){var s=ge(8),a=[],i=[],o=8,l=0,c=ge(8),d=ge(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!e){d=ge(8),d.write_shift(4,0),a.unshift(d);var u=[ge(4)];for(u[0].write_shift(4,t.length),l=0;l<t.length;++l){var h=t[l][0];for(c=ge(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ss(u),i.unshift(c),o+=8+c.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(J5.indexOf(t[l][0])>-1||q5.indexOf(t[l][0])>-1)&&t[l][1]!=null){var f=t[l][1],m=0;if(e){m=+e[t[l][0]];var p=r[m];if(p.p=="version"&&typeof f=="string"){var x=f.split(".");f=(+x[0]<<16)+(+x[1]||0)}c=yC(p.t,f)}else{var g=VV(f);g==-1&&(g=31,f=String(f)),c=yC(g,f)}i.push(c),d=ge(8),d.write_shift(4,e?m:2+l),a.push(d),o+=8+c.length}var y=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,y),y+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),Ss([s].concat(a).concat(i))}function bC(t,e,r,s,a,i){var o=ge(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,nr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,a?68:48);var c=vC(t,r,s);if(l.push(c),a){var d=vC(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Ss(l)}function $V(t,e){e||(e=ge(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function XV(t,e){return t.read_shift(e)===1}function Qs(t,e){return e||(e=ge(2)),e.write_shift(2,+!!t),e}function e3(t){return t.read_shift(2,"u")}function tn(t,e){return e||(e=ge(2)),e.write_shift(2,t),e}function t3(t,e,r){return r||(r=ge(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function r3(t,e,r){var s=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?t.read_shift(s,a):"";return o}function GV(t){var e=t.t||"",r=ge(3);r.write_shift(2,e.length),r.write_shift(1,1);var s=ge(2*e.length);s.write_shift(2*e.length,e,"utf16le");var a=[r,s];return Ss(a)}function KV(t,e,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?s=t.read_shift(e,"sbcs-cont"):s=t.read_shift(e,"dbcs-cont"),s}function qV(t,e,r){var s=t.read_shift(r&&r.biff==2?1:2);return s===0?(t.l++,""):KV(t,s,r)}function ZV(t,e,r){if(r.biff>5)return qV(t,e,r);var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function s3(t,e,r){return r||(r=ge(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function wC(t,e){e||(e=ge(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function QV(t){var e=ge(512),r=0,s=t.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(i==28)s=s.slice(1),wC(s,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),i&8&&wC(a>-1?s.slice(a+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,s.length-3*c+1),r=0;r<s.length-3*c;++r)e.write_shift(1,s.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function ac(t,e,r,s){return s||(s=ge(6)),s.write_shift(2,t),s.write_shift(2,e),s.write_shift(2,r||0),s}function JV(t,e,r){var s=r.biff>8?4:2,a=t.read_shift(s),i=t.read_shift(s,"i"),o=t.read_shift(s,"i");return[a,i,o]}function e$(t){var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2);return{s:{c:s,r:e},e:{c:a,r}}}function a3(t,e){return e||(e=ge(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function ww(t,e,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ge(a);return i.write_shift(2,s),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function t$(t,e){var r=!e||e.biff==8,s=ge(r?112:54);for(s.write_shift(e.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function r$(t,e){var r=!e||e.biff>=8?2:1,s=ge(8+r*t.name.length);s.write_shift(4,t.pos),s.write_shift(1,t.hs||0),s.write_shift(1,t.dt),s.write_shift(1,t.name.length),e.biff>=8&&s.write_shift(1,1),s.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function s$(t,e){var r=ge(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var s=[],a=0;a<t.length;++a)s[a]=GV(t[a]);var i=Ss([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function a$(){var t=ge(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function n$(t){var e=ge(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function i$(t,e){var r=t.name||"Arial",s=e&&e.biff==5,a=s?15+r.length:16+2*r.length,i=ge(a);return i.write_shift(2,(t.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function o$(t,e,r,s){var a=ge(10);return ac(t,e,s,a),a.write_shift(4,r),a}function l$(t,e,r,s,a){var i=!a||a.biff==8,o=ge(8+ +i+(1+i)*r.length);return ac(t,e,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function c$(t,e,r,s){var a=r&&r.biff==5;s||(s=ge(a?3+e.length:5+2*e.length)),s.write_shift(2,t),s.write_shift(a?1:2,e.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function d$(t,e){var r=e.biff==8||!e.biff?4:2,s=ge(2*r+6);return s.write_shift(r,t.s.r),s.write_shift(r,t.e.r+1),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c+1),s.write_shift(2,0),s}function NC(t,e,r,s){var a=r&&r.biff==5;s||(s=ge(a?16:20)),s.write_shift(2,0),t.style?(s.write_shift(2,t.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,t.numFmtId||0),s.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function u$(t){var e=ge(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function h$(t,e,r,s,a,i){var o=ge(8);return ac(t,e,s,o),t3(r,i,o),o}function f$(t,e,r,s){var a=ge(14);return ac(t,e,s,a),sc(r,a),a}function m$(t,e,r){if(r.biff<8)return x$(t,e,r);for(var s=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)s.push(JV(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return s}function x$(t,e,r){t[t.l+1]==3&&t[t.l]++;var s=r3(t,e,r);return s.charCodeAt(0)==3?s.slice(1):s}function p$(t){var e=ge(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)a3(t[r],e);return e}function g$(t){var e=ge(24),r=ms(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(s[a],16));return Ss([e,QV(t[1])])}function y$(t){var e=t[1].Tooltip,r=ge(10+2*(e.length+1));r.write_shift(2,2048);var s=ms(t[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function v$(t){return t||(t=ge(4)),t.write_shift(2,1),t.write_shift(2,1),t}function b$(t,e,r){if(!r.cellStyles)return ai(t,e);var s=r&&r.biff>=12?4:2,a=t.read_shift(s),i=t.read_shift(s),o=t.read_shift(s),l=t.read_shift(s),c=t.read_shift(2);s==2&&(t.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function w$(t,e){var r=ge(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var s=0;return t.hidden&&(s|=1),r.write_shift(1,s),s=t.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function N$(t){for(var e=ge(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function j$(t,e,r){var s=ge(15);return Ff(s,t,e),s.write_shift(8,r,"f"),s}function S$(t,e,r){var s=ge(9);return Ff(s,t,e),s.write_shift(2,r),s}var C$=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=dw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=rc(1);switch(c.type){case"base64":u=An(Ii(l));break;case"binary":u=An(l);break;case"buffer":case"array":u=l;break}Da(u,0);var h=u.read_shift(1),f=!!(h&136),m=!1,p=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,f=!0;break;case 49:m=!0,f=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var x=0,g=521;h==2&&(x=u.read_shift(2)),u.l+=3,h!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),h!=2&&(g=u.read_shift(2));var y=u.read_shift(2),v=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=t[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var b=[],w={},N=Math.min(u.length,h==2?521:g-10-(m?264:0)),C=p?32:11;u.l<N&&u[u.l]!=13;)switch(w={},w.name=ml.utils.decode(v,u.slice(u.l,u.l+C)).replace(/[\u0000\r\n].*$/g,""),u.l+=C,w.type=String.fromCharCode(u.read_shift(1)),h!=2&&!p&&(w.offset=u.read_shift(4)),w.len=u.read_shift(1),h==2&&(w.offset=u.read_shift(2)),w.dec=u.read_shift(1),w.name.length&&b.push(w),h!=2&&(u.l+=p?13:14),w.type){case"B":(!m||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var S=0,k=0;for(d[0]=[],k=0;k!=b.length;++k)d[0][k]=b[k].name;for(;x-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,d[++S]=[],k=0,k=0;k!=b.length;++k){var A=u.slice(u.l,u.l+b[k].len);u.l+=b[k].len,Da(A,0);var T=ml.utils.decode(v,A);switch(b[k].type){case"C":T.trim().length&&(d[S][k]=T.replace(/\s+$/,""));break;case"D":T.length===8?d[S][k]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):d[S][k]=T;break;case"F":d[S][k]=parseFloat(T.trim());break;case"+":case"I":d[S][k]=p?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":d[S][k]=!0;break;case"N":case"F":d[S][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[S][k]="##MEMO##"+(p?parseInt(T.trim(),10):A.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(d[S][k]=+T||0);break;case"@":d[S][k]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":d[S][k]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":d[S][k]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[S][k]=-A.read_shift(-8,"f");break;case"B":if(m&&b[k].len==8){d[S][k]=A.read_shift(8,"f");break}case"G":case"P":A.l+=b[k].len;break;case"0":if(b[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[k].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=b,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=du(r(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function a(l,c){try{return uc(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&Xh(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ca(),h=rx(l,{header:1,raw:!0,cellDates:!0}),f=h[0],m=h.slice(1),p=l["!cols"]||[],x=0,g=0,y=0,v=1;for(x=0;x<f.length;++x){if(((p[x]||{}).DBF||{}).name){f[x]=p[x].DBF.name,++y;continue}if(f[x]!=null){if(++y,typeof f[x]=="number"&&(f[x]=f[x].toString(10)),typeof f[x]!="string")throw new Error("DBF Invalid column name "+f[x]+" |"+typeof f[x]+"|");if(f.indexOf(f[x])!==x){for(g=0;g<1024;++g)if(f.indexOf(f[x]+"_"+g)==-1){f[x]+="_"+g;break}}}}var b=br(l["!ref"]),w=[],N=[],C=[];for(x=0;x<=b.e.c-b.s.c;++x){var S="",k="",A=0,T=[];for(g=0;g<m.length;++g)m[g][x]!=null&&T.push(m[g][x]);if(T.length==0||f[x]==null){w[x]="?";continue}for(g=0;g<T.length;++g){switch(typeof T[g]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=T[g]instanceof Date?"D":"C";break;default:k="C"}A=Math.max(A,String(T[g]).length),S=S&&S!=k?"C":k}A>250&&(A=250),k=((p[x]||{}).DBF||{}).type,k=="C"&&p[x].DBF.len>A&&(A=p[x].DBF.len),S=="B"&&k=="N"&&(S="N",C[x]=p[x].DBF.dec,A=p[x].DBF.len),N[x]=S=="C"||k=="N"?A:i[S]||0,v+=N[x],w[x]=S}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,m.length),E.write_shift(2,296+32*y),E.write_shift(2,v),x=0;x<4;++x)E.write_shift(4,0);for(E.write_shift(4,0|(+e[i5]||3)<<8),x=0,g=0;x<f.length;++x)if(f[x]!=null){var D=u.next(32),_=(f[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,_,"sbcs"),D.write_shift(1,w[x]=="?"?"C":w[x],"sbcs"),D.write_shift(4,g),D.write_shift(1,N[x]||i[w[x]]||0),D.write_shift(1,C[x]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),g+=N[x]||i[w[x]]||0}var z=u.next(264);for(z.write_shift(4,13),x=0;x<65;++x)z.write_shift(4,0);for(x=0;x<m.length;++x){var H=u.next(v);for(H.write_shift(1,0),g=0;g<f.length;++g)if(f[g]!=null)switch(w[g]){case"L":H.write_shift(1,m[x][g]==null?63:m[x][g]?84:70);break;case"B":H.write_shift(8,m[x][g]||0,"f");break;case"N":var q="0";for(typeof m[x][g]=="number"&&(q=m[x][g].toFixed(C[g]||0)),y=0;y<N[g]-q.length;++y)H.write_shift(1,32);H.write_shift(1,q,"sbcs");break;case"D":m[x][g]?(H.write_shift(4,("0000"+m[x][g].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(m[x][g].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+m[x][g].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var K=String(m[x][g]!=null?m[x][g]:"").slice(0,N[g]);for(H.write_shift(1,K,"sbcs"),y=0;y<N[g]-K.length;++y)H.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),k$=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Rs(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(f,m){var p=t[m];return typeof p=="number"?$S(p):p},s=function(f,m,p){var x=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return x==59?f:$S(x)};t["|"]=254;function a(f,m){switch(m.type){case"base64":return i(Ii(f),m);case"binary":return i(f,m);case"buffer":return i(Ut&&Buffer.isBuffer(f)?f.toString("binary"):Pf(f),m);case"array":return i(Xx(f),m)}throw new Error("Unrecognized type "+m.type)}function i(f,m){var p=f.split(/[\n\r]+/),x=-1,g=-1,y=0,v=0,b=[],w=[],N=null,C={},S=[],k=[],A=[],T=0,E;for(+m.codepage>=0&&Xh(+m.codepage);y!==p.length;++y){T=0;var D=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(e,r),_=D.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),z=_[0],H;if(D.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":_[1].charAt(0)=="P"&&w.push(D.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,K=!1,Y=!1,J=!1,Z=-1,ne=-1;for(v=1;v<_.length;++v)switch(_[v].charAt(0)){case"A":break;case"X":g=parseInt(_[v].slice(1))-1,K=!0;break;case"Y":for(x=parseInt(_[v].slice(1))-1,K||(g=0),E=b.length;E<=x;++E)b[E]=[];break;case"K":H=_[v].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(ki(H))?isNaN(Kh(H).getDate())||(H=sa(H)):(H=ki(H),N!==null&&y5(N)&&(H=N5(H))),q=!0;break;case"E":J=!0;var F=SX(_[v].slice(1),{r:x,c:g});b[x][g]=[b[x][g],F];break;case"S":Y=!0,b[x][g]=[b[x][g],"S5S"];break;case"G":break;case"R":Z=parseInt(_[v].slice(1))-1;break;case"C":ne=parseInt(_[v].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}if(q&&(b[x][g]&&b[x][g].length==2?b[x][g][0]=H:b[x][g]=H,N=null),Y){if(J)throw new Error("SYLK shared formula cannot have own formula");var Q=Z>-1&&b[Z][ne];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");b[x][g][1]=CX(Q[1],{r:x-Z,c:g-ne})}break;case"F":var W=0;for(v=1;v<_.length;++v)switch(_[v].charAt(0)){case"X":g=parseInt(_[v].slice(1))-1,++W;break;case"Y":for(x=parseInt(_[v].slice(1))-1,E=b.length;E<=x;++E)b[E]=[];break;case"M":T=parseInt(_[v].slice(1))/20;break;case"F":break;case"G":break;case"P":N=w[parseInt(_[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=_[v].slice(1).split(" "),E=parseInt(A[0],10);E<=parseInt(A[1],10);++E)T=parseInt(A[2],10),k[E-1]=T===0?{hidden:!0}:{wch:T},Nw(k[E-1]);break;case"C":g=parseInt(_[v].slice(1))-1,k[g]||(k[g]={});break;case"R":x=parseInt(_[v].slice(1))-1,S[x]||(S[x]={}),T>0?(S[x].hpt=T,S[x].hpx=c3(T)):T===0&&(S[x].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}W<1&&(N=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}}return S.length>0&&(C["!rows"]=S),k.length>0&&(C["!cols"]=k),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,C]}function o(f,m){var p=a(f,m),x=p[0],g=p[1],y=du(x,m);return Rs(g).forEach(function(v){y[v]=g[v]}),y}function l(f,m){return uc(o(f,m),m)}function c(f,m,p,x){var g="C;Y"+(p+1)+";X"+(x+1)+";K";switch(f.t){case"n":g+=f.v||0,f.f&&!f.F&&(g+=";E"+Sw(f.f,{r:p,c:x}));break;case"b":g+=f.v?"TRUE":"FALSE";break;case"e":g+=f.w||f.v;break;case"d":g+='"'+(f.w||f.v)+'"';break;case"s":g+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(f,m){m.forEach(function(p,x){var g="F;W"+(x+1)+" "+(x+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Qm(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Jm(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&f.push(g)})}function u(f,m){m.forEach(function(p,x){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*ex(p.hpx)+";"),g.length>2&&f.push(g+"R"+(x+1))})}function h(f,m){var p=["ID;PWXL;N;E"],x=[],g=br(f["!ref"]),y,v=Array.isArray(f),b=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),f["!cols"]&&d(p,f["!cols"]),f["!rows"]&&u(p,f["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var w=g.s.r;w<=g.e.r;++w)for(var N=g.s.c;N<=g.e.c;++N){var C=rr({r:w,c:N});y=v?(f[w]||[])[N]:f[C],!(!y||y.v==null&&(!y.f||y.F))&&x.push(c(y,f,w,N))}return p.join(b)+b+x.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),A$=function(){function t(i,o){switch(o.type){case"base64":return e(Ii(i),o);case"binary":return e(i,o);case"buffer":return e(Ut&&Buffer.isBuffer(i)?i.toString("binary"):Pf(i),o);case"array":return e(Xx(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var f=l[u].trim().split(","),m=f[0],p=f[1];++u;for(var x=l[u]||"";(x.match(/["]/g)||[]).length&1&&u<l.length-1;)x+=`
`+l[++u];switch(x=x.trim(),+m){case-1:if(x==="BOT"){h[++c]=[],d=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?h[c][d]=!0:x==="FALSE"?h[c][d]=!1:isNaN(ki(p))?isNaN(Kh(p).getDate())?h[c][d]=p:h[c][d]=sa(p):h[c][d]=ki(p),++d;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),h[c][d++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return du(t(i,o),o)}function s(i,o){return uc(r(i,o),o)}var a=function(){var i=function(c,d,u,h,f){c.push(d),c.push(u+","+h),c.push('"'+f.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=br(c["!ref"]),h,f=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){o(d,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var x=rr({r:m,c:p});if(h=f?(c[m]||[])[p]:c[x],!h){o(d,1,0,"");continue}switch(h.t){case"n":var g=h.w;!g&&h.v!=null&&(g=h.v),g==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Lo(h.z||Ur[14],ka(sa(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var y=`\r
`,v=d.join(y);return v}}();return{to_workbook:s,to_sheet:r,from_sheet:a}}(),n3=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,f){for(var m=h.split(`
`),p=-1,x=-1,g=0,y=[];g!==m.length;++g){var v=m[g].trim().split(":");if(v[0]==="cell"){var b=ms(v[1]);if(y.length<=b.r)for(p=y.length;p<=b.r;++p)y[p]||(y[p]=[]);switch(p=b.r,x=b.c,v[2]){case"t":y[p][x]=t(v[3]);break;case"v":y[p][x]=+v[3];break;case"vtf":var w=v[v.length-1];case"vtc":switch(v[3]){case"nl":y[p][x]=!!+v[4];break;default:y[p][x]=+v[4];break}v[2]=="vtf"&&(y[p][x]=[y[p][x],w])}}}return f&&f.sheetRows&&(y=y.slice(0,f.sheetRows)),y}function s(h,f){return du(r(h,f),f)}function a(h,f){return uc(s(h,f),f)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var f=[],m=[],p,x="",g=Ya(h["!ref"]),y=Array.isArray(h),v=g.s.r;v<=g.e.r;++v)for(var b=g.s.c;b<=g.e.c;++b)if(x=rr({r:v,c:b}),p=y?(h[v]||[])[b]:h[x],!(!p||p.v==null||p.t==="z")){switch(m=["cell",x,"t"],p.t){case"s":case"str":m.push(e(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=e(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=e(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var w=ka(sa(p.v));m[2]="vtc",m[3]="nd",m[4]=""+w,m[5]=p.w||Lo(p.z||Ur[14],w);break;case"e":continue}f.push(m.join(":"))}return f.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function u(h){return[i,o,l,o,d(h),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}}(),T$=function(){function t(u,h,f,m,p){p.raw?h[f][m]=u:u===""||(u==="TRUE"?h[f][m]=!0:u==="FALSE"?h[f][m]=!1:isNaN(ki(u))?isNaN(Kh(u).getDate())?h[f][m]=u:h[f][m]=sa(u):h[f][m]=ki(u))}function e(u,h){var f=h||{},m=[];if(!u||u.length===0)return m;for(var p=u.split(/[\r\n]/),x=p.length-1;x>=0&&p[x].length===0;)--x;for(var g=10,y=0,v=0;v<=x;++v)y=p[v].indexOf(" "),y==-1?y=p[v].length:y++,g=Math.max(g,y);for(v=0;v<=x;++v){m[v]=[];var b=0;for(t(p[v].slice(0,g).trim(),m,v,b,f),b=1;b<=(p[v].length-g)/10+1;++b)t(p[v].slice(g+(b-1)*10,g+b*10).trim(),m,v,b,f)}return f.sheetRows&&(m=m.slice(0,f.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var h={},f=!1,m=0,p=0;m<u.length;++m)(p=u.charCodeAt(m))==34?f=!f:!f&&p in r&&(h[p]=(h[p]||0)+1);p=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&p.push([h[m],m]);if(!p.length){h=s;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&p.push([h[m],m])}return p.sort(function(x,g){return x[0]-g[0]||s[x[1]]-s[g[1]]}),r[p.pop()[1]]||44}function i(u,h){var f=h||{},m="",p=f.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=a(u.slice(0,1024)):f&&f.FS?m=f.FS:m=a(u.slice(0,1024));var g=0,y=0,v=0,b=0,w=0,N=m.charCodeAt(0),C=!1,S=0,k=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=f.dateNF!=null?YY(f.dateNF):null;function T(){var E=u.slice(b,w),D={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)D.t="z";else if(f.raw)D.t="s",D.v=E;else if(E.trim().length===0)D.t="s",D.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(D.t="s",D.v=E.slice(2,-1).replace(/""/g,'"')):kX(E)?(D.t="n",D.f=E.slice(1)):(D.t="s",D.v=E);else if(E=="TRUE")D.t="b",D.v=!0;else if(E=="FALSE")D.t="b",D.v=!1;else if(!isNaN(v=ki(E)))D.t="n",f.cellText!==!1&&(D.w=E),D.v=v;else if(!isNaN(Kh(E).getDate())||A&&E.match(A)){D.z=f.dateNF||Ur[14];var _=0;A&&E.match(A)&&(E=VY(E,f.dateNF,E.match(A)||[]),_=1),f.cellDates?(D.t="d",D.v=sa(E,_)):(D.t="n",D.v=ka(sa(E,_))),f.cellText!==!1&&(D.w=Lo(D.z,D.v instanceof Date?ka(D.v):D.v)),f.cellNF||delete D.z}else D.t="s",D.v=E;if(D.t=="z"||(f.dense?(p[g]||(p[g]=[]),p[g][y]=D):p[rr({c:y,r:g})]=D),b=w+1,k=u.charCodeAt(b),x.e.c<y&&(x.e.c=y),x.e.r<g&&(x.e.r=g),S==N)++y;else if(y=0,++g,f.sheetRows&&f.sheetRows<=g)return!0}e:for(;w<u.length;++w)switch(S=u.charCodeAt(w)){case 34:k===34&&(C=!C);break;case N:case 10:case 13:if(!C&&T())break e;break}return w-b>0&&T(),p["!ref"]=Qr(x),p}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):du(e(u,h),h)}function l(u,h){var f="",m=h.type=="string"?[0,0,0,0]:UZ(u,h);switch(h.type){case"base64":f=Ii(u);break;case"binary":f=u;break;case"buffer":h.codepage==65001?f=u.toString("utf8"):h.codepage&&typeof ml<"u"?f=ml.utils.decode(h.codepage,u):f=Ut&&Buffer.isBuffer(u)?u.toString("binary"):Pf(u);break;case"array":f=Xx(u);break;case"string":f=u;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?f=ah(f.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?f=ah(f):h.type=="binary"&&typeof ml<"u"&&h.codepage&&(f=ml.utils.decode(h.codepage,ml.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?n3.to_sheet(h.type=="string"?f:ah(f),h):o(f,h)}function c(u,h){return uc(l(u,h),h)}function d(u){for(var h=[],f=br(u["!ref"]),m,p=Array.isArray(u),x=f.s.r;x<=f.e.r;++x){for(var g=[],y=f.s.c;y<=f.e.c;++y){var v=rr({r:x,c:y});if(m=p?(u[x]||[])[y]:u[v],!m||m.v==null){g.push("          ");continue}for(var b=(m.w||(Oi(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";g.push(b+(y===0?" ":""))}h.push(g.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),jC=function(){function t(F,Q,W){if(F){Da(F,F.l||0);for(var G=W.Enum||Z;F.l<F.length;){var te=F.read_shift(2),ee=G[te]||G[65535],I=F.read_shift(2),oe=F.l+I,V=ee.f&&ee.f(F,I,W);if(F.l=oe,Q(V,ee,te))return}}}function e(F,Q){switch(Q.type){case"base64":return r(An(Ii(F)),Q);case"binary":return r(An(F),Q);case"buffer":case"array":return r(F,Q)}throw"Unsupported type "+Q.type}function r(F,Q){if(!F)return F;var W=Q||{},G=W.dense?[]:{},te="Sheet1",ee="",I=0,oe={},V=[],pe=[],ye={s:{r:0,c:0},e:{r:0,c:0}},Ae=W.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)W.Enum=Z,t(F,function(_e,Ye,Ge){switch(Ge){case 0:W.vers=_e,_e>=4096&&(W.qpro=!0);break;case 6:ye=_e;break;case 204:_e&&(ee=_e);break;case 222:ee=_e;break;case 15:case 51:W.qpro||(_e[1].v=_e[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(_e[2]&112)==112&&(_e[2]&15)>1&&(_e[2]&15)<15&&(_e[1].z=W.dateNF||Ur[14],W.cellDates&&(_e[1].t="d",_e[1].v=N5(_e[1].v))),W.qpro&&_e[3]>I&&(G["!ref"]=Qr(ye),oe[te]=G,V.push(te),G=W.dense?[]:{},ye={s:{r:0,c:0},e:{r:0,c:0}},I=_e[3],te=ee||"Sheet"+(I+1),ee="");var ze=W.dense?(G[_e[0].r]||[])[_e[0].c]:G[rr(_e[0])];if(ze){ze.t=_e[1].t,ze.v=_e[1].v,_e[1].z!=null&&(ze.z=_e[1].z),_e[1].f!=null&&(ze.f=_e[1].f);break}W.dense?(G[_e[0].r]||(G[_e[0].r]=[]),G[_e[0].r][_e[0].c]=_e[1]):G[rr(_e[0])]=_e[1];break}},W);else if(F[2]==26||F[2]==14)W.Enum=ne,F[2]==14&&(W.qpro=!0,F.l=0),t(F,function(_e,Ye,Ge){switch(Ge){case 204:te=_e;break;case 22:_e[1].v=_e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(_e[3]>I&&(G["!ref"]=Qr(ye),oe[te]=G,V.push(te),G=W.dense?[]:{},ye={s:{r:0,c:0},e:{r:0,c:0}},I=_e[3],te="Sheet"+(I+1)),Ae>0&&_e[0].r>=Ae)break;W.dense?(G[_e[0].r]||(G[_e[0].r]=[]),G[_e[0].r][_e[0].c]=_e[1]):G[rr(_e[0])]=_e[1],ye.e.c<_e[0].c&&(ye.e.c=_e[0].c),ye.e.r<_e[0].r&&(ye.e.r=_e[0].r);break;case 27:_e[14e3]&&(pe[_e[14e3][0]]=_e[14e3][1]);break;case 1537:pe[_e[0]]=_e[1],_e[0]==I&&(te=_e[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(G["!ref"]=Qr(ye),oe[ee||te]=G,V.push(ee||te),!pe.length)return{SheetNames:V,Sheets:oe};for(var Re={},nt=[],Xe=0;Xe<pe.length;++Xe)oe[V[Xe]]?(nt.push(pe[Xe]||V[Xe]),Re[pe[Xe]]=oe[pe[Xe]]||oe[V[Xe]]):(nt.push(pe[Xe]),Re[pe[Xe]]={"!ref":"A1"});return{SheetNames:nt,Sheets:Re}}function s(F,Q){var W=Q||{};if(+W.codepage>=0&&Xh(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Ca(),te=br(F["!ref"]),ee=Array.isArray(F),I=[];Fe(G,0,i(1030)),Fe(G,6,c(te));for(var oe=Math.min(te.e.r,8191),V=te.s.r;V<=oe;++V)for(var pe=_s(V),ye=te.s.c;ye<=te.e.c;++ye){V===te.s.r&&(I[ye]=Ws(ye));var Ae=I[ye]+pe,Re=ee?(F[V]||[])[ye]:F[Ae];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?Fe(G,13,m(V,ye,Re.v)):Fe(G,14,x(V,ye,Re.v));else{var nt=Oi(Re);Fe(G,15,h(V,ye,nt.slice(0,239)))}}return Fe(G,1),G.end()}function a(F,Q){var W=Q||{};if(+W.codepage>=0&&Xh(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Ca();Fe(G,0,o(F));for(var te=0,ee=0;te<F.SheetNames.length;++te)(F.Sheets[F.SheetNames[te]]||{})["!ref"]&&Fe(G,27,J(F.SheetNames[te],ee++));var I=0;for(te=0;te<F.SheetNames.length;++te){var oe=F.Sheets[F.SheetNames[te]];if(!(!oe||!oe["!ref"])){for(var V=br(oe["!ref"]),pe=Array.isArray(oe),ye=[],Ae=Math.min(V.e.r,8191),Re=V.s.r;Re<=Ae;++Re)for(var nt=_s(Re),Xe=V.s.c;Xe<=V.e.c;++Xe){Re===V.s.r&&(ye[Xe]=Ws(Xe));var _e=ye[Xe]+nt,Ye=pe?(oe[Re]||[])[Xe]:oe[_e];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")Fe(G,23,T(Re,Xe,I,Ye.v));else{var Ge=Oi(Ye);Fe(G,22,S(Re,Xe,I,Ge.slice(0,239)))}}++I}}return Fe(G,1),G.end()}function i(F){var Q=ge(2);return Q.write_shift(2,F),Q}function o(F){var Q=ge(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var W=0,G=0,te=0,ee=0;ee<F.SheetNames.length;++ee){var I=F.SheetNames[ee],oe=F.Sheets[I];if(!(!oe||!oe["!ref"])){++te;var V=Ya(oe["!ref"]);W<V.e.r&&(W=V.e.r),G<V.e.c&&(G=V.e.c)}}return W>8191&&(W=8191),Q.write_shift(2,W),Q.write_shift(1,te),Q.write_shift(1,G),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function l(F,Q,W){var G={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&W.qpro?(G.s.c=F.read_shift(1),F.l++,G.s.r=F.read_shift(2),G.e.c=F.read_shift(1),F.l++,G.e.r=F.read_shift(2),G):(G.s.c=F.read_shift(2),G.s.r=F.read_shift(2),Q==12&&W.qpro&&(F.l+=2),G.e.c=F.read_shift(2),G.e.r=F.read_shift(2),Q==12&&W.qpro&&(F.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(F){var Q=ge(8);return Q.write_shift(2,F.s.c),Q.write_shift(2,F.s.r),Q.write_shift(2,F.e.c),Q.write_shift(2,F.e.r),Q}function d(F,Q,W){var G=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(G[0].c=F.read_shift(1),G[3]=F.read_shift(1),G[0].r=F.read_shift(2),F.l+=2):(G[2]=F.read_shift(1),G[0].c=F.read_shift(2),G[0].r=F.read_shift(2)),G}function u(F,Q,W){var G=F.l+Q,te=d(F,Q,W);if(te[1].t="s",W.vers==20768){F.l++;var ee=F.read_shift(1);return te[1].v=F.read_shift(ee,"utf8"),te}return W.qpro&&F.l++,te[1].v=F.read_shift(G-F.l,"cstr"),te}function h(F,Q,W){var G=ge(7+W.length);G.write_shift(1,255),G.write_shift(2,Q),G.write_shift(2,F),G.write_shift(1,39);for(var te=0;te<G.length;++te){var ee=W.charCodeAt(te);G.write_shift(1,ee>=128?95:ee)}return G.write_shift(1,0),G}function f(F,Q,W){var G=d(F,Q,W);return G[1].v=F.read_shift(2,"i"),G}function m(F,Q,W){var G=ge(7);return G.write_shift(1,255),G.write_shift(2,Q),G.write_shift(2,F),G.write_shift(2,W,"i"),G}function p(F,Q,W){var G=d(F,Q,W);return G[1].v=F.read_shift(8,"f"),G}function x(F,Q,W){var G=ge(13);return G.write_shift(1,255),G.write_shift(2,Q),G.write_shift(2,F),G.write_shift(8,W,"f"),G}function g(F,Q,W){var G=F.l+Q,te=d(F,Q,W);if(te[1].v=F.read_shift(8,"f"),W.qpro)F.l=G;else{var ee=F.read_shift(2);w(F.slice(F.l,F.l+ee),te),F.l+=ee}return te}function y(F,Q,W){var G=Q&32768;return Q&=-32769,Q=(G?F:0)+(Q>=8192?Q-16384:Q),(G?"":"$")+(W?Ws(Q):_s(Q))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(F,Q){Da(F,0);for(var W=[],G=0,te="",ee="",I="",oe="";F.l<F.length;){var V=F[F.l++];switch(V){case 0:W.push(F.read_shift(8,"f"));break;case 1:ee=y(Q[0].c,F.read_shift(2),!0),te=y(Q[0].r,F.read_shift(2),!1),W.push(ee+te);break;case 2:{var pe=y(Q[0].c,F.read_shift(2),!0),ye=y(Q[0].r,F.read_shift(2),!1);ee=y(Q[0].c,F.read_shift(2),!0),te=y(Q[0].r,F.read_shift(2),!1),W.push(pe+ye+":"+ee+te)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(F.read_shift(2));break;case 6:{for(var Ae="";V=F[F.l++];)Ae+=String.fromCharCode(V);W.push('"'+Ae.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:oe=W.pop(),I=W.pop(),W.push(["AND","OR"][V-20]+"("+I+","+oe+")");break;default:if(V<32&&b[V])oe=W.pop(),I=W.pop(),W.push(I+b[V]+oe);else if(v[V]){if(G=v[V][1],G==69&&(G=F[F.l++]),G>W.length){console.error("WK1 bad formula parse 0x"+V.toString(16)+":|"+W.join("|")+"|");return}var Re=W.slice(-G);W.length-=G,W.push(v[V][0]+"("+Re.join(",")+")")}else return V<=7?console.error("WK1 invalid opcode "+V.toString(16)):V<=24?console.error("WK1 unsupported op "+V.toString(16)):V<=30?console.error("WK1 invalid opcode "+V.toString(16)):V<=115?console.error("WK1 unsupported function opcode "+V.toString(16)):console.error("WK1 unrecognized opcode "+V.toString(16))}}W.length==1?Q[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function N(F){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=F.read_shift(2),Q[3]=F[F.l++],Q[0].c=F[F.l++],Q}function C(F,Q){var W=N(F);return W[1].t="s",W[1].v=F.read_shift(Q-4,"cstr"),W}function S(F,Q,W,G){var te=ge(6+G.length);te.write_shift(2,F),te.write_shift(1,W),te.write_shift(1,Q),te.write_shift(1,39);for(var ee=0;ee<G.length;++ee){var I=G.charCodeAt(ee);te.write_shift(1,I>=128?95:I)}return te.write_shift(1,0),te}function k(F,Q){var W=N(F);W[1].v=F.read_shift(2);var G=W[1].v>>1;if(W[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return W[1].v=G,W}function A(F,Q){var W=N(F),G=F.read_shift(4),te=F.read_shift(4),ee=F.read_shift(2);if(ee==65535)return G===0&&te===3221225472?(W[1].t="e",W[1].v=15):G===0&&te===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var I=ee&32768;return ee=(ee&32767)-16446,W[1].v=(1-I*2)*(te*Math.pow(2,ee+32)+G*Math.pow(2,ee)),W}function T(F,Q,W,G){var te=ge(14);if(te.write_shift(2,F),te.write_shift(1,W),te.write_shift(1,Q),G==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ee=0,I=0,oe=0,V=0;return G<0&&(ee=1,G=-G),I=Math.log2(G)|0,G/=Math.pow(2,I-31),V=G>>>0,V&2147483648||(G/=2,++I,V=G>>>0),G-=V,V|=2147483648,V>>>=0,G*=Math.pow(2,32),oe=G>>>0,te.write_shift(4,oe),te.write_shift(4,V),I+=16383+(ee?32768:0),te.write_shift(2,I),te}function E(F,Q){var W=A(F);return F.l+=Q-14,W}function D(F,Q){var W=N(F),G=F.read_shift(4);return W[1].v=G>>6,W}function _(F,Q){var W=N(F),G=F.read_shift(8,"f");return W[1].v=G,W}function z(F,Q){var W=_(F);return F.l+=Q-10,W}function H(F,Q){return F[F.l+Q-1]==0?F.read_shift(Q,"cstr"):""}function q(F,Q){var W=F[F.l++];W>Q-1&&(W=Q-1);for(var G="";G.length<W;)G+=String.fromCharCode(F[F.l++]);return G}function K(F,Q,W){if(!(!W.qpro||Q<21)){var G=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var te=F.read_shift(Q-21,"cstr");return[G,te]}}function Y(F,Q){for(var W={},G=F.l+Q;F.l<G;){var te=F.read_shift(2);if(te==14e3){for(W[te]=[0,""],W[te][0]=F.read_shift(2);F[F.l];)W[te][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return W}function J(F,Q){var W=ge(5+F.length);W.write_shift(2,14e3),W.write_shift(2,Q);for(var G=0;G<F.length;++G){var te=F.charCodeAt(G);W[W.l++]=te>127?95:te}return W[W.l++]=0,W}var Z={0:{n:"BOF",f:e3},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:_},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:e}}(),E$=/^\s|\s$|[\t\n\r]/;function i3(t,e){if(!e.bookSST)return"";var r=[es];r[r.length]=Me("sst",null,{xmlns:cu[0],count:t.Count,uniqueCount:t.Unique});for(var s=0;s!=t.length;++s)if(t[s]!=null){var a=t[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(E$)&&(i+=' xml:space="preserve"'),i+=">"+Jt(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function P$(t){return[t.read_shift(4),t.read_shift(4)]}function _$(t,e){return e||(e=ge(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var D$=NV;function M$(t){var e=Ca();Ne(e,159,_$(t));for(var r=0;r<t.length;++r)Ne(e,19,D$(t[r]));return Ne(e,160),e.end()}function R$(t){for(var e=[],r=t.split(""),s=0;s<r.length;++s)e[s]=r[s].charCodeAt(0);return e}function o3(t){var e=0,r,s=R$(t),a=s.length+1,i,o,l,c,d;for(r=rc(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=e&16384?1:0,c=e<<1&32767,d=l|c,e=d^o;return e^52811}var F$=function(){function t(a,i){switch(i.type){case"base64":return e(Ii(a),i);case"binary":return e(a,i);case"buffer":return e(Ut&&Buffer.isBuffer(a)?a.toString("binary"):Pf(a),i);case"array":return e(Xx(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var f=/\\\w+\b/g,m=0,p,x=-1;p=f.exec(u);){switch(p[0]){case"\\cell":var g=u.slice(m,f.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var y={v:g,t:"s"};Array.isArray(l)?l[h][x]=y:l[rr({r:h,c:x})]=y}break}m=f.lastIndex}x>d.e.c&&(d.e.c=x)}),l["!ref"]=Qr(d),l}function r(a,i){return uc(t(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=br(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=rr({r:d,c:u});l=c?(a[d]||[])[u]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Oi(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:s}}();function SC(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var L$=6,Ai=L$;function Qm(t){return Math.floor((t+Math.round(128/Ai)/256)*Ai)}function Jm(t){return Math.floor((t-5)/Ai*100+.5)/100}function Bv(t){return Math.round((t*Ai+5)/Ai*256)/256}function Nw(t){t.width?(t.wpx=Qm(t.width),t.wch=Jm(t.wpx),t.MDW=Ai):t.wpx?(t.wch=Jm(t.wpx),t.width=Bv(t.wch),t.MDW=Ai):typeof t.wch=="number"&&(t.width=Bv(t.wch),t.wpx=Qm(t.width),t.MDW=Ai),t.customWidth&&delete t.customWidth}var I$=96,l3=I$;function ex(t){return t*96/l3}function c3(t){return t*l3/96}function O$(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&(e[e.length]=Me("numFmt",null,{numFmtId:s,formatCode:Jt(t[s])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Me("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function B$(t){var e=[];return e[e.length]=Me("cellXfs",null),t.forEach(function(r){e[e.length]=Me("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Me("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function d3(t,e){var r=[es,Me("styleSheet",null,{xmlns:cu[0],"xmlns:vt":fs.vt})],s;return t.SSF&&(s=O$(t.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=B$(e.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function U$(t,e){var r=t.read_shift(2),s=Ys(t);return[r,s]}function H$(t,e,r){r||(r=ge(6+4*e.length)),r.write_shift(2,t),xs(e,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function z$(t,e,r){var s={};s.sz=t.read_shift(2)/20;var a=EV(t);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=t.read_shift(2);switch(i===700&&(s.bold=1),t.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(s.underline=o);var l=t.read_shift(1);l>0&&(s.family=l);var c=t.read_shift(1);switch(c>0&&(s.charset=c),t.l++,s.color=TV(t),t.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=Ys(t),s}function W$(t,e){e||(e=ge(25+4*32)),e.write_shift(2,t.sz*20),PV(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),qm(t.color,e);var s=0;return t.scheme=="major"&&(s=1),t.scheme=="minor"&&(s=2),e.write_shift(1,s),xs(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Y$=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Tg,V$=ai;function CC(t,e){e||(e=ge(4*3+8*7+16*1)),Tg||(Tg=dw(Y$));var r=Tg[t.patternType];r==null&&(r=40),e.write_shift(4,r);var s=0;if(r!=40)for(qm({auto:1},e),qm({auto:1},e);s<12;++s)e.write_shift(4,0);else{for(;s<4;++s)e.write_shift(4,0);for(;s<12;++s)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function $$(t,e){var r=t.l+e,s=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:s,numFmtId:a}}function u3(t,e,r){r||(r=ge(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Pu(t,e){return e||(e=ge(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var X$=ai;function G$(t,e){return e||(e=ge(51)),e.write_shift(1,0),Pu(null,e),Pu(null,e),Pu(null,e),Pu(null,e),Pu(null,e),e.length>e.l?e.slice(0,e.l):e}function K$(t,e){return e||(e=ge(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),Km(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function q$(t,e,r){var s=ge(2052);return s.write_shift(4,t),Km(e,s),Km(r,s),s.length>s.l?s.slice(0,s.l):s}function Z$(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&++r}),r!=0&&(Ne(t,615,In(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&Ne(t,44,H$(a,e[a]))}),Ne(t,616))}}function Q$(t){var e=1;Ne(t,611,In(e)),Ne(t,43,W$({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ne(t,612)}function J$(t){var e=2;Ne(t,603,In(e)),Ne(t,45,CC({patternType:"none"})),Ne(t,45,CC({patternType:"gray125"})),Ne(t,604)}function eX(t){var e=1;Ne(t,613,In(e)),Ne(t,46,G$()),Ne(t,614)}function tX(t){var e=1;Ne(t,626,In(e)),Ne(t,47,u3({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ne(t,627)}function rX(t,e){Ne(t,617,In(e.length)),e.forEach(function(r){Ne(t,47,u3(r,0))}),Ne(t,618)}function sX(t){var e=1;Ne(t,619,In(e)),Ne(t,48,K$({xfId:0,builtinId:0,name:"Normal"})),Ne(t,620)}function aX(t){var e=0;Ne(t,505,In(e)),Ne(t,506)}function nX(t){var e=0;Ne(t,508,q$(e,"TableStyleMedium9","PivotStyleMedium4")),Ne(t,509)}function iX(t,e){var r=Ca();return Ne(r,278),Z$(r,t.SSF),Q$(r),J$(r),eX(r),tX(r),rX(r,e.cellXfs),sX(r),aX(r),nX(r),Ne(r,279),r.end()}function h3(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[es];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function oX(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ys(t)}}function lX(t){var e=ge(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),xs(t.name,e),e.slice(0,e.l)}function cX(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function dX(t){var e=ge(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function uX(t,e){var r=ge(8+2*e.length);return r.write_shift(4,t),xs(e,r),r.slice(0,r.l)}function hX(t){return t.l+=4,t.read_shift(4)!=0}function fX(t,e){var r=ge(8);return r.write_shift(4,t),r.write_shift(4,1),r}function mX(){var t=Ca();return Ne(t,332),Ne(t,334,In(1)),Ne(t,335,lX({name:"XLDAPR",version:12e4,flags:3496657072})),Ne(t,336),Ne(t,339,uX(1,"XLDAPR")),Ne(t,52),Ne(t,35,In(514)),Ne(t,4096,In(0)),Ne(t,4097,tn(1)),Ne(t,36),Ne(t,53),Ne(t,340),Ne(t,337,fX(1)),Ne(t,51,dX([[1,0]])),Ne(t,338),Ne(t,333),t.end()}function f3(){var t=[es];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function xX(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=rr(r);var s=t.read_shift(1);return s&2&&(e.l="1"),s&8&&(e.a="1"),e}var Xc=1024;function m3(t,e){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Me("xml",null,{"xmlns:v":Ra.v,"xmlns:o":Ra.o,"xmlns:x":Ra.x,"xmlns:mv":Ra.mv}).replace(/\/>/,">"),Me("o:shapelayout",Me("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Me("v:shapetype",[Me("v:stroke",null,{joinstyle:"miter"}),Me("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];Xc<t*1e3;)Xc+=1e3;return e.forEach(function(i){var o=ms(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Me("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Me("v:fill",c,l),u={on:"t",obscured:"t"};++Xc,a=a.concat(["<v:shape"+Zh({id:"_x0000_s"+Xc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Me("v:shadow",null,u),Me("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Cs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Cs("x:AutoFill","False"),Cs("x:Row",String(o.r)),Cs("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function x3(t){var e=[es,Me("comments",null,{xmlns:cu[0]})],r=[];return e.push("<authors>"),t.forEach(function(s){s[1].forEach(function(a){var i=Jt(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=r.indexOf(Jt(c.a))),i.push(c.t||"")}),e.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(Cs("t",Jt(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;e.push(Cs("t",Jt(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function pX(t,e,r){var s=[es,Me("ThreadedComments",null,{xmlns:fs.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),s.push(Me("threadedComment",Cs("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function gX(t){var e=[es,Me("personList",null,{xmlns:fs.TCMNT,"xmlns:x":cu[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,s){e.push(Me("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function yX(t){var e={};e.iauthor=t.read_shift(4);var r=xc(t);return e.rfx=r.s,e.ref=rr(r.s),t.l+=16,e}function vX(t,e){return e==null&&(e=ge(36)),e.write_shift(4,t[1].iauthor),uu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var bX=Ys;function wX(t){return xs(t.slice(0,54))}function NX(t){var e=Ca(),r=[];return Ne(e,628),Ne(e,630),t.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ne(e,632,wX(a.a)))})}),Ne(e,631),Ne(e,633),t.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ms(s[0]),e:ms(s[0])};Ne(e,635,vX([i,a])),a.t&&a.t.length>0&&Ne(e,637,SV(a)),Ne(e,636),delete a.iauthor})}),Ne(e,634),Ne(e,629),e.end()}function jX(t,e){e.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&nr.utils.cfb_add(t,a,e.FileIndex[s].content)}})}var p3=["xlsb","xlsm","xlam","biff8","xla"],SX=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=e.c:--u,c?d+=e.r:--d,a+(l?"":"$")+Ws(u)+(c?"":"$")+_s(d)}return function(a,i){return e=i,a.replace(t,r)}}(),jw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Sw=function(){return function(e,r){return e.replace(jw,function(s,a,i,o,l,c){var d=gw(o)-(i?0:r.c),u=pw(c)-(l?0:r.r),h=u==0?"":l?u+1:"["+u+"]",f=d==0?"":i?d+1:"["+d+"]";return a+"R"+h+"C"+f})}}();function CX(t,e){return t.replace(jw,function(r,s,a,i,o,l){return s+(a=="$"?a+i:Ws(gw(i)+e.c))+(o=="$"?o+l:_s(pw(l)+e.r))})}function kX(t){return t.length!=1}function Vr(t){t.l+=1}function Io(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function g3(t,e,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return y3(t);r.biff==12&&(s=4)}var a=t.read_shift(s),i=t.read_shift(s),o=Io(t),l=Io(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function y3(t){var e=Io(t),r=Io(t),s=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:s,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function AX(t,e,r){if(r.biff<8)return y3(t);var s=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=Io(t),o=Io(t);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function v3(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return TX(t);var s=t.read_shift(r&&r.biff==12?4:2),a=Io(t);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function TX(t){var e=Io(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function EX(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function PX(t,e,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return _X(t);var a=t.read_shift(s>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function _X(t){var e=t.read_shift(2),r=t.read_shift(1),s=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,s==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:s}}function DX(t,e,r){var s=(t[t.l++]&96)>>5,a=g3(t,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function MX(t,e,r){var s=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=g3(t,i,r);return[s,a,o]}function RX(t,e,r){var s=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function FX(t,e,r){var s=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[s,a]}function LX(t,e,r){var s=(t[t.l++]&96)>>5,a=AX(t,e-1,r);return[s,a]}function IX(t,e,r){var s=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[s]}function kC(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function OX(t,e,r){t.l+=2;for(var s=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function BX(t,e,r){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(r&&r.biff==2?1:2)]}function UX(t,e,r){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(r&&r.biff==2?1:2)]}function HX(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function zX(t,e,r){var s=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[s]}function b3(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function WX(t){return t.read_shift(2),b3(t)}function YX(t){return t.read_shift(2),b3(t)}function VX(t,e,r){var s=(t[t.l]&96)>>5;t.l+=1;var a=v3(t,0,r);return[s,a]}function $X(t,e,r){var s=(t[t.l]&96)>>5;t.l+=1;var a=PX(t,0,r);return[s,a]}function XX(t,e,r){var s=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=v3(t,0,r);return[s,a,i]}function GX(t,e,r){var s=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[GG[a],j3[a],s]}function KX(t,e,r){var s=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,t.read_shift(1)]:qX(t);return[a,(i[0]===0?j3:XG)[i[1]]]}function qX(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function ZX(t,e,r){t.l+=r&&r.biff==2?3:4}function QX(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var s=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[s,a]}function JX(t){return t.l++,Mf[t.read_shift(1)]}function eG(t){return t.l++,t.read_shift(2)}function tG(t){return t.l++,t.read_shift(1)!==0}function rG(t){return t.l++,hu(t)}function sG(t,e,r){return t.l++,r3(t,e-1,r)}function aG(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=XV(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Mf[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=hu(t);break;case 2:r[1]=ZV(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function nG(t,e,r){for(var s=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?xc:e$)(t));return a}function iG(t,e,r){var s=0,a=0;r.biff==12?(s=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),s=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=aG(t,r.biff);return o}function oG(t,e,r){var s=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[s,0,i]}function lG(t,e,r){if(r.biff==5)return cG(t);var s=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[s,a,i]}function cG(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var s=t.read_shift(2);return t.l+=12,[e,r,s]}function dG(t,e,r){var s=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[s,a]}function uG(t,e,r){var s=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[s,a]}function hG(t,e,r){var s=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[s]}function fG(t,e,r){var s=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[s,a]}var mG=ai,xG=ai,pG=ai;function Rf(t,e,r){return t.l+=2,[EX(t)]}function Cw(t){return t.l+=6,[]}var gG=Rf,yG=Cw,vG=Cw,bG=Rf;function w3(t){return t.l+=2,[e3(t),t.read_shift(2)&1]}var wG=Rf,NG=w3,jG=Cw,SG=Rf,CG=Rf,kG=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function AG(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),o=kG[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:s,c:a,C:i}}function TG(t){return t.l+=2,[t.read_shift(4)]}function EG(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function PG(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function _G(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function DG(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function MG(t){return t.l+=4,[0,0]}var AC={1:{n:"PtgExp",f:QX},2:{n:"PtgTbl",f:pG},3:{n:"PtgAdd",f:Vr},4:{n:"PtgSub",f:Vr},5:{n:"PtgMul",f:Vr},6:{n:"PtgDiv",f:Vr},7:{n:"PtgPower",f:Vr},8:{n:"PtgConcat",f:Vr},9:{n:"PtgLt",f:Vr},10:{n:"PtgLe",f:Vr},11:{n:"PtgEq",f:Vr},12:{n:"PtgGe",f:Vr},13:{n:"PtgGt",f:Vr},14:{n:"PtgNe",f:Vr},15:{n:"PtgIsect",f:Vr},16:{n:"PtgUnion",f:Vr},17:{n:"PtgRange",f:Vr},18:{n:"PtgUplus",f:Vr},19:{n:"PtgUminus",f:Vr},20:{n:"PtgPercent",f:Vr},21:{n:"PtgParen",f:Vr},22:{n:"PtgMissArg",f:Vr},23:{n:"PtgStr",f:sG},26:{n:"PtgSheet",f:EG},27:{n:"PtgEndSheet",f:PG},28:{n:"PtgErr",f:JX},29:{n:"PtgBool",f:tG},30:{n:"PtgInt",f:eG},31:{n:"PtgNum",f:rG},32:{n:"PtgArray",f:IX},33:{n:"PtgFunc",f:GX},34:{n:"PtgFuncVar",f:KX},35:{n:"PtgName",f:oG},36:{n:"PtgRef",f:VX},37:{n:"PtgArea",f:DX},38:{n:"PtgMemArea",f:dG},39:{n:"PtgMemErr",f:mG},40:{n:"PtgMemNoMem",f:xG},41:{n:"PtgMemFunc",f:uG},42:{n:"PtgRefErr",f:hG},43:{n:"PtgAreaErr",f:RX},44:{n:"PtgRefN",f:$X},45:{n:"PtgAreaN",f:LX},46:{n:"PtgMemAreaN",f:_G},47:{n:"PtgMemNoMemN",f:DG},57:{n:"PtgNameX",f:lG},58:{n:"PtgRef3d",f:XX},59:{n:"PtgArea3d",f:MX},60:{n:"PtgRefErr3d",f:fG},61:{n:"PtgAreaErr3d",f:FX},255:{}},RG={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},FG={1:{n:"PtgElfLel",f:w3},2:{n:"PtgElfRw",f:SG},3:{n:"PtgElfCol",f:gG},6:{n:"PtgElfRwV",f:CG},7:{n:"PtgElfColV",f:bG},10:{n:"PtgElfRadical",f:wG},11:{n:"PtgElfRadicalS",f:jG},13:{n:"PtgElfColS",f:yG},15:{n:"PtgElfColSV",f:vG},16:{n:"PtgElfRadicalLel",f:NG},25:{n:"PtgList",f:AG},29:{n:"PtgSxName",f:TG},255:{}},LG={0:{n:"PtgAttrNoop",f:MG},1:{n:"PtgAttrSemi",f:zX},2:{n:"PtgAttrIf",f:UX},4:{n:"PtgAttrChoose",f:OX},8:{n:"PtgAttrGoto",f:BX},16:{n:"PtgAttrSum",f:ZX},32:{n:"PtgAttrBaxcel",f:kC},33:{n:"PtgAttrBaxcel",f:kC},64:{n:"PtgAttrSpace",f:WX},65:{n:"PtgAttrSpaceSemi",f:YX},128:{n:"PtgAttrIfError",f:HX},255:{}};function IG(t,e,r,s){if(s.biff<8)return ai(t,e);for(var a=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=iG(t,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=nG(t,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=a-t.l,e!==0&&i.push(ai(t,e)),i}function OG(t,e,r){for(var s=t.l+e,a,i,o=[];s!=t.l;)e=s-t.l,i=t[t.l],a=AC[i]||AC[RG[i]],(i===24||i===25)&&(a=(i===24?FG:LG)[t[t.l+1]]),!a||!a.f?ai(t,e):o.push([a.n,a.f(t,e,r)]);return o}function BG(t){for(var e=[],r=0;r<t.length;++r){for(var s=t[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var UG={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function HG(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function N3(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var s=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[s[0]][0]){case 357:return a=s[1]==-1?"#REF":t.SheetNames[s[1]],s[1]==s[2]?a:a+":"+t.SheetNames[s[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[s[0]][0];case 355:default:return"SH33TJSSRC"+t[s[0]][0]}switch(t[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":t.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+t.SheetNames[s[2]];case 14849:return t[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[s[0]][0][3]?(a=s[1]==-1?"#REF":t[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+t[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function TC(t,e,r){var s=N3(t,e,r);return s=="#REF"?s:HG(s,r)}function Ud(t,e,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,h=0,f=0,m,p="";if(!t[0]||!t[0][0])return"";for(var x=-1,g="",y=0,v=t[0].length;y<v;++y){var b=t[0][y];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),x>=0){switch(t[0][x][1][0]){case 0:g=Lr(" ",t[0][x][1][1]);break;case 1:g=Lr("\r",t[0][x][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}d=d+g,x=-1}l.push(d+UG[b[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ih(b[1][1],o,a),l.push(oh(u,i));break;case"PtgRefN":u=r?ih(b[1][1],r,a):b[1][1],l.push(oh(u,i));break;case"PtgRef3d":h=b[1][1],u=ih(b[1][2],o,a),p=TC(s,h,a),l.push(p+"!"+oh(u,i));break;case"PtgFunc":case"PtgFuncVar":var w=b[1][0],N=b[1][1];w||(w=0),w&=127;var C=w==0?[]:l.slice(-w);l.length-=w,N==="User"&&(N=C.shift()),l.push(N+"("+C.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":m=hC(b[1][1],r?{s:r}:o,a),l.push(kg(m,a));break;case"PtgArea":m=hC(b[1][1],o,a),l.push(kg(m,a));break;case"PtgArea3d":h=b[1][1],m=b[1][2],p=TC(s,h,a),l.push(p+"!"+kg(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=b[1][2];var S=(s.names||[])[f-1]||(s[0]||[])[f],k=S?S.Name:"SH33TJSNAME"+String(f);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var A=b[1][1];f=b[1][2];var T;if(a.biff<=5)A<0&&(A=-A),s[A]&&(T=s[A][f]);else{var E="";if(((s[A]||[])[0]||[])[0]==14849||(((s[A]||[])[0]||[])[0]==1025?s[A][f]&&s[A][f].itab>0&&(E=s.SheetNames[s[A][f].itab-1]+"!"):E=s.SheetNames[f-1]+"!"),s[A]&&s[A][f])E+=s[A][f].Name;else if(s[0]&&s[0][f])E+=s[0][f].Name;else{var D=(N3(s,A,a)||"").split(";;");D[f-1]?E=D[f-1]:E+="SH33TJSERRX"}l.push(E);break}T||(T={Name:"SH33TJSERRY"}),l.push(T.Name);break;case"PtgParen":var _="(",z=")";if(x>=0){switch(g="",t[0][x][1][0]){case 2:_=Lr(" ",t[0][x][1][1])+_;break;case 3:_=Lr("\r",t[0][x][1][1])+_;break;case 4:z=Lr(" ",t[0][x][1][1])+z;break;case 5:z=Lr("\r",t[0][x][1][1])+z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}x=-1}l.push(_+l.pop()+z);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var H={c:r.c,r:r.r};if(s.sharedf[rr(u)]){var q=s.sharedf[rr(u)];l.push(Ud(q,o,H,s,a))}else{var K=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Ud(d[1],o,H,s,a)),K=!0;break}K||l.push(b[1])}break;case"PtgArray":l.push("{"+BG(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&Y.indexOf(t[0][y][0])==-1){b=t[0][x];var J=!0;switch(b[1][0]){case 4:J=!1;case 0:g=Lr(" ",b[1][1]);break;case 5:J=!1;case 1:g=Lr("\r",b[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((J?g:"")+l.pop()+(J?"":g)),x=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function zG(t){if(t==null){var e=ge(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return sc(t);return sc(0)}function WG(t,e,r,s,a){var i=ac(e,r,a),o=zG(t.v),l=ge(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=ge(t.bf.length),u=0;u<t.bf.length;++u)d[u]=t.bf[u];var h=Ss([i,o,l,d]);return h}function Gx(t,e,r){var s=t.read_shift(4),a=OG(t,s,r),i=t.read_shift(4),o=i>0?IG(t,i,a,r):null;return[a,o]}var YG=Gx,Kx=Gx,VG=Gx,$G=Gx,XG={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},j3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},GG={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function KG(t){var e="of:="+t.replace(jw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function qG(t){return t.replace(/\./,"!")}var lh=typeof Map<"u";function kw(t,e,r){var s=0,a=t.length;if(r){if(lh?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=lh?r.get(e):r[e];s<i.length;++s)if(t[i[s]].t===e)return t.Count++,i[s]}}else for(;s<a;++s)if(t[s].t===e)return t.Count++,s;return t[a]={t:e},t.Count++,t.Unique++,r&&(lh?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function qx(t,e){var r={min:t+1,max:t+1},s=-1;return e.MDW&&(Ai=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?s=Jm(e.wpx):e.wch!=null&&(s=e.wch),s>-1?(r.width=Bv(s),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function S3(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function $o(t,e,r){var s=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){v5(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=s=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===s)return a;return t[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function ZG(t,e,r){if(t&&t["!ref"]){var s=br(t["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function QG(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Qr(t[r])+'"/>';return e+"</mergeCells>"}function JG(t,e,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=qh(Jt(c))}if(t&&t["!outline"]){var d={summaryBelow:1,summaryRight:1};t["!outline"].above&&(d.summaryBelow=0),t["!outline"].left&&(d.summaryRight=0),l=(l||"")+Me("outlinePr",null,d)}!i&&!l||(a[a.length]=Me("sheetPr",l,o))}var eK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],tK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function rK(t){var e={sheet:1};return eK.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),tK.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=o3(t.password).toString(16).toUpperCase()),Me("sheetProtection",null,e)}function sK(t){return S3(t),Me("pageMargins",null,t)}function aK(t,e){for(var r=["<cols>"],s,a=0;a!=e.length;++a)(s=e[a])&&(r[r.length]=Me("col",null,qx(a,s)));return r[r.length]="</cols>",r.join("")}function nK(t,e,r,s){var a=typeof t.ref=="string"?t.ref:Qr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ya(a);o.s.r==o.e.r&&(o.e.r=Ya(e["!ref"]).e.r,a=Qr(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),Me("autoFilter",null,{ref:a})}function iK(t,e,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Me("sheetViews",Me("sheetView",null,a),{})}function oK(t,e,r,s){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=Mf[t.v];break;case"d":s&&s.cellDates?a=sa(t.v,-1).toISOString():(t=Aa(t),t.t="n",a=""+(t.v=ka(sa(t.v)))),typeof t.z>"u"&&(t.z=Ur[14]);break;default:a=t.v;break}var l=Cs("v",Jt(a)),c={r:e},d=$o(s.cellXfs,t,s);switch(d!==0&&(c.s=d),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=Cs("v",""+kw(s.Strings,t.v,s.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=Me("f",Jt(t.f),u)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),Me("c",l,c)}function lK(t,e,r,s){var a=[],i=[],o=br(t["!ref"]),l="",c,d="",u=[],h=0,f=0,m=t["!rows"],p=Array.isArray(t),x={r:d},g,y=-1;for(f=o.s.c;f<=o.e.c;++f)u[f]=Ws(f);for(h=o.s.r;h<=o.e.r;++h){for(i=[],d=_s(h),f=o.s.c;f<=o.e.c;++f){c=u[f]+d;var v=p?(t[h]||[])[f]:t[c];v!==void 0&&(l=oK(v,c,t,e))!=null&&i.push(l)}(i.length>0||m&&m[h])&&(x={r:d},m&&m[h]&&(g=m[h],g.hidden&&(x.hidden=1),y=-1,g.hpx?y=ex(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(x.ht=y,x.customHeight=1),g.level&&(x.outlineLevel=g.level)),a[a.length]=Me("row",i.join(""),x))}if(m)for(;h<m.length;++h)m&&m[h]&&(x={r:h+1},g=m[h],g.hidden&&(x.hidden=1),y=-1,g.hpx?y=ex(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(x.ht=y,x.customHeight=1),g.level&&(x.outlineLevel=g.level),a[a.length]=Me("row","",x));return a.join("")}function C3(t,e,r,s){var a=[es,Me("worksheet",null,{xmlns:cu[0],"xmlns:r":fs.r})],i=r.SheetNames[t],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=br(d);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Qr(u)}s||(s={}),c["!comments"]=[];var h=[];JG(c,r,t,e,a),a[a.length]=Me("dimension",null,{ref:d}),a[a.length]=iK(c,e,t,r),e.sheetFormat&&(a[a.length]=Me("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=aK(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=lK(c,e),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=rK(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=nK(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=QG(c["!merges"]));var f=-1,m,p=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(m={ref:x[0]},x[1].Target.charAt(0)!="#"&&(p=Zt(s,-1,Jt(x[1].Target).replace(/#.*$/,""),It.HLINK),m["r:id"]="rId"+p),(f=x[1].Target.indexOf("#"))>-1&&(m.location=Jt(x[1].Target.slice(f+1))),x[1].Tooltip&&(m.tooltip=Jt(x[1].Tooltip)),a[a.length]=Me("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=sK(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=Cs("ignoredErrors",Me("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(p=Zt(s,-1,"../drawings/drawing"+(t+1)+".xml",It.DRAW),a[a.length]=Me("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=h),c["!comments"].length>0&&(p=Zt(s,-1,"../drawings/vmlDrawing"+(t+1)+".vml",It.VML),a[a.length]=Me("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function cK(t,e){var r={},s=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function dK(t,e,r){var s=ge(145),a=(r["!rows"]||[])[t]||{};s.write_shift(4,t),s.write_shift(4,0);var i=320;a.hpx?i=ex(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var h=-1,f=-1,m=u<<10;m<u+1<<10;++m){d.c=m;var p=Array.isArray(r)?(r[d.r]||[])[d.c]:r[rr(d)];p&&(h<0&&(h=m),f=m)}h<0||(++l,s.write_shift(4,h),s.write_shift(4,f))}var x=s.l;return s.l=c,s.write_shift(4,l),s.l=x,s.length>s.l?s.slice(0,s.l):s}function uK(t,e,r,s){var a=dK(s,r,e);(a.length>17||(e["!rows"]||[])[s])&&Ne(t,0,a)}var hK=xc,fK=uu;function mK(){}function xK(t,e){var r={},s=t[t.l];return++t.l,r.above=!(s&64),r.left=!(s&128),t.l+=18,r.name=CV(t),r}function pK(t,e,r){r==null&&(r=ge(84+4*t.length));var s=192;e&&(e.above&&(s&=-65),e.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return qm({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),U5(t,r),r.slice(0,r.l)}function gK(t){var e=hn(t);return[e]}function yK(t,e,r){return r==null&&(r=ge(8)),hc(e,r)}function vK(t){var e=fc(t);return[e]}function bK(t,e,r){return r==null&&(r=ge(4)),mc(e,r)}function wK(t){var e=hn(t),r=t.read_shift(1);return[e,r,"b"]}function NK(t,e,r){return r==null&&(r=ge(9)),hc(e,r),r.write_shift(1,t.v?1:0),r}function jK(t){var e=fc(t),r=t.read_shift(1);return[e,r,"b"]}function SK(t,e,r){return r==null&&(r=ge(5)),mc(e,r),r.write_shift(1,t.v?1:0),r}function CK(t){var e=hn(t),r=t.read_shift(1);return[e,r,"e"]}function kK(t,e,r){return r==null&&(r=ge(9)),hc(e,r),r.write_shift(1,t.v),r}function AK(t){var e=fc(t),r=t.read_shift(1);return[e,r,"e"]}function TK(t,e,r){return r==null&&(r=ge(8)),mc(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function EK(t){var e=hn(t),r=t.read_shift(4);return[e,r,"s"]}function PK(t,e,r){return r==null&&(r=ge(12)),hc(e,r),r.write_shift(4,e.v),r}function _K(t){var e=fc(t),r=t.read_shift(4);return[e,r,"s"]}function DK(t,e,r){return r==null&&(r=ge(8)),mc(e,r),r.write_shift(4,e.v),r}function MK(t){var e=hn(t),r=hu(t);return[e,r,"n"]}function RK(t,e,r){return r==null&&(r=ge(16)),hc(e,r),sc(t.v,r),r}function FK(t){var e=fc(t),r=hu(t);return[e,r,"n"]}function LK(t,e,r){return r==null&&(r=ge(12)),mc(e,r),sc(t.v,r),r}function IK(t){var e=hn(t),r=H5(t);return[e,r,"n"]}function OK(t,e,r){return r==null&&(r=ge(12)),hc(e,r),z5(t.v,r),r}function BK(t){var e=fc(t),r=H5(t);return[e,r,"n"]}function UK(t,e,r){return r==null&&(r=ge(8)),mc(e,r),z5(t.v,r),r}function HK(t){var e=hn(t),r=yw(t);return[e,r,"is"]}function zK(t){var e=hn(t),r=Ys(t);return[e,r,"str"]}function WK(t,e,r){return r==null&&(r=ge(12+4*t.v.length)),hc(e,r),xs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function YK(t){var e=fc(t),r=Ys(t);return[e,r,"str"]}function VK(t,e,r){return r==null&&(r=ge(8+4*t.v.length)),mc(e,r),xs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function $K(t,e,r){var s=t.l+e,a=hn(t);a.r=r["!row"];var i=t.read_shift(1),o=[a,i,"b"];if(r.cellFormula){t.l+=2;var l=Kx(t,s-t.l,r);o[3]=Ud(l,null,a,r.supbooks,r)}else t.l=s;return o}function XK(t,e,r){var s=t.l+e,a=hn(t);a.r=r["!row"];var i=t.read_shift(1),o=[a,i,"e"];if(r.cellFormula){t.l+=2;var l=Kx(t,s-t.l,r);o[3]=Ud(l,null,a,r.supbooks,r)}else t.l=s;return o}function GK(t,e,r){var s=t.l+e,a=hn(t);a.r=r["!row"];var i=hu(t),o=[a,i,"n"];if(r.cellFormula){t.l+=2;var l=Kx(t,s-t.l,r);o[3]=Ud(l,null,a,r.supbooks,r)}else t.l=s;return o}function KK(t,e,r){var s=t.l+e,a=hn(t);a.r=r["!row"];var i=Ys(t),o=[a,i,"str"];if(r.cellFormula){t.l+=2;var l=Kx(t,s-t.l,r);o[3]=Ud(l,null,a,r.supbooks,r)}else t.l=s;return o}var qK=xc,ZK=uu;function QK(t,e){return e==null&&(e=ge(4)),e.write_shift(4,t),e}function JK(t,e){var r=t.l+e,s=xc(t),a=vw(t),i=Ys(t),o=Ys(t),l=Ys(t);t.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function eq(t,e){var r=ge(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));uu({s:ms(t[0]),e:ms(t[0])},r),bw("rId"+e,r);var s=t[1].Target.indexOf("#"),a=s==-1?"":t[1].Target.slice(s+1);return xs(a||"",r),xs(t[1].Tooltip||"",r),xs("",r),r.slice(0,r.l)}function tq(){}function rq(t,e,r){var s=t.l+e,a=W5(t),i=t.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=YG(t,s-t.l,r);o[1]=l}else t.l=s;return o}function sq(t,e,r){var s=t.l+e,a=xc(t),i=[a];if(r.cellFormula){var o=$G(t,s-t.l,r);i[1]=o,t.l=s}else t.l=s;return i}function aq(t,e,r){r==null&&(r=ge(18));var s=qx(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var k3=["left","right","top","bottom","header","footer"];function nq(t){var e={};return k3.forEach(function(r){e[r]=hu(t)}),e}function iq(t,e){return e==null&&(e=ge(6*8)),S3(t),k3.forEach(function(r){sc(t[r],e)}),e}function oq(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function lq(t,e,r){r==null&&(r=ge(30));var s=924;return(((e||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function cq(t){var e=ge(24);return e.write_shift(4,4),e.write_shift(4,1),uu(t,e),e}function dq(t,e){return e==null&&(e=ge(16*4+2)),e.write_shift(2,t.password?o3(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function uq(){}function hq(){}function fq(t,e,r,s,a,i,o){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=Aa(e),e.z=e.z||Ur[14],e.v=ka(sa(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r,c:s};switch(c.s=$o(a.cellXfs,e,a),e.l&&i["!links"].push([rr(c),e.l]),e.c&&i["!comments"].push([rr(c),e.c]),e.t){case"s":case"str":return a.bookSST?(l=kw(a.Strings,e.v,a.revStrings),c.t="s",c.v=l,o?Ne(t,18,DK(e,c)):Ne(t,7,PK(e,c))):(c.t="str",o?Ne(t,17,VK(e,c)):Ne(t,6,WK(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Ne(t,13,UK(e,c)):Ne(t,2,OK(e,c)):o?Ne(t,16,LK(e,c)):Ne(t,5,RK(e,c)),!0;case"b":return c.t="b",o?Ne(t,15,SK(e,c)):Ne(t,4,NK(e,c)),!0;case"e":return c.t="e",o?Ne(t,14,TK(e,c)):Ne(t,3,kK(e,c)),!0}return o?Ne(t,12,bK(e,c)):Ne(t,1,yK(e,c)),!0}function mq(t,e,r,s){var a=br(e["!ref"]||"A1"),i,o="",l=[];Ne(t,145);var c=Array.isArray(e),d=a.e.r;e["!rows"]&&(d=Math.max(a.e.r,e["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=_s(u),uK(t,e,a,u);var h=!1;if(u<=a.e.r)for(var f=a.s.c;f<=a.e.c;++f){u===a.s.r&&(l[f]=Ws(f)),i=l[f]+o;var m=c?(e[u]||[])[f]:e[i];if(!m){h=!1;continue}h=fq(t,m,u,f,s,e,h)}}Ne(t,146)}function xq(t,e){!e||!e["!merges"]||(Ne(t,177,QK(e["!merges"].length)),e["!merges"].forEach(function(r){Ne(t,176,ZK(r))}),Ne(t,178))}function pq(t,e){!e||!e["!cols"]||(Ne(t,390),e["!cols"].forEach(function(r,s){r&&Ne(t,60,aq(s,r))}),Ne(t,391))}function gq(t,e){!e||!e["!ref"]||(Ne(t,648),Ne(t,649,cq(br(e["!ref"]))),Ne(t,650))}function yq(t,e,r){e["!links"].forEach(function(s){if(s[1].Target){var a=Zt(r,-1,s[1].Target.replace(/#.*$/,""),It.HLINK);Ne(t,494,eq(s,a))}}),delete e["!links"]}function vq(t,e,r,s){if(e["!comments"].length>0){var a=Zt(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",It.VML);Ne(t,551,bw("rId"+a)),e["!legacy"]=a}}function bq(t,e,r,s){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:Qr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ya(i);l.s.r==l.e.r&&(l.e.r=Ya(e["!ref"]).e.r,i=Qr(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+r.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),Ne(t,161,uu(br(i))),Ne(t,162)}}function wq(t,e,r){Ne(t,133),Ne(t,137,lq(e,r)),Ne(t,138),Ne(t,134)}function Nq(t,e){e["!protect"]&&Ne(t,535,dq(e["!protect"]))}function jq(t,e,r,s){var a=Ca(),i=r.SheetNames[t],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var c=br(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ne(a,129),(r.vbaraw||o["!outline"])&&Ne(a,147,pK(l,o["!outline"])),Ne(a,148,fK(c)),wq(a,o,r.Workbook),pq(a,o),mq(a,o,t,e),Nq(a,o),bq(a,o,r,t),xq(a,o),yq(a,o,s),o["!margins"]&&Ne(a,476,iq(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&gq(a,o),vq(a,o,t,s),Ne(a,130),a.end()}function Sq(t,e){t.l+=10;var r=Ys(t);return{name:r}}var Cq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function kq(t){return!t.Workbook||!t.Workbook.WBProps?"false":sV(t.Workbook.WBProps.date1904)?"true":"false"}var Aq="][*?/\\".split("");function A3(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Aq.forEach(function(s){if(t.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Tq(t,e,r){t.forEach(function(s,a){A3(s);for(var i=0;i<a;++i)if(s==t[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=e&&e[a]&&e[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Eq(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Tq(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)ZG(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function T3(t){var e=[es];e[e.length]=Me("workbook",null,{xmlns:cu[0],"xmlns:r":fs.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Cq.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(s.codeName=t.Workbook.WBProps.CodeName,delete s.CodeName)),e[e.length]=Me("workbookPr",null,s);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:Jt(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Me("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Me("definedName",Jt(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Pq(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Ov(t),r.name=Ys(t),r}function _q(t,e){return e||(e=ge(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),bw(t.strRelID,e),xs(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Dq(t,e){var r={},s=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?Ys(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function Mq(t,e){e||(e=ge(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),U5(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Rq(t,e,r){var s=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=kV(t),o=VG(t,0,r),l=vw(t);t.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Fq(t,e){Ne(t,143);for(var r=0;r!=e.SheetNames.length;++r){var s=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Ne(t,156,_q(a))}Ne(t,144)}function Lq(t,e){e||(e=ge(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return xs("SheetJS",e),xs(Wm.version,e),xs(Wm.version,e),xs("7262",e),e.length>e.l?e.slice(0,e.l):e}function Iq(t,e){e||(e=ge(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function Oq(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(Ne(t,135),Ne(t,158,Iq(a)),Ne(t,136))}}function Bq(t,e){var r=Ca();return Ne(r,131),Ne(r,128,Lq()),Ne(r,153,Mq(t.Workbook&&t.Workbook.WBProps||null)),Oq(r,t),Fq(r,t),Ne(r,132),r.end()}function Uq(t,e,r){return(e.slice(-4)===".bin"?Bq:T3)(t)}function Hq(t,e,r,s,a){return(e.slice(-4)===".bin"?jq:C3)(t,r,s,a)}function zq(t,e,r){return(e.slice(-4)===".bin"?iX:d3)(t,r)}function Wq(t,e,r){return(e.slice(-4)===".bin"?M$:i3)(t,r)}function Yq(t,e,r){return(e.slice(-4)===".bin"?NX:x3)(t)}function Vq(t){return(t.slice(-4)===".bin"?mX:f3)()}function $q(t,e){var r=[];return t.Props&&r.push(zV(t.Props,e)),t.Custprops&&r.push(WV(t.Props,t.Custprops)),r.join("")}function Xq(){return""}function Gq(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(s,a){var i=[];i.push(Me("NumberFormat",null,{"ss:Format":Jt(Ur[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Me("Style",i.join(""),o))}),Me("Styles",r.join(""))}function E3(t){return Me("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Sw(t.Ref,{r:0,c:0})})}function Kq(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],s=0;s<e.length;++s){var a=e[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(E3(a)))}return Me("Names",r.join(""))}function qq(t,e,r,s){if(!t||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(E3(l)))}return i.join("")}function Zq(t,e,r,s){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(Me("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(Me("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(Me("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(Me("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(Cs("ProtectContents","True")),t["!protect"].objects&&a.push(Cs("ProtectObjects","True")),t["!protect"].scenarios&&a.push(Cs("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(Cs("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(Cs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Me("WorksheetOptions",a.join(""),{xmlns:Ra.x})}function Qq(t){return t.map(function(e){var r=rV(e.t||""),s=Me("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Me("Comment",s,{"ss:Author":e.a})}).join("")}function Jq(t,e,r,s,a,i,o){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+Jt(Sw(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var c=ms(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=Jt(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=Jt(t.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",f="";switch(t.t){case"z":if(!s.sheetStubs)return"";break;case"n":h="Number",f=String(t.v);break;case"b":h="Boolean",f=t.v?"1":"0";break;case"e":h="Error",f=Mf[t.v];break;case"d":h="DateTime",f=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ur[14]);break;case"s":h="String",f=tV(t.v||"");break}var m=$o(s.cellXfs,t,s);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var p=t.v!=null?f:"",x=t.t=="z"?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(t.c||[]).length>0&&(x+=Qq(t.c)),Me("Cell",x,l)}function eZ(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=c3(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function tZ(t,e,r,s){if(!t["!ref"])return"";var a=br(t["!ref"]),i=t["!merges"]||[],o=0,l=[];t["!cols"]&&t["!cols"].forEach(function(g,y){Nw(g);var v=!!g.width,b=qx(y,g),w={"ss:Index":y+1};v&&(w["ss:Width"]=Qm(b.width)),g.hidden&&(w["ss:Hidden"]="1"),l.push(Me("Column",null,w))});for(var c=Array.isArray(t),d=a.s.r;d<=a.e.r;++d){for(var u=[eZ(d,(t["!rows"]||[])[d])],h=a.s.c;h<=a.e.c;++h){var f=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>d)&&!(i[o].e.c<h)&&!(i[o].e.r<d)){(i[o].s.c!=h||i[o].s.r!=d)&&(f=!0);break}if(!f){var m={r:d,c:h},p=rr(m),x=c?(t[d]||[])[h]:t[p];u.push(Jq(x,p,t,e,r,s,m))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function rZ(t,e,r){var s=[],a=r.SheetNames[t],i=r.Sheets[a],o=i?qq(i,e,t,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?tZ(i,e,t,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(Zq(i,e,t,r)),s.join("")}function sZ(t,e){e||(e={}),t.SSF||(t.SSF=Aa(Ur)),t.SSF&&(Vx(),Yx(t.SSF),e.revssf=$x(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],$o(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push($q(t,e)),r.push(Xq()),r.push(""),r.push("");for(var s=0;s<t.SheetNames.length;++s)r.push(Me("Worksheet",rZ(s,e,t),{"ss:Name":Jt(t.SheetNames[s])}));return r[2]=Gq(t,e),r[3]=Kq(t),es+Me("Workbook",r.join(""),{xmlns:Ra.ss,"xmlns:o":Ra.o,"xmlns:x":Ra.x,"xmlns:ss":Ra.ss,"xmlns:dt":Ra.dt,"xmlns:html":Ra.html})}var Eg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function aZ(t,e){var r=[],s=[],a=[],i=0,o,l=tC(mC,"n"),c=tC(xC,"n");if(t.Props)for(o=Rs(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=Rs(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],t.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)J5.indexOf(a[i][0])>-1||q5.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);s.length&&nr.utils.cfb_add(e,"/SummaryInformation",bC(s,Eg.SI,c,xC)),(r.length||d.length)&&nr.utils.cfb_add(e,"/DocumentSummaryInformation",bC(r,Eg.DSI,l,mC,d.length?d:null,Eg.UDI))}function nZ(t,e){var r=e||{},s=nr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nr.utils.cfb_add(s,a,P3(t,r)),r.biff==8&&(t.Props||t.Custprops)&&aZ(t,s),r.biff==8&&t.vbaraw&&jX(s,nr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),s}var iZ={0:{f:cK},1:{f:gK},2:{f:IK},3:{f:CK},4:{f:wK},5:{f:MK},6:{f:zK},7:{f:EK},8:{f:KK},9:{f:GK},10:{f:$K},11:{f:XK},12:{f:vK},13:{f:BK},14:{f:AK},15:{f:jK},16:{f:FK},17:{f:YK},18:{f:_K},19:{f:yw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Rq},40:{},42:{},43:{f:z$},44:{f:U$},45:{f:V$},46:{f:X$},47:{f:$$},48:{},49:{f:vV},50:{},51:{f:cX},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:b$},62:{f:HK},63:{f:xX},64:{f:uq},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ai,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:oq},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:xK},148:{f:hK,p:16},151:{f:tq},152:{},153:{f:Dq},154:{},155:{},156:{f:Pq},157:{},158:{},159:{T:1,f:P$},160:{T:-1},161:{T:1,f:xc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:qK},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oX},336:{T:-1},337:{f:hX,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ov},357:{},358:{},359:{},360:{T:1},361:{},362:{f:m$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:rq},427:{f:sq},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:nq},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:mK},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:JK},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ov},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bX},633:{T:1},634:{T:-1},635:{T:1,f:yX},636:{T:-1},637:{f:jV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Sq},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:hq},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Fe(t,e,r,s){var a=e;if(!isNaN(a)){var i=s||(r||[]).length||0,o=t.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&xw(r)&&t.push(r)}}function oZ(t,e,r,s){var a=(r||[]).length||0;if(a<=8224)return Fe(t,e,r,a);var i=e;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=t.next(4);for(u.write_shift(2,i),u.write_shift(2,d),t.push(r.slice(c,c+d)),c+=d;c<a;){for(u=t.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),t.push(r.slice(c,c+d)),c+=d}}}function Ff(t,e,r){return t||(t=ge(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function lZ(t,e,r,s){var a=ge(9);return Ff(a,t,e),t3(r,s||"b",a),a}function cZ(t,e,r){var s=ge(8+2*r.length);return Ff(s,t,e),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function dZ(t,e,r,s){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?ka(sa(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Fe(t,2,S$(r,s,a)):Fe(t,3,j$(r,s,a));return;case"b":case"e":Fe(t,5,lZ(r,s,e.v,e.t));return;case"s":case"str":Fe(t,4,cZ(r,s,(e.v||"").slice(0,255)));return}Fe(t,1,Ff(null,r,s))}function uZ(t,e,r,s){var a=Array.isArray(e),i=br(e["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Qr(i)}for(var d=i.s.r;d<=i.e.r;++d){l=_s(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=Ws(u)),o=c[u]+l;var h=a?(e[d]||[])[u]:e[o];h&&dZ(t,h,d,u)}}}function hZ(t,e){for(var r=e||{},s=Ca(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Fe(s,r.biff==4?1033:r.biff==3?521:9,ww(t,16,r)),uZ(s,t.Sheets[t.SheetNames[a]],a,r),Fe(s,10),s.end()}function fZ(t,e,r){Fe(t,49,i$({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function mZ(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&Fe(t,1054,c$(a,e[a],r))})}function xZ(t,e){var r=ge(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Fe(t,2151,r),r=ge(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),a3(br(e["!ref"]||"A1"),r),r.write_shift(4,4),Fe(t,2152,r)}function pZ(t,e){for(var r=0;r<16;++r)Fe(t,224,NC({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(s){Fe(t,224,NC(s,0,e))})}function gZ(t,e){for(var r=0;r<e["!links"].length;++r){var s=e["!links"][r];Fe(t,440,g$(s)),s[1].Tooltip&&Fe(t,2048,y$(s))}delete e["!links"]}function yZ(t,e){if(e){var r=0;e.forEach(function(s,a){++r<=256&&s&&Fe(t,125,w$(qx(a,s),a))})}}function vZ(t,e,r,s,a){var i=16+$o(a.cellXfs,e,a);if(e.v==null&&!e.bf){Fe(t,513,ac(r,s,i));return}if(e.bf)Fe(t,6,WG(e,r,s,a,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?ka(sa(e.v)):e.v;Fe(t,515,f$(r,s,o,i));break;case"b":case"e":Fe(t,517,h$(r,s,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var l=kw(a.Strings,e.v,a.revStrings);Fe(t,253,o$(r,s,l,i))}else Fe(t,516,l$(r,s,(e.v||"").slice(0,255),i,a));break;default:Fe(t,513,ac(r,s,i))}}function bZ(t,e,r){var s=Ca(),a=r.SheetNames[t],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[t]||{},c=Array.isArray(i),d=e.biff==8,u,h="",f=[],m=br(i["!ref"]||"A1"),p=d?65536:16384;if(m.e.c>255||m.e.r>=p){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}Fe(s,2057,ww(r,16,e)),Fe(s,13,tn(1)),Fe(s,12,tn(100)),Fe(s,15,Qs(!0)),Fe(s,17,Qs(!1)),Fe(s,16,sc(.001)),Fe(s,95,Qs(!0)),Fe(s,42,Qs(!1)),Fe(s,43,Qs(!1)),Fe(s,130,tn(1)),Fe(s,128,u$()),Fe(s,131,Qs(!1)),Fe(s,132,Qs(!1)),d&&yZ(s,i["!cols"]),Fe(s,512,d$(m,e)),d&&(i["!links"]=[]);for(var x=m.s.r;x<=m.e.r;++x){h=_s(x);for(var g=m.s.c;g<=m.e.c;++g){x===m.s.r&&(f[g]=Ws(g)),u=f[g]+h;var y=c?(i[x]||[])[g]:i[u];y&&(vZ(s,y,x,g,e),d&&y.l&&i["!links"].push([u,y.l]))}}var v=l.CodeName||l.name||a;return d&&Fe(s,574,n$((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&Fe(s,229,p$(i["!merges"])),d&&gZ(s,i),Fe(s,442,s3(v)),d&&xZ(s,i),Fe(s,10),s.end()}function wZ(t,e,r){var s=Ca(),a=(t||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Fe(s,2057,ww(t,5,r)),r.bookType=="xla"&&Fe(s,135),Fe(s,225,l?tn(1200):null),Fe(s,193,$V(2)),c&&Fe(s,191),c&&Fe(s,192),Fe(s,226),Fe(s,92,t$("SheetJS",r)),Fe(s,66,tn(l?1200:1252)),l&&Fe(s,353,tn(0)),l&&Fe(s,448),Fe(s,317,N$(t.SheetNames.length)),l&&t.vbaraw&&Fe(s,211),l&&t.vbaraw){var d=o.CodeName||"ThisWorkbook";Fe(s,442,s3(d))}Fe(s,156,tn(17)),Fe(s,25,Qs(!1)),Fe(s,18,Qs(!1)),Fe(s,19,tn(0)),l&&Fe(s,431,Qs(!1)),l&&Fe(s,444,tn(0)),Fe(s,61,a$()),Fe(s,64,Qs(!1)),Fe(s,141,tn(0)),Fe(s,34,Qs(kq(t)=="true")),Fe(s,14,Qs(!0)),l&&Fe(s,439,Qs(!1)),Fe(s,218,tn(0)),fZ(s,t,r),mZ(s,t.SSF,r),pZ(s,r),l&&Fe(s,352,Qs(!1));var u=s.end(),h=Ca();l&&Fe(h,140,v$()),l&&r.Strings&&oZ(h,252,s$(r.Strings)),Fe(h,10);var f=h.end(),m=Ca(),p=0,x=0;for(x=0;x<t.SheetNames.length;++x)p+=(l?12:11)+(l?2:1)*t.SheetNames[x].length;var g=u.length+p+f.length;for(x=0;x<t.SheetNames.length;++x){var y=i[x]||{};Fe(m,133,r$({pos:g,hs:y.Hidden||0,dt:0,name:t.SheetNames[x]},r)),g+=e[x].length}var v=m.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var b=[];return u.length&&b.push(u),v.length&&b.push(v),f.length&&b.push(f),Ss(b)}function NZ(t,e){var r=e||{},s=[];t&&!t.SSF&&(t.SSF=Aa(Ur)),t&&t.SSF&&(Vx(),Yx(t.SSF),r.revssf=$x(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Aw(r),r.cellXfs=[],$o(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)s[s.length]=bZ(a,r,t);return s.unshift(wZ(t,s,r)),Ss(s)}function P3(t,e){for(var r=0;r<=t.SheetNames.length;++r){var s=t.Sheets[t.SheetNames[r]];if(!(!s||!s["!ref"])){var a=Ya(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return NZ(t,e);case 4:case 3:case 2:return hZ(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function jZ(t,e,r,s){for(var a=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=rr({r,c:o}),h=s.dense?(t[r]||[])[o]:t[u],f=h&&h.v!=null&&(h.h||eV(h.w||(Oi(h),h.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),s.editable?f='<span contenteditable="true">'+f+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),m.id=(s.id||"sjs")+"-"+u,i.push(Me("td",f,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var SZ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',CZ="</body></html>";function kZ(t,e,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function _3(t,e){var r=e||{},s=r.header!=null?r.header:SZ,a=r.footer!=null?r.footer:CZ,i=[s],o=Ya(t["!ref"]);r.dense=Array.isArray(t),i.push(kZ(t,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(jZ(t,o,l,r));return i.push("</table>"+a),i.join("")}function D3(t,e,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?ms(s.origin):s.origin;a=o.r,i=o.c}var l=e.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var u=Ya(t["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var h=[],f=0,m=t["!rows"]||(t["!rows"]=[]),p=0,x=0,g=0,y=0,v=0,b=0;for(t["!cols"]||(t["!cols"]=[]);p<l.length&&x<c;++p){var w=l[p];if(EC(w)){if(s.display)continue;m[x]={hidden:!0}}var N=w.children;for(g=y=0;g<N.length;++g){var C=N[g];if(!(s.display&&EC(C))){var S=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):aV(C.innerHTML),k=C.getAttribute("data-z")||C.getAttribute("z");for(f=0;f<h.length;++f){var A=h[f];A.s.c==y+i&&A.s.r<x+a&&x+a<=A.e.r&&(y=A.e.c+1-i,f=-1)}b=+C.getAttribute("colspan")||1,((v=+C.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:x+a,c:y+i},e:{r:x+a+(v||1)-1,c:y+i+(b||1)-1}});var T={t:"s",v:S},E=C.getAttribute("data-t")||C.getAttribute("t")||"";S!=null&&(S.length==0?T.t=E||"z":s.raw||S.trim().length==0||E=="s"||(S==="TRUE"?T={t:"b",v:!0}:S==="FALSE"?T={t:"b",v:!1}:isNaN(ki(S))?isNaN(Kh(S).getDate())||(T={t:"d",v:sa(S)},s.cellDates||(T={t:"n",v:ka(T.v)}),T.z=s.dateNF||Ur[14]):T={t:"n",v:ki(S)})),T.z===void 0&&k!=null&&(T.z=k);var D="",_=C.getElementsByTagName("A");if(_&&_.length)for(var z=0;z<_.length&&!(_[z].hasAttribute("href")&&(D=_[z].getAttribute("href"),D.charAt(0)!="#"));++z);D&&D.charAt(0)!="#"&&(T.l={Target:D}),s.dense?(t[x+a]||(t[x+a]=[]),t[x+a][y+i]=T):t[rr({c:y+i,r:x+a})]=T,d.e.c<y+i&&(d.e.c=y+i),y+=b}}++x}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,x-1+a),t["!ref"]=Qr(d),x>=c&&(t["!fullref"]=Qr((d.e.r=l.length-p+x-1+a,d))),t}function M3(t,e){var r=e||{},s=r.dense?[]:{};return D3(s,t,e)}function AZ(t,e){return uc(M3(t,e),e)}function EC(t){var e="",r=TZ(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function TZ(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var EZ=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Zh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return es+e}}(),PC=function(){var t=function(i){return Jt(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Jt(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,h=Ya(i["!ref"]||"A1"),f=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var x="",g=i["!rows"]||[];for(d=0;d<h.s.r;++d)x=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;d<=h.e.r;++d){for(x=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+x+`>
`),u=0;u<h.s.c;++u)c.push(e);for(;u<=h.e.c;++u){var y=!1,v={},b="";for(m=0;m!=f.length;++m)if(!(f[m].s.c>u)&&!(f[m].s.r>d)&&!(f[m].e.c<u)&&!(f[m].e.r<d)){(f[m].s.c!=u||f[m].s.r!=d)&&(y=!0),v["table:number-columns-spanned"]=f[m].e.c-f[m].s.c+1,v["table:number-rows-spanned"]=f[m].e.r-f[m].s.r+1;break}if(y){c.push(r);continue}var w=rr({r:d,c:u}),N=p?(i[d]||[])[u]:i[w];if(N&&N.f&&(v["table:formula"]=Jt(KG(N.f)),N.F&&N.F.slice(0,w.length)==w)){var C=Ya(N.F);v["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,v["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!N){c.push(e);continue}switch(N.t){case"b":b=N.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=N.v?"true":"false";break;case"n":b=N.w||String(N.v||0),v["office:value-type"]="float",v["office:value"]=N.v||0;break;case"s":case"str":b=N.v==null?"":N.v,v["office:value-type"]="string";break;case"d":b=N.w||sa(N.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=sa(N.v).toISOString(),v["table:style-name"]="ce1";break;default:c.push(e);continue}var S=t(b);if(N.l&&N.l.Target){var k=N.l.Target;k=k.charAt(0)=="#"?"#"+qG(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),S=Me("text:a",S,{"xlink:href":k.replace(/&/g,"&amp;")})}c.push("          "+Me("table:table-cell",Me("text:p",S,{}),v)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Nw(h),h.ods=l;var f=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[es],d=Zh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Zh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(G5().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(s(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function R3(t,e){if(e.bookType=="fods")return PC(t,e);var r=uw(),s="",a=[],i=[];return s="mimetype",mt(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",mt(r,s,PC(t,e)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",mt(r,s,EZ(t,e)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",mt(r,s,es+G5()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",mt(r,s,HV(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",mt(r,s,BV(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function tx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function PZ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):An(qh(t))}function _Z(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var s=0;s<e.length;++s)if(t[r+s]!=e[s])continue e;return!0}return!1}function Oo(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),s=0;return t.forEach(function(a){r.set(a,s),s+=a.length}),r}function DZ(t,e,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);t[e+15]|=s>>7,t[e+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function Qh(t,e){var r=e?e[0]:0,s=t[r]&127;e:if(t[r++]>=128&&(s|=(t[r]&127)<<7,t[r++]<128||(s|=(t[r]&127)<<14,t[r++]<128)||(s|=(t[r]&127)<<21,t[r++]<128)||(s+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(s+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(s+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),s}function Gt(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function nd(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ss(t){for(var e=[],r=[0];r[0]<t.length;){var s=r[0],a=Qh(t,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:o=4,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Qh(t,r),l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function vs(t){var e=[];return t.forEach(function(r,s){r.forEach(function(a){a.data&&(e.push(Gt(s*8+a.type)),a.type==2&&e.push(Gt(a.data.length)),e.push(a.data))})}),Oo(e)}function pn(t){for(var e,r=[],s=[0];s[0]<t.length;){var a=Qh(t,s),i=ss(t.slice(s[0],s[0]+a));s[0]+=a;var o={id:nd(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ss(l.data),d=nd(c[3][0].data);o.messages.push({meta:c,data:t.slice(s[0],s[0]+d)}),s[0]+=d}),(e=i[3])!=null&&e[0]&&(o.merge=nd(i[3][0].data)>>>0>0),r.push(o)}return r}function Sc(t){var e=[];return t.forEach(function(r){var s=[];s[1]=[{data:Gt(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:Gt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Gt(o.data.length)}],s[2].push({data:vs(o.meta),type:2})});var i=vs(s);e.push(Gt(i.length)),e.push(i),a.forEach(function(o){return e.push(o)})}),Oo(e)}function MZ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],s=Qh(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[r[0]],l>1&&(o|=e[r[0]+1]<<8),l>2&&(o|=e[r[0]+2]<<16),l>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(d=(e[r[0]++]>>2)+1,i==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Oo(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Oo(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function gn(t){for(var e=[],r=0;r<t.length;){var s=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(MZ(s,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Oo(e)}function Cc(t){for(var e=[],r=0;r<t.length;){var s=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=Gt(s),o=i.length;e.push(i),s<=60?(o++,e.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,e.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,e.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,e.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,e.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),e.push(t.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return Oo(e)}function Pg(t,e){var r=new Uint8Array(32),s=tx(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,DZ(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,s.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return s.setUint32(8,i,!0),r.slice(0,a)}function _g(t,e){var r=new Uint8Array(32),s=tx(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,s.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,s.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return s.setUint32(4,i,!0),r.slice(0,a)}function $i(t){var e=ss(t);return Qh(e[1][0].data)}function RZ(t,e,r){var s,a,i,o;if(!((s=t[6])!=null&&s[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&nd(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=tx(t[7][0].data),u=0,h=[],f=tx(t[4][0].data),m=0,p=[],x=0;x<e.length;++x){if(e[x]==null){d.setUint16(x*2,65535,!0),f.setUint16(x*2,65535);continue}d.setUint16(x*2,u,!0),f.setUint16(x*2,m,!0);var g,y;switch(typeof e[x]){case"string":g=Pg({t:"s",v:e[x]},r),y=_g({t:"s",v:e[x]},r);break;case"number":g=Pg({t:"n",v:e[x]},r),y=_g({t:"n",v:e[x]},r);break;case"boolean":g=Pg({t:"b",v:e[x]},r),y=_g({t:"b",v:e[x]},r);break;default:throw new Error("Unsupported value "+e[x])}h.push(g),u+=g.length,p.push(y),m+=y.length,++c}for(t[2][0].data=Gt(c);x<t[7][0].data.length/2;++x)d.setUint16(x*2,65535,!0),f.setUint16(x*2,65535,!0);return t[6][0].data=Oo(h),t[3][0].data=Oo(p),c}function FZ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Ya(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Qr(s)));var i=rx(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(Q){return Q.forEach(function(W){typeof W=="string"&&o.push(W)})});var l={},c=[],d=nr.read(e.numbers,{type:"base64"});d.FileIndex.map(function(Q,W){return[Q,d.FullPaths[W]]}).forEach(function(Q){var W=Q[0],G=Q[1];if(W.type==2&&W.name.match(/\.iwa/)){var te=W.content,ee=gn(te),I=pn(ee);I.forEach(function(oe){c.push(oe.id),l[oe.id]={deps:[],location:G,type:nd(oe.messages[0].meta[1][0].data)}})}}),c.sort(function(Q,W){return Q-W});var u=c.filter(function(Q){return Q>1}).map(function(Q){return[Q,Gt(Q)]});d.FileIndex.map(function(Q,W){return[Q,d.FullPaths[W]]}).forEach(function(Q){var W=Q[0];if(Q[1],!!W.name.match(/\.iwa/)){var G=pn(gn(W.content));G.forEach(function(te){te.messages.forEach(function(ee){u.forEach(function(I){te.messages.some(function(oe){return nd(oe.meta[1][0].data)!=11006&&_Z(oe.data,I[1])})&&l[I[0]].deps.push(te.id)})})})}});for(var h=nr.find(d,l[1].location),f=pn(gn(h.content)),m,p=0;p<f.length;++p){var x=f[p];x.id==1&&(m=x)}var g=$i(ss(m.messages[0].data)[1][0].data);for(h=nr.find(d,l[g].location),f=pn(gn(h.content)),p=0;p<f.length;++p)x=f[p],x.id==g&&(m=x);for(g=$i(ss(m.messages[0].data)[2][0].data),h=nr.find(d,l[g].location),f=pn(gn(h.content)),p=0;p<f.length;++p)x=f[p],x.id==g&&(m=x);for(g=$i(ss(m.messages[0].data)[2][0].data),h=nr.find(d,l[g].location),f=pn(gn(h.content)),p=0;p<f.length;++p)x=f[p],x.id==g&&(m=x);var y=ss(m.messages[0].data);{y[6][0].data=Gt(s.e.r+1),y[7][0].data=Gt(s.e.c+1);var v=$i(y[46][0].data),b=nr.find(d,l[v].location),w=pn(gn(b.content));{for(var N=0;N<w.length&&w[N].id!=v;++N);if(w[N].id!=v)throw"Bad ColumnRowUIDMapArchive";var C=ss(w[N].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var S=0;S<=s.e.c;++S){var k=[];k[1]=k[2]=[{type:0,data:Gt(S+420690)}],C[1].push({type:2,data:vs(k)}),C[2].push({type:0,data:Gt(S)}),C[3].push({type:0,data:Gt(S)})}C[4]=[],C[5]=[],C[6]=[];for(var A=0;A<=s.e.r;++A)k=[],k[1]=k[2]=[{type:0,data:Gt(A+726270)}],C[4].push({type:2,data:vs(k)}),C[5].push({type:0,data:Gt(A)}),C[6].push({type:0,data:Gt(A)});w[N].messages[0].data=vs(C)}b.content=Cc(Sc(w)),b.size=b.content.length,delete y[46];var T=ss(y[4][0].data);{T[7][0].data=Gt(s.e.r+1);var E=ss(T[1][0].data),D=$i(E[2][0].data);b=nr.find(d,l[D].location),w=pn(gn(b.content));{if(w[0].id!=D)throw"Bad HeaderStorageBucket";var _=ss(w[0].messages[0].data);for(A=0;A<i.length;++A){var z=ss(_[2][0].data);z[1][0].data=Gt(A),z[4][0].data=Gt(i[A].length),_[2][A]={type:_[2][0].type,data:vs(z)}}w[0].messages[0].data=vs(_)}b.content=Cc(Sc(w)),b.size=b.content.length;var H=$i(T[2][0].data);b=nr.find(d,l[H].location),w=pn(gn(b.content));{if(w[0].id!=H)throw"Bad HeaderStorageBucket";for(_=ss(w[0].messages[0].data),S=0;S<=s.e.c;++S)z=ss(_[2][0].data),z[1][0].data=Gt(S),z[4][0].data=Gt(s.e.r+1),_[2][S]={type:_[2][0].type,data:vs(z)};w[0].messages[0].data=vs(_)}b.content=Cc(Sc(w)),b.size=b.content.length;var q=$i(T[4][0].data);(function(){for(var Q=nr.find(d,l[q].location),W=pn(gn(Q.content)),G,te=0;te<W.length;++te){var ee=W[te];ee.id==q&&(G=ee)}var I=ss(G.messages[0].data);{I[3]=[];var oe=[];o.forEach(function(ye,Ae){oe[1]=[{type:0,data:Gt(Ae)}],oe[2]=[{type:0,data:Gt(1)}],oe[3]=[{type:2,data:PZ(ye)}],I[3].push({type:2,data:vs(oe)})})}G.messages[0].data=vs(I);var V=Sc(W),pe=Cc(V);Q.content=pe,Q.size=Q.content.length})();var K=ss(T[3][0].data);{var Y=K[1][0];delete K[2];var J=ss(Y.data);{var Z=$i(J[2][0].data);(function(){for(var Q=nr.find(d,l[Z].location),W=pn(gn(Q.content)),G,te=0;te<W.length;++te){var ee=W[te];ee.id==Z&&(G=ee)}var I=ss(G.messages[0].data);{delete I[6],delete K[7];var oe=new Uint8Array(I[5][0].data);I[5]=[];for(var V=0,pe=0;pe<=s.e.r;++pe){var ye=ss(oe);V+=RZ(ye,i[pe],o),ye[1][0].data=Gt(pe),I[5].push({data:vs(ye),type:2})}I[1]=[{type:0,data:Gt(s.e.c+1)}],I[2]=[{type:0,data:Gt(s.e.r+1)}],I[3]=[{type:0,data:Gt(V)}],I[4]=[{type:0,data:Gt(s.e.r+1)}]}G.messages[0].data=vs(I);var Ae=Sc(W),Re=Cc(Ae);Q.content=Re,Q.size=Q.content.length})()}Y.data=vs(J)}T[3][0].data=vs(K)}y[4][0].data=vs(T)}m.messages[0].data=vs(y);var ne=Sc(f),F=Cc(ne);return h.content=F,h.size=h.content.length,d}function LZ(t){return function(r){for(var s=0;s!=t.length;++s){var a=t[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Aw(t){LZ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function IZ(t,e){return e.bookType=="ods"?R3(t,e):e.bookType=="numbers"?FZ(t,e):e.bookType=="xlsb"?OZ(t,e):BZ(t,e)}function OZ(t,e){Xc=1024,t&&!t.SSF&&(t.SSF=Aa(Ur)),t&&t.SSF&&(Vx(),Yx(t.SSF),e.revssf=$x(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,lh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",s=p3.indexOf(e.bookType)>-1,a=V5();Aw(e=e||{});var i=uw(),o="",l=0;if(e.cellXfs=[],$o(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",mt(i,o,K5(t.Props,e)),a.coreprops.push(o),Zt(e.rels,2,o,It.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(t.SheetNames[d]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,mt(i,o,Z5(t.Props)),a.extprops.push(o),Zt(e.rels,3,o,It.EXT_PROPS),t.Custprops!==t.Props&&Rs(t.Custprops||{}).length>0&&(o="docProps/custom.xml",mt(i,o,Q5(t.Custprops)),a.custprops.push(o),Zt(e.rels,4,o,It.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var u={"!id":{}},h=t.Sheets[t.SheetNames[l-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,mt(i,o,Hq(l-1,o,e,t,u)),a.sheets.push(o),Zt(e.wbrels,-1,"worksheets/sheet"+l+"."+r,It.WS[0])}if(h){var m=h["!comments"],p=!1,x="";m&&m.length>0&&(x="xl/comments"+l+"."+r,mt(i,x,Yq(m,x)),a.comments.push(x),Zt(u,-1,"../comments"+l+"."+r,It.CMNT),p=!0),h["!legacy"]&&p&&mt(i,"xl/drawings/vmlDrawing"+l+".vml",m3(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&mt(i,X5(o),sd(u))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,mt(i,o,Wq(e.Strings,o,e)),a.strs.push(o),Zt(e.wbrels,-1,"sharedStrings."+r,It.SST)),o="xl/workbook."+r,mt(i,o,Uq(t,o)),a.workbooks.push(o),Zt(e.rels,1,o,It.WB),o="xl/theme/theme1.xml",mt(i,o,h3(t.Themes,e)),a.themes.push(o),Zt(e.wbrels,-1,"theme/theme1.xml",It.THEME),o="xl/styles."+r,mt(i,o,zq(t,o,e)),a.styles.push(o),Zt(e.wbrels,-1,"styles."+r,It.STY),t.vbaraw&&s&&(o="xl/vbaProject.bin",mt(i,o,t.vbaraw),a.vba.push(o),Zt(e.wbrels,-1,"vbaProject.bin",It.VBA)),o="xl/metadata."+r,mt(i,o,Vq(o)),a.metadata.push(o),Zt(e.wbrels,-1,"metadata."+r,It.XLMETA),mt(i,"[Content_Types].xml",$5(a,e)),mt(i,"_rels/.rels",sd(e.rels)),mt(i,"xl/_rels/workbook."+r+".rels",sd(e.wbrels)),delete e.revssf,delete e.ssf,i}function BZ(t,e){Xc=1024,t&&!t.SSF&&(t.SSF=Aa(Ur)),t&&t.SSF&&(Vx(),Yx(t.SSF),e.revssf=$x(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,lh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",s=p3.indexOf(e.bookType)>-1,a=V5();Aw(e=e||{});var i=uw(),o="",l=0;if(e.cellXfs=[],$o(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",mt(i,o,K5(t.Props,e)),a.coreprops.push(o),Zt(e.rels,2,o,It.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(t.SheetNames[d]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,mt(i,o,Z5(t.Props)),a.extprops.push(o),Zt(e.rels,3,o,It.EXT_PROPS),t.Custprops!==t.Props&&Rs(t.Custprops||{}).length>0&&(o="docProps/custom.xml",mt(i,o,Q5(t.Custprops)),a.custprops.push(o),Zt(e.rels,4,o,It.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var h={"!id":{}},f=t.Sheets[t.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,mt(i,o,C3(l-1,e,t,h)),a.sheets.push(o),Zt(e.wbrels,-1,"worksheets/sheet"+l+"."+r,It.WS[0])}if(f){var p=f["!comments"],x=!1,g="";if(p&&p.length>0){var y=!1;p.forEach(function(v){v[1].forEach(function(b){b.T==!0&&(y=!0)})}),y&&(g="xl/threadedComments/threadedComment"+l+"."+r,mt(i,g,pX(p,u,e)),a.threadedcomments.push(g),Zt(h,-1,"../threadedComments/threadedComment"+l+"."+r,It.TCMNT)),g="xl/comments"+l+"."+r,mt(i,g,x3(p)),a.comments.push(g),Zt(h,-1,"../comments"+l+"."+r,It.CMNT),x=!0}f["!legacy"]&&x&&mt(i,"xl/drawings/vmlDrawing"+l+".vml",m3(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&mt(i,X5(o),sd(h))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,mt(i,o,i3(e.Strings,e)),a.strs.push(o),Zt(e.wbrels,-1,"sharedStrings."+r,It.SST)),o="xl/workbook."+r,mt(i,o,T3(t)),a.workbooks.push(o),Zt(e.rels,1,o,It.WB),o="xl/theme/theme1.xml",mt(i,o,h3(t.Themes,e)),a.themes.push(o),Zt(e.wbrels,-1,"theme/theme1.xml",It.THEME),o="xl/styles."+r,mt(i,o,d3(t,e)),a.styles.push(o),Zt(e.wbrels,-1,"styles."+r,It.STY),t.vbaraw&&s&&(o="xl/vbaProject.bin",mt(i,o,t.vbaraw),a.vba.push(o),Zt(e.wbrels,-1,"vbaProject.bin",It.VBA)),o="xl/metadata."+r,mt(i,o,f3()),a.metadata.push(o),Zt(e.wbrels,-1,"metadata."+r,It.XLMETA),u.length>1&&(o="xl/persons/person.xml",mt(i,o,gX(u)),a.people.push(o),Zt(e.wbrels,-1,"persons/person.xml",It.PEOPLE)),mt(i,"[Content_Types].xml",$5(a,e)),mt(i,"_rels/.rels",sd(e.rels)),mt(i,"xl/_rels/workbook."+r+".rels",sd(e.wbrels)),delete e.revssf,delete e.ssf,i}function UZ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ii(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function F3(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return _f(e.file,nr.write(t,{type:Ut?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return nr.write(t,e)}function HZ(t,e){var r=Aa(e||{}),s=IZ(t,r);return zZ(s,r)}function zZ(t,e){var r={},s=Ut?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=s;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?nr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Wx(a))}return e.password&&typeof encrypt_agile<"u"?F3(encrypt_agile(a,e.password),e):e.type==="file"?_f(e.file,a):e.type=="string"?ah(a):a}function WZ(t,e){var r=e||{},s=nZ(t,r);return F3(s,r)}function Vn(t,e,r){r||(r="");var s=r+t;switch(e.type){case"base64":return Gh(qh(s));case"binary":return qh(s);case"string":return t;case"file":return _f(e.file,s,"utf8");case"buffer":return Ut?Wi(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):Vn(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function YZ(t,e){switch(e.type){case"base64":return Gh(t);case"binary":return t;case"string":return t;case"file":return _f(e.file,t,"binary");case"buffer":return Ut?Wi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function b0(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",s=0;s<t.length;++s)r+=String.fromCharCode(t[s]);return e.type=="base64"?Gh(r):e.type=="string"?ah(r):r;case"file":return _f(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function L3(t,e){yY(),Eq(t);var r=Aa(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=L3(t,r);return r.type="array",Wx(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Vn(sZ(t,r),r);case"slk":case"sylk":return Vn(k$.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return Vn(_3(t.Sheets[t.SheetNames[a]],r),r);case"txt":return YZ(I3(t.Sheets[t.SheetNames[a]],r),r);case"csv":return Vn(Tw(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return Vn(A$.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return b0(C$.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return Vn(T$.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return Vn(F$.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return Vn(n3.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return Vn(R3(t,r),r);case"wk1":return b0(jC.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return b0(jC.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),b0(P3(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),WZ(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return HZ(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function VZ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function id(t,e,r){var s={};return s.type="file",s.file=e,VZ(s),L3(t,s)}function $Z(t,e,r,s,a,i,o,l){var c=_s(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,f=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch{f.__rowNum__=r}else f.__rowNum__=r;if(!o||t[r])for(var m=e.s.c;m<=e.e.c;++m){var p=o?t[r][m]:t[s[m]+c];if(p===void 0||p.t===void 0){if(d===void 0)continue;i[m]!=null&&(f[i[m]]=d);continue}var x=p.v;switch(p.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(x==null)if(p.t=="e"&&x===null)f[i[m]]=null;else if(d!==void 0)f[i[m]]=d;else if(u&&x===null)f[i[m]]=null;else continue;else f[i[m]]=u&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?x:Oi(p,x,l);x!=null&&(h=!1)}}return{row:f,isempty:h}}function rx(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},u=d.range!=null?d.range:t["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=br(u);break;case"number":c=br(t["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var h=_s(c.s.r),f=[],m=[],p=0,x=0,g=Array.isArray(t),y=c.s.r,v=0,b={};g&&!t[y]&&(t[y]=[]);var w=d.skipHidden&&t["!cols"]||[],N=d.skipHidden&&t["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(w[v]||{}).hidden)switch(f[v]=Ws(v),r=g?t[y][v]:t[f[v]+h],s){case 1:i[v]=v-c.s.c;break;case 2:i[v]=f[v];break;case 3:i[v]=d.header[v-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Oi(r,null,d),x=b[o]||0,!x)b[o]=1;else{do l=o+"_"+x++;while(b[l]);b[o]=x,b[l]=1}i[v]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(N[y]||{}).hidden){var C=$Z(t,c,y,f,s,i,g,d);(C.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(m[p++]=C.row)}return m.length=p,m}var _C=/"/g;function XZ(t,e,r,s,a,i,o,l){for(var c=!0,d=[],u="",h=_s(r),f=e.s.c;f<=e.e.c;++f)if(s[f]){var m=l.dense?(t[r]||[])[f]:t[s[f]+h];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(l.rawNumbers&&m.t=="n"?m.v:Oi(m,null,l));for(var p=0,x=0;p!==u.length;++p)if((x=u.charCodeAt(p))===a||x===i||x===34||l.forceQuotes){u='"'+u.replace(_C,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(_C,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function Tw(t,e){var r=[],s=e??{};if(t==null||t["!ref"]==null)return"";var a=br(t["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];s.dense=Array.isArray(t);for(var f=s.skipHidden&&t["!cols"]||[],m=s.skipHidden&&t["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(f[p]||{}).hidden||(h[p]=Ws(p));for(var x=0,g=a.s.r;g<=a.e.r;++g)(m[g]||{}).hidden||(u=XZ(t,a,g,h,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((x++?l:"")+u)));return delete s.dense,r.join("")}function I3(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Tw(t,e);return r}function GZ(t){var e="",r,s="";if(t==null||t["!ref"]==null)return[];var a=br(t["!ref"]),i="",o=[],l,c=[],d=Array.isArray(t);for(l=a.s.c;l<=a.e.c;++l)o[l]=Ws(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=_s(u),l=a.s.c;l<=a.e.c;++l)if(e=o[l]+i,r=d?(t[u]||[])[l]:t[e],s="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;s=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=e+"="+s}return c}function O3(t,e,r){var s=r||{},a=+!s.skipHeader,i=t||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?ms(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+e.length-1+a}};if(i["!ref"]){var h=br(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+e.length-1+a)}else o==-1&&(o=0,u.e.r=e.length-1+a);var f=s.header||[],m=0;e.forEach(function(x,g){Rs(x).forEach(function(y){(m=f.indexOf(y))==-1&&(f[m=f.length]=y);var v=x[y],b="z",w="",N=rr({c:l+m,r:o+g+a});d=Jh(i,N),v&&typeof v=="object"&&!(v instanceof Date)?i[N]=v:(typeof v=="number"?b="n":typeof v=="boolean"?b="b":typeof v=="string"?b="s":v instanceof Date?(b="d",s.cellDates||(b="n",v=ka(v)),w=s.dateNF||Ur[14]):v===null&&s.nullError&&(b="e",v=0),d?(d.t=b,d.v=v,delete d.w,delete d.R,w&&(d.z=w)):i[N]=d={t:b,v},w&&(d.z=w))})}),u.e.c=Math.max(u.e.c,l+f.length-1);var p=_s(o);if(a)for(m=0;m<f.length;++m)i[Ws(m+l)+p]={t:"s",v:f[m]};return i["!ref"]=Qr(u),i}function KZ(t,e){return O3(null,t,e)}function Jh(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var s=ms(e);return t[s.r]||(t[s.r]=[]),t[s.r][s.c]||(t[s.r][s.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Jh(t,rr(e)):Jh(t,rr({r:e,c:r||0}))}function qZ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function ZZ(){return{SheetNames:[],Sheets:{}}}function QZ(t,e,r,s){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=o+a)!=-1;++a);}if(A3(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function JZ(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var s=qZ(t,e);switch(t.Workbook.Sheets[s]||(t.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[s].Hidden=r}function eQ(t,e){return t.z=e,t}function B3(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function tQ(t,e,r){return B3(t,"#"+e,r)}function rQ(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function sQ(t,e,r,s){for(var a=typeof e!="string"?e:br(e),i=typeof e=="string"?e:Qr(e),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Jh(t,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return t}var us={encode_col:Ws,encode_row:_s,encode_cell:rr,encode_range:Qr,decode_col:gw,decode_row:pw,split_cell:yV,decode_cell:ms,decode_range:Ya,format_cell:Oi,sheet_add_aoa:B5,sheet_add_json:O3,sheet_add_dom:D3,aoa_to_sheet:du,json_to_sheet:KZ,table_to_sheet:M3,table_to_book:AZ,sheet_to_csv:Tw,sheet_to_txt:I3,sheet_to_json:rx,sheet_to_html:_3,sheet_to_formulae:GZ,sheet_to_row_object_array:rx,sheet_get_cell:Jh,book_new:ZZ,book_append_sheet:QZ,book_set_sheet_visibility:JZ,cell_set_number_format:eQ,cell_set_hyperlink:B3,cell_set_internal_link:tQ,cell_add_comment:rQ,sheet_set_array_formula:sQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Bi={all:["settings"],shop:()=>[...Bi.all,"shop"]};function Zx(){return Vt({queryKey:Bi.shop(),queryFn:async()=>(await Pe.get("/shop/settings")).data,staleTime:1e3*60*5})}function aQ(){const t=sr();return Ht({mutationFn:async e=>await Pe.post("/shop/settings/password",e),onSuccess:()=>{t.invalidateQueries({queryKey:["auth"]})}})}function nQ(){const t=sr();return Ht({mutationFn:async e=>(await Pe.put("/shop/settings/notifications",e)).data,onSuccess:e=>{t.setQueryData(Bi.shop(),e),t.invalidateQueries({queryKey:Bi.shop()})}})}function iQ(){const t=sr();return Ht({mutationFn:async e=>(await Pe.put("/shop/settings/telegram",e)).data,onSuccess:e=>{t.setQueryData(Bi.shop(),e),t.invalidateQueries({queryKey:Bi.shop()})}})}function oQ(){const t=sr();return Ht({mutationFn:async e=>await Pe.post("/shop/settings/api-keys/revoke",e),onSuccess:()=>{t.invalidateQueries({queryKey:["shop","profile"]})}})}function lQ(){return Ht({mutationFn:async()=>{const t=await Pe.post("/shop/2fa/setup");return console.log(" Full response:",t),console.log(" response.data:",t.data),t.data||t}})}function cQ(){const t=sr();return Ht({mutationFn:async e=>(await Pe.post("/shop/2fa/enable",e)).data,onSuccess:()=>{t.invalidateQueries({queryKey:Bi.shop()})}})}function dQ(){const t=sr();return Ht({mutationFn:async()=>await Pe.post("/shop/2fa/disable"),onSuccess:()=>{t.invalidateQueries({queryKey:Bi.shop()})}})}function uQ(){return Vt({queryKey:["telegramSessions"],queryFn:async()=>{const t=await Pe.get("/shop/settings/telegram/sessions");return console.log(" Telegram sessions response:",t),t.sessions||[]}})}function hQ(){const t=sr();return Ht({mutationFn:async e=>await Pe.delete(`/shop/settings/telegram/sessions/${e}`),onSuccess:()=>{t.invalidateQueries({queryKey:["telegramSessions"]}),t.invalidateQueries({queryKey:Bi.shop()})}})}const fQ=({payment:t,onClose:e})=>{var l,c;const[r,s]=P.useState(null),a=(d,u)=>{navigator.clipboard.writeText(d),s(u),setTimeout(()=>s(null),2e3)};Bl(t.gateway);const i=(d,u,h=!1,f,m,p="default",x)=>{if(u==null||u==="")return null;const y={green:{iconBg:"bg-gradient-to-br from-green-100 to-emerald-100",iconText:"text-green-600",cardBg:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50",hover:"hover:border-green-300"},blue:{iconBg:"bg-gradient-to-br from-blue-100 to-indigo-100",iconText:"text-blue-600",cardBg:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",hover:"hover:border-blue-300"},purple:{iconBg:"bg-gradient-to-br from-purple-100 to-violet-100",iconText:"text-purple-600",cardBg:"border-purple-200 bg-gradient-to-br from-purple-50 to-violet-50",hover:"hover:border-purple-300"},orange:{iconBg:"bg-gradient-to-br from-orange-100 to-amber-100",iconText:"text-orange-600",cardBg:"border-orange-200 bg-gradient-to-br from-orange-50 to-amber-50",hover:"hover:border-orange-300"},default:{iconBg:"bg-gradient-to-br from-primary/10 to-primary/20",iconText:"text-primary",cardBg:"border-gray-200 bg-gradient-to-br from-white via-gray-50 to-white",hover:"hover:border-primary/30"}}[p];return n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`group relative p-3 rounded-xl border transition-all duration-300 ${y.cardBg} ${y.hover} hover:shadow-md `,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m&&n.jsx("div",{className:`p-1.5 rounded-lg group-hover:scale-110 transition-transform duration-200 ${y.iconBg} ${y.iconText}`,children:m}),n.jsx("div",{className:"text-xs font-semibold text-gray-700 group-hover:text-gray-900 transition-colors duration-200",children:d})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 break-all mr-2 font-medium",children:typeof u=="boolean"?u?"Yes":"No":u}),h&&f&&n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>a(u.toString(),f),className:"p-2 text-gray-400 hover:text-primary hover:bg-white rounded-lg transition-all duration-200 flex-shrink-0 shadow-sm border border-gray-200 hover:border-primary/30",children:r===f?n.jsx(Rt,{className:"h-3 w-3 text-green-500"}):n.jsx(ct,{className:"h-3 w-3"})})]})]})]})},o=d=>{const u={PAID:{color:"green",icon:n.jsx(wt,{className:"h-5 w-5"}),bg:"from-green-500 to-emerald-600",text:"Paid Successfully"},PENDING:{color:"yellow",icon:n.jsx(tr,{className:"h-5 w-5"}),bg:"from-yellow-500 to-orange-500",text:"Awaiting Payment"},PROCESSING:{color:"blue",icon:n.jsx(Es,{className:"h-5 w-5 animate-spin"}),bg:"from-blue-500 to-indigo-600",text:"Processing Payment"},FAILED:{color:"red",icon:n.jsx(Ct,{className:"h-5 w-5"}),bg:"from-red-500 to-rose-600",text:"Payment Failed"},EXPIRED:{color:"gray",icon:n.jsx(hr,{className:"h-5 w-5"}),bg:"from-gray-500 to-gray-600",text:"Payment Expired"},REFUND:{color:"orange",icon:n.jsx(Bn,{className:"h-5 w-5"}),bg:"from-orange-500 to-amber-600",text:"Payment Refunded"},CHARGEBACK:{color:"red",icon:n.jsx(dt,{className:"h-5 w-5"}),bg:"from-red-600 to-red-700",text:"Chargeback Issued"},BLOCKED:{color:"red",icon:n.jsx(hr,{className:"h-5 w-5"}),bg:"from-red-600 to-red-700",text:"Payment Blocked"}},h=u[d.toUpperCase()]||u.PENDING;return n.jsxs("div",{className:`inline-flex items-center px-4 py-2 bg-gradient-to-r ${h.bg} text-white rounded-xl shadow-lg`,children:[h.icon,n.jsx("span",{className:"ml-2 font-semibold",children:h.text})]})};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden",children:[n.jsxs("div",{className:"relative px-6 py-4 bg-gradient-to-r from-primary via-primary-dark to-purple-700 text-white",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30",children:n.jsx(St,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx(X.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-lg font-bold text-white",children:"Payment Details"}),n.jsx(X.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-white/80 font-mono text-xs",children:t.id})]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"p-2 text-white/80 hover:text-white hover:bg-white/20 rounded-lg transition-all duration-200 backdrop-blur-sm",children:n.jsx(Lt,{className:"h-5 w-5"})})})]})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(85vh-100px)]",children:n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center",children:o(t.status)}),t.status.toUpperCase()==="FAILED"&&t.failure_message&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative overflow-hidden p-4 bg-gradient-to-r from-red-50 via-red-100 to-pink-50 border border-red-200 rounded-xl shadow-md",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 to-pink-500 rounded-t-xl"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-red-500 rounded-lg text-white",children:n.jsx(Ct,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-bold text-red-900 mb-1",children:"Payment Failed"}),n.jsx("p",{className:"text-red-700 leading-relaxed text-sm",children:t.failure_message.split("||")[0].trim()})]})]})]}),t.status.toUpperCase()==="BLOCKED"&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative overflow-hidden p-4 bg-gradient-to-r from-red-50 via-red-100 to-red-50 border border-red-300 rounded-xl shadow-md",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-600 to-red-700 rounded-t-xl"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-red-600 rounded-lg text-white",children:n.jsx(hr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-bold text-red-900 mb-1",children:"Payment Blocked"}),n.jsx("p",{className:"text-red-700 leading-relaxed text-sm mb-2",children:"This payment was blocked due to email validation failure:"}),n.jsxs("div",{className:"space-y-1 text-xs",children:[t.email_deliverability_status&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-red-600",children:""}),n.jsxs("span",{className:"text-red-700",children:["Email Deliverability: ",n.jsx("span",{className:"font-medium",children:t.email_deliverability_status})]})]}),t.email_is_disposable!==null&&t.email_is_disposable!==void 0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-red-600",children:""}),n.jsxs("span",{className:"text-red-700",children:["Disposable Email: ",n.jsx("span",{className:"font-medium",children:t.email_is_disposable?"Yes":"No"})]})]}),t.email_risk_level&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-red-600",children:""}),n.jsxs("span",{className:"text-red-700",children:["Risk Level: ",n.jsx("span",{className:"font-medium",children:t.email_risk_level})]})]})]})]})]})]}),t.adminNotes&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:`relative overflow-hidden p-4 rounded-xl border shadow-md ${t.status.toUpperCase()==="PAID"?"bg-gradient-to-r from-green-50 via-green-100 to-emerald-50 border-green-200":t.status.toUpperCase()==="PENDING"?"bg-gradient-to-r from-yellow-50 via-yellow-100 to-orange-50 border-yellow-200":t.status.toUpperCase()==="PROCESSING"?"bg-gradient-to-r from-blue-50 via-blue-100 to-indigo-50 border-blue-200":t.status.toUpperCase()==="FAILED"?"bg-gradient-to-r from-red-50 via-red-100 to-pink-50 border-red-200":t.status.toUpperCase()==="EXPIRED"?"bg-gradient-to-r from-gray-50 via-gray-100 to-gray-50 border-gray-200":t.status.toUpperCase()==="CHARGEBACK"?"bg-gradient-to-r from-red-50 via-red-100 to-pink-50 border-red-200":t.status.toUpperCase()==="REFUND"?"bg-gradient-to-r from-orange-50 via-orange-100 to-amber-50 border-orange-200":t.status.toUpperCase()==="BLOCKED"?"bg-gradient-to-r from-red-50 via-red-100 to-red-50 border-red-300":"bg-gradient-to-r from-gray-50 via-gray-100 to-gray-50 border-gray-200"}`,children:[n.jsx("div",{className:`absolute top-0 left-0 w-full h-1 rounded-t-xl ${t.status.toUpperCase()==="PAID"?"bg-gradient-to-r from-green-500 to-emerald-500":t.status.toUpperCase()==="PENDING"?"bg-gradient-to-r from-yellow-500 to-orange-500":t.status.toUpperCase()==="PROCESSING"?"bg-gradient-to-r from-blue-500 to-indigo-500":t.status.toUpperCase()==="FAILED"?"bg-gradient-to-r from-red-500 to-pink-500":t.status.toUpperCase()==="EXPIRED"?"bg-gradient-to-r from-gray-500 to-gray-600":t.status.toUpperCase()==="CHARGEBACK"?"bg-gradient-to-r from-red-500 to-pink-500":t.status.toUpperCase()==="REFUND"?"bg-gradient-to-r from-orange-500 to-amber-500":t.status.toUpperCase()==="BLOCKED"?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-gray-500 to-gray-600"}`}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg text-white ${t.status.toUpperCase()==="PAID"?"bg-green-500":t.status.toUpperCase()==="PENDING"?"bg-yellow-500":t.status.toUpperCase()==="PROCESSING"?"bg-blue-500":t.status.toUpperCase()==="FAILED"?"bg-red-500":t.status.toUpperCase()==="EXPIRED"?"bg-gray-500":t.status.toUpperCase()==="CHARGEBACK"?"bg-red-500":t.status.toUpperCase()==="REFUND"?"bg-orange-500":t.status.toUpperCase()==="BLOCKED"?"bg-red-600":"bg-gray-500"}`,children:n.jsx(dt,{className:"h-4 w-4"})}),n.jsx("div",{children:n.jsx("p",{className:`leading-relaxed font-medium text-sm ${t.status.toUpperCase()==="PAID"?"text-green-800":t.status.toUpperCase()==="PENDING"?"text-yellow-800":t.status.toUpperCase()==="PROCESSING"?"text-blue-800":t.status.toUpperCase()==="FAILED"?"text-red-700":t.status.toUpperCase()==="EXPIRED"?"text-gray-700":t.status.toUpperCase()==="CHARGEBACK"?"text-red-700":t.status.toUpperCase()==="REFUND"?"text-orange-700":t.status.toUpperCase()==="BLOCKED"?"text-red-700":"text-gray-700"}`,children:t.adminNotes})})]})]}),t.tx_urls&&Array.isArray(t.tx_urls)&&t.tx_urls.length>0&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"relative p-4 bg-gradient-to-r overflow-hidden from-blue-50 via-blue-100 to-indigo-50 border border-blue-200 rounded-xl shadow-md",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-t-xl"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:n.jsx(_h,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-bold text-blue-900 mb-2",children:"Transaction URLs"}),n.jsx("div",{className:"space-y-2",children:t.tx_urls.map((d,u)=>n.jsxs("div",{className:"flex items-center justify-between bg-white/70 backdrop-blur-sm rounded-lg p-3 border border-blue-200",children:[n.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 hover:text-blue-800 break-all mr-2 underline font-medium text-sm",children:d}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>a(d,`tx-url-${u}`),className:"p-1.5 text-blue-500 hover:text-blue-700 hover:bg-white rounded-md transition-all duration-200 flex-shrink-0",children:r===`tx-url-${u}`?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]},u))})]})]})]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-r from-green-100 to-emerald-100 rounded-md",children:n.jsx(Zr,{className:"h-3 w-3 text-green-600"})}),n.jsx("h4",{className:"text-xs font-bold text-green-700",children:"Financial Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[i("Amount",`${t.amount.toFixed(2)} ${t.currency}`,!1,"",n.jsx(Zr,{className:"h-4 w-4"}),"green"),t.amountAfterGatewayCommissionUSDT&&i("Amount After Commission",`${t.amountAfterGatewayCommissionUSDT.toFixed(2)} USDC`,!1,"",n.jsx(Zr,{className:"h-4 w-4"}),"green"),t.amountAfterGatewayCommissionUSDT&&i("Commission Rate",`${((t.amount-t.amountAfterGatewayCommissionUSDT)/t.amount*100).toFixed(2)}%`,!1,"",n.jsx(Fn,{className:"h-4 w-4"}),"green")]})]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-md",children:n.jsx(Sr,{className:"h-3 w-3 text-blue-600"})}),n.jsx("h4",{className:"text-xs font-bold text-blue-700",children:"Technical Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[i("Payment ID",t.id,!0,"payment-id",n.jsx(Oa,{className:"h-4 w-4"}),"blue"),i("Gateway",Bl(t.gateway),!1,"",n.jsx(Sr,{className:"h-4 w-4"}),"blue"),i("Created At",$e(new Date(t.created_at),"UTC","dd.MM.yy HH:mm")+" UTC",!1,"",n.jsx(bt,{className:"h-4 w-4"}),"blue"),t.updated_at&&i("Updated At",$e(new Date(t.updated_at),"UTC","dd.MM.yy HH:mm")+" UTC",!1,"",n.jsx(bt,{className:"h-4 w-4"}),"blue"),i("Product Name",t.product_name,!1,"",n.jsx(Oa,{className:"h-4 w-4"}),"blue")]})]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-r from-purple-100 to-violet-100 rounded-md",children:n.jsx(Dt,{className:"h-3 w-3 text-purple-600"})}),n.jsx("h4",{className:"text-xs font-bold text-purple-700",children:"Customer Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[i("Customer Name",t.customer_name,!1,"",n.jsx(Dt,{className:"h-4 w-4"}),"purple"),i("Customer Email",t.customer_email,!0,"customer-email",n.jsx(Oa,{className:"h-4 w-4"}),"purple"),i("Customer Country",t.customer_country,!1,"",n.jsx(Et,{className:"h-4 w-4"}),"purple"),t.customer_phone&&i("Customer Phone",t.customer_phone,!0,"customer-phone",n.jsx(Dt,{className:"h-4 w-4"}),"purple"),t.customer_birth_date&&i("Birth Date",t.customer_birth_date,!0,"customer-birth-date",n.jsx(Dt,{className:"h-4 w-4"}),"purple"),(t.billing_address||t.billing_city||t.billing_state||t.billing_zip)&&i("Billing Address",[t.billing_address,t.billing_city,t.billing_state,t.billing_zip].filter(Boolean).join(", "),!0,"billing-address",n.jsx(Rn,{className:"h-4 w-4"}),"purple"),i("Customer IP",t.customer_ip,!0,"customer-ip",n.jsx(Et,{className:"h-4 w-4"}),"purple"),i("User Agent",t.customer_ua,!0,"customer-ua",n.jsx(Oa,{className:"h-4 w-4"}),"purple"),t.remitter_iban&&i("IBAN",t.remitter_iban,!0,"remitter-iban",n.jsx(ga,{className:"h-4 w-4"}),"purple"),t.card_last4&&i("Card Last 4",`****${t.card_last4}`,!1,"",((l=t.card_brand)==null?void 0:l.toLowerCase())==="mastercard"?n.jsx("img",{src:"/mcl.png",alt:"Mastercard",className:"h-4 w-auto"}):((c=t.card_brand)==null?void 0:c.toLowerCase())==="visa"?n.jsx("img",{src:"/visal.png",alt:"Visa",className:"h-4 w-auto"}):n.jsx(St,{className:"h-4 w-4"}),"purple"),t.payment_method&&i("Payment Method",(d=>d==="ampay"?"2001":d==="mastercard"||d==="visa/mastercard"?"1111":d==="myxspend"?"2000":d)(t.payment_method),!1,"",n.jsx(St,{className:"h-4 w-4"}),"purple")]})]}),(t.card_bin_status||t.card_type||t.card_category||t.card_country||t.card_issuer)&&n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-r from-orange-100 to-amber-100 rounded-md",children:n.jsx(St,{className:"h-3 w-3 text-orange-600"})}),n.jsx("h4",{className:"text-xs font-bold text-orange-700",children:"BIN Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.card_bin_status&&i("BIN Status",t.card_bin_status,!1,"",n.jsx(wt,{className:"h-4 w-4"}),"orange"),t.card_type&&i("Card Type",t.card_type,!1,"",n.jsx(St,{className:"h-4 w-4"}),"orange"),t.card_category&&i("Card Category",t.card_category,!1,"",n.jsx(St,{className:"h-4 w-4"}),"orange"),t.card_country&&i("Card Country",t.card_country,!1,"",n.jsx(Et,{className:"h-4 w-4"}),"orange"),t.card_issuer&&i("Card Issuer",t.card_issuer,!1,"",n.jsx(ga,{className:"h-4 w-4"}),"orange")]})]})]})})]})})},DC=t=>{var e,r,s,a,i,o,l,c,d,u,h,f,m,p,x,g,y,v,b,w,N,C,S,k,A,T,E,D,_,z,H,q,K,Y,J,Z,ne,F,Q,W,G,te;if(!t)return null;if(t.identification&&t.bot!==void 0)return t;if((e=t.tor)!=null&&e.data||(r=t.vpn)!=null&&r.data||(s=t.identification)!=null&&s.data){const ee={};if((a=t.identification)!=null&&a.data&&(ee.identification={visitor_id:t.identification.data.visitorId,visitor_found:t.identification.data.visitorFound,confidence:t.identification.data.confidence,first_seen_at:new Date(((i=t.identification.data.firstSeenAt)==null?void 0:i.global)||0).getTime(),last_seen_at:new Date(((o=t.identification.data.lastSeenAt)==null?void 0:o.global)||0).getTime()},ee.event_id=t.identification.data.requestId,ee.timestamp=t.identification.data.timestamp,ee.ip_address=t.identification.data.ip,ee.url=t.identification.data.url,ee.user_agent=t.identification.data.userAgent,ee.replayed=t.identification.data.replayed,ee.incognito=t.identification.data.incognito,ee.environment_id=t.identification.data.environmentId,t.identification.data.browserDetails&&(ee.browser_details={browser_name:t.identification.data.browserDetails.browserName,browser_full_version:t.identification.data.browserDetails.browserFullVersion,browser_major_version:t.identification.data.browserDetails.browserMajorVersion,os:t.identification.data.browserDetails.os,os_version:t.identification.data.browserDetails.osVersion,device:t.identification.data.browserDetails.device}),t.identification.data.sdk&&(ee.sdk=t.identification.data.sdk)),(l=t.botd)!=null&&l.data&&(ee.bot=((c=t.botd.data.bot)==null?void 0:c.result)==="notDetected"?"not_detected":((d=t.botd.data.bot)==null?void 0:d.result)||"unknown"),(u=t.vpn)!=null&&u.data&&(ee.vpn=t.vpn.data.result,ee.vpn_confidence=t.vpn.data.confidence,ee.vpn_origin_timezone=t.vpn.data.originTimezone,t.vpn.data.methods&&(ee.vpn_methods={relay:t.vpn.data.methods.relay,public_vpn:t.vpn.data.methods.publicVPN,os_mismatch:t.vpn.data.methods.osMismatch,auxiliary_mobile:t.vpn.data.methods.auxiliaryMobile,timezone_mismatch:t.vpn.data.methods.timezoneMismatch})),(h=t.proxy)!=null&&h.data&&(ee.proxy=t.proxy.data.result,ee.proxy_confidence=t.proxy.data.confidence,t.proxy.data.details&&(ee.proxy_details={proxy_type:t.proxy.data.details.proxyType,provider:t.proxy.data.details.provider,last_seen_at:t.proxy.data.details.lastSeenAt?new Date(t.proxy.data.details.lastSeenAt).getTime():void 0})),(m=(f=t.ipInfo)==null?void 0:f.data)!=null&&m.v4){const I=t.ipInfo.data.v4;ee.ip_info={v4:{address:I.address,asn:(p=I.asn)==null?void 0:p.asn,asn_name:(x=I.asn)==null?void 0:x.name,asn_type:(g=I.asn)==null?void 0:g.type,asn_network:(y=I.asn)==null?void 0:y.network,datacenter_result:(v=I.datacenter)==null?void 0:v.result,datacenter_name:(b=I.datacenter)==null?void 0:b.name,geolocation:I.geolocation?{city_name:(w=I.geolocation.city)==null?void 0:w.name,country_name:(N=I.geolocation.country)==null?void 0:N.name,country_code:(C=I.geolocation.country)==null?void 0:C.code,timezone:I.geolocation.timezone,postal_code:I.geolocation.postalCode,latitude:I.geolocation.latitude,longitude:I.geolocation.longitude,accuracy_radius:I.geolocation.accuracyRadius,continent_code:(S=I.geolocation.continent)==null?void 0:S.code,continent_name:(k=I.geolocation.continent)==null?void 0:k.name,subdivisions:(A=I.geolocation.subdivisions)==null?void 0:A.map(oe=>({name:oe.name,iso_code:oe.isoCode}))}:void 0}}}if((T=t.ipBlocklist)!=null&&T.data&&(ee.ip_blocklist={tor_node:((D=(E=t.tor)==null?void 0:E.data)==null?void 0:D.result)||!1,email_spam:((_=t.ipBlocklist.data.details)==null?void 0:_.emailSpam)||!1,attack_source:((z=t.ipBlocklist.data.details)==null?void 0:z.attackSource)||!1}),(H=t.tampering)!=null&&H.data&&(ee.tampering=t.tampering.data.result,ee.tampering_details={anomaly_score:t.tampering.data.anomalyScore,anti_detect_browser:t.tampering.data.antiDetectBrowser}),(q=t.virtualMachine)!=null&&q.data&&(ee.virtual_machine=t.virtualMachine.data.result),(K=t.developerTools)!=null&&K.data&&(ee.developer_tools=t.developerTools.data.result),(Y=t.highActivity)!=null&&Y.data&&(ee.high_activity_device=t.highActivity.data.result),(J=t.suspectScore)!=null&&J.data&&(ee.suspect_score=t.suspectScore.data.result),(Z=t.incognito)!=null&&Z.data&&(ee.incognito=t.incognito.data.result),(ne=t.privacySettings)!=null&&ne.data&&(ee.privacy_settings=t.privacySettings.data.result),(F=t.velocity)!=null&&F.data){const I=t.velocity.data;ee.velocity={distinct_ip:(Q=I.distinctIp)!=null&&Q.intervals?{"5_minutes":I.distinctIp.intervals["5m"],"1_hour":I.distinctIp.intervals["1h"],"24_hours":I.distinctIp.intervals["24h"]}:void 0,distinct_country:(W=I.distinctCountry)!=null&&W.intervals?{"5_minutes":I.distinctCountry.intervals["5m"],"1_hour":I.distinctCountry.intervals["1h"],"24_hours":I.distinctCountry.intervals["24h"]}:void 0,events:(G=I.events)!=null&&G.intervals?{"5_minutes":I.events.intervals["5m"],"1_hour":I.events.intervals["1h"],"24_hours":I.events.intervals["24h"]}:void 0,ip_events:(te=I.ipEvents)!=null&&te.intervals?{"5_minutes":I.ipEvents.intervals["5m"],"1_hour":I.ipEvents.intervals["1h"],"24_hours":I.ipEvents.intervals["24h"]}:void 0}}return ee}return null},ll=t=>{var e,r,s,a;return(e=t.ip_blocklist)!=null&&e.tor_node||t.proxy&&t.vpn||(s=(r=t.ip_info)==null?void 0:r.v4)!=null&&s.datacenter_result||t.tampering||(a=t.tampering_details)!=null&&a.anti_detect_browser||t.bot&&t.bot!=="not_detected"||t.high_activity_device?"high":t.vpn||t.proxy||t.virtual_machine||t.developer_tools?"mid":"low"},Zo=({icon:t,title:e})=>n.jsxs("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-3 flex items-center gap-2 border-b border-gray-100 pb-2 mt-2",children:[t," ",e]}),cr=({icon:t,label:e,value:r,mono:s,small:a})=>n.jsxs("div",{className:`flex justify-between items-center ${a?"py-1":"py-1.5"} border-b border-gray-50 last:border-0`,children:[n.jsxs("span",{className:"text-gray-500 text-xs font-medium flex items-center gap-1.5",children:[t&&n.jsx("span",{className:"text-gray-400",children:t}),e]}),n.jsx("span",{className:`text-xs text-gray-800 ${s?"font-mono":"font-medium"} text-right truncate max-w-[180px]`,title:String(r),children:r??""})]}),$r=({icon:t,label:e,value:r,inverse:s})=>{const i=(s?!r:r)?"text-red-600 bg-red-50 border-red-100":"text-green-600 bg-green-50 border-green-100",o=r?"Yes":"No";return n.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50 last:border-0",children:[n.jsxs("span",{className:"text-gray-500 text-xs font-medium flex items-center gap-1.5",children:[t&&n.jsx("span",{className:"text-gray-400",children:t}),e]}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${i}`,children:o})]})},mQ=({payment:t,onClose:e})=>{var f,m,p,x,g,y,v,b,w,N,C,S,k,A,T,E,D,_,z,H,q,K,Y,J,Z,ne,F,Q,W,G,te,ee,I,oe,V,pe,ye,Ae,Re,nt;const[r,s]=P.useState(!1);let a=null,i=null;try{t.fingerprint?typeof t.fingerprint=="string"?(a=JSON.parse(t.fingerprint),i=DC(a)):(a=t.fingerprint,i=DC(a)):(a=null,i=null)}catch{a=null,i=null}if(!i)return null;const o=(f=i.ip_info)==null?void 0:f.v4,l=o==null?void 0:o.geolocation,c=i.browser_details,d=i.velocity,u=i.suspect_score,h=(m=i.tampering_details)==null?void 0:m.anomaly_score;return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:n.jsxs(X.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col shadow-2xl",onClick:Xe=>Xe.stopPropagation(),children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600 shadow-sm",children:n.jsx(Zd,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:["Visitor ID: ",n.jsx("span",{className:"font-mono text-indigo-600",children:(p=i.identification)==null?void 0:p.visitor_id})]}),n.jsxs("div",{className:"flex gap-3 text-xs text-gray-500 font-medium mt-0.5",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Rh,{className:"w-3 h-3 text-yellow-500"})," Confidence: ",(g=(x=i.identification)==null?void 0:x.confidence)==null?void 0:g.score]}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-3 h-3"})," ",new Date(i.timestamp||0).toLocaleString()]}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"font-mono",children:["Event ID: ",i.event_id]})]})]})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:n.jsx("span",{className:"text-xl leading-none text-gray-500",children:""})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3 mb-6",children:[n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${ll(i)==="high"?"bg-red-50 border-red-200":ll(i)==="mid"?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"}`,children:[n.jsx(Ia,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Risk Level"}),n.jsx("div",{className:`text-lg font-bold ${ll(i)==="high"?"text-red-600":ll(i)==="mid"?"text-orange-600":"text-green-600"}`,children:u??""})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.bot==="not_detected"?"bg-white border-gray-200":"bg-red-50 border-red-200"}`,children:[n.jsx(os,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Bot Status"}),i.bot==="not_detected"?n.jsx(kn,{className:"w-5 h-5 text-green-500 mx-auto"}):n.jsx(Ad,{className:"w-5 h-5 text-red-500 mx-auto"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.vpn?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(wi,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"VPN"}),i.vpn?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.proxy?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(Js,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Proxy"}),i.proxy?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${(y=i.ip_blocklist)!=null&&y.tor_node?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[n.jsx(Et,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Tor"}),(v=i.ip_blocklist)!=null&&v.tor_node?n.jsx("span",{className:"text-sm font-bold text-red-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.virtual_machine?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(Ia,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"VM"}),i.virtual_machine?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.developer_tools?"bg-yellow-50 border-yellow-200":"bg-white border-gray-200"}`,children:[n.jsx(ei,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"DevTools"}),i.developer_tools?n.jsx("span",{className:"text-sm font-bold text-yellow-600",children:"OPEN"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.tampering?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[n.jsx(dt,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Tampering"}),i.tampering?n.jsx("span",{className:"text-sm font-bold text-red-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Zo,{icon:n.jsx(Et,{className:"w-4 h-4 text-blue-500"}),title:"Geolocation"}),n.jsx(cr,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"Address",value:o==null?void 0:o.address,mono:!0}),n.jsx(cr,{icon:n.jsx(Qb,{className:"w-3 h-3"}),label:"Coordinates",value:`${l==null?void 0:l.latitude}, ${l==null?void 0:l.longitude}`,mono:!0}),n.jsx(cr,{icon:n.jsx(os,{className:"w-3 h-3"}),label:"Accuracy",value:`${l==null?void 0:l.accuracy_radius} km`}),n.jsx(cr,{icon:n.jsx(Et,{className:"w-3 h-3"}),label:"Country",value:`${l==null?void 0:l.country_name} (${l==null?void 0:l.country_code})`}),n.jsx(cr,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"Region",value:`${(w=(b=l==null?void 0:l.subdivisions)==null?void 0:b[0])==null?void 0:w.name} (${(C=(N=l==null?void 0:l.subdivisions)==null?void 0:N[0])==null?void 0:C.iso_code})`}),n.jsx(cr,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"City / Zip",value:`${l==null?void 0:l.city_name}, ${l==null?void 0:l.postal_code}`}),n.jsx(cr,{icon:n.jsx(tr,{className:"w-3 h-3"}),label:"Timezone",value:l==null?void 0:l.timezone}),n.jsx(cr,{icon:n.jsx(Et,{className:"w-3 h-3"}),label:"Continent",value:`${l==null?void 0:l.continent_name} (${l==null?void 0:l.continent_code})`})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Zo,{icon:n.jsx(wi,{className:"w-4 h-4 text-indigo-500"}),title:"ISP & Network"}),n.jsx(cr,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"ASN Name",value:o==null?void 0:o.asn_name}),n.jsx(cr,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"ASN",value:o==null?void 0:o.asn,mono:!0}),n.jsx(cr,{icon:n.jsx(wi,{className:"w-3 h-3"}),label:"Network",value:o==null?void 0:o.asn_network,mono:!0}),n.jsx(cr,{icon:n.jsx(Ri,{className:"w-3 h-3"}),label:"Type",value:o==null?void 0:o.asn_type}),n.jsx($r,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"Datacenter IP",value:o==null?void 0:o.datacenter_result}),(o==null?void 0:o.datacenter_result)&&n.jsx(cr,{label:"DC Name",value:o.datacenter_name})]}),(l==null?void 0:l.latitude)&&(l==null?void 0:l.longitude)&&n.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:n.jsx("iframe",{width:"100%",height:"300",frameBorder:"0",style:{border:0},src:`https://www.openstreetmap.org/export/embed.html?bbox=${l.longitude-.1},${l.latitude-.1},${l.longitude+.1},${l.latitude+.1}&layer=mapnik&marker=${l.latitude},${l.longitude}`})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Zo,{icon:n.jsx(Qd,{className:"w-4 h-4 text-red-500"}),title:"VPN & Proxy Analysis"}),n.jsx($r,{icon:n.jsx(t1,{className:"w-3 h-3"}),label:"VPN Detected",value:i.vpn}),n.jsx(cr,{label:"VPN Confidence",value:i.vpn_confidence}),n.jsx(cr,{label:"VPN Origin Time",value:i.vpn_origin_timezone}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx("p",{className:"text-[10px] text-gray-400 font-bold mb-1",children:"VPN METHODS"}),n.jsx($r,{label:"Timezone Mismatch",value:(S=i.vpn_methods)==null?void 0:S.timezone_mismatch}),n.jsx($r,{label:"Public VPN",value:(k=i.vpn_methods)==null?void 0:k.public_vpn}),n.jsx($r,{label:"OS Mismatch",value:(A=i.vpn_methods)==null?void 0:A.os_mismatch}),n.jsx($r,{label:"Auxiliary Mobile",value:(T=i.vpn_methods)==null?void 0:T.auxiliary_mobile}),n.jsx($r,{label:"Relay",value:(E=i.vpn_methods)==null?void 0:E.relay})]}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx($r,{icon:n.jsx(Ri,{className:"w-3 h-3"}),label:"Proxy Detected",value:i.proxy}),n.jsx(cr,{label:"Proxy Confidence",value:i.proxy_confidence}),n.jsx(cr,{label:"Proxy Type",value:(D=i.proxy_details)==null?void 0:D.proxy_type}),n.jsx(cr,{label:"Provider",value:(_=i.proxy_details)==null?void 0:_.provider}),n.jsx(cr,{label:"Last Seen",value:(z=i.proxy_details)!=null&&z.last_seen_at?new Date(i.proxy_details.last_seen_at).toLocaleDateString():""})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Zo,{icon:n.jsx(Ia,{className:"w-4 h-4 text-purple-500"}),title:"Device & Software"}),n.jsx(cr,{icon:n.jsx(Ia,{className:"w-3 h-3"}),label:"Browser",value:`${c==null?void 0:c.browser_name} ${c==null?void 0:c.browser_full_version}`}),n.jsx(cr,{icon:n.jsx(qb,{className:"w-3 h-3"}),label:"OS",value:`${c==null?void 0:c.os} ${c==null?void 0:c.os_version}`}),n.jsx(cr,{icon:n.jsx(xa,{className:"w-3 h-3"}),label:"Device",value:c==null?void 0:c.device}),n.jsx(cr,{icon:n.jsx(ei,{className:"w-3 h-3"}),label:"User Agent",value:i.user_agent,small:!0}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[n.jsx($r,{icon:n.jsx(e1,{className:"w-3 h-3"}),label:"Incognito",value:i.incognito}),n.jsx($r,{icon:n.jsx(Ts,{className:"w-3 h-3"}),label:"Privacy Settings",value:i.privacy_settings}),n.jsx($r,{icon:n.jsx(Zb,{className:"w-3 h-3"}),label:"Virtual Machine",value:i.virtual_machine}),n.jsx($r,{icon:n.jsx(os,{className:"w-3 h-3"}),label:"High Activity",value:i.high_activity_device})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Zo,{icon:n.jsx(os,{className:"w-4 h-4 text-orange-500"}),title:"Velocity & History"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 text-center",children:[n.jsx("div",{className:"text-[9px] text-gray-400 font-bold self-center text-left",children:"METRIC"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"5m"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"1h"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"24h"}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Events"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((H=d==null?void 0:d.events)==null?void 0:H["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((q=d==null?void 0:d.events)==null?void 0:q["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((K=d==null?void 0:d.events)==null?void 0:K["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"IP Events"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Y=d==null?void 0:d.ip_events)==null?void 0:Y["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((J=d==null?void 0:d.ip_events)==null?void 0:J["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Z=d==null?void 0:d.ip_events)==null?void 0:Z["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Dst. IPs"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((ne=d==null?void 0:d.distinct_ip)==null?void 0:ne["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((F=d==null?void 0:d.distinct_ip)==null?void 0:F["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Q=d==null?void 0:d.distinct_ip)==null?void 0:Q["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Dst. Cntry"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((W=d==null?void 0:d.distinct_country)==null?void 0:W["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((G=d==null?void 0:d.distinct_country)==null?void 0:G["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((te=d==null?void 0:d.distinct_country)==null?void 0:te["24_hours"])||0})]}),n.jsx(cr,{label:"First Seen",value:(ee=i.identification)!=null&&ee.first_seen_at?new Date(i.identification.first_seen_at).toLocaleDateString():""}),n.jsx(cr,{label:"Last Seen",value:(I=i.identification)!=null&&I.last_seen_at?new Date(i.identification.last_seen_at).toLocaleDateString():""}),n.jsx($r,{label:"Visitor Found",value:(oe=i.identification)==null?void 0:oe.visitor_found,inverse:!0})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Zo,{icon:n.jsx(Ad,{className:"w-4 h-4 text-red-500"}),title:"Security Details"}),n.jsx($r,{label:"Replayed Request",value:i.replayed}),n.jsx($r,{label:"Tor Node",value:(V=i.ip_blocklist)==null?void 0:V.tor_node}),n.jsx($r,{label:"Email Spam",value:(pe=i.ip_blocklist)==null?void 0:pe.email_spam}),n.jsx($r,{label:"Attack Source",value:(ye=i.ip_blocklist)==null?void 0:ye.attack_source}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx($r,{icon:n.jsx(ei,{className:"w-3 h-3"}),label:"Dev Tools",value:i.developer_tools}),n.jsx($r,{icon:n.jsx(dt,{className:"w-3 h-3"}),label:"Tampering",value:i.tampering}),n.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50 last:border-0",children:[n.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Anomaly Score"}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${h===0?"text-green-700 bg-green-50 border-green-200":ll(i)==="high"?"text-red-700 bg-red-50 border-red-200":ll(i)==="mid"?"text-orange-700 bg-orange-50 border-orange-200":"text-green-700 bg-green-50 border-green-200"}`,children:h??""})]}),n.jsx($r,{label:"Anti-Detect Browser",value:(Ae=i.tampering_details)==null?void 0:Ae.anti_detect_browser})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Zo,{icon:n.jsx(hf,{className:"w-4 h-4 text-gray-500"}),title:"Technical Meta"}),n.jsx(cr,{label:"Environment",value:i.environment_id,mono:!0}),n.jsx(cr,{label:"SDK",value:`${(Re=i.sdk)==null?void 0:Re.platform} ${(nt=i.sdk)==null?void 0:nt.version}`,mono:!0}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:"TARGET URL"}),n.jsx("div",{className:"text-[10px] bg-gray-50 border border-gray-100 p-1.5 rounded break-all font-mono text-gray-600 mt-1 leading-tight",children:i.url})]})]})]})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsxs("button",{onClick:()=>s(!r),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[n.jsxs("span",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider flex items-center gap-2",children:[n.jsx(Js,{className:"w-3 h-3"})," Raw JSON Payload"]}),n.jsx("span",{className:"text-xs text-indigo-600 font-medium",children:r?"Collapse":"Expand"})]}),n.jsx(tt,{children:r&&n.jsxs(X.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"relative group",children:[n.jsx("button",{onClick:()=>navigator.clipboard.writeText(JSON.stringify(i,null,2)),className:"absolute top-2 right-2 p-1.5 bg-white/10 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy",children:n.jsx(ct,{className:"w-3 h-3"})}),n.jsx("pre",{className:"p-4 text-[10px] leading-relaxed font-mono bg-gray-900 text-green-400 overflow-x-auto max-h-80",children:JSON.stringify(i,null,2)})]})})]})]}),n.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end",children:n.jsx("button",{onClick:e,className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 shadow-sm active:scale-95 transition-all",children:"Close Report"})})]})})},xQ=()=>{const[t,e]=P.useState(""),[r,s]=P.useState("all"),[a,i]=P.useState("all"),[o,l]=P.useState("all"),[c,d]=P.useState(null),[u,h]=P.useState(null),[f,m]=P.useState(1),p=20,[x,g]=P.useState(null),[y,v]=P.useState(null),[b,w]=P.useState(!1),[N,C]=P.useState(!1),[S,k]=P.useState("created_at"),[A,T]=P.useState("desc"),E=I=>{S===I?T(A==="desc"?"asc":"desc"):(k(I),T("desc")),m(1)},D=I=>S!==I?n.jsx(bl,{className:"h-4 w-4"}):A==="desc"?n.jsx(C6,{className:"h-4 w-4"}):n.jsx(k6,{className:"h-4 w-4"}),_=I=>`flex items-center space-x-1 text-xs font-semibold text-gray-600 hover:text-gray-800 transition-colors duration-200 ${S===I?"text-primary":""}`,z=async()=>{var oe,V;if(!x||!y){ce.error("Please select both start and end dates for export");return}if(iw(y,x)>31){ce.error("Export period cannot exceed 31 days. Please select a shorter period.");return}try{ce.loading("Fetching all payments for export...");const pe={page:1,limit:1e4,dateFrom:Ke(x,"yyyy-MM-dd"),dateTo:Ke(y,"yyyy-MM-dd")};r!=="all"&&(pe.status=r),a!=="all"&&(pe.gateway=a),o!=="all"&&(pe.currency=o);const ye={};pe.page&&(ye.page=pe.page),pe.limit&&(ye.limit=pe.limit),pe.status&&(ye.status=pe.status),pe.gateway&&(ye.gateway=pe.gateway),pe.currency&&(ye.currency=pe.currency),pe.dateFrom&&(ye.dateFrom=pe.dateFrom),pe.dateTo&&(ye.dateTo=pe.dateTo),console.log("Export request params:",ye);const Ae=await Pe.get("/shop/payments",ye);console.log("Export API response:",Ae),console.log("Payments array:",(oe=Ae.result)==null?void 0:oe.payments);const Re=((V=Ae.result)==null?void 0:V.payments)||[];if(console.log("Total payments received:",Re.length),!Re||Re.length===0){ce.dismiss(),ce.error("No payments to export");return}const nt=Re.map(Ge=>({"Payment ID":Ge.id,Date:$e(new Date(Ge.created_at),"UTC","dd.MM.yy HH:mm")+" UTC",Status:Ge.status,Gateway:Bl(Ge.gateway),Amount:Ge.amount,Currency:Ge.currency,"Amount After Commission":Ge.amountAfterGatewayCommissionUSDT||"","Product Name":Ge.product_name||"","Customer Name":Ge.customer_name||"","Customer Email":Ge.customer_email||"","Customer Country":Ge.customer_country||"","Customer Phone":Ge.customer_phone||"","Customer Birth Date":Ge.customer_birth_date||"","Customer IP":Ge.customer_ip||"","Billing Address":[Ge.billing_address,Ge.billing_city,Ge.billing_state,Ge.billing_zip].filter(Boolean).join(", ")||"",IBAN:Ge.remitter_iban||"","Card Last 4":Ge.card_last4?`****${Ge.card_last4}`:"","Card Brand":Ge.card_brand||"","Payment Method":Ge.payment_method||"","BIN Status":Ge.card_bin_status||"","Card Type":Ge.card_type||"","Card Category":Ge.card_category||"","Card Country":Ge.card_country||"","Card Issuer":Ge.card_issuer||"","Failure Message":Ge.failure_message||"","Admin Notes":Ge.adminNotes||"","Transaction URLs":Ge.tx_urls?Ge.tx_urls.join(" | "):"","Updated At":Ge.updated_at?$e(new Date(Ge.updated_at),"UTC","dd.MM.yy HH:mm")+" UTC":""})),Xe=us.json_to_sheet(nt),_e=us.book_new();us.book_append_sheet(_e,Xe,"Payments");const Ye=`payments_${Ke(x,"dd.MM.yy")}_${Ke(y,"dd.MM.yy")}.xlsx`;id(_e,Ye),ce.dismiss(),ce.success(`Exported ${nt.length} payments to ${Ye}`)}catch(pe){console.error("Export error:",pe),ce.dismiss(),ce.error("Failed to export payments")}},H=P.useMemo(()=>{const I={page:f,limit:p,sortBy:S,sortOrder:A};return r!=="all"&&(I.status=r),a!=="all"&&(I.gateway=a),o!=="all"&&(I.currency=o),x&&(I.dateFrom=Ke(x,"yyyy-MM-dd")),y&&(I.dateTo=Ke(y,"yyyy-MM-dd")),I},[f,p,r,a,o,S,A,x,y]),{data:q,isLoading:K,error:Y}=s5(H),J=x?Ke(x,"yyyy-MM-dd"):void 0,Z=y?Ke(y,"yyyy-MM-dd"):void 0,{data:ne}=a5("30d",J,Z),{data:F}=Zx(),Q=P.useMemo(()=>x&&y?`${$e(x,"UTC","dd.MM.yy")} - ${$e(y,"UTC","dd.MM.yy")}`:x?`From ${$e(x,"UTC","dd.MM.yy")}`:y?`Until ${$e(y,"UTC","dd.MM.yy")}`:"Last 30 days",[x,y]),W=P.useMemo(()=>q!=null&&q.payments?t?q.payments.filter(I=>{var oe,V;return I.id.toLowerCase().includes(t.toLowerCase())||((oe=I.customer_email)==null?void 0:oe.toLowerCase().includes(t.toLowerCase()))||((V=I.product_name)==null?void 0:V.toLowerCase().includes(t.toLowerCase()))||I.currency.toLowerCase().includes(t.toLowerCase())||Bl(I.gateway).toLowerCase().includes(t.toLowerCase())}):q.payments:[],[q==null?void 0:q.payments,t]),G=[{value:"all",label:"All Status"},{value:"PAID",label:"Paid",icon:n.jsx(wt,{className:"h-4 w-4 text-green-600"})},{value:"PENDING",label:"Pending",icon:n.jsx(tr,{className:"h-4 w-4 text-yellow-600"})},{value:"PROCESSING",label:"Processing",icon:n.jsx(Es,{className:"h-4 w-4 text-blue-600"})},{value:"FAILED",label:"Failed",icon:n.jsx(Ct,{className:"h-4 w-4 text-red-600"})},{value:"EXPIRED",label:"Expired",icon:n.jsx(hr,{className:"h-4 w-4 text-gray-600"})},{value:"REFUND",label:"Refunded",icon:n.jsx(Bn,{className:"h-4 w-4 text-orange-600"})},{value:"CHARGEBACK",label:"Chargeback",icon:n.jsx(dt,{className:"h-4 w-4 text-red-700"})}],te=P.useMemo(()=>{const I=[{value:"all",label:"All Gateways"}];if(ne!=null&&ne.paymentsByGateway){const oe=Object.keys(ne.paymentsByGateway).filter(V=>ne.paymentsByGateway[V]>0).map(V=>({value:V,label:Bl(V).split("-")[0].trim().replace("Gateway","ID:")})).sort((V,pe)=>V.label.localeCompare(pe.label));return[...I,...oe]}return I},[ne==null?void 0:ne.paymentsByGateway]),ee=[{value:"all",label:"All Currencies"},{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"JPY",label:"JPY"},{value:"CAD",label:"CAD"},{value:"AUD",label:"AUD"},{value:"CHF",label:"CHF"},{value:"CNY",label:"CNY"},{value:"SEK",label:"SEK"},{value:"NOK",label:"NOK"},{value:"DKK",label:"DKK"},{value:"PLN",label:"PLN"},{value:"CZK",label:"CZK"},{value:"HUF",label:"HUF"},{value:"BGN",label:"BGN"},{value:"RON",label:"RON"},{value:"HRK",label:"HRK"},{value:"TRY",label:"TRY"},{value:"RUB",label:"RUB"},{value:"UAH",label:"UAH"},{value:"BRL",label:"BRL"},{value:"MXN",label:"MXN"},{value:"ARS",label:"ARS"},{value:"CLP",label:"CLP"},{value:"COP",label:"COP"},{value:"PEN",label:"PEN"},{value:"UYU",label:"UYU"},{value:"INR",label:"INR"},{value:"KRW",label:"KRW"},{value:"SGD",label:"SGD"},{value:"HKD",label:"HKD"},{value:"TWD",label:"TWD"},{value:"THB",label:"THB"},{value:"MYR",label:"MYR"},{value:"PHP",label:"PHP"},{value:"IDR",label:"IDR"},{value:"VND",label:"VND"},{value:"PKR",label:"PKR"},{value:"BDT",label:"BDT"},{value:"LKR",label:"LKR"},{value:"NPR",label:"NPR"},{value:"ZAR",label:"ZAR"},{value:"EGP",label:"EGP"},{value:"MAD",label:"MAD"},{value:"TND",label:"TND"},{value:"KES",label:"KES"},{value:"NGN",label:"NGN"},{value:"GHS",label:"GHS"},{value:"AED",label:"AED"},{value:"SAR",label:"SAR"},{value:"QAR",label:"QAR"},{value:"KWD",label:"KWD"},{value:"BHD",label:"BHD"},{value:"OMR",label:"OMR"},{value:"JOD",label:"JOD"},{value:"LBP",label:"LBP"},{value:"ILS",label:"ILS"},{value:"IRR",label:"IRR"},{value:"IQD",label:"IQD"},{value:"AFN",label:"AFN"},{value:"BTN",label:"BTN"},{value:"MVR",label:"MVR"},{value:"KZT",label:"KZT"},{value:"UZS",label:"UZS"},{value:"KGS",label:"KGS"},{value:"TJS",label:"TJS"},{value:"TMT",label:"TMT"},{value:"AZN",label:"AZN"},{value:"GEL",label:"GEL"},{value:"AMD",label:"AMD"},{value:"BYN",label:"BYN"},{value:"MDL",label:"MDL"},{value:"ALL",label:"ALL"},{value:"MKD",label:"MKD"},{value:"RSD",label:"RSD"},{value:"BAM",label:"BAM"},{value:"MNT",label:"MNT"},{value:"KHR",label:"KHR"},{value:"LAK",label:"LAK"},{value:"MMK",label:"MMK"},{value:"BND",label:"BND"},{value:"NZD",label:"NZD"},{value:"FJD",label:"FJD"},{value:"PGK",label:"PGK"},{value:"VUV",label:"VUV"},{value:"WST",label:"WST"},{value:"TOP",label:"TOP"},{value:"SBD",label:"SBD"},{value:"USDT",label:"USDT"},{value:"TON",label:"TON"},{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"LTC",label:"LTC"},{value:"BCH",label:"BCH"},{value:"DOGE",label:"DOGE"},{value:"USDC",label:"USDC"}];return F&&F.telegramUsersCount===0?n.jsx("div",{className:"p-4 md:p-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"p-4 bg-red-50 rounded-full",children:n.jsx(Ct,{className:"h-12 w-12 text-red-600"})})}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Telegram Bot Connection Required"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Connect to Telegram Bot TRAPAY NOTIFI to activate your personal account. Click the button and follow the instructions."}),n.jsx(X.a,{href:"/dashboard/settings?tab=notifications",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-3 bg-primary text-white rounded-xl shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all duration-200",children:"Connect Telegram Bot"})]})}):Y?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-red-600 mb-2",children:n.jsx(Ct,{className:"h-8 w-8 mx-auto"})}),n.jsx("p",{className:"text-gray-600",children:"Failed to load payments. Please try again."})]}):n.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-4 md:space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Payments"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View and manage your payment history"})]}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:z,className:"inline-flex items-center px-4 py-2 bg-primary text-white rounded-xl shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all duration-200 w-full sm:w-auto justify-center",children:[n.jsx(uf,{className:"h-4 w-4 mr-2"}),"Export"]})]}),ne&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 md:gap-6",children:[n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-3 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[n.jsx("div",{className:"p-2 md:p-3 bg-primary/10 rounded-xl flex-shrink-0",children:n.jsx(Zr,{className:"h-5 w-5 md:h-6 md:w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Total Turnover"}),n.jsxs("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:[(ne.totalAmount||0).toLocaleString()," USDC"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Q})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-3 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[n.jsx("div",{className:"p-2 md:p-3 bg-amber-50 rounded-xl flex-shrink-0",children:n.jsx(B4,{className:"h-5 w-5 md:h-6 md:w-6 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Merchant Earnings"}),n.jsxs("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:[(ne.merchantEarnings||0).toLocaleString()," USDC"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Q})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-3 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[n.jsx("div",{className:"p-2 md:p-3 bg-green-50 rounded-xl flex-shrink-0",children:n.jsx(wt,{className:"h-5 w-5 md:h-6 md:w-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Successful"}),n.jsx("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:(ne.successfulPayments||0).toLocaleString()}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Q})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-3 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[n.jsx("div",{className:"p-2 md:p-3 bg-blue-50 rounded-xl flex-shrink-0",children:n.jsx(Fn,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Total Payments"}),n.jsx("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:(ne.totalPayments||0).toLocaleString()}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Q})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-4 md:p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search payments...",value:t,onChange:I=>e(I.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:bg-white transition-all duration-200"})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsx(ir,{value:r,onChange:s,options:G,placeholder:"Filter by status",className:"w-full"}),n.jsx(ir,{value:a,onChange:i,options:te,placeholder:"Filter by gateway",className:"w-full"}),n.jsx(ir,{value:o,onChange:l,options:ee,placeholder:"Filter by currency",className:"w-full"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>w(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:x?"text-gray-900":"text-gray-500",children:x?$e(x,"UTC","dd.MM.yy"):"Start date"})]}),n.jsx(tt,{children:b&&n.jsx(Yr,{value:x,onChange:I=>{g(I),w(!1),C(!0),m(1)},onClose:()=>w(!1)})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>C(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:y?"text-gray-900":"text-gray-500",children:y?$e(y,"UTC","dd.MM.yy"):"End date"})]}),n.jsx(tt,{children:N&&n.jsx(Yr,{value:y,position:"right",onChange:I=>{v(I),C(!1),m(1)},onClose:()=>C(!1)})})]})]})]})}),K?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[1400px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:[n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("button",{onClick:()=>E("created_at"),className:_("created_at"),children:[n.jsx(bt,{className:"h-3 w-3"}),n.jsx("span",{children:"Date"}),D("created_at")]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(Oa,{className:"h-3 w-3"}),n.jsx("span",{children:"Payment ID"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(Sr,{className:"h-3 w-3"}),n.jsx("span",{children:"Gateway"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("button",{onClick:()=>E("amount"),className:_("amount"),children:[n.jsx(Zr,{className:"h-3 w-3"}),n.jsx("span",{children:"Amount"}),D("amount")]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(Et,{className:"h-3 w-3"}),n.jsx("span",{children:"Currency"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(Dt,{className:"h-3 w-3"}),n.jsx("span",{children:"Customer"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(St,{className:"h-3 w-3"}),n.jsx("span",{children:"Payment Method"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(wt,{className:"h-3 w-3"}),n.jsx("span",{children:"Status"})]})}),n.jsx("th",{className:"text-right px-4 py-3",children:n.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white",children:W.map((I,oe)=>{var V,pe;return n.jsxs(X.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:oe*.01},className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/40 hover:to-indigo-50/40 transition-all duration-200 group",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-100 rounded-md group-hover:bg-blue-200 transition-colors duration-200",children:n.jsx(bt,{className:"h-3 w-3 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:Ke(new Date(I.created_at),"dd.MM.yy")}),n.jsx("div",{className:"text-xs text-gray-500",children:Ke(new Date(I.created_at),"HH:mm")})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-1.5 bg-gray-100 rounded-md group-hover:bg-gray-200 transition-colors duration-200",children:n.jsx(Oa,{className:"h-3 w-3 text-gray-600"})}),n.jsxs("span",{className:"text-xs font-mono font-medium text-gray-900 bg-gray-100 px-2 py-1 rounded border",children:[I.id.slice(0,8),"..."]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"flex items-center space-x-2",children:I.gateway==="Deposit"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-green-100 to-emerald-100 rounded-md group-hover:from-green-200 group-hover:to-emerald-200 transition-all duration-200",children:n.jsx(Mh,{className:"h-3 w-3 text-green-600"})}),n.jsx("span",{className:"text-xs font-medium text-green-700 bg-gradient-to-r from-green-100 to-emerald-100 px-2 py-1 rounded border border-green-300",children:"Deposit"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-purple-100 rounded-md group-hover:bg-purple-200 transition-colors duration-200",children:n.jsx(Sr,{className:"h-3 w-3 text-purple-600"})}),n.jsxs("span",{className:"text-xs font-medium text-gray-900 bg-purple-100 px-2 py-1 rounded border border-purple-200",children:["Gateway - ",I.gateway]})]})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[I.gateway==="Deposit"?n.jsx("div",{className:"w-5 h-5 flex items-center justify-center bg-green-100 rounded-md group-hover:bg-green-200 transition-colors duration-200",children:n.jsx(Zr,{className:"h-3 w-3 text-green-600"})}):I.currency==="USDC"?n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"h-5 w-5 rounded"}):n.jsx("div",{className:"w-5 h-5 flex items-center justify-center bg-emerald-100 rounded-md group-hover:bg-emerald-200 transition-colors duration-200",children:["BTC","ETH","LTC","BCH","DOGE","USDT","TON"].includes(I.currency)?I.currency==="USDT"?n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"h-3 w-3 rounded"}):n.jsx(Ed,{className:"h-3 w-3 text-emerald-600"}):(()=>{const Ae={USD:"$",EUR:"",GBP:"",JPY:"",CNY:"",TRY:"",RUB:"",UAH:"",ARS:"$",CLP:"$",COP:"$",INR:"",KRW:"",THB:"",PHP:"",VND:"",PKR:"",BDT:"",AED:".",SAR:"",PLN:"z"}[I.currency];return Ae?n.jsx("span",{className:"text-xs font-bold text-emerald-600",children:Ae}):n.jsx(Zr,{className:"h-3 w-3 text-emerald-600"})})()}),n.jsx("div",{children:n.jsxs("div",{className:"text-xs font-bold text-gray-900",children:[I.amount.toFixed(2)," ",I.currency]})})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-1.5 bg-indigo-100 rounded-md group-hover:bg-indigo-200 transition-colors duration-200",children:n.jsx(Et,{className:"h-3 w-3 text-indigo-600"})}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-indigo-100 px-2 py-1 rounded border border-indigo-200",children:I.currency})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-100 rounded-md group-hover:bg-blue-200 transition-colors duration-200",children:n.jsx(Dt,{className:"h-3 w-3 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:I.customer_name||"Anonymous"}),I.customer_email&&n.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[100px]",children:I.customer_email})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"flex items-center space-x-2",children:I.gateway==="Deposit"?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"h-5 w-5 rounded"}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-green-100 px-2 py-1 rounded border border-green-200",children:"CRYPTO"})]}):I.gateway==="0001"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-orange-100 rounded-md group-hover:bg-orange-200 transition-colors duration-200",children:n.jsx(Ed,{className:"h-3 w-5 text-orange-600"})}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-orange-100 px-2 py-1 rounded border border-orange-200",children:"Crypto"})]}):I.remitter_iban?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-blue-100 rounded-md group-hover:bg-blue-200 transition-colors duration-200",children:n.jsx(ga,{className:"h-3 w-3 text-blue-600"})}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-blue-100 px-2 py-1 rounded border border-blue-200",children:I.remitter_iban.length>8?`${I.remitter_iban.slice(0,8)}...`:I.remitter_iban})]}):I.card_last4?n.jsxs(n.Fragment,{children:[((V=I.card_brand)==null?void 0:V.toLowerCase())==="mastercard"?n.jsx("img",{src:"/mcl.png",alt:"Mastercard",className:"h-6 w-auto rounded-md"}):((pe=I.card_brand)==null?void 0:pe.toLowerCase())==="visa"?n.jsx("img",{src:"/visal.png",alt:"Visa",className:"h-6 w-auto rounded-md"}):n.jsx("div",{className:"p-1.5 bg-green-100 rounded-md group-hover:bg-green-200 transition-colors duration-200",children:n.jsx(St,{className:"h-3 w-5 text-green-600"})}),n.jsxs("span",{className:"text-xs font-medium text-gray-900 bg-green-100 px-2 py-1 rounded border border-green-200",children:["****",I.card_last4]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-gray-100 rounded-md group-hover:bg-gray-200 transition-colors duration-200",children:n.jsx(St,{className:"h-3 w-5 text-gray-600"})}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-gray-100 px-2 py-1 rounded border border-gray-200",children:(ye=>ye==="ampay"?"2001":ye==="mastercard"?"1111":ye==="myxspend"?"2000":ye||"N/A")(I.payment_method)})]})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-start",children:[I.status.toUpperCase()==="PAID"&&n.jsxs("div",{className:"flex items-center space-x-1 text-emerald-700 bg-emerald-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(wt,{className:"h-3 w-3"}),n.jsx("span",{children:"Paid"})]}),I.status.toUpperCase()==="PENDING"&&n.jsxs("div",{className:"flex items-center space-x-1 text-amber-700 bg-amber-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(tr,{className:"h-3 w-3"}),n.jsx("span",{children:"Pending"})]}),I.status.toUpperCase()==="PROCESSING"&&n.jsxs("div",{className:"flex items-center space-x-1 text-blue-700 bg-blue-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(Es,{className:"h-3 w-3 animate-spin"}),n.jsx("span",{children:"Processing"})]}),I.status.toUpperCase()==="FAILED"&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-700 bg-red-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(Ct,{className:"h-3 w-3"}),n.jsx("span",{children:"Failed"})]}),I.status.toUpperCase()==="EXPIRED"&&n.jsxs("div",{className:"flex items-center space-x-1 text-gray-700 bg-gray-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(hr,{className:"h-3 w-3"}),n.jsx("span",{children:"Expired"})]}),I.status.toUpperCase()==="REFUND"&&n.jsxs("div",{className:"flex items-center space-x-1 text-orange-700 bg-orange-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(Bn,{className:"h-3 w-3"}),n.jsx("span",{children:"Refunded"})]}),I.status.toUpperCase()==="CHARGEBACK"&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-800 bg-red-200 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(dt,{className:"h-3 w-3"}),n.jsx("span",{children:"Chargeback"})]}),I.status.toUpperCase()==="BLOCKED"&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-800 bg-red-200 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(hr,{className:"h-3 w-3"}),n.jsx("span",{children:"Blocked"})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[I.gateway!=="Deposit"&&n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(I),className:`p-2 rounded-lg transition-all duration-200 border ${(()=>{let ye=null;try{I.fingerprint&&(ye=typeof I.fingerprint=="string"?JSON.parse(I.fingerprint):I.fingerprint)}catch{}if(!ye)return"text-gray-400 hover:text-white hover:bg-gradient-to-r hover:from-gray-400 hover:to-gray-500 border-gray-200 hover:border-gray-300";const Ae=ll(ye);return Ae==="low"?"text-green-500 hover:text-white hover:bg-gradient-to-r hover:from-green-500 hover:to-emerald-600 border-green-200 hover:border-green-300":Ae==="mid"?"text-orange-500 hover:text-white hover:bg-gradient-to-r hover:from-orange-500 hover:to-amber-600 border-orange-200 hover:border-orange-300":"text-red-500 hover:text-white hover:bg-gradient-to-r hover:from-red-500 hover:to-rose-600 border-red-200 hover:border-red-300"})()}`,title:"View Fingerprint",children:n.jsx(Zd,{className:"h-4 w-4"})}),n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(I),className:"p-2 text-gray-400 hover:text-white hover:bg-gradient-to-r hover:from-blue-500 hover:to-indigo-600 rounded-lg transition-all duration-200 border border-gray-200 hover:border-blue-300",children:n.jsx(Ts,{className:"h-4 w-4"})})]})})]},I.id)})})]})}),(q==null?void 0:q.pagination)&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(q.pagination.page-1)*q.pagination.limit+1," to"," ",Math.min(q.pagination.page*q.pagination.limit,q.pagination.total)," of"," ",q.pagination.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>m(Math.max(1,f-1)),disabled:f===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",q.pagination.page," of ",q.pagination.totalPages]}),n.jsx("button",{onClick:()=>m(Math.min(q.pagination.totalPages,f+1)),disabled:f===q.pagination.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),n.jsxs(tt,{children:[c&&n.jsx(fQ,{payment:c,onClose:()=>d(null)}),u&&n.jsx(mQ,{payment:u,onClose:()=>h(null)})]})]})},pQ=({payout:t,onClose:e})=>{const[r,s]=P.useState(null),a=(i,o)=>{navigator.clipboard.writeText(i),s(o),setTimeout(()=>s(null),2e3)};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-2xl overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(Hi,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payout Details"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.id})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"p-6 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),n.jsxs("div",{className:"mt-1",children:[t.status==="COMPLETED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),t.status==="PENDING"&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(tr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Pending"})]}),t.status==="REJECTED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Network"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ed,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-900 capitalize",children:t.network})]})]}),t.wallet&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Wallet Address"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 font-mono break-all mr-2",children:t.wallet}),n.jsx("button",{onClick:()=>a(t.wallet,"wallet-address"),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:r==="wallet-address"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[$e(new Date(t.createdAt),"UTC","dd.MM.yy HH:mm")," UTC"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Amount"}),n.jsxs("div",{className:"text-2xl font-semibold text-gray-900",children:[t.amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USDC"]})]}),t.periodFrom&&t.periodTo&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Payout Period"}),n.jsx("div",{className:"text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{children:[$e(new Date(t.periodFrom),"UTC","dd.MM.yy")," - ",$e(new Date(t.periodTo),"UTC","dd.MM.yy")]})]})})]}),t.txid&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Transaction ID"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 font-mono break-all mr-2",children:t.txid}),n.jsx("button",{onClick:()=>a(t.txid,"txid"),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:r==="txid"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),t.notes&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Notes"}),n.jsx("div",{className:"text-sm text-gray-900",children:t.notes})]})]})]})})]})})},gQ=()=>{const[t,e]=P.useState(""),[r,s]=P.useState("all"),[a,i]=P.useState("all"),[o,l]=P.useState(null),[c,d]=P.useState(null),[u,h]=P.useState(null),[f,m]=P.useState(!1),[p,x]=P.useState(!1),[g,y]=P.useState(1),[v,b]=P.useState(20),w=async()=>{var q;if(!c||!u){ce.error("Please select both start and end dates for export");return}if(iw(u,c)>31){ce.error("Export period cannot exceed 31 days. Please select a shorter period.");return}try{ce.loading("Fetching all payouts for export...");const K={page:1,limit:1e4,periodFrom:Ke(c,"yyyy-MM-dd"),periodTo:Ke(u,"yyyy-MM-dd")};r!=="all"&&(K.status=r),a!=="all"&&(K.network=a);const Y={};K.page&&(Y.page=K.page),K.limit&&(Y.limit=K.limit),K.status&&(Y.status=K.status),K.network&&(Y.network=K.network),K.periodFrom&&(Y.periodFrom=K.periodFrom),K.periodTo&&(Y.periodTo=K.periodTo);const Z=((q=(await Pe.get("/shop/payouts",Y)).result)==null?void 0:q.payouts)||[];if(!Z||Z.length===0){ce.dismiss(),ce.error("No payouts to export");return}const ne=Z.map(G=>({"Payout ID":G.id,"Created At":$e(new Date(G.createdAt),"UTC","dd.MM.yy HH:mm")+" UTC",Status:G.status,Amount:G.amount,Network:G.network,"Wallet Address":G.wallet||"","Transaction ID":G.txid||"","Period From":G.periodFrom?$e(new Date(G.periodFrom),"UTC","dd.MM.yy"):"","Period To":G.periodTo?$e(new Date(G.periodTo),"UTC","dd.MM.yy"):"",Notes:G.notes||""})),F=us.json_to_sheet(ne),Q=us.book_new();us.book_append_sheet(Q,F,"Payouts");const W=`payouts_${Ke(c,"dd.MM.yy")}_${Ke(u,"dd.MM.yy")}.xlsx`;id(Q,W),ce.dismiss(),ce.success(`Exported ${ne.length} payouts to ${W}`)}catch(K){console.error("Export error:",K),ce.dismiss(),ce.error("Failed to export payouts")}},N=P.useMemo(()=>{const H={page:g,limit:v};return r!=="all"&&(H.status=r),a!=="all"&&(H.network=a),c&&(H.periodFrom=Ke(c,"yyyy-MM-dd")),u&&(H.periodTo=Ke(u,"yyyy-MM-dd")),H},[g,v,r,a,c,u]),{data:C,isLoading:S,error:k}=JW(N),{data:A,isLoading:T}=eY(),{data:E}=Zx(),D=[{value:"all",label:"All Status"},{value:"PENDING",label:"Pending",icon:n.jsx(tr,{className:"h-4 w-4 text-blue-600"})},{value:"COMPLETED",label:"Completed",icon:n.jsx(wt,{className:"h-4 w-4 text-green-600"})},{value:"REJECTED",label:"Rejected",icon:n.jsx(Ct,{className:"h-4 w-4 text-red-600"})}],_=[{value:"all",label:"All Networks"},{value:"polygon",label:"Polygon"},{value:"trc20",label:"TRC-20"},{value:"erc20",label:"ERC-20"}],z=P.useMemo(()=>C!=null&&C.payouts?t?C.payouts.filter(H=>H.id.toLowerCase().includes(t.toLowerCase())||H.network.toLowerCase().includes(t.toLowerCase())||H.txid&&H.txid.toLowerCase().includes(t.toLowerCase())):C.payouts:[],[C==null?void 0:C.payouts,t]);return E&&E.telegramUsersCount===0?n.jsx("div",{className:"p-4 md:p-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"p-4 bg-red-50 rounded-full",children:n.jsx(Ct,{className:"h-12 w-12 text-red-600"})})}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Telegram Bot Connection Required"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Connect to Telegram Bot TRAPAY NOTIFI to activate your personal account. Click the button and follow the instructions."}),n.jsx(X.a,{href:"/dashboard/settings?tab=notifications",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-3 bg-primary text-white rounded-xl shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all duration-200",children:"Connect Telegram Bot"})]})}):k?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-red-600 mb-2",children:n.jsx(Ct,{className:"h-8 w-8 mx-auto"})}),n.jsx("p",{className:"text-gray-600",children:"Failed to load payouts. Please try again."})]}):n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Payouts"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your payouts and withdrawals"})]}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:w,className:"inline-flex items-center px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200 w-full sm:w-auto justify-center",children:[n.jsx(uf,{className:"h-4 w-4 mr-2"}),"Export"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:T?Array.from({length:4}).map((H,q)=>n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-200",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]})},q)):A?n.jsxs(n.Fragment,{children:[n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 md:p-3 bg-primary/10 rounded-xl",children:n.jsx(Sr,{className:"h-5 w-5 md:h-6 md:w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Available Balance"}),n.jsxs("p",{className:`text-lg md:text-2xl font-semibold ${A.availableBalance<0?"text-red-600":"text-gray-900"}`,children:[A.availableBalance.toLocaleString()," USDC"]})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 md:p-3 bg-green-50 rounded-xl",children:n.jsx(wt,{className:"h-5 w-5 md:h-6 md:w-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Paid Out"}),n.jsxs("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:[A.totalPaidOut.toLocaleString()," USDC"]})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 md:p-3 bg-yellow-50 rounded-xl",children:n.jsx(Zr,{className:"h-5 w-5 md:h-6 md:w-6 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Awaiting Payout"}),n.jsxs("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:[A.awaitingPayout.toLocaleString()," USDC"]})]})]})}),n.jsx(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 md:p-3 bg-blue-50 rounded-xl",children:n.jsx(Hi,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"This Month"}),n.jsxs("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:[A.thisMonth.toLocaleString()," USDC"]})]})]})})]}):null}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-4 md:p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search payouts...",value:t,onChange:H=>e(H.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:bg-white transition-all duration-200"})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>m(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:c?"text-gray-900":"text-gray-500",children:c?Ke(c,"dd.MM.yy"):"Start date"})]}),n.jsx(tt,{children:f&&n.jsx(Yr,{value:c,onChange:H=>{d(H),m(!1),x(!0)},onClose:()=>m(!1)})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>x(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:u?"text-gray-900":"text-gray-500",children:u?Ke(u,"dd.MM.yy"):"End date"})]}),n.jsx(tt,{children:p&&n.jsx(Yr,{value:u,onChange:H=>{h(H),x(!1)},onClose:()=>x(!1)})})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ir,{value:r,onChange:s,options:D,placeholder:"All Status",className:"w-[180px]"}),n.jsx(ir,{value:a,onChange:i,options:_,placeholder:"All Networks",className:"w-[180px]"})]})]})}),S?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[1000px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left px-6 py-4",children:n.jsxs("button",{className:"flex items-center space-x-2 text-sm font-medium text-gray-500",children:[n.jsx("span",{children:"Date"}),n.jsx(bl,{className:"h-4 w-4"})]})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Payout ID"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsxs("button",{className:"flex items-center space-x-2 text-sm font-medium text-gray-500",children:[n.jsx("span",{children:"Amount"}),n.jsx(bl,{className:"h-4 w-4"})]})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Network"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Wallet"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Period"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Status"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"})}),n.jsx("th",{className:"text-right px-6 py-4"})]})}),n.jsx("tbody",{children:z.map(H=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-500",children:$e(new Date(H.createdAt),"UTC","dd.MM.yy")})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-mono text-gray-900",children:[H.id.slice(0,8),"..."]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[H.amount.toFixed(2)," USDC"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ed,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-900 capitalize",children:H.network})]})}),n.jsx("td",{className:"px-6 py-4",children:H.wallet?n.jsxs("span",{className:"text-sm font-mono text-gray-600",children:[H.wallet.slice(0,8),"..."]}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4",children:H.periodFrom&&H.periodTo?n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsxs("div",{children:[$e(new Date(H.periodFrom),"UTC","dd.MM.yy")," -"]}),n.jsx("div",{children:$e(new Date(H.periodTo),"UTC","dd.MM.yy")})]}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsxs("td",{className:"px-6 py-4",children:[H.status==="COMPLETED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),H.status==="PENDING"&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(tr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Pending"})]}),H.status==="REJECTED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Rejected"})]})]}),n.jsx("td",{className:"px-6 py-4",children:H.txid?n.jsxs("span",{className:"text-sm font-mono text-gray-600",children:[H.txid.slice(0,8),"..."]}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-end space-x-2",children:n.jsx("button",{onClick:()=>l(H),className:"p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-all duration-200",children:n.jsx(Ts,{className:"h-4 w-4"})})})})]},H.id))})]})}),(C==null?void 0:C.pagination)&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(C.pagination.page-1)*C.pagination.limit+1," to"," ",Math.min(C.pagination.page*C.pagination.limit,C.pagination.total)," of"," ",C.pagination.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>y(Math.max(1,g-1)),disabled:g===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",C.pagination.page," of ",C.pagination.totalPages]}),n.jsx("button",{onClick:()=>y(Math.min(C.pagination.totalPages,g+1)),disabled:g===C.pagination.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),n.jsx(tt,{children:o&&n.jsx(pQ,{payout:o,onClose:()=>l(null)})})]})},yQ=({isOpen:t,onClose:e})=>{const{data:r,isLoading:s}=Zx(),a=iQ(),[i,o]=P.useState(""),[l,c]=P.useState(""),[d,u]=P.useState(!1),[h,f]=P.useState(!1),[m,p]=P.useState(null);P.useEffect(()=>{r&&(o(r.telegramBotApiKey||""),c(r.telegramChatId||""))},[r]);const x=(y,v)=>{navigator.clipboard.writeText(y),p(v),setTimeout(()=>p(null),2e3)},g=async()=>{try{await a.mutateAsync({botApiKey:i,chatId:l}),ce.success("Telegram settings updated successfully"),e()}catch(y){ce.error(y.message||"Failed to update Telegram settings")}};return n.jsx(tt,{children:t&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},onClick:y=>{y.target===y.currentTarget&&e()},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(wl,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telegram Bot API Keys"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"p-6 space-y-6",children:s?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Qe,{size:"lg"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bot API Key"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:d?"text":"password",value:i,onChange:y=>o(y.target.value),className:"w-full px-4 py-2.5 pr-20 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none font-mono text-sm",placeholder:"Enter your bot API key"}),n.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center space-x-1 pr-3",children:[n.jsx("button",{type:"button",onClick:()=>u(!d),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:d?n.jsx(ed,{className:"h-4 w-4"}):n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx("button",{type:"button",onClick:()=>x(i,"bot-key"),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:m==="bot-key"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Get this from @BotFather on Telegram"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chat ID"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:h?"text":"password",value:l,onChange:y=>c(y.target.value),className:"w-full px-4 py-2.5 pr-20 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none font-mono text-sm",placeholder:"Enter chat ID for notifications"}),n.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center space-x-1 pr-3",children:[n.jsx("button",{type:"button",onClick:()=>f(!h),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:h?n.jsx(ed,{className:"h-4 w-4"}):n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx("button",{type:"button",onClick:()=>x(l,"chat-id"),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:m==="chat-id"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Chat ID where notifications will be sent"})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(wl,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"How to get Chat ID:"}),n.jsxs("ol",{className:"mt-2 text-sm text-blue-700 list-decimal list-inside space-y-1",children:[n.jsx("li",{children:"Start a chat with your bot"}),n.jsx("li",{children:"Send any message to the bot"}),n.jsxs("li",{children:["Visit: https://api.telegram.org/bot","{BOT_TOKEN}","/getUpdates"]}),n.jsxs("li",{children:['Look for "chat":',"{",'"id": in the response']})]})]})]})})]})}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3",children:[n.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",disabled:a.isPending,children:"Cancel"}),n.jsxs("button",{onClick:g,disabled:a.isPending,className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[a.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:a.isPending?"Saving...":"Save Changes"})]})]})]})})})},vQ=()=>{const{data:t,isLoading:e,error:r}=uQ(),s=hQ(),[a,i]=P.useState(null),o=async d=>{i(d);try{await s.mutateAsync(d),ce.success("Telegram session disconnected successfully")}catch(u){ce.error(u.message||"Failed to disconnect session")}finally{i(null)}},l=d=>new Date(d).toLocaleString("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"UTC",timeZoneName:"short",hour12:!1});if(e)return n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Qe,{size:"md"})});if(r)return n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-sm text-red-600",children:"Failed to load sessions"})});const c=t||[];return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Connected Devices"}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Telegram users registered for notifications (",c.length," / 5)"]})]})}),c.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(wl,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-sm text-gray-500",children:"No connected devices"})]}):n.jsx("div",{className:"space-y-2",children:c.map(d=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[d.firstName||"N/A"," ",d.lastName||""]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"ID:"}),n.jsx("span",{className:"font-mono",children:d.telegramId})]}),d.username&&n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Username:"}),n.jsxs("span",{children:["@",d.username]})]}),n.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:n.jsxs("span",{children:["Connected ",l(d.createdAt)]})})]})]}),n.jsx("button",{onClick:()=>o(d.id),disabled:a===d.id,className:"ml-4 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a===d.id?n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(Qe,{size:"xs"}),n.jsx("span",{children:"Disconnecting..."})]}):"Disconnect"})]})},d.id))})]})},bQ=()=>{const[t,e]=P.useState(()=>new URLSearchParams(window.location.search).get("tab")||"profile"),[r,s]=P.useState(!1),[a,i]=P.useState(!1),[o,l]=P.useState(!1),[c,d]=P.useState(""),[u,h]=P.useState(null),[f,m]=P.useState(null),[p,x]=P.useState([]),[g,y]=P.useState(!1),[v,b]=P.useState(""),[w,N]=P.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[C,S]=P.useState({payment_success:!1,payment_failed:!1,payout:!1,login:!1}),[k,A]=P.useState({usdtPolygonWallet:"",usdtTrcWallet:"",usdtErcWallet:"",usdcPolygonWallet:"",usdcErcWallet:""}),[T,E]=P.useState(!1),[D,_]=P.useState(!1),[z,H]=P.useState(!1),[q,K]=P.useState(""),[Y,J]=P.useState(null),[Z,ne]=P.useState(!1),[F,Q]=P.useState(""),[W,G]=P.useState(null),{data:te,isLoading:ee}=zx(),{data:I,isLoading:oe}=Zx(),{isLoading:V}=sY(),pe=aQ(),ye=nQ(),Ae=nY(),Re=oQ(),nt=lQ(),Xe=cQ(),_e=dQ();P.useEffect(()=>{I!=null&&I.notifications&&(console.log(" Settings notifications from API:",I.notifications),S({payment_success:I.notifications.payment_success||!1,payment_failed:I.notifications.payment_failed||!1,payout:I.notifications.payout||!1,login:I.notifications.login||!1}),E(!1),console.log(" Local notification settings updated:",{payment_success:I.notifications.payment_success,payment_failed:I.notifications.payment_failed,payout:I.notifications.payout,login:I.notifications.login}))},[I==null?void 0:I.notifications]),P.useEffect(()=>{te!=null&&te.wallets&&(A({usdtPolygonWallet:te.wallets.usdtPolygonWallet||"",usdtTrcWallet:te.wallets.usdtTrcWallet||"",usdtErcWallet:te.wallets.usdtErcWallet||"",usdcPolygonWallet:te.wallets.usdcPolygonWallet||"",usdcErcWallet:te.wallets.usdcErcWallet||""}),_(!1))},[te==null?void 0:te.wallets]);const Ye=[{id:"profile",label:"Profile",icon:Dt},{id:"security",label:"Security",icon:Ps},{id:"notifications",label:"Notifications",icon:T6},{id:"2fa",label:"2FA",icon:xa},{id:"wallets",label:"Wallets",icon:Sr}],Ge=[{id:"payment_success",label:"Successful payment",description:"When a payment is successfully processed"},{id:"payment_failed",label:"Failed payment",description:"When a payment fails to process"},{id:"payout",label:"Payout sent",description:"When a payout is sent to your bank account"},{id:"login",label:"New login",description:"When a new device logs into your account"}],ze=[{id:"usdtPolygonWallet",label:"USDT (Polygon)",description:"Polygon network USDT wallet address",placeholder:"0x1234567890abcdef...",icon:n.jsxs("div",{className:"relative w-10 h-10",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-10 h-10 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white"})]})},{id:"usdtTrcWallet",label:"USDT (TRC-20)",description:"TRON network USDT wallet address",placeholder:"TRX1234567890abcdef...",icon:n.jsxs("div",{className:"relative w-10 h-10",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-10 h-10 rounded-full"}),n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white"})]})},{id:"usdtErcWallet",label:"USDT (ERC-20)",description:"Ethereum network USDT wallet address",placeholder:"0xabcdef1234567890...",icon:n.jsxs("div",{className:"relative w-10 h-10",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-10 h-10 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white"})]})},{id:"usdcPolygonWallet",label:"USDC (Polygon)",description:"Polygon network USDC wallet address",placeholder:"0xfedcba0987654321...",icon:n.jsxs("div",{className:"relative w-10 h-10",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-10 h-10 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white"})]})},{id:"usdcErcWallet",label:"USDC (ERC-20)",description:"Ethereum network USDC wallet address",placeholder:"0xabcdef1234567890...",icon:n.jsxs("div",{className:"relative w-10 h-10",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-10 h-10 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white"})]})}],lt=async Se=>{if(Se.preventDefault(),w.newPassword!==w.confirmNewPassword){ce.error("New passwords do not match");return}if(!(I!=null&&I.twoFactorEnabled)){ce.error("Please enable 2FA to change password");return}J(w),H(!0),K("")},$t=async()=>{if(!Y||q.length!==6){ce.error("Enter 6-digit code");return}try{await pe.mutateAsync({currentPassword:Y.currentPassword,newPassword:Y.newPassword,confirmNewPassword:Y.confirmNewPassword,twoFactorToken:q}),ce.success("Password updated successfully"),N({currentPassword:"",newPassword:"",confirmNewPassword:""}),H(!1),J(null),K("")}catch(Se){ce.error(Se.message||"Failed to update password")}},gs=(Se,pt)=>{console.log(" Notification change:",Se,pt),S(we=>({...we,[Se]:pt})),E(!0)},xt=(Se,pt)=>{A(we=>({...we,[Se]:pt})),_(!0)},Fs=async()=>{try{console.log(" Saving notification settings:",C),await ye.mutateAsync(C),ce.success("Notification preferences updated"),E(!1)}catch(Se){ce.error(Se.message||"Failed to update notifications")}},wr=async()=>{if(!(I!=null&&I.twoFactorEnabled)){ce.error("Please enable 2FA to save wallet settings");return}G(k),ne(!0),Q("")},Cr=async()=>{if(!W||F.length!==6){ce.error("Enter 6-digit code");return}try{await Ae.mutateAsync({...W,twoFactorToken:F}),ce.success("Wallet settings updated successfully"),_(!1),ne(!1),G(null),Q("")}catch(Se){ce.error(Se.message||"Failed to update wallet settings")}},_r=async()=>{if(!(I!=null&&I.twoFactorEnabled)){ce.error("Please enable 2FA to revoke API keys"),s(!1);return}s(!1),y(!0),b("")},ys=async()=>{if(v.length!==6){ce.error("Enter 6-digit code");return}try{await Re.mutateAsync({twoFactorToken:v}),ce.success("All API keys have been revoked"),y(!1),b("")}catch(Se){ce.error(Se.message||"Failed to revoke API keys")}},oa=async()=>{try{const Se=await nt.mutateAsync();console.log(" Full response in component:",Se);const pt=(Se==null?void 0:Se.result)||Se;console.log(" Final result:",pt),pt!=null&&pt.qrCode&&(pt!=null&&pt.manualEntryKey)?(h(pt.qrCode),m(pt.manualEntryKey),x(pt.backupCodes||[]),l(!0),d("")):(console.error(" Missing qrCode or manualEntryKey:",pt),ce.error("Invalid 2FA setup response"))}catch(Se){console.error(" 2FA Setup error:",Se),ce.error(Se.message||"Failed to setup 2FA")}},Ta=async()=>{if(!c||c.length!==6){ce.error("Please enter a valid 6-digit code");return}try{await Xe.mutateAsync({token:c}),ce.success("2FA enabled successfully"),l(!1),d(""),h(null),m(null)}catch(Se){ce.error(Se.message||"Failed to enable 2FA. Please check your code.")}},fn=async()=>{try{await _e.mutateAsync(),ce.success("2FA disabled successfully")}catch(Se){ce.error(Se.message||"Failed to disable 2FA")}};return ee||oe?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(Qe,{size:"lg"})}):n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Settings"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account settings and preferences"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("div",{className:"flex overflow-x-auto",children:Ye.map(Se=>n.jsxs("button",{onClick:()=>e(Se.id),className:`flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${t===Se.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Se.icon,{className:"h-4 w-4"}),n.jsx("span",{children:Se.label})]},Se.id))})}),n.jsxs("div",{className:"p-6",children:[t==="profile"&&te&&I&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand Name"}),n.jsx("input",{type:"text",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",value:te.name,disabled:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),n.jsx("input",{type:"text",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",value:te.username,disabled:!0})]}),te.shopUrl||te.shopUrl2||te.shopUrl3||te.shopUrl4?n.jsxs(n.Fragment,{children:[te.shopUrl&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant URL"}),n.jsx("input",{type:"url",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",value:te.shopUrl,disabled:!0})]}),te.shopUrl2&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant URL 2"}),n.jsx("input",{type:"url",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",value:te.shopUrl2,disabled:!0})]}),te.shopUrl3&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant URL 3"}),n.jsx("input",{type:"url",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",value:te.shopUrl3,disabled:!0})]}),te.shopUrl4&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant URL 4"}),n.jsx("input",{type:"url",className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",value:te.shopUrl4,disabled:!0})]})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Merchant URL"}),n.jsx("div",{className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-50 text-gray-400",children:"Not configured"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telegram ID"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(wl,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed",value:te.telegram,disabled:!0})]})]})]}),n.jsx("div",{className:"flex justify-end pt-6",children:n.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-500 rounded-lg cursor-not-allowed",children:"Read Only"})})]}),t==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Change Password"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Ensure your account is using a long, random password to stay secure."})]}),n.jsxs("form",{onSubmit:lt,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),n.jsx("input",{type:"password",value:w.currentPassword,onChange:Se=>N({...w,currentPassword:Se.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),n.jsx("input",{type:"password",value:w.newPassword,onChange:Se=>N({...w,newPassword:Se.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),n.jsx("input",{type:"password",value:w.confirmNewPassword,onChange:Se=>N({...w,confirmNewPassword:Se.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",required:!0})]}),n.jsx("div",{className:"flex justify-end pt-6",children:n.jsxs("button",{type:"submit",disabled:pe.isPending,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[pe.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:pe.isPending?"Updating...":"Update Password"})]})})]})]}),n.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(hf,{className:"h-5 w-5 text-primary mr-2"}),"API Keys"]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your API access and security."})]}),n.jsx("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:n.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-primary/10 text-primary border border-primary/30 rounded-lg hover:bg-primary/20 transition-colors",children:"Revoke All API Keys"})})]})]}),t==="notifications"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Telegram Notifications"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose what notifications you want to receive via Telegram."})]}),n.jsx("div",{className:"border rounded-xl p-4 bg-gray-50 border-gray-200",children:n.jsx(vQ,{})}),n.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(wl,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Setup Telegram Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Step 1: Start the bot"}),n.jsxs("a",{href:"https://t.me/trapay_notifi_bot",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[n.jsx(wl,{className:"h-4 w-4"}),n.jsx("span",{children:"Open TRAPAY Notification Bot"}),n.jsx(_h,{className:"h-4 w-4"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Step 2: Send your credentials"}),n.jsxs("div",{className:"bg-primary/5 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-700 mb-2",children:'After clicking "Start" in the bot, send this message:'}),n.jsx("div",{className:"bg-white rounded-lg p-3 border border-primary/10",children:n.jsx("code",{className:"text-sm text-gray-900 break-all",children:te?`${te.username} ${te.publicKey}`:"your_username your_api_key"})}),n.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Replace with your actual username and API key from the Integration page"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Step 3: Enable notifications"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Once the bot confirms your registration, you can enable the notifications you want to receive below."})]})]})]})]})}),oe?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Qe,{size:"lg"})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-4",children:Ge.map(Se=>{const pt=C[Se.id];return console.log(` Notification ${Se.id} checked state:`,pt),n.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:Se.label}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:Se.description})]}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:pt,onChange:we=>{console.log(` Checkbox change for ${Se.id}:`,we.target.checked),gs(Se.id,we.target.checked)},className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),n.jsx("span",{className:"text-sm text-gray-600",children:n.jsx(wl,{className:"h-4 w-4"})})]})})]},Se.id)})}),n.jsx("div",{className:"flex justify-end pt-6",children:n.jsxs("button",{onClick:Fs,disabled:ye.isPending||!T,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[ye.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:ye.isPending?"Saving...":"Save Preferences"})]})})]})]}),t==="2fa"&&n.jsx("div",{className:"space-y-6",children:I!=null&&I.twoFactorEnabled?n.jsx(n.Fragment,{children:n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(xa,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Two-Factor Authentication Enabled"}),n.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Your account is protected with two-factor authentication. You will need to enter a code from your authenticator app when logging in."}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:fn,disabled:_e.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[_e.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:_e.isPending?"Disabling...":"Disable 2FA"})]})]})]})})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(xa,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Enable Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Add an extra layer of security to your account. You'll need to enter a code from an authenticator app (Google Authenticator, Authy, etc.) in addition to your password when logging in."}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:oa,disabled:nt.isPending,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[nt.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:nt.isPending?"Setting up...":"Enable 2FA"})]})]})]})}),n.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(dt,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("p",{className:"font-medium mb-2",children:"Why enable 2FA?"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Protects your account even if your password is compromised"}),n.jsx("li",{children:"Only takes a few seconds to set up"}),n.jsx("li",{children:"Required to change crypto wallets, API keys, and account password"})]})]})]})})]})}),t==="wallets"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Crypto Wallets"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure your cryptocurrency wallet addresses for receiving payouts."})]}),n.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Sr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Important Notes:"}),n.jsxs("ul",{className:"mt-2 text-sm text-gray-700 list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Payouts are processed automatically without prior notice"}),n.jsx("li",{children:"The accuracy and validity of the payout wallet address are the sole responsibility of the recipient"}),n.jsx("li",{children:"Double-check wallet addresses before saving - incorrect addresses may result in lost funds"}),n.jsx("li",{children:"Only use wallet addresses that you control and have access to"})]})]})]})}),V?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Qe,{size:"lg"})}):n.jsxs("div",{className:"space-y-6",children:[ze.map(Se=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"flex-shrink-0",children:Se.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:Se.label}),n.jsx("p",{className:"text-sm text-gray-500",children:Se.description})]})]}),n.jsx("input",{type:"text",value:k[Se.id],onChange:pt=>xt(Se.id,pt.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none font-mono text-sm",placeholder:Se.placeholder})]},Se.id)),n.jsx("div",{className:"flex justify-end pt-6",children:n.jsxs("button",{onClick:wr,disabled:Ae.isPending||!D,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[Ae.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:Ae.isPending?"Saving...":"Save Wallet Settings"})]})})]})]})]})]})]}),n.jsx(yQ,{isOpen:a,onClose:()=>i(!1)}),n.jsx(tt,{children:o&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:Se=>{Se.target===Se.currentTarget&&l(!1)},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(xa,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Setup 2FA"})]}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"p-4 space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto",children:u&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-2",children:"Scan QR code:"}),n.jsx("img",{src:u,alt:"2FA QR Code",className:"w-32 h-32 border border-gray-300 rounded"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[f&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-1.5",children:"Setup key:"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"bg-gray-100 p-2 rounded font-mono text-xs break-all pr-8",children:f}),n.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(f),ce.success("Setup key copied!")},className:"absolute top-1/2 right-1 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded",children:n.jsx(ct,{className:"h-3 w-3"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Use this if QR code doesn't work"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"6-digit code:"}),n.jsx("input",{type:"text",value:c,onChange:Se=>d(Se.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"w-full px-3 py-2 text-center text-xl tracking-widest rounded border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none font-mono"})]})]})]}),p.length>0&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[n.jsxs("h4",{className:"text-xs font-medium text-red-900 mb-2 flex items-center",children:[n.jsx(dt,{className:"h-3.5 w-3.5 mr-1.5"}),"Backup codes"]}),n.jsx("p",{className:"text-xs text-red-700 mb-2",children:"Save them securely. Use if you lose your authenticator."}),n.jsx("div",{className:"grid grid-cols-2 gap-1.5 overflow-y-auto",children:p.map((Se,pt)=>n.jsxs("div",{className:"flex items-center justify-between bg-white p-1.5 rounded border border-red-100 text-xs",children:[n.jsx("code",{className:"font-mono text-gray-900 flex-1 truncate mr-1",children:Se}),n.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(Se),ce.success("Code copied!")},className:"text-red-600 hover:text-red-700 p-0.5 hover:bg-red-100 rounded flex-shrink-0",children:n.jsx(ct,{className:"h-3 w-3"})})]},pt))})]}),n.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded p-2",children:n.jsx("p",{className:"text-xs text-gray-700",children:"Enter the 6-digit code to complete setup"})})]})}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",disabled:Xe.isPending,children:"Cancel"}),n.jsxs("button",{onClick:Ta,disabled:Xe.isPending||!c||c.length!==6,className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[Xe.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:Xe.isPending?"Enabling...":"Verify & Enable"})]})]})]})})}),n.jsx(tt,{children:z&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},onClick:Se=>{Se.target===Se.currentTarget&&H(!1)},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(xa,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verify with 2FA"})]}),n.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app to confirm the password change."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"6-digit code:"}),n.jsx("input",{type:"text",value:q,onChange:Se=>K(Se.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"w-full px-4 py-2.5 text-center text-2xl tracking-widest rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none font-mono"})]}),n.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-3",children:n.jsx("p",{className:"text-xs text-gray-700",children:"This code expires in 30 seconds"})})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",disabled:pe.isPending,children:"Cancel"}),n.jsxs("button",{onClick:$t,disabled:pe.isPending||q.length!==6,className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[pe.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:pe.isPending?"Updating...":"Confirm & Update"})]})]})]})})}),n.jsx(tt,{children:Z&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},onClick:Se=>{Se.target===Se.currentTarget&&ne(!1)},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(xa,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verify with 2FA"})]}),n.jsx("button",{onClick:()=>ne(!1),className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app to confirm the wallet changes."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"6-digit code:"}),n.jsx("input",{type:"text",value:F,onChange:Se=>Q(Se.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"w-full px-4 py-2.5 text-center text-2xl tracking-widest rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none font-mono"})]}),n.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-3",children:n.jsx("p",{className:"text-xs text-gray-700",children:"This code expires in 30 seconds"})})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>ne(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",disabled:Ae.isPending,children:"Cancel"}),n.jsxs("button",{onClick:Cr,disabled:Ae.isPending||F.length!==6,className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[Ae.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:Ae.isPending?"Updating...":"Confirm & Update"})]})]})]})})}),n.jsx(tt,{children:r&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:Se=>{Se.target===Se.currentTarget&&s(!1)},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-md w-full overflow-hidden",children:[n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-yellow-100 mx-auto",children:n.jsx(dt,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"mt-4 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revoke All API Keys"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This will immediately invalidate all existing API keys. Your integrations will stop working until new keys are generated."})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",disabled:Re.isPending,children:"Cancel"}),n.jsxs("button",{onClick:_r,disabled:Re.isPending,className:"px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-lg hover:bg-yellow-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[Re.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:Re.isPending?"Revoking...":"Revoke All Keys"})]})]})]})})}),n.jsx(tt,{children:g&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},onClick:Se=>{Se.target===Se.currentTarget&&y(!1)},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(xa,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verify with 2FA"})]}),n.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app to confirm revoking all API keys."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"6-digit code:"}),n.jsx("input",{type:"text",value:v,onChange:Se=>b(Se.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"w-full px-4 py-2.5 text-center text-2xl tracking-widest rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none font-mono"})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsx("p",{className:"text-xs text-yellow-700",children:"This will immediately invalidate all existing API keys"})})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",disabled:Re.isPending,children:"Cancel"}),n.jsxs("button",{onClick:ys,disabled:Re.isPending||v.length!==6,className:"px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-lg hover:bg-yellow-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[Re.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:Re.isPending?"Revoking...":"Confirm & Revoke"})]})]})]})})})]})},Tn={all:["paymentLinks"],lists:()=>[...Tn.all,"list"],list:t=>[...Tn.lists(),{filters:t}],details:()=>[...Tn.all,"detail"],detail:t=>[...Tn.details(),t],shopGateways:()=>[...Tn.all,"shopGateways"]},Ew=t=>({id:t.id,shopId:t.shopId,amount:t.amount,currency:t.currency,sourceCurrency:t.sourceCurrency,gateway:t.gateway,type:t.type||"SINGLE",currentPayments:t.currentPayments,remainingPayments:t.remainingPayments,status:t.status,expiresAt:t.expiresAt,successUrl:t.successUrl,failUrl:t.failUrl,country:t.country,language:t.language,linkUrl:t.linkUrl,createdAt:t.createdAt,updatedAt:t.updatedAt,shop:t.shop,payments:t.payments||[]});function wQ(t){return Vt({queryKey:Tn.list(t||{}),queryFn:async()=>{var i;const e=new URLSearchParams;if(t!=null&&t.status&&t.status!=="all"&&e.append("status",t.status),t!=null&&t.gateway&&t.gateway!=="all"){const o=YE(t.gateway);e.append("gateway",o.toLowerCase())}t!=null&&t.search&&e.append("search",t.search),t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString());const r=e.toString(),s=await Pe.get(`/payment-links${r?`?${r}`:""}`),a=(s.links||[]).map(Ew);return{paymentLinks:a,total:((i=s.pagination)==null?void 0:i.total)||a.length,pagination:s.pagination}}})}function U3(){const{data:t}=zx();return Vt({queryKey:Tn.shopGateways(),queryFn:async()=>(t==null?void 0:t.paymentGateways)||[],enabled:!!t})}function NQ(){const t=sr();return Ht({mutationFn:async e=>{console.log("Creating payment link with data:",e);const r={amount:e.amount,currency:e.currency,gateway:e.gateway,type:e.type};e.sourceCurrency&&(r.sourceCurrency=e.sourceCurrency),e.network&&(r.network=e.network),e.expiresAt&&(r.expiresAt=e.expiresAt),console.log("Final request data (sending gateway ID):",r);const s=await Pe.post("/payment-links",r);return Ew(s.result)},onSuccess:()=>{t.invalidateQueries({queryKey:Tn.lists()})}})}function jQ(){const t=sr();return Ht({mutationFn:async e=>{await Pe.delete(`/payment-links/${e}`)},onSuccess:()=>{t.invalidateQueries({queryKey:Tn.lists()})}})}function SQ(){const t=sr();return Ht({mutationFn:async({id:e,status:r})=>{const s=await Pe.patch(`/payment-links/${e}/status`,{status:r});return Ew(s.result)},onSuccess:(e,r)=>{t.invalidateQueries({queryKey:Tn.lists()}),t.setQueryData(Tn.detail(r.id),e)}})}const Dg={1e3:[{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"BGN",label:"BGN - Bulgarian Lev"},{value:"BRL",label:"BRL - Brazilian Real"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"JPY",label:"JPY - Japanese Yen"},{value:"CNY",label:"CNY - Chinese Yuan"},{value:"SEK",label:"SEK - Swedish Krona"},{value:"NOK",label:"NOK - Norwegian Krone"},{value:"DKK",label:"DKK - Danish Krone"},{value:"PLN",label:"PLN - Polish Zloty"},{value:"CZK",label:"CZK - Czech Koruna"},{value:"HUF",label:"HUF - Hungarian Forint"},{value:"BGN",label:"BGN - Bulgarian Lev"},{value:"RON",label:"RON - Romanian Leu"},{value:"HRK",label:"HRK - Croatian Kuna"},{value:"TRY",label:"TRY - Turkish Lira"},{value:"BRL",label:"BRL - Brazilian Real"},{value:"MXN",label:"MXN - Mexican Peso"},{value:"ARS",label:"ARS - Argentine Peso"},{value:"CLP",label:"CLP - Chilean Peso"},{value:"COP",label:"COP - Colombian Peso"},{value:"PEN",label:"PEN - Peruvian Sol"},{value:"UYU",label:"UYU - Uruguayan Peso"},{value:"ZAR",label:"ZAR - South African Rand"},{value:"EGP",label:"EGP - Egyptian Pound"},{value:"MAD",label:"MAD - Moroccan Dirham"},{value:"TND",label:"TND - Tunisian Dinar"},{value:"KES",label:"KES - Kenyan Shilling"},{value:"NGN",label:"NGN - Nigerian Naira"},{value:"GHS",label:"GHS - Ghanaian Cedi"},{value:"INR",label:"INR - Indian Rupee"},{value:"PKR",label:"PKR - Pakistani Rupee"},{value:"BDT",label:"BDT - Bangladeshi Taka"},{value:"LKR",label:"LKR - Sri Lankan Rupee"},{value:"NPR",label:"NPR - Nepalese Rupee"},{value:"THB",label:"THB - Thai Baht"},{value:"VND",label:"VND - Vietnamese Dong"},{value:"IDR",label:"IDR - Indonesian Rupiah"},{value:"MYR",label:"MYR - Malaysian Ringgit"},{value:"PHP",label:"PHP - Philippine Peso"},{value:"SGD",label:"SGD - Singapore Dollar"},{value:"HKD",label:"HKD - Hong Kong Dollar"},{value:"TWD",label:"TWD - Taiwan Dollar"},{value:"KRW",label:"KRW - South Korean Won"},{value:"NZD",label:"NZD - New Zealand Dollar"},{value:"PKR",label:"PKR - Pakistani Rupee"},{value:"BDT",label:"BDT - Bangladeshi Taka"},{value:"LKR",label:"LKR - Sri Lankan Rupee"},{value:"NPR",label:"NPR - Nepalese Rupee"},{value:"THB",label:"THB - Thai Baht"},{value:"VND",label:"VND - Vietnamese Dong"},{value:"IDR",label:"IDR - Indonesian Rupiah"},{value:"MYR",label:"MYR - Malaysian Ringgit"},{value:"PHP",label:"PHP - Philippine Peso"},{value:"SGD",label:"SGD - Singapore Dollar"},{value:"HKD",label:"HKD - Hong Kong Dollar"},{value:"TWD",label:"TWD - Taiwan Dollar"},{value:"KRW",label:"KRW - South Korean Won"},{value:"NZD",label:"NZD - New Zealand Dollar"}],"0001":[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"CHF",label:"CHF - Swiss Franc"},{value:"JPY",label:"JPY - Japanese Yen"},{value:"CNY",label:"CNY - Chinese Yuan"},{value:"RUB",label:"RUB - Russian Ruble"},{value:"SEK",label:"SEK - Swedish Krona"},{value:"NOK",label:"NOK - Norwegian Krone"},{value:"DKK",label:"DKK - Danish Krone"},{value:"PLN",label:"PLN - Polish Zloty"},{value:"CZK",label:"CZK - Czech Koruna"},{value:"HUF",label:"HUF - Hungarian Forint"},{value:"BGN",label:"BGN - Bulgarian Lev"},{value:"RON",label:"RON - Romanian Leu"},{value:"HRK",label:"HRK - Croatian Kuna"},{value:"TRY",label:"TRY - Turkish Lira"},{value:"UAH",label:"UAH - Ukrainian Hryvnia"},{value:"BRL",label:"BRL - Brazilian Real"},{value:"MXN",label:"MXN - Mexican Peso"},{value:"ARS",label:"ARS - Argentine Peso"},{value:"INR",label:"INR - Indian Rupee"},{value:"KRW",label:"KRW - South Korean Won"},{value:"SGD",label:"SGD - Singapore Dollar"},{value:"HKD",label:"HKD - Hong Kong Dollar"},{value:"THB",label:"THB - Thai Baht"},{value:"MYR",label:"MYR - Malaysian Ringgit"},{value:"PHP",label:"PHP - Philippine Peso"},{value:"IDR",label:"IDR - Indonesian Rupiah"},{value:"VND",label:"VND - Vietnamese Dong"},{value:"ZAR",label:"ZAR - South African Rand"},{value:"EGP",label:"EGP - Egyptian Pound"},{value:"AED",label:"AED - UAE Dirham"},{value:"SAR",label:"SAR - Saudi Riyal"},{value:"QAR",label:"QAR - Qatari Riyal"},{value:"KWD",label:"KWD - Kuwaiti Dinar"},{value:"BHD",label:"BHD - Bahraini Dinar"},{value:"OMR",label:"OMR - Omani Rial"},{value:"JOD",label:"JOD - Jordanian Dinar"},{value:"LBP",label:"LBP - Lebanese Pound"},{value:"ILS",label:"ILS - Israeli Shekel"},{value:"IRR",label:"IRR - Iranian Rial"},{value:"IQD",label:"IQD - Iraqi Dinar"},{value:"AFN",label:"AFN - Afghan Afghani"},{value:"PKR",label:"PKR - Pakistani Rupee"},{value:"BDT",label:"BDT - Bangladeshi Taka"},{value:"LKR",label:"LKR - Sri Lankan Rupee"},{value:"NPR",label:"NPR - Nepalese Rupee"},{value:"BTN",label:"BTN - Bhutanese Ngultrum"},{value:"MVR",label:"MVR - Maldivian Rufiyaa"},{value:"KZT",label:"KZT - Kazakhstani Tenge"},{value:"UZS",label:"UZS - Uzbekistan Som"},{value:"KGS",label:"KGS - Kyrgyzstan Som"},{value:"TJS",label:"TJS - Tajikistan Somoni"},{value:"TMT",label:"TMT - Turkmenistan Manat"},{value:"AZN",label:"AZN - Azerbaijani Manat"},{value:"GEL",label:"GEL - Georgian Lari"},{value:"AMD",label:"AMD - Armenian Dram"},{value:"BYN",label:"BYN - Belarusian Ruble"},{value:"MDL",label:"MDL - Moldovan Leu"},{value:"ALL",label:"ALL - Albanian Lek"},{value:"MKD",label:"MKD - Macedonian Denar"},{value:"RSD",label:"RSD - Serbian Dinar"},{value:"BAM",label:"BAM - Bosnia-Herzegovina Mark"},{value:"MNT",label:"MNT - Mongolian Tugrik"},{value:"KHR",label:"KHR - Cambodian Riel"},{value:"LAK",label:"LAK - Laotian Kip"},{value:"MMK",label:"MMK - Myanmar Kyat"},{value:"BND",label:"BND - Brunei Dollar"},{value:"FJD",label:"FJD - Fijian Dollar"},{value:"PGK",label:"PGK - Papua New Guinean Kina"},{value:"VUV",label:"VUV - Vanuatu Vatu"},{value:"WST",label:"WST - Samoan Tala"},{value:"TOP",label:"TOP - Tongan Paanga"},{value:"SBD",label:"SBD - Solomon Islands Dollar"},{value:"NZD",label:"NZD - New Zealand Dollar"}],"0010":[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"CHF",label:"CHF - Swiss Franc"},{value:"JPY",label:"JPY - Japanese Yen"},{value:"CNY",label:"CNY - Chinese Yuan"},{value:"SEK",label:"SEK - Swedish Krona"},{value:"NOK",label:"NOK - Norwegian Krone"},{value:"DKK",label:"DKK - Danish Krone"},{value:"PLN",label:"PLN - Polish Zloty"},{value:"CZK",label:"CZK - Czech Koruna"},{value:"HUF",label:"HUF - Hungarian Forint"},{value:"BGN",label:"BGN - Bulgarian Lev"},{value:"RON",label:"RON - Romanian Leu"},{value:"HRK",label:"HRK - Croatian Kuna"},{value:"TRY",label:"TRY - Turkish Lira"},{value:"BRL",label:"BRL - Brazilian Real"},{value:"MXN",label:"MXN - Mexican Peso"},{value:"ARS",label:"ARS - Argentine Peso"},{value:"CLP",label:"CLP - Chilean Peso"},{value:"COP",label:"COP - Colombian Peso"},{value:"PEN",label:"PEN - Peruvian Sol"},{value:"UYU",label:"UYU - Uruguayan Peso"},{value:"ZAR",label:"ZAR - South African Rand"},{value:"EGP",label:"EGP - Egyptian Pound"},{value:"MAD",label:"MAD - Moroccan Dirham"},{value:"TND",label:"TND - Tunisian Dinar"},{value:"KES",label:"KES - Kenyan Shilling"},{value:"NGN",label:"NGN - Nigerian Naira"},{value:"GHS",label:"GHS - Ghanaian Cedi"},{value:"INR",label:"INR - Indian Rupee"},{value:"PKR",label:"PKR - Pakistani Rupee"},{value:"BDT",label:"BDT - Bangladeshi Taka"},{value:"LKR",label:"LKR - Sri Lankan Rupee"},{value:"NPR",label:"NPR - Nepalese Rupee"},{value:"THB",label:"THB - Thai Baht"},{value:"VND",label:"VND - Vietnamese Dong"},{value:"IDR",label:"IDR - Indonesian Rupiah"},{value:"MYR",label:"MYR - Malaysian Ringgit"},{value:"PHP",label:"PHP - Philippine Peso"},{value:"SGD",label:"SGD - Singapore Dollar"},{value:"HKD",label:"HKD - Hong Kong Dollar"},{value:"TWD",label:"TWD - Taiwan Dollar"},{value:"KRW",label:"KRW - South Korean Won"},{value:"NZD",label:"NZD - New Zealand Dollar"}],"0100":[{value:"EUR",label:"EUR - Euro"}],"0101":[{value:"EUR",label:"EUR - Euro"}],1001:[{value:"EUR",label:"EUR - Euro"}],1010:[{value:"GBP",label:"GBP - British Pound"}],1100:[{value:"EUR",label:"EUR - Euro"},{value:"USD",label:"USD - US Dollar"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"GBP",label:"GBP - British Pound"},{value:"NOK",label:"NOK - Norwegian Krone"},{value:"JPY",label:"JPY - Japanese Yen"}],1111:[{value:"EUR",label:"EUR - Euro"}],"0000":[{value:"EUR",label:"EUR - Euro"},{value:"USD",label:"USD - US Dollar"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"GBP",label:"GBP - British Pound"},{value:"NOK",label:"NOK - Norwegian Krone"},{value:"JPY",label:"JPY - Japanese Yen"}],1110:[{value:"EUR",label:"EUR - Euro"},{value:"USD",label:"USD - US Dollar"},{value:"GBP",label:"GBP - British Pound"}],2e3:[{value:"EUR",label:"EUR - Euro"}],2001:[{value:"EUR",label:"EUR - Euro"}],2010:[{value:"EUR",label:"EUR - Euro"}],2011:[{value:"CAD",label:"CAD - Canadian Dollar"}],2002:[{value:"TRY",label:"TRY - Turkish Lira"}],3e3:[{value:"TRY",label:"TRY - Turkish Lira"},{value:"AED",label:"AED - UAE Dirham"},{value:"EUR",label:"EUR - Euro"},{value:"USD",label:"USD - US Dollar"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"PLN",label:"PLN - Polish Zloty"},{value:"NZD",label:"NZD - New Zealand Dollar"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"GBP",label:"GBP - British Pound"},{value:"ARS",label:"ARS - Argentine Peso"},{value:"INR",label:"INR - Indian Rupee"}],3001:[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"}],3002:[{value:"TRY",label:"TRY - Turkish Lira"}],3003:[{value:"EUR",label:"EUR - Euro"},{value:"USD",label:"USD - US Dollar"},{value:"GBP",label:"GBP - British Pound"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"CHF",label:"CHF - Swiss Franc"},{value:"BRL",label:"BRL - Brazilian Real"},{value:"SEK",label:"SEK - Swedish Krona"},{value:"NOK",label:"NOK - Norwegian Krone"},{value:"DKK",label:"DKK - Danish Krone"},{value:"PLN",label:"PLN - Polish Zloty"},{value:"CZK",label:"CZK - Czech Koruna"},{value:"HUF",label:"HUF - Hungarian Forint"},{value:"RON",label:"RON - Romanian Leu"},{value:"HRK",label:"HRK - Croatian Kuna"}],3004:[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"AUD",label:"AUD - Australian Dollar"}]},CQ=[{value:"USDT_TRX",label:"USDT TRC-20"},{value:"USDT",label:"USDT ERC-20"},{value:"USDC",label:"USDC ERC-20"},{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"TON",label:"TON"},{value:"TRX",label:"TRON"}],Qo={BTC:{name:"Bitcoin",networks:[{value:"Bitcoin",label:"Bitcoin Network"}]},ETH:{name:"Ethereum",networks:[{value:"Ethereum",label:"Ethereum Network"},{value:"BSC",label:"Binance Smart Chain"},{value:"Base",label:"Base Network"}]},USDT:{name:"Tether",networks:[{value:"Tron",label:"Tron Network"},{value:"Ethereum",label:"Ethereum Network"},{value:"BSC",label:"Binance Smart Chain"},{value:"Solana",label:"Solana Network"},{value:"Polygon",label:"Polygon Network"},{value:"The Open Network",label:"The Open Network - TON Network"}]},USDC:{name:"USD Coin",networks:[{value:"Ethereum",label:"Ethereum Network"},{value:"BSC",label:"Binance Smart Chain"},{value:"Solana",label:"Solana Network"},{value:"Base",label:"Base Network"}]},BNB:{name:"BNB",networks:[{value:"BSC",label:"Binance Smart Chain"}]},DOGE:{name:"Dogecoin",networks:[{value:"Dogecoin",label:"Dogecoin Network"}]},POL:{name:"Polygon",networks:[{value:"Polygon",label:"Polygon Network"}]},LTC:{name:"Litecoin",networks:[{value:"Litecoin",label:"Litecoin Network"}]},SOL:{name:"Solana",networks:[{value:"Solana",label:"Solana Network"}]},TRX:{name:"Tron",networks:[{value:"Tron",label:"Tron Network"}]},SHIB:{name:"Shiba Inu",networks:[{value:"Ethereum",label:"Ethereum Network"},{value:"BSC",label:"Binance Smart Chain"}]},TON:{name:"Toncoin",networks:[{value:"The Open Network",label:"The Open Network - TON Network"}]},XMR:{name:"Monero",networks:[{value:"Monero",label:"Monero Network"}]},DAI:{name:"DAI",networks:[{value:"Ethereum",label:"Ethereum Network"},{value:"Polygon",label:"Polygon Network"}]},BCH:{name:"Bitcoin Cash",networks:[{value:"BitcoinCash",label:"Bitcoin Cash Network"}]},NOT:{name:"NotCoin",networks:[{value:"The Open Network",label:"The Open Network - TON Network"}]},DOGS:{name:"Dogs",networks:[{value:"The Open Network",label:"The Open Network - TON Network"}]},XRP:{name:"Ripple",networks:[{value:"xrpl",label:"Ripple Network"}]}},kQ=({isOpen:t,onClose:e})=>{const[r,s]=P.useState({amount:void 0,currency:"USD",gateway:"",type:"SINGLE"}),[a,i]=P.useState(""),[o,l]=P.useState(null),[c,d]=P.useState(!1),[u,h]=P.useState({}),f=NQ(),{data:m,isLoading:p}=U3(),x=(m==null?void 0:m.map(w=>{const N=cc(w);return{value:w,label:N?N.displayName:`Gateway ${w}`}}))||[],g=r.gateway?Dg[r.gateway]||[]:[];P.useEffect(()=>{var w,N;if(m&&m.length>0&&!r.gateway){const C=m[0],S=((N=(w=Dg[C])==null?void 0:w[0])==null?void 0:N.value)||"USD";s(k=>({...k,gateway:C,currency:S,...C==="0001"?{sourceCurrency:"USDT"}:{}}))}},[m,r.gateway]),P.useEffect(()=>{var w,N;if(r.gateway){const C=((N=(w=Dg[r.gateway])==null?void 0:w[0])==null?void 0:N.value)||"USD";if(r.gateway==="0001")s(S=>({...S,currency:C,sourceCurrency:S.sourceCurrency||"USDT"}));else if(r.gateway==="3004")s(S=>({...S,currency:C,sourceCurrency:S.sourceCurrency||"USDT"}));else{const{sourceCurrency:S,...k}=r;s({...k,currency:C})}}},[r.gateway]),P.useEffect(()=>{var w;if(r.gateway==="3004"&&r.sourceCurrency){const N=((w=Qo[r.sourceCurrency])==null?void 0:w.networks)||[];N.length>0&&(console.log("Setting network for OxaPay:",N[0].value,"for currency:",r.sourceCurrency),i(N[0].value))}else r.gateway!=="3004"&&i("")},[r.gateway,r.sourceCurrency]);const y=async w=>{var N,C;w.preventDefault();try{if(r.amount===void 0||r.amount<=0){h(k=>({...k,amount:r.amount===void 0?"Amount is required":"Amount must be greater than 0"}));return}if(o){const k=new Date;k.setHours(0,0,0,0),k.setDate(k.getDate()+1);const A=new Date(o);if(A.setHours(0,0,0,0),A<k){h(T=>({...T,expiryDate:"Expiration must be at least tomorrow"}));return}}const S={amount:r.amount,currency:r.currency,gateway:r.gateway,type:r.type,expiresAt:o?o.toISOString():void 0};if(r.gateway==="3004"){S.sourceCurrency=r.sourceCurrency||"USDT";const k=a||((C=(N=Qo[S.sourceCurrency])==null?void 0:N.networks[0])==null?void 0:C.value);k&&(S.network=k),console.log("OxaPay submitData:",S)}else r.gateway==="0001"&&(S.sourceCurrency=r.sourceCurrency);await f.mutateAsync(S),ce.success("Payment link created successfully!"),e(),s({amount:void 0,currency:"USD",gateway:(m==null?void 0:m[0])||"",type:"SINGLE"}),i(""),l(null)}catch(S){console.error("=== Payment link creation error ==="),console.error("Full error object:",S),console.error("Error status:",S.status),console.error("Error message:",S.message),console.error("Error name:",S.name);let k="Failed to create payment link";S.status===400?k=S.message||"Invalid request. Please check all fields.":S.status===401?k="Authentication required. Please login again.":S.status===403?k="You do not have permission to create payment links.":S.status===422?k=S.message||"Validation failed. Please check your input.":S.status===500||S.status>=500?k=S.message||"Server error. Please try again later.":S.message&&(k=S.message),console.log("=== Calling toast.error with message:",k);const A=ce.error(k,{duration:5e3,description:S.status?`Error code: ${S.status}`:void 0});console.log("Toast result:",A)}},v=r.gateway==="0001",b=r.gateway==="3004";return n.jsx(tt,{children:t&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 sticky top-0 bg-white z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Payment Link"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Required Parameters"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gateway *"}),p?n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx(Qe,{size:"sm"})}):n.jsx(ir,{value:r.gateway,onChange:w=>s({...r,gateway:w}),options:x,placeholder:"Select gateway"}),m&&m.length===0&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:"No payment gateways available. Please contact support."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),n.jsx("input",{type:"number",value:r.amount||"",onChange:w=>{const N=w.target.value?parseFloat(w.target.value):void 0;s({...r,amount:N}),N===void 0?h(C=>({...C,amount:"Amount is required"})):N<=0?h(C=>({...C,amount:"Amount must be greater than 0"})):h(C=>({...C,amount:void 0}))},className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"0.00",step:"0.01",min:"0.01"}),u.amount&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.amount})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency *"}),n.jsx(ir,{value:r.currency,onChange:w=>s({...r,currency:w}),options:g,placeholder:"Currency"}),r.gateway&&g.length===0&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:"No currencies available for this gateway."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Type *"}),n.jsx(ir,{value:r.type,onChange:w=>s({...r,type:w}),options:[{value:"SINGLE",label:"Single Use - Can be used only once"},{value:"MULTI",label:"Multi Use - Can be used multiple times"}],placeholder:"Select link type"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:r.type==="SINGLE"?"This link will become inactive after one successful payment":"This link can be used for multiple payments"})]})]}),v&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-900 border-b border-gray-200 pb-2 flex items-center space-x-2",children:[n.jsx("span",{children:"Gateway 0001 Specific Parameters"}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Required"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Currency *"}),n.jsx(ir,{value:r.sourceCurrency||"USDT",onChange:w=>s({...r,sourceCurrency:w}),options:CQ,placeholder:"Select source currency"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The cryptocurrency that customers will use to pay"})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(dt,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Gateway 0001 Currency Setup"}),n.jsxs("div",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Currency:"})," Fiat currency for pricing"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Source Currency:"})," Cryptocurrency for actual payment"]}),n.jsx("p",{children:" Customer sees price in fiat but pays with crypto"})]})]})]})})]}),b&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-900 border-b border-gray-200 pb-2 flex items-center space-x-2",children:[n.jsx("span",{children:"Gateway Specific Parameters"}),n.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:"Required"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cryptocurrency *"}),n.jsx(ir,{value:r.sourceCurrency||"USDT",onChange:w=>{var C,S;s({...r,sourceCurrency:w});const N=((C=Qo[w])==null?void 0:C.networks)||[];i(((S=N[0])==null?void 0:S.value)||"")},options:Object.keys(Qo).map(w=>({value:w,label:`${w} - ${Qo[w].name}`})),placeholder:"Select cryptocurrency"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The cryptocurrency that customers will use to pay"})]}),r.sourceCurrency&&Qo[r.sourceCurrency]&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blockchain Network *"}),n.jsx(ir,{value:a,onChange:i,options:Qo[r.sourceCurrency].networks,placeholder:"Select network"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Select the blockchain network for the transaction"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Optional Parameters"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires At"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>d(!0),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-left flex items-center space-x-2 hover:border-primary transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:`text-sm ${o?"text-gray-900":"text-gray-500"}`,children:o?o.toLocaleDateString():"Optional"})]}),n.jsx(tt,{children:c&&n.jsx(Yr,{value:o,onChange:w=>{const N=new Date;if(N.setHours(0,0,0,0),N.setDate(N.getDate()+1),w){const C=new Date(w);C.setHours(0,0,0,0),C<N?(h(S=>({...S,expiryDate:"Expiration must be at least tomorrow"})),l(null)):(l(w),h(S=>({...S,expiryDate:void 0})))}else l(null);d(!1)},onClose:()=>d(!1)})})]}),u.expiryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.expiryDate})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",disabled:f.isPending,children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:f.isPending||!r.gateway||!r.currency||!!u.expiryDate||!!u.amount||r.amount===void 0||r.amount!==void 0&&r.amount<=0,className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[f.isPending&&n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:f.isPending?"Creating...":"Create Link"})]})]})]})]})})})},AQ=({link:t,onClose:e})=>{const[r,s]=P.useState(null),a=Bl(t.gateway),i=(o,l)=>{navigator.clipboard.writeText(o),s(l),setTimeout(()=>s(null),2e3)};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-2xl overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(L4,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Link"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.id})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"p-6 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Payment Link URL"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 font-mono truncate mr-2",children:t.linkUrl}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>i(t.linkUrl,"link-url"),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors",children:r==="link-url"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})}),n.jsx("a",{href:t.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(_h,{className:"h-4 w-4"})})]})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Amount"}),n.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:t.amount===null?"Variable":t.amount.toLocaleString()})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Currency"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.currency})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Gateway"}),n.jsx("div",{className:"text-sm text-gray-900",children:a})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),n.jsxs("div",{className:"mt-1",children:[t.status==="ACTIVE"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),t.status==="INACTIVE"&&n.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 bg-gray-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(hr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Inactive"})]}),t.status==="EXPIRED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-orange-600 bg-orange-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(dt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Expired"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Link Type"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.type==="SINGLE"?"Single Use":"Multi Use"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.type==="SINGLE"?"Can be used only once":"Can be used multiple times"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Usage"}),n.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[t.currentPayments||0," payments"]}),t.remainingPayments!==void 0&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.type==="SINGLE"?`${t.remainingPayments>0?"Available":"Used"}`:`${t.remainingPayments} remaining`})]}),t.sourceCurrency&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Source Currency"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.sourceCurrency})]}),t.expiresAt&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Expires At"}),n.jsx("div",{className:"text-sm text-gray-900",children:new Date(t.expiresAt).toLocaleDateString()})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),n.jsx("div",{className:"text-sm text-gray-900",children:new Date(t.createdAt).toLocaleDateString()})]}),t.shop&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Shop"}),n.jsx("div",{className:"text-sm text-gray-900",children:t.shop.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["@",t.shop.username]})]})]})]})})]})})},TQ=()=>{var A;const[t,e]=P.useState(!1),[r,s]=P.useState(""),[a,i]=P.useState("all"),[o,l]=P.useState("all"),[c,d]=P.useState(null),[u,h]=P.useState(null),[f,m]=P.useState(1),[p]=P.useState(20),x={status:a!=="all"?a:void 0,gateway:o!=="all"?o:void 0,search:r||void 0,page:f,limit:p},{data:g,isLoading:y,error:v}=wQ(x),{data:b}=U3(),w=jQ();SQ();const N=[{value:"all",label:"All Status"},{value:"ACTIVE",label:"Active",icon:n.jsx(wt,{className:"h-4 w-4 text-green-600"})},{value:"INACTIVE",label:"Inactive",icon:n.jsx(hr,{className:"h-4 w-4 text-gray-600"})},{value:"EXPIRED",label:"Expired",icon:n.jsx(dt,{className:"h-4 w-4 text-orange-600"})}],C=[{value:"all",label:"All Gateways"},...(b==null?void 0:b.map(T=>{const E=cc(T);return{value:T,label:E?E.displayName:`Gateway ${T}`}}))||[],{value:"1111",label:"MasterCard"}],S=(T,E)=>{navigator.clipboard.writeText(T),h(E),setTimeout(()=>h(null),2e3),ce.success("Link copied to clipboard!")},k=async T=>{if(window.confirm("Are you sure you want to delete this payment link?"))try{await w.mutateAsync(T),ce.success("Payment link deleted successfully")}catch(E){console.error("Delete payment link error:",E);let D="Failed to delete payment link";E.status===400?D=E.message||"Invalid request.":E.status===401?D="Authentication required. Please login again.":E.status===403?D="You do not have permission to delete this link.":E.status===404?D="Payment link not found.":E.status>=500?D="Server error. Please try again later.":E.message&&(D=E.message),ce.error(D)}};return v?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-red-600 mb-2",children:n.jsx(dt,{className:"h-8 w-8 mx-auto"})}),n.jsx("p",{className:"text-gray-600",children:"Failed to load payment links. Please try again."})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Payment Links"}),n.jsxs("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark flex items-center space-x-2",children:[n.jsx(km,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Link"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search payment links...",value:r,onChange:T=>s(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg"})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ir,{value:a,onChange:i,options:N,placeholder:"Filter by status"}),n.jsx(ir,{value:o,onChange:l,options:C,placeholder:"Filter by gateway"})]})]})}),y?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsxs("div",{children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-500",children:"Link ID"}),n.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-500",children:"Amount"}),n.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-500",children:"Currency"}),n.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-500",children:"Gateway"}),n.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-500",children:"Type"}),n.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-500",children:"Status"}),n.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-500",children:"Created"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-gray-500",children:"Actions"})]})}),n.jsx("tbody",{children:((A=g==null?void 0:g.paymentLinks)==null?void 0:A.map(T=>{const E=Bl(T.gateway);return n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"text-sm font-medium text-gray-900 font-mono",children:[T.id.slice(0,8),"..."]})}),n.jsxs("td",{className:"p-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:T.amount===null?"Variable":T.amount.toLocaleString()}),T.sourceCurrency&&n.jsxs("div",{className:"text-xs text-gray-500",children:["via ",T.sourceCurrency]})]}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:T.currency})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"text-sm text-gray-900",children:E})}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${T.type==="SINGLE"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:T.type==="SINGLE"?"Single Use":"Multi Use"})}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[T.currentPayments||0," payments",T.remainingPayments!==void 0&&T.type==="SINGLE"&&n.jsxs("span",{className:"ml-1",children:["(",T.remainingPayments>0?"available":"used",")"]})]})]}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-lg ${T.status==="ACTIVE"?"bg-green-50 text-green-600":T.status==="INACTIVE"?"bg-gray-50 text-gray-600":"bg-orange-50 text-orange-600"}`,children:[T.status==="ACTIVE"&&n.jsx(wt,{className:"h-4 w-4"}),T.status==="INACTIVE"&&n.jsx(hr,{className:"h-4 w-4"}),T.status==="EXPIRED"&&n.jsx(dt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:T.status})]})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:new Date(T.createdAt).toLocaleDateString()})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx("button",{onClick:()=>S(T.linkUrl,T.id),className:"p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg",children:u===T.id?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>d(T),className:"p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg",children:n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>k(T.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Jb,{className:"h-4 w-4"})})]})})]},T.id)}))||[]})]}),!y&&(!(g!=null&&g.paymentLinks)||g.paymentLinks.length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(L4,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No payment links found"}),n.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Create your first payment link to get started"})]})]}),(g==null?void 0:g.pagination)&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(g.pagination.page-1)*g.pagination.limit+1," to"," ",Math.min(g.pagination.page*g.pagination.limit,g.pagination.total)," of"," ",g.pagination.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>m(Math.max(1,f-1)),disabled:f===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",g.pagination.page," of ",g.pagination.totalPages]}),n.jsx("button",{onClick:()=>{var T;return m(Math.min(((T=g.pagination)==null?void 0:T.totalPages)??1,f+1))},disabled:f===g.pagination.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),n.jsxs(tt,{children:[t&&n.jsx(kQ,{isOpen:t,onClose:()=>e(!1)}),c&&n.jsx(AQ,{link:c,onClose:()=>d(null)})]})]})},EQ=({payment:t,onClose:e,onUpdateStatus:r})=>{var p,x;const[s,a]=P.useState(null),[i,o]=P.useState(!1),[l,c]=P.useState({status:t.status,notes:t.notes||"",chargebackAmount:t.chargebackAmount||0}),d=(g,y)=>{navigator.clipboard.writeText(g),a(y),setTimeout(()=>a(null),2e3)},u=()=>{r(t.id,l),o(!1)},h=t.gateway,f=(g,y,v=!1,b,w,N,C="default")=>{if(y==null||y==="")return null;const k={green:{bg:"from-green-50 via-emerald-50 to-green-50",border:"border-green-200 hover:border-green-300",icon:"from-green-100 to-emerald-200 text-green-600",hover:"from-green-500/5 to-emerald-500/5"},blue:{bg:"from-blue-50 via-indigo-50 to-blue-50",border:"border-blue-200 hover:border-blue-300",icon:"from-blue-100 to-indigo-200 text-blue-600",hover:"from-blue-500/5 to-indigo-500/5"},purple:{bg:"from-purple-50 via-violet-50 to-purple-50",border:"border-purple-200 hover:border-purple-300",icon:"from-purple-100 to-violet-200 text-purple-600",hover:"from-purple-500/5 to-violet-500/5"},default:{bg:"from-white via-gray-50 to-white",border:"border-gray-200 hover:border-primary/30",icon:"from-primary/10 to-primary/20 text-primary",hover:"from-primary/5 to-transparent"}}[C];return n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`group relative p-3 bg-gradient-to-br ${k.bg} rounded-xl border ${k.border} hover:shadow-lg transition-all duration-300 ${N||""}`,children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${k.hover} rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[w&&n.jsx("div",{className:`p-1.5 bg-gradient-to-br ${k.icon} rounded-lg group-hover:scale-110 transition-transform duration-200`,children:w}),n.jsx("div",{className:"text-xs font-semibold text-gray-700 group-hover:text-gray-900 transition-colors duration-200",children:g})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 break-all mr-2 font-medium",children:typeof y=="boolean"?y?"Yes":"No":y}),v&&b&&n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>d(y.toString(),b),className:"p-2 text-gray-400 hover:text-primary hover:bg-white rounded-xl transition-all duration-200 flex-shrink-0 shadow-sm border border-gray-200 hover:border-primary/30",children:s===b?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]})]})},m=g=>{const y={PAID:{color:"green",icon:n.jsx(wt,{className:"h-5 w-5"}),bg:"from-green-500 to-emerald-600",text:"Paid Successfully"},PENDING:{color:"yellow",icon:n.jsx(tr,{className:"h-5 w-5"}),bg:"from-yellow-500 to-orange-500",text:"Awaiting Payment"},PROCESSING:{color:"blue",icon:n.jsx(Es,{className:"h-5 w-5 animate-spin"}),bg:"from-blue-500 to-indigo-600",text:"Processing Payment"},FAILED:{color:"red",icon:n.jsx(Ct,{className:"h-5 w-5"}),bg:"from-red-500 to-rose-600",text:"Payment Failed"},EXPIRED:{color:"gray",icon:n.jsx(hr,{className:"h-5 w-5"}),bg:"from-gray-500 to-gray-600",text:"Payment Expired"},CHARGEBACK:{color:"purple",icon:n.jsx(Bn,{className:"h-5 w-5"}),bg:"from-purple-500 to-violet-600",text:"Chargeback Issued"},REFUND:{color:"indigo",icon:n.jsx(dt,{className:"h-5 w-5"}),bg:"from-indigo-500 to-blue-600",text:"Refund Processed"},BLOCKED:{color:"red",icon:n.jsx(hr,{className:"h-5 w-5"}),bg:"from-red-600 to-red-700",text:"Payment Blocked"}},v=y[g]||y.PENDING;return n.jsxs("div",{className:`inline-flex items-center px-4 py-2 bg-gradient-to-r ${v.bg} text-white rounded-xl shadow-lg`,children:[v.icon,n.jsx("span",{className:"ml-2 font-semibold",children:v.text})]})};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-3xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-hidden",children:[n.jsxs("div",{className:"relative px-4 py-3 bg-gradient-to-r from-primary via-primary-dark to-purple-700 text-white",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30",children:n.jsx(St,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx(X.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-xl font-bold text-white",children:"Payment Details"}),n.jsx(X.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-white/80 font-mono text-sm",children:t.id})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>o(!i),className:"p-3 text-white/80 hover:text-white hover:bg-white/20 rounded-xl transition-all duration-200 backdrop-blur-sm",children:n.jsx(Pd,{className:"h-5 w-5"})}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"p-3 text-white/80 hover:text-white hover:bg-white/20 rounded-xl transition-all duration-200 backdrop-blur-sm",children:n.jsx(Lt,{className:"h-6 w-6"})})]})]})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-120px)]",children:n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center",children:m(t.status)}),t.status==="FAILED"&&t.failureMessage&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative overflow-hidden p-4 bg-gradient-to-r from-red-50 via-red-100 to-pink-50 border border-red-200 rounded-2xl shadow-lg",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 to-pink-500 rounded-t-2xl"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-red-500 rounded-xl text-white",children:n.jsx(Ct,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-bold text-red-900 mb-2",children:"Payment Failed"}),n.jsx("p",{className:"text-red-700 leading-relaxed",children:t.failureMessage})]})]})]}),t.status==="BLOCKED"&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative overflow-hidden p-4 bg-gradient-to-r from-red-50 via-red-100 to-red-50 border border-red-300 rounded-2xl shadow-lg",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-600 to-red-700 rounded-t-2xl"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-red-600 rounded-xl text-white",children:n.jsx(hr,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-lg font-bold text-red-900 mb-2",children:"Payment Blocked"}),n.jsx("p",{className:"text-red-700 leading-relaxed mb-3",children:"This payment was blocked due to email validation failure:"}),n.jsxs("div",{className:"space-y-1.5 text-sm",children:[t.emailDeliverabilityStatus&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-red-600",children:""}),n.jsxs("span",{className:"text-red-700",children:["Email Deliverability: ",n.jsx("span",{className:"font-medium",children:t.emailDeliverabilityStatus})]})]}),t.emailIsDisposable!==null&&t.emailIsDisposable!==void 0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-red-600",children:""}),n.jsxs("span",{className:"text-red-700",children:["Disposable Email: ",n.jsx("span",{className:"font-medium",children:t.emailIsDisposable?"Yes":"No"})]})]}),t.emailRiskLevel&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-red-600",children:""}),n.jsxs("span",{className:"text-red-700",children:["Risk Level: ",n.jsx("span",{className:"font-medium",children:t.emailRiskLevel})]})]})]})]})]})]}),t.adminNotes&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:`relative overflow-hidden p-4 rounded-2xl border shadow-lg ${t.status==="PAID"?"bg-gradient-to-r from-green-50 via-green-100 to-emerald-50 border-green-200":t.status==="PENDING"?"bg-gradient-to-r from-yellow-50 via-yellow-100 to-orange-50 border-yellow-200":t.status==="PROCESSING"?"bg-gradient-to-r from-blue-50 via-blue-100 to-indigo-50 border-blue-200":t.status==="FAILED"?"bg-gradient-to-r from-red-50 via-red-100 to-pink-50 border-red-200":t.status==="EXPIRED"?"bg-gradient-to-r from-gray-50 via-gray-100 to-gray-50 border-gray-200":t.status==="CHARGEBACK"?"bg-gradient-to-r from-purple-50 via-purple-100 to-violet-50 border-purple-200":t.status==="REFUND"?"bg-gradient-to-r from-indigo-50 via-indigo-100 to-blue-50 border-indigo-200":t.status==="BLOCKED"?"bg-gradient-to-r from-red-50 via-red-100 to-red-50 border-red-300":"bg-gradient-to-r from-gray-50 via-gray-100 to-gray-50 border-gray-200"}`,children:[n.jsx("div",{className:`absolute top-0 left-0 w-full h-1 rounded-t-2xl ${t.status==="PAID"?"bg-gradient-to-r from-green-500 to-emerald-500":t.status==="PENDING"?"bg-gradient-to-r from-yellow-500 to-orange-500":t.status==="PROCESSING"?"bg-gradient-to-r from-blue-500 to-indigo-500":t.status==="FAILED"?"bg-gradient-to-r from-red-500 to-pink-500":t.status==="EXPIRED"?"bg-gradient-to-r from-gray-500 to-gray-600":t.status==="CHARGEBACK"?"bg-gradient-to-r from-purple-500 to-violet-500":t.status==="REFUND"?"bg-gradient-to-r from-indigo-500 to-blue-500":t.status==="BLOCKED"?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-gray-500 to-gray-600"}`}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-xl text-white ${t.status==="PAID"?"bg-green-500":t.status==="PENDING"?"bg-yellow-500":t.status==="PROCESSING"?"bg-blue-500":t.status==="FAILED"?"bg-red-500":t.status==="EXPIRED"?"bg-gray-500":t.status==="CHARGEBACK"?"bg-purple-500":t.status==="REFUND"?"bg-indigo-500":t.status==="BLOCKED"?"bg-red-600":"bg-gray-500"}`,children:n.jsx(Uc,{className:"h-5 w-5"})}),n.jsx("div",{children:n.jsx("p",{className:`leading-relaxed font-medium ${t.status==="PAID"?"text-green-700":t.status==="PENDING"?"text-yellow-700":t.status==="PROCESSING"?"text-blue-700":t.status==="FAILED"?"text-red-700":t.status==="EXPIRED"?"text-gray-700":t.status==="CHARGEBACK"?"text-purple-700":t.status==="REFUND"?"text-indigo-700":t.status==="BLOCKED"?"text-red-700":"text-gray-700"}`,children:t.adminNotes})})]})]}),t.txUrls&&Array.isArray(t.txUrls)&&t.txUrls.length>0&&n.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"relative p-4  bg-gradient-to-r from-blue-50 via-blue-100 to-indigo-50 border border-blue-200 rounded-2xl shadow-lg",children:[n.jsx("div",{className:"absolute  top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-t-2xl"}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-xl text-white",children:n.jsx(_h,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-base font-bold text-blue-900 mb-3",children:"Transaction URLs"}),n.jsx("div",{className:"space-y-2",children:t.txUrls.map((g,y)=>n.jsxs("div",{className:"flex items-center justify-between bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-blue-200",children:[n.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 hover:text-blue-800 break-all mr-3 underline font-medium",children:g}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>d(g,`tx-url-${y}`),className:"p-2 text-blue-500 hover:text-blue-700 hover:bg-white rounded-lg transition-all duration-200 flex-shrink-0",children:s===`tx-url-${y}`?n.jsx(Rt,{className:"h-5 w-5 text-green-500"}):n.jsx(ct,{className:"h-5 w-5"})})]},y))})]})]})]}),n.jsx(tt,{children:i&&n.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"relative p-6 bg-gradient-to-r from-amber-50 via-orange-50 to-yellow-50 border border-amber-200 rounded-2xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-amber-500 to-orange-500 rounded-t-2xl"}),n.jsxs("h4",{className:"text-xl font-bold text-amber-900 mb-6 flex items-center",children:[n.jsx(Pd,{className:"h-6 w-6 mr-3"}),"Edit Payment Status"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),n.jsx(ir,{value:l.status,onChange:g=>c({...l,status:g}),options:[{value:"PENDING",label:"Pending"},{value:"PAID",label:"Paid"},{value:"FAILED",label:"Failed"},{value:"EXPIRED",label:"Expired"},{value:"CHARGEBACK",label:"Chargeback"},{value:"REFUND",label:"Refund"}],placeholder:"Select status"})]}),l.status==="CHARGEBACK"&&n.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Chargeback Amount"}),n.jsx("input",{type:"number",value:l.chargebackAmount||0,onChange:g=>c({...l,chargebackAmount:parseFloat(g.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200",placeholder:"0.00",step:"0.01",min:"0"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{value:l.notes||"",onChange:g=>c({...l,notes:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200",rows:4,placeholder:"Add notes about this payment status change..."})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[n.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(!1),className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium rounded-xl hover:bg-gray-100 transition-all duration-200",children:"Cancel"}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u,className:"px-6 py-3 bg-gradient-to-r from-primary to-primary-dark text-white font-semibold rounded-xl hover:shadow-lg flex items-center space-x-2 transition-all duration-200",children:[n.jsx(kx,{className:"h-5 w-5"}),n.jsx("span",{children:"Save Changes"})]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-1.5 mb-2",children:[n.jsx("div",{className:"p-1 bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg",children:n.jsx(Zr,{className:"h-3 w-3 text-green-600"})}),n.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Financial Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[f("Amount",`${t.amount.toFixed(2)} ${t.currency}`,!1,"",n.jsx(Zr,{className:"h-4 w-4"}),"","green"),t.amountAfterGatewayCommissionUSDT&&f("Amount After Commission (USDC)",`${t.amountAfterGatewayCommissionUSDT.toFixed(2)} USDC`,!1,"",n.jsx(Zr,{className:"h-4 w-4"}),"","green"),t.status==="CHARGEBACK"&&t.chargebackAmount&&f("Chargeback Amount",`${t.chargebackAmount.toFixed(2)} USDC`,!1,"",n.jsx(Bn,{className:"h-4 w-4"}),"","green")]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-1.5 mb-2",children:[n.jsx("div",{className:"p-1 bg-gradient-to-br from-blue-100 to-indigo-200 rounded-lg",children:n.jsx(_d,{className:"h-3 w-3 text-blue-600"})}),n.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Technical Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[f("Payment ID",t.id,!0,"payment-id",n.jsx(Oa,{className:"h-4 w-4"}),"","blue"),f("Shop",`${t.shop.name} (@${t.shop.username})`,!1,"",n.jsx(ga,{className:"h-4 w-4"}),"","blue"),f("Gateway",h,!1,"",n.jsx(Sr,{className:"h-4 w-4"}),"","blue"),f("Order ID",t.orderId,!0,"order-id",n.jsx(Oa,{className:"h-4 w-4"}),"","blue"),f("Gateway Order ID",t.gatewayOrderId,!0,"gateway-order-id",n.jsx(Oa,{className:"h-4 w-4"}),"","blue"),f("Gateway Payment ID",t.gatewayPaymentId,!0,"gateway-payment-id",n.jsx(St,{className:"h-4 w-4"}),"","blue"),f("Payment Method",t.paymentMethod,!1,"",n.jsx(St,{className:"h-4 w-4"}),"","blue"),t.createdVia&&f("Created Via",t.createdVia,!1,"",n.jsx(Cx,{className:"h-4 w-4"}),"","blue"),f("Bank ID",t.bankId,!1,"",n.jsx(ga,{className:"h-4 w-4"}),"","blue"),f("Remitter IBAN",t.remitterIban,!0,"remitter-iban",n.jsx(ga,{className:"h-4 w-4"}),"","blue"),f("Created At",$e(new Date(t.createdAt),"UTC","dd.MM.yy HH:mm")+" UTC",!1,"",n.jsx(bt,{className:"h-4 w-4"}),"","blue"),f("Updated At",$e(new Date(t.updatedAt),"UTC","dd.MM.yy HH:mm")+" UTC",!1,"",n.jsx(bt,{className:"h-4 w-4"}),"","blue"),t.expiresAt&&f("Expires At",$e(new Date(t.expiresAt),"UTC","dd.MM.yy HH:mm")+" UTC",!1,"",n.jsx(tr,{className:"h-4 w-4"}),"","blue")]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-1.5 mb-2",children:[n.jsx("div",{className:"p-1 bg-gradient-to-br from-purple-100 to-violet-200 rounded-lg",children:n.jsx(Dt,{className:"h-3 w-3 text-purple-600"})}),n.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Customer Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[f("Customer Name",t.customerName,!1,"",n.jsx(Dt,{className:"h-4 w-4"}),"","purple"),t.customerEmail&&n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative p-3 bg-gradient-to-br from-purple-50 via-violet-50 to-purple-50 rounded-xl border border-purple-200 hover:border-purple-300 hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-violet-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-purple-100 to-violet-200 text-purple-600 rounded-lg group-hover:scale-110 transition-transform duration-200",children:n.jsx(Dt,{className:"h-4 w-4"})}),n.jsx("div",{className:"text-xs font-semibold text-gray-700 group-hover:text-gray-900 transition-colors duration-200",children:"Customer Email"}),t.emailDeliverabilityStatus&&n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${t.emailDeliverabilityStatus==="deliverable"?"bg-green-100 text-green-700 border-green-200":"bg-yellow-100 text-yellow-700 border-yellow-200"}`,title:`Email status: ${t.emailDeliverabilityStatus}`,children:t.emailDeliverabilityStatus==="deliverable"?"Deliverable":"Unknown"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 break-all mr-2 font-medium",children:t.customerEmail}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>d(t.customerEmail,"customer-email"),className:"p-2 text-gray-400 hover:text-primary hover:bg-white rounded-xl transition-all duration-200 flex-shrink-0 shadow-sm border border-gray-200 hover:border-primary/30",children:s==="customer-email"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]})]}),t.customerPhone&&n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative p-3 bg-gradient-to-br from-purple-50 via-violet-50 to-purple-50 rounded-xl border border-purple-200 hover:border-purple-300 hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-violet-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-purple-100 to-violet-200 text-purple-600 rounded-lg group-hover:scale-110 transition-transform duration-200",children:n.jsx(Oa,{className:"h-4 w-4"})}),n.jsx("div",{className:"text-xs font-semibold text-gray-700 group-hover:text-gray-900 transition-colors duration-200",children:"Customer Phone"}),t.phoneIsValid!==void 0&&t.phoneIsValid!==null&&n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${t.phoneIsValid===!0?"bg-green-100 text-green-700 border-green-200":"bg-yellow-100 text-yellow-700 border-yellow-200"}`,title:`Phone is ${t.phoneIsValid?"valid":"invalid"}`,children:t.phoneIsValid===!0?"VALID":"Unknown"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 break-all mr-2 font-medium",children:t.customerPhone}),n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>d(t.customerPhone,"customer-phone"),className:"p-2 text-gray-400 hover:text-primary hover:bg-white rounded-xl transition-all duration-200 flex-shrink-0 shadow-sm border border-gray-200 hover:border-primary/30",children:s==="customer-phone"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]})]}),t.customerBirthDate&&f("Birth Date",t.customerBirthDate,!1,"",n.jsx(bt,{className:"h-4 w-4"}),"","purple"),f("Customer Country",t.customerCountry,!1,"",n.jsx(Rn,{className:"h-4 w-4"}),"","purple"),f("Customer IP",t.customerIp,!0,"customer-ip",n.jsx(Et,{className:"h-4 w-4"}),"","purple"),(t.billingAddress||t.billingCity||t.billingState||t.billingZip)&&f("Billing Address",[t.billingAddress,t.billingCity,t.billingState,t.billingZip].filter(Boolean).join(", "),!0,"billing-address",n.jsx(ga,{className:"h-4 w-4"}),"","purple"),f("User Agent",t.customerUa,!0,"customer-ua",n.jsx(Ia,{className:"h-4 w-4"}),"","purple"),f("Card Last 4",t.cardLast4,!1,"",((p=t.cardBrand)==null?void 0:p.toLowerCase())==="mastercard"?n.jsx("img",{src:"/mcl.png",alt:"Mastercard",className:"h-4 w-auto"}):((x=t.cardBrand)==null?void 0:x.toLowerCase())==="visa"?n.jsx("img",{src:"/visal.png",alt:"Visa",className:"h-4 w-auto"}):n.jsx(St,{className:"h-4 w-4"}),"","purple"),f("Remitter Name",t.remitterName,!1,"",n.jsx(Dt,{className:"h-4 w-4"}),"","purple")]})]}),(t.cardBin||t.cardBinStatus||t.cardType||t.cardCategory||t.cardCountry||t.cardIssuer)&&n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-1.5 mb-2",children:[n.jsx("div",{className:"p-1 bg-gradient-to-br from-orange-100 to-amber-200 rounded-lg",children:n.jsx(St,{className:"h-3 w-3 text-orange-600"})}),n.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"BIN Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.cardBin&&f("BIN",t.cardBin,!0,"card-bin",n.jsx(St,{className:"h-4 w-4"}),"col-span-1"),t.cardBinStatus&&f("BIN Status",t.cardBinStatus,!1,"",n.jsx(wt,{className:"h-4 w-4"}),"col-span-1"),t.cardType&&f("Card Type",t.cardType,!1,"",n.jsx(St,{className:"h-4 w-4"}),"col-span-1"),t.cardCategory&&f("Card Category",t.cardCategory,!1,"",n.jsx(St,{className:"h-4 w-4"}),"col-span-1"),t.cardCountry&&f("Card Country",t.cardCountry,!1,"",n.jsx(Et,{className:"h-4 w-4"}),"col-span-1"),t.cardIssuer&&f("Card Issuer",t.cardIssuer,!1,"",n.jsx(ga,{className:"h-4 w-4"}),"col-span-1")]})]}),t.notes&&n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 bg-gradient-to-r from-gray-50 via-gray-100 to-gray-50 rounded-2xl border border-gray-200 shadow-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500 rounded-xl text-white",children:n.jsx(Uc,{className:"h-4 w-4"})}),n.jsx("h4",{className:"text-base font-bold text-gray-800",children:"Notes"})]}),n.jsx("div",{className:"text-gray-700 leading-relaxed bg-white p-3 rounded-xl border border-gray-200",children:t.notes})]}),t.paymentProof&&t.paymentProofType&&n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative p-6 bg-gradient-to-r from-emerald-50 via-green-50 to-teal-50 border border-emerald-200 rounded-2xl shadow-lg",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-t-2xl"}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-emerald-500 rounded-xl text-white",children:n.jsx(Uc,{className:"h-6 w-6"})}),n.jsx("h4",{className:"text-lg font-bold text-emerald-900",children:"Payment Proof"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-emerald-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(Uc,{className:"h-5 w-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-emerald-900",children:"Payment Proof File"}),n.jsxs("div",{className:"text-sm text-emerald-700",children:["Type: ",t.paymentProofType.toUpperCase()]})]})]}),n.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:n.jsxs(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>{const g=document.createElement("a");g.href=`data:${t.paymentProofType==="pdf"?"application/pdf":`image/${t.paymentProofType}`};base64,${t.paymentProof}`,g.download=`payment-proof-${t.id}.${t.paymentProofType}`,document.body.appendChild(g),g.click(),document.body.removeChild(g),ce.success("Payment proof downloaded")},className:"p-2 text-emerald-500 hover:text-emerald-700 hover:bg-white rounded-lg transition-all duration-200 flex items-center space-x-1",children:[n.jsx(uf,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Download"})]})})]}),t.paymentProofType!=="pdf"&&n.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-emerald-200",children:[n.jsx("div",{className:"text-sm font-semibold text-emerald-900 mb-3",children:"Preview"}),n.jsx("div",{className:"flex justify-center",children:n.jsx("img",{src:`data:image/${t.paymentProofType};base64,${t.paymentProof}`,alt:"Payment Proof",className:"max-w-full max-h-96 rounded-lg border border-emerald-200 shadow-sm",style:{objectFit:"contain"}})})]}),t.paymentProofType==="pdf"&&n.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-emerald-200",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(dt,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"PDF File"}),n.jsx("div",{className:"text-sm text-gray-600",children:"PDF preview is not available. Please download the file to view it."})]})]})})]})]}),t.externalPaymentUrl&&n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative p-6 overflow-hidden bg-gradient-to-r from-indigo-50 via-blue-50 to-cyan-50 border border-indigo-200 rounded-2xl shadow-lg",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-cyan-500 rounded-t-2xl"}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-indigo-500 rounded-xl text-white",children:n.jsx(_h,{className:"h-6 w-6"})}),n.jsx("h4",{className:"text-lg font-bold text-indigo-900",children:"External Payment URL"})]}),n.jsxs("div",{className:"flex items-center justify-between bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-indigo-200",children:[n.jsx("a",{href:t.externalPaymentUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-700 hover:text-indigo-800 break-all mr-3 underline font-medium",children:t.externalPaymentUrl}),n.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[n.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>d(t.externalPaymentUrl,"external-payment-url"),className:"p-2 text-indigo-500 hover:text-indigo-700 hover:bg-white rounded-lg transition-all duration-200",children:s==="external-payment-url"?n.jsx(Rt,{className:"h-5 w-5 text-green-500"}):n.jsx(ct,{className:"h-5 w-5"})}),n.jsx(X.a,{whileHover:{scale:1.1},whileTap:{scale:.95},href:t.externalPaymentUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-indigo-500 hover:text-indigo-700 hover:bg-white rounded-lg transition-all duration-200",children:n.jsx(Cm,{className:"h-5 w-5"})})]})]})]})]})})]})})},Uv=t=>{var e,r,s,a,i,o,l,c,d,u,h,f,m,p,x,g,y,v,b,w,N,C,S,k,A,T,E,D,_,z,H,q,K,Y,J,Z,ne,F,Q,W,G,te;if(!t)return null;if(t.identification&&t.bot!==void 0)return t;if((e=t.tor)!=null&&e.data||(r=t.vpn)!=null&&r.data||(s=t.identification)!=null&&s.data){const ee={};if((a=t.identification)!=null&&a.data&&(ee.identification={visitor_id:t.identification.data.visitorId,visitor_found:t.identification.data.visitorFound,confidence:t.identification.data.confidence,first_seen_at:new Date(((i=t.identification.data.firstSeenAt)==null?void 0:i.global)||0).getTime(),last_seen_at:new Date(((o=t.identification.data.lastSeenAt)==null?void 0:o.global)||0).getTime()},ee.event_id=t.identification.data.requestId,ee.timestamp=t.identification.data.timestamp,ee.ip_address=t.identification.data.ip,ee.url=t.identification.data.url,ee.user_agent=t.identification.data.userAgent,ee.replayed=t.identification.data.replayed,ee.incognito=t.identification.data.incognito,ee.environment_id=t.identification.data.environmentId,t.identification.data.browserDetails&&(ee.browser_details={browser_name:t.identification.data.browserDetails.browserName,browser_full_version:t.identification.data.browserDetails.browserFullVersion,browser_major_version:t.identification.data.browserDetails.browserMajorVersion,os:t.identification.data.browserDetails.os,os_version:t.identification.data.browserDetails.osVersion,device:t.identification.data.browserDetails.device}),t.identification.data.sdk&&(ee.sdk=t.identification.data.sdk)),(l=t.botd)!=null&&l.data&&(ee.bot=((c=t.botd.data.bot)==null?void 0:c.result)==="notDetected"?"not_detected":((d=t.botd.data.bot)==null?void 0:d.result)||"unknown"),(u=t.vpn)!=null&&u.data&&(ee.vpn=t.vpn.data.result,ee.vpn_confidence=t.vpn.data.confidence,ee.vpn_origin_timezone=t.vpn.data.originTimezone,t.vpn.data.methods&&(ee.vpn_methods={relay:t.vpn.data.methods.relay,public_vpn:t.vpn.data.methods.publicVPN,os_mismatch:t.vpn.data.methods.osMismatch,auxiliary_mobile:t.vpn.data.methods.auxiliaryMobile,timezone_mismatch:t.vpn.data.methods.timezoneMismatch})),(h=t.proxy)!=null&&h.data&&(ee.proxy=t.proxy.data.result,ee.proxy_confidence=t.proxy.data.confidence,t.proxy.data.details&&(ee.proxy_details={proxy_type:t.proxy.data.details.proxyType,provider:t.proxy.data.details.provider,last_seen_at:t.proxy.data.details.lastSeenAt?new Date(t.proxy.data.details.lastSeenAt).getTime():void 0})),(m=(f=t.ipInfo)==null?void 0:f.data)!=null&&m.v4){const I=t.ipInfo.data.v4;ee.ip_info={v4:{address:I.address,asn:(p=I.asn)==null?void 0:p.asn,asn_name:(x=I.asn)==null?void 0:x.name,asn_type:(g=I.asn)==null?void 0:g.type,asn_network:(y=I.asn)==null?void 0:y.network,datacenter_result:(v=I.datacenter)==null?void 0:v.result,datacenter_name:(b=I.datacenter)==null?void 0:b.name,geolocation:I.geolocation?{city_name:(w=I.geolocation.city)==null?void 0:w.name,country_name:(N=I.geolocation.country)==null?void 0:N.name,country_code:(C=I.geolocation.country)==null?void 0:C.code,timezone:I.geolocation.timezone,postal_code:I.geolocation.postalCode,latitude:I.geolocation.latitude,longitude:I.geolocation.longitude,accuracy_radius:I.geolocation.accuracyRadius,continent_code:(S=I.geolocation.continent)==null?void 0:S.code,continent_name:(k=I.geolocation.continent)==null?void 0:k.name,subdivisions:(A=I.geolocation.subdivisions)==null?void 0:A.map(oe=>({name:oe.name,iso_code:oe.isoCode}))}:void 0}}}if((T=t.ipBlocklist)!=null&&T.data&&(ee.ip_blocklist={tor_node:((D=(E=t.tor)==null?void 0:E.data)==null?void 0:D.result)||!1,email_spam:((_=t.ipBlocklist.data.details)==null?void 0:_.emailSpam)||!1,attack_source:((z=t.ipBlocklist.data.details)==null?void 0:z.attackSource)||!1}),(H=t.tampering)!=null&&H.data&&(ee.tampering=t.tampering.data.result,ee.tampering_details={anomaly_score:t.tampering.data.anomalyScore,anti_detect_browser:t.tampering.data.antiDetectBrowser}),(q=t.virtualMachine)!=null&&q.data&&(ee.virtual_machine=t.virtualMachine.data.result),(K=t.developerTools)!=null&&K.data&&(ee.developer_tools=t.developerTools.data.result),(Y=t.highActivity)!=null&&Y.data&&(ee.high_activity_device=t.highActivity.data.result),(J=t.suspectScore)!=null&&J.data&&(ee.suspect_score=t.suspectScore.data.result),(Z=t.incognito)!=null&&Z.data&&(ee.incognito=t.incognito.data.result),(ne=t.privacySettings)!=null&&ne.data&&(ee.privacy_settings=t.privacySettings.data.result),(F=t.velocity)!=null&&F.data){const I=t.velocity.data;ee.velocity={distinct_ip:(Q=I.distinctIp)!=null&&Q.intervals?{"5_minutes":I.distinctIp.intervals["5m"],"1_hour":I.distinctIp.intervals["1h"],"24_hours":I.distinctIp.intervals["24h"]}:void 0,distinct_country:(W=I.distinctCountry)!=null&&W.intervals?{"5_minutes":I.distinctCountry.intervals["5m"],"1_hour":I.distinctCountry.intervals["1h"],"24_hours":I.distinctCountry.intervals["24h"]}:void 0,events:(G=I.events)!=null&&G.intervals?{"5_minutes":I.events.intervals["5m"],"1_hour":I.events.intervals["1h"],"24_hours":I.events.intervals["24h"]}:void 0,ip_events:(te=I.ipEvents)!=null&&te.intervals?{"5_minutes":I.ipEvents.intervals["5m"],"1_hour":I.ipEvents.intervals["1h"],"24_hours":I.ipEvents.intervals["24h"]}:void 0}}return ee}return null},cl=t=>{var e,r,s,a;return(e=t.ip_blocklist)!=null&&e.tor_node||t.proxy&&t.vpn||(s=(r=t.ip_info)==null?void 0:r.v4)!=null&&s.datacenter_result||t.tampering||(a=t.tampering_details)!=null&&a.anti_detect_browser||t.bot&&t.bot!=="not_detected"||t.high_activity_device?"high":t.vpn||t.proxy||t.virtual_machine||t.developer_tools?"mid":"low"},Jo=({icon:t,title:e})=>n.jsxs("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-3 flex items-center gap-2 border-b border-gray-100 pb-2 mt-2",children:[t," ",e]}),dr=({icon:t,label:e,value:r,mono:s,small:a})=>n.jsxs("div",{className:`flex justify-between items-center ${a?"py-1":"py-1.5"} border-b border-gray-50 last:border-0`,children:[n.jsxs("span",{className:"text-gray-500 text-xs font-medium flex items-center gap-1.5",children:[t&&n.jsx("span",{className:"text-gray-400",children:t}),e]}),n.jsx("span",{className:`text-xs text-gray-800 ${s?"font-mono":"font-medium"} text-right truncate max-w-[180px]`,title:String(r),children:r??""})]}),Xr=({icon:t,label:e,value:r,inverse:s})=>{const i=(s?!r:r)?"text-red-600 bg-red-50 border-red-100":"text-green-600 bg-green-50 border-green-100",o=r?"Yes":"No";return n.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50 last:border-0",children:[n.jsxs("span",{className:"text-gray-500 text-xs font-medium flex items-center gap-1.5",children:[t&&n.jsx("span",{className:"text-gray-400",children:t}),e]}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${i}`,children:o})]})},PQ=({payment:t,onClose:e})=>{var x,g,y,v,b,w,N,C,S,k,A,T,E,D,_,z,H,q,K,Y,J,Z,ne,F,Q,W,G,te,ee,I,oe,V,pe,ye,Ae,Re,nt,Xe,_e,Ye;const[r,s]=P.useState(!1),[a,i]=P.useState(null),o=(Ge,ze)=>{navigator.clipboard.writeText(Ge),i(ze),setTimeout(()=>i(null),2e3)};let l=null,c=null;try{t.fingerprint?typeof t.fingerprint=="string"?(l=JSON.parse(t.fingerprint),c=Uv(l)):(l=t.fingerprint,c=Uv(l)):(l=null,c=null)}catch{l=null,c=null}if(!c)return null;const d=(x=c.ip_info)==null?void 0:x.v4,u=d==null?void 0:d.geolocation,h=c.browser_details,f=c.velocity,m=c.suspect_score,p=(g=c.tampering_details)==null?void 0:g.anomaly_score;return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:n.jsxs(X.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col shadow-2xl",onClick:Ge=>Ge.stopPropagation(),children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600 shadow-sm",children:n.jsx(Zd,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:["Visitor ID: ",n.jsx("span",{className:"font-mono text-indigo-600",children:(y=c.identification)==null?void 0:y.visitor_id}),n.jsx("button",{onClick:()=>{var Ge;return o(((Ge=c.identification)==null?void 0:Ge.visitor_id)||"","visitor-id")},className:"p-1 hover:bg-indigo-100 rounded transition-colors",title:"Copy Visitor ID",children:a==="visitor-id"?n.jsx(kn,{className:"w-4 h-4 text-green-600"}):n.jsx(ct,{className:"w-4 h-4 text-indigo-400"})})]}),n.jsxs("div",{className:"flex gap-3 text-xs text-gray-500 font-medium mt-0.5 flex-wrap",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Rh,{className:"w-3 h-3 text-yellow-500"})," Confidence: ",(b=(v=c.identification)==null?void 0:v.confidence)==null?void 0:b.score]}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-3 h-3"})," ",new Date(c.timestamp||0).toLocaleString()]}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"font-mono flex items-center gap-1",children:["Event ID: ",c.event_id,n.jsx("button",{onClick:()=>o(c.event_id||"","event-id"),className:"p-0.5 hover:bg-gray-200 rounded transition-colors",title:"Copy Event ID",children:a==="event-id"?n.jsx(kn,{className:"w-3 h-3 text-green-600"}):n.jsx(ct,{className:"w-3 h-3 text-gray-400"})})]}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"font-mono flex items-center gap-1",children:["Payment ID: ",t.id.slice(0,8),"...",n.jsx("button",{onClick:()=>o(t.id,"payment-id"),className:"p-0.5 hover:bg-gray-200 rounded transition-colors",title:"Copy Payment ID",children:a==="payment-id"?n.jsx(kn,{className:"w-3 h-3 text-green-600"}):n.jsx(ct,{className:"w-3 h-3 text-gray-400"})})]}),t.orderId&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"font-mono flex items-center gap-1",children:["Order ID: ",t.orderId,n.jsx("button",{onClick:()=>o(t.orderId,"order-id"),className:"p-0.5 hover:bg-gray-200 rounded transition-colors",title:"Copy Order ID",children:a==="order-id"?n.jsx(kn,{className:"w-3 h-3 text-green-600"}):n.jsx(ct,{className:"w-3 h-3 text-gray-400"})})]})]}),t.gatewayOrderId&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"font-mono flex items-center gap-1",children:["Gateway ID: ",t.gatewayOrderId,n.jsx("button",{onClick:()=>o(t.gatewayOrderId,"gateway-order-id"),className:"p-0.5 hover:bg-gray-200 rounded transition-colors",title:"Copy Gateway Order ID",children:a==="gateway-order-id"?n.jsx(kn,{className:"w-3 h-3 text-green-600"}):n.jsx(ct,{className:"w-3 h-3 text-gray-400"})})]})]})]})]})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:n.jsx("span",{className:"text-xl leading-none text-gray-500",children:""})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3 mb-6",children:[n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${cl(c)==="high"?"bg-red-50 border-red-200":cl(c)==="mid"?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"}`,children:[n.jsx(Ia,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Risk Level"}),n.jsx("div",{className:`text-lg font-bold ${cl(c)==="high"?"text-red-600":cl(c)==="mid"?"text-orange-600":"text-green-600"}`,children:m??""})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${c.bot==="not_detected"?"bg-white border-gray-200":"bg-red-50 border-red-200"}`,children:[n.jsx(os,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Bot Status"}),c.bot==="not_detected"?n.jsx(kn,{className:"w-5 h-5 text-green-500 mx-auto"}):n.jsx(Ad,{className:"w-5 h-5 text-red-500 mx-auto"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${c.vpn?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(wi,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"VPN"}),c.vpn?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${c.proxy?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(Js,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Proxy"}),c.proxy?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${(w=c.ip_blocklist)!=null&&w.tor_node?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[n.jsx(Et,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Tor"}),(N=c.ip_blocklist)!=null&&N.tor_node?n.jsx("span",{className:"text-sm font-bold text-red-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${c.virtual_machine?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(Ia,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"VM"}),c.virtual_machine?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${c.developer_tools?"bg-yellow-50 border-yellow-200":"bg-white border-gray-200"}`,children:[n.jsx(ei,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"DevTools"}),c.developer_tools?n.jsx("span",{className:"text-sm font-bold text-yellow-600",children:"OPEN"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${c.tampering?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[n.jsx(dt,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Tampering"}),c.tampering?n.jsx("span",{className:"text-sm font-bold text-red-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Jo,{icon:n.jsx(Et,{className:"w-4 h-4 text-blue-500"}),title:"Geolocation"}),n.jsx(dr,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"Address",value:d==null?void 0:d.address,mono:!0}),n.jsx(dr,{icon:n.jsx(Qb,{className:"w-3 h-3"}),label:"Coordinates",value:`${u==null?void 0:u.latitude}, ${u==null?void 0:u.longitude}`,mono:!0}),n.jsx(dr,{icon:n.jsx(os,{className:"w-3 h-3"}),label:"Accuracy",value:`${u==null?void 0:u.accuracy_radius} km`}),n.jsx(dr,{icon:n.jsx(Et,{className:"w-3 h-3"}),label:"Country",value:`${u==null?void 0:u.country_name} (${u==null?void 0:u.country_code})`}),n.jsx(dr,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"Region",value:`${(S=(C=u==null?void 0:u.subdivisions)==null?void 0:C[0])==null?void 0:S.name} (${(A=(k=u==null?void 0:u.subdivisions)==null?void 0:k[0])==null?void 0:A.iso_code})`}),n.jsx(dr,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"City / Zip",value:`${u==null?void 0:u.city_name}, ${u==null?void 0:u.postal_code}`}),n.jsx(dr,{icon:n.jsx(tr,{className:"w-3 h-3"}),label:"Timezone",value:u==null?void 0:u.timezone}),n.jsx(dr,{icon:n.jsx(Et,{className:"w-3 h-3"}),label:"Continent",value:`${u==null?void 0:u.continent_name} (${u==null?void 0:u.continent_code})`})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Jo,{icon:n.jsx(wi,{className:"w-4 h-4 text-indigo-500"}),title:"ISP & Network"}),n.jsx(dr,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"ASN Name",value:d==null?void 0:d.asn_name}),n.jsx(dr,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"ASN",value:d==null?void 0:d.asn,mono:!0}),n.jsx(dr,{icon:n.jsx(wi,{className:"w-3 h-3"}),label:"Network",value:d==null?void 0:d.asn_network,mono:!0}),n.jsx(dr,{icon:n.jsx(Ri,{className:"w-3 h-3"}),label:"Type",value:d==null?void 0:d.asn_type}),n.jsx(Xr,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"Datacenter IP",value:d==null?void 0:d.datacenter_result}),(d==null?void 0:d.datacenter_result)&&n.jsx(dr,{label:"DC Name",value:d.datacenter_name})]}),(u==null?void 0:u.latitude)&&(u==null?void 0:u.longitude)&&n.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:n.jsx("iframe",{width:"100%",height:"300",frameBorder:"0",style:{border:0},src:`https://www.openstreetmap.org/export/embed.html?bbox=${u.longitude-.1},${u.latitude-.1},${u.longitude+.1},${u.latitude+.1}&layer=mapnik&marker=${u.latitude},${u.longitude}`})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Jo,{icon:n.jsx(Qd,{className:"w-4 h-4 text-red-500"}),title:"VPN & Proxy Analysis"}),n.jsx(Xr,{icon:n.jsx(t1,{className:"w-3 h-3"}),label:"VPN Detected",value:c.vpn}),n.jsx(dr,{label:"VPN Confidence",value:c.vpn_confidence}),n.jsx(dr,{label:"VPN Origin Time",value:c.vpn_origin_timezone}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx("p",{className:"text-[10px] text-gray-400 font-bold mb-1",children:"VPN METHODS"}),n.jsx(Xr,{label:"Timezone Mismatch",value:(T=c.vpn_methods)==null?void 0:T.timezone_mismatch}),n.jsx(Xr,{label:"Public VPN",value:(E=c.vpn_methods)==null?void 0:E.public_vpn}),n.jsx(Xr,{label:"OS Mismatch",value:(D=c.vpn_methods)==null?void 0:D.os_mismatch}),n.jsx(Xr,{label:"Auxiliary Mobile",value:(_=c.vpn_methods)==null?void 0:_.auxiliary_mobile}),n.jsx(Xr,{label:"Relay",value:(z=c.vpn_methods)==null?void 0:z.relay})]}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx(Xr,{icon:n.jsx(Ri,{className:"w-3 h-3"}),label:"Proxy Detected",value:c.proxy}),n.jsx(dr,{label:"Proxy Confidence",value:c.proxy_confidence}),n.jsx(dr,{label:"Proxy Type",value:(H=c.proxy_details)==null?void 0:H.proxy_type}),n.jsx(dr,{label:"Provider",value:(q=c.proxy_details)==null?void 0:q.provider}),n.jsx(dr,{label:"Last Seen",value:(K=c.proxy_details)!=null&&K.last_seen_at?new Date(c.proxy_details.last_seen_at).toLocaleDateString():""})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Jo,{icon:n.jsx(Ia,{className:"w-4 h-4 text-purple-500"}),title:"Device & Software"}),n.jsx(dr,{icon:n.jsx(Ia,{className:"w-3 h-3"}),label:"Browser",value:`${h==null?void 0:h.browser_name} ${h==null?void 0:h.browser_full_version}`}),n.jsx(dr,{icon:n.jsx(qb,{className:"w-3 h-3"}),label:"OS",value:`${h==null?void 0:h.os} ${h==null?void 0:h.os_version}`}),n.jsx(dr,{icon:n.jsx(xa,{className:"w-3 h-3"}),label:"Device",value:h==null?void 0:h.device}),n.jsx(dr,{icon:n.jsx(ei,{className:"w-3 h-3"}),label:"User Agent",value:c.user_agent,small:!0}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[n.jsx(Xr,{icon:n.jsx(e1,{className:"w-3 h-3"}),label:"Incognito",value:c.incognito}),n.jsx(Xr,{icon:n.jsx(Ts,{className:"w-3 h-3"}),label:"Privacy Settings",value:c.privacy_settings}),n.jsx(Xr,{icon:n.jsx(Zb,{className:"w-3 h-3"}),label:"Virtual Machine",value:c.virtual_machine}),n.jsx(Xr,{icon:n.jsx(os,{className:"w-3 h-3"}),label:"High Activity",value:c.high_activity_device})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Jo,{icon:n.jsx(os,{className:"w-4 h-4 text-orange-500"}),title:"Velocity & History"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 text-center",children:[n.jsx("div",{className:"text-[9px] text-gray-400 font-bold self-center text-left",children:"METRIC"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"5m"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"1h"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"24h"}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Events"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Y=f==null?void 0:f.events)==null?void 0:Y["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((J=f==null?void 0:f.events)==null?void 0:J["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Z=f==null?void 0:f.events)==null?void 0:Z["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"IP Events"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((ne=f==null?void 0:f.ip_events)==null?void 0:ne["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((F=f==null?void 0:f.ip_events)==null?void 0:F["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Q=f==null?void 0:f.ip_events)==null?void 0:Q["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Dst. IPs"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((W=f==null?void 0:f.distinct_ip)==null?void 0:W["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((G=f==null?void 0:f.distinct_ip)==null?void 0:G["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((te=f==null?void 0:f.distinct_ip)==null?void 0:te["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Dst. Cntry"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((ee=f==null?void 0:f.distinct_country)==null?void 0:ee["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((I=f==null?void 0:f.distinct_country)==null?void 0:I["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((oe=f==null?void 0:f.distinct_country)==null?void 0:oe["24_hours"])||0})]}),n.jsx(dr,{label:"First Seen",value:(V=c.identification)!=null&&V.first_seen_at?new Date(c.identification.first_seen_at).toLocaleDateString():""}),n.jsx(dr,{label:"Last Seen",value:(pe=c.identification)!=null&&pe.last_seen_at?new Date(c.identification.last_seen_at).toLocaleDateString():""}),n.jsx(Xr,{label:"Visitor Found",value:(ye=c.identification)==null?void 0:ye.visitor_found,inverse:!0})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Jo,{icon:n.jsx(Ad,{className:"w-4 h-4 text-red-500"}),title:"Security Details"}),n.jsx(Xr,{label:"Replayed Request",value:c.replayed}),n.jsx(Xr,{label:"Tor Node",value:(Ae=c.ip_blocklist)==null?void 0:Ae.tor_node}),n.jsx(Xr,{label:"Email Spam",value:(Re=c.ip_blocklist)==null?void 0:Re.email_spam}),n.jsx(Xr,{label:"Attack Source",value:(nt=c.ip_blocklist)==null?void 0:nt.attack_source}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx(Xr,{icon:n.jsx(ei,{className:"w-3 h-3"}),label:"Dev Tools",value:c.developer_tools}),n.jsx(Xr,{icon:n.jsx(dt,{className:"w-3 h-3"}),label:"Tampering",value:c.tampering}),n.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50 last:border-0",children:[n.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Anomaly Score"}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${p===0?"text-green-700 bg-green-50 border-green-200":cl(c)==="high"?"text-red-700 bg-red-50 border-red-200":cl(c)==="mid"?"text-orange-700 bg-orange-50 border-orange-200":"text-green-700 bg-green-50 border-green-200"}`,children:p??""})]}),n.jsx(Xr,{label:"Anti-Detect Browser",value:(Xe=c.tampering_details)==null?void 0:Xe.anti_detect_browser})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(Jo,{icon:n.jsx(hf,{className:"w-4 h-4 text-gray-500"}),title:"Technical Meta"}),n.jsx(dr,{label:"Environment",value:c.environment_id,mono:!0}),n.jsx(dr,{label:"SDK",value:`${(_e=c.sdk)==null?void 0:_e.platform} ${(Ye=c.sdk)==null?void 0:Ye.version}`,mono:!0}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:"TARGET URL"}),n.jsx("div",{className:"text-[10px] bg-gray-50 border border-gray-100 p-1.5 rounded break-all font-mono text-gray-600 mt-1 leading-tight",children:c.url})]})]})]})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsxs("button",{onClick:()=>s(!r),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[n.jsxs("span",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider flex items-center gap-2",children:[n.jsx(Js,{className:"w-3 h-3"})," Raw JSON Payload"]}),n.jsx("span",{className:"text-xs text-indigo-600 font-medium",children:r?"Collapse":"Expand"})]}),n.jsx(tt,{children:r&&n.jsxs(X.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"relative group",children:[n.jsx("button",{onClick:()=>navigator.clipboard.writeText(JSON.stringify(c,null,2)),className:"absolute top-2 right-2 p-1.5 bg-white/10 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy",children:n.jsx(ct,{className:"w-3 h-3"})}),n.jsx("pre",{className:"p-4 text-[10px] leading-relaxed font-mono bg-gray-900 text-green-400 overflow-x-auto max-h-80",children:JSON.stringify(c,null,2)})]})})]})]}),n.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end",children:n.jsx("button",{onClick:e,className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 shadow-sm active:scale-95 transition-all",children:"Close Report"})})]})})},_Q=()=>{const[t,e]=P.useState(""),[r,s]=P.useState("all"),[a,i]=P.useState("all"),[o,l]=P.useState("all"),[c,d]=P.useState("all"),[u,h]=P.useState(null),[f,m]=P.useState(null),[p,x]=P.useState(1),[g]=P.useState(20),[y,v]=P.useState("createdAt"),[b,w]=P.useState("desc"),[N,C]=P.useState(null),[S,k]=P.useState(null),[A,T]=P.useState(!1),[E,D]=P.useState(!1),{usePayments:_,useUpdatePaymentStatus:z,useMerchantSelection:H}=su(),q=z(),{data:K}=H(),Y=P.useMemo(()=>{const V={page:p,limit:g,sortBy:y,sortOrder:b};return r!=="all"&&(V.status=r),a!=="all"&&(V.gateway=a),o!=="all"&&(V.currency=o),c!=="all"&&(V.shopId=c),t.trim()&&(V.search=t.trim()),N&&(V.dateFrom=Ke(N,"yyyy-MM-dd")),S&&(V.dateTo=Ke(S,"yyyy-MM-dd")),V},[p,g,r,a,o,c,t,y,b,N,S]),{data:J,isLoading:Z,error:ne}=_(Y);Le.useEffect(()=>{console.log(" AdminPayments filters:",Y)},[Y]);const F=async()=>{if(!N||!S){ce.error("Please select both start and end dates for export");return}try{ce.loading("Fetching all payments for export...");const V={page:1,limit:1e4,dateFrom:Ke(N,"yyyy-MM-dd"),dateTo:Ke(S,"yyyy-MM-dd")};r!=="all"&&(V.status=r),a!=="all"&&(V.gateway=a),o!=="all"&&(V.currency=o),c!=="all"&&(V.shopId=c),t.trim()&&(V.search=t.trim());const pe={};V.page&&(pe.page=V.page),V.limit&&(pe.limit=V.limit),V.status&&(pe.status=V.status),V.gateway&&(pe.gateway=V.gateway),V.currency&&(pe.currency=V.currency),V.shopId&&(pe.shopId=V.shopId),V.search&&(pe.search=V.search),V.dateFrom&&(pe.dateFrom=V.dateFrom),V.dateTo&&(pe.dateTo=V.dateTo),console.log("Export request params:",pe);const ye=await Pe.get("/admin/payments",pe);console.log("Export API response:",ye),console.log("Payments array:",ye.payments);const Ae=ye.payments||[];if(console.log("Total payments received:",Ae.length),!Ae||Ae.length===0){ce.dismiss(),ce.error("No payments to export");return}const Re=Ae.map(Ye=>({"Payment ID":Ye.id,"Shop ID":Ye.shopId,Date:$e(new Date(Ye.createdAt),"UTC","dd.MM.yy HH:mm")+" UTC",Status:Ye.status,Gateway:Ye.gateway,Amount:Ye.amount,Currency:Ye.currency,"Amount After Commission":Ye.amountAfterGatewayCommissionUSDT||"","Product Name":Ye.productName||"","Customer Name":Ye.customerName||"","Customer Email":Ye.customerEmail||"","Customer Country":Ye.customerCountry||"","Customer Phone":Ye.customerPhone||"","Customer Birth Date":Ye.customerBirthDate||"","Customer IP":Ye.customerIp||"","Billing Address":[Ye.billingAddress,Ye.billingCity,Ye.billingState,Ye.billingZip].filter(Boolean).join(", ")||"",IBAN:Ye.remitterIban||"","Card Last 4":Ye.cardLast4?`****${Ye.cardLast4}`:"","Card Brand":Ye.cardBrand||"","Card BIN":Ye.cardBin||"","Payment Method":Ye.paymentMethod||"","BIN Status":Ye.cardBinStatus||"","Card Type":Ye.cardType||"","Card Category":Ye.cardCategory||"","Card Country":Ye.cardCountry||"","Card Issuer":Ye.cardIssuer||"","Failure Message":Ye.failureMessage||"","Admin Notes":Ye.adminNotes||"","Transaction URLs":Ye.txUrls?Ye.txUrls.join(" | "):"","Updated At":Ye.updatedAt?$e(new Date(Ye.updatedAt),"UTC","dd.MM.yy HH:mm")+" UTC":""})),nt=us.json_to_sheet(Re),Xe=us.book_new();us.book_append_sheet(Xe,nt,"Payments");const _e=`admin_payments_${Ke(N,"dd.MM.yy")}_${Ke(S,"dd.MM.yy")}.xlsx`;id(Xe,_e),ce.dismiss(),ce.success(`Exported ${Re.length} payments to ${_e}`)}catch(V){console.error("Export error:",V),ce.dismiss(),ce.error("Failed to export payments")}},Q=[{value:"all",label:"All Status"},{value:"PENDING",label:"Pending",icon:n.jsx(tr,{className:"h-4 w-4 text-yellow-600"})},{value:"PROCESSING",label:"Processing",icon:n.jsx(Es,{className:"h-4 w-4 text-blue-600"})},{value:"PAID",label:"Paid",icon:n.jsx(wt,{className:"h-4 w-4 text-green-600"})},{value:"FAILED",label:"Failed",icon:n.jsx(Ct,{className:"h-4 w-4 text-red-600"})},{value:"EXPIRED",label:"Expired",icon:n.jsx(hr,{className:"h-4 w-4 text-gray-600"})},{value:"CHARGEBACK",label:"Chargeback",icon:n.jsx(Bn,{className:"h-4 w-4 text-purple-600"})},{value:"REFUND",label:"Refund",icon:n.jsx(dt,{className:"h-4 w-4 text-blue-600"})}],W=[{value:"all",label:"All Gateways"},{value:"0000",label:"Test Gateway"},{value:"0010",label:"Rapyd"},{value:"0100",label:"CoinToPay"},{value:"0101",label:"CoinToPay2"},{value:"1000",label:"Noda"},{value:"1001",label:"KLYME EU"},{value:"1010",label:"KLYME GB"},{value:"1100",label:"KLYME DE"},{value:"1111",label:"Visa/MasterCard"},{value:"1110",label:"Amer"},{value:"2000",label:"MyXSpend"},{value:"2001",label:"AmPay"},{value:"2002",label:"AmPay TRY"},{value:"2010",label:"Sepa"},{value:"2011",label:"Interac"},{value:"3000",label:"OnRamp"},{value:"3001",label:"SquirrelPay"}],G=[{value:"all",label:"All Currencies"},{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"JPY",label:"JPY"},{value:"CAD",label:"CAD"},{value:"AUD",label:"AUD"},{value:"CHF",label:"CHF"},{value:"CNY",label:"CNY"},{value:"SEK",label:"SEK"},{value:"NOK",label:"NOK"},{value:"DKK",label:"DKK"},{value:"PLN",label:"PLN"},{value:"CZK",label:"CZK"},{value:"HUF",label:"HUF"},{value:"BGN",label:"BGN"},{value:"RON",label:"RON"},{value:"HRK",label:"HRK"},{value:"TRY",label:"TRY"},{value:"RUB",label:"RUB"},{value:"UAH",label:"UAH"},{value:"BRL",label:"BRL"},{value:"MXN",label:"MXN"},{value:"ARS",label:"ARS"},{value:"CLP",label:"CLP"},{value:"COP",label:"COP"},{value:"PEN",label:"PEN"},{value:"UYU",label:"UYU"},{value:"INR",label:"INR"},{value:"KRW",label:"KRW"},{value:"SGD",label:"SGD"},{value:"HKD",label:"HKD"},{value:"TWD",label:"TWD"},{value:"THB",label:"THB"},{value:"MYR",label:"MYR"},{value:"PHP",label:"PHP"},{value:"IDR",label:"IDR"},{value:"VND",label:"VND"},{value:"PKR",label:"PKR"},{value:"BDT",label:"BDT"},{value:"LKR",label:"LKR"},{value:"NPR",label:"NPR"},{value:"ZAR",label:"ZAR"},{value:"EGP",label:"EGP"},{value:"MAD",label:"MAD"},{value:"TND",label:"TND"},{value:"KES",label:"KES"},{value:"NGN",label:"NGN"},{value:"GHS",label:"GHS"},{value:"AED",label:"AED"},{value:"SAR",label:"SAR"},{value:"QAR",label:"QAR"},{value:"KWD",label:"KWD"},{value:"BHD",label:"BHD"},{value:"OMR",label:"OMR"},{value:"JOD",label:"JOD"},{value:"LBP",label:"LBP"},{value:"ILS",label:"ILS"},{value:"IRR",label:"IRR"},{value:"IQD",label:"IQD"},{value:"AFN",label:"AFN"},{value:"BTN",label:"BTN"},{value:"MVR",label:"MVR"},{value:"KZT",label:"KZT"},{value:"UZS",label:"UZS"},{value:"KGS",label:"KGS"},{value:"TJS",label:"TJS"},{value:"TMT",label:"TMT"},{value:"AZN",label:"AZN"},{value:"GEL",label:"GEL"},{value:"AMD",label:"AMD"},{value:"BYN",label:"BYN"},{value:"MDL",label:"MDL"},{value:"ALL",label:"ALL"},{value:"MKD",label:"MKD"},{value:"RSD",label:"RSD"},{value:"BAM",label:"BAM"},{value:"MNT",label:"MNT"},{value:"KHR",label:"KHR"},{value:"LAK",label:"LAK"},{value:"MMK",label:"MMK"},{value:"BND",label:"BND"},{value:"NZD",label:"NZD"},{value:"FJD",label:"FJD"},{value:"PGK",label:"PGK"},{value:"VUV",label:"VUV"},{value:"WST",label:"WST"},{value:"TOP",label:"TOP"},{value:"SBD",label:"SBD"},{value:"USDT",label:"USDT"},{value:"TON",label:"TON"},{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"LTC",label:"LTC"},{value:"BCH",label:"BCH"},{value:"DOGE",label:"DOGE"},{value:"USDC",label:"USDC"}],te=P.useMemo(()=>{const V=[{value:"all",label:"All Merchants"}];return K&&K.forEach(pe=>{V.push({value:pe.id,label:pe.name})}),V},[K]),ee=async(V,pe)=>{try{await q.mutateAsync({id:V,data:pe}),ce.success("Payment status updated successfully"),h(null)}catch(ye){ce.error(ye.message||"Failed to update payment status")}},I=V=>{y===V?w(b==="asc"?"desc":"asc"):(v(V),w(V==="createdAt"?"desc":"asc")),x(1)},oe=V=>y!==V?n.jsx(bl,{className:"h-3 w-3 opacity-50"}):b==="asc"?n.jsx(bl,{className:"h-3 w-3 rotate-180"}):n.jsx(bl,{className:"h-3 w-3"});return ne?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-red-600 mb-2",children:n.jsx(Ct,{className:"h-8 w-8 mx-auto"})}),n.jsx("p",{className:"text-gray-600",children:"Failed to load admin payments. Please try again."})]}):n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Admin Payments"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View and manage all platform payments"})]}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:F,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 w-full sm:w-auto justify-center",children:[n.jsx(uf,{className:"h-4 w-4 mr-2"}),"Export"]})]}),(J==null?void 0:J.statistics)&&n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-3 items-center p-4 rounded-xl border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100 shadow-sm",children:[n.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 px-3 py-2 rounded-lg border border-gray-300",children:n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["Period:"," ",N?n.jsxs(n.Fragment,{children:[Ke(N,"dd.MM.yy"),S?` - ${Ke(S,"dd.MM.yy")}`:""]}):Ke(new Date,"dd.MM.yy")]})}),J.statistics.USDT&&n.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-white border border-gray-300",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-5 h-5 rounded"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["USDT: ",typeof J.statistics.USDT=="number"?J.statistics.USDT.toLocaleString("en-US",{maximumFractionDigits:2}):J.statistics.USDT]})]}),n.jsx("div",{className:"h-5 w-px bg-gray-300"}),(()=>{const V={EUR:"eu",USD:"us",GBP:"gb",JPY:"jp",CAD:"ca",AUD:"au",CHF:"ch",CNY:"cn",SEK:"se",NOK:"no",DKK:"dk",PLN:"pl",CZK:"cz",HUF:"hu",BGN:"bg",RON:"ro",HRK:"hr",TRY:"tr",RUB:"ru",UAH:"ua",BRL:"br",MXN:"mx",ARS:"ar",CLP:"cl",COP:"co",PEN:"pe",INR:"in",KRW:"kr",SGD:"sg",HKD:"hk",THB:"th",MYR:"my",PHP:"ph",IDR:"id",VND:"vn",PKR:"pk",BDT:"bd",ZAR:"za",EGP:"eg",AED:"ae",SAR:"sa"};return Object.entries(J.statistics).filter(([ye])=>ye!=="USDT"&&V[ye]).sort(([ye],[Ae])=>0).map(([ye,Ae])=>n.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-white border border-gray-300",children:[n.jsx("img",{src:`https://flagcdn.com/${V[ye]}.svg`,alt:ye,className:"w-5 h-4 rounded-sm"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[ye,": ",typeof Ae=="number"?Ae.toLocaleString("en-US",{maximumFractionDigits:2}):Ae]})]},ye))})()]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[n.jsx("div",{className:"p-4 md:p-6 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100 rounded-t-2xl",children:n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1 lg:max-w-xs",children:n.jsxs("div",{className:"relative",children:[n.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search payments...",value:t,onChange:V=>e(V.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-xl text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200 shadow-sm"})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ir,{value:r,onChange:s,options:Q,placeholder:"All Status",className:"w-full"}),n.jsx(ir,{value:a,onChange:i,options:W,placeholder:"All Gateways",className:"w-full"}),n.jsx(ir,{value:o,onChange:l,options:G,placeholder:"All Currencies",className:"w-full"}),n.jsx(ir,{value:c,onChange:d,options:te,placeholder:"All Merchants",className:"w-full"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>T(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:N?"text-gray-900":"text-gray-500",children:N?Ke(N,"dd.MM.yy"):"Start date"})]}),n.jsx(tt,{children:A&&n.jsx(Yr,{value:N,onChange:V=>{C(V),T(!1),D(!0),x(1)},onClose:()=>T(!1)})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>D(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:S?"text-gray-900":"text-gray-500",children:S?Ke(S,"dd.MM.yy"):"End date"})]}),n.jsx(tt,{children:E&&n.jsx(Yr,{position:"right",value:S,onChange:V=>{k(V),D(!1),x(1)},onClose:()=>D(!1)})})]})]})]})})}),Z?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[1200px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:[n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("button",{onClick:()=>I("createdAt"),className:"flex items-center space-x-1 text-xs font-semibold text-gray-600 hover:text-gray-800 transition-colors duration-200",children:[n.jsx(bt,{className:"h-3 w-3"}),n.jsx("span",{children:"Date"}),oe("createdAt")]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(Oa,{className:"h-3 w-3"}),n.jsx("span",{children:"Payment ID"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(ga,{className:"h-3 w-3"}),n.jsx("span",{children:"Merchant"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(Sr,{className:"h-3 w-3"}),n.jsx("span",{children:"Gateway"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("button",{onClick:()=>I("amount"),className:"flex items-center space-x-1 text-xs font-semibold text-gray-600 hover:text-gray-800 transition-colors duration-200",children:[n.jsx(Zr,{className:"h-3 w-3"}),n.jsx("span",{children:"Amount"}),oe("amount")]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(Dt,{className:"h-3 w-3"}),n.jsx("span",{children:"Customer"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(St,{className:"h-3 w-3"}),n.jsx("span",{children:"Payment Method"})]})}),n.jsx("th",{className:"text-left px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs font-semibold text-gray-600",children:[n.jsx(wt,{className:"h-3 w-3"}),n.jsx("span",{children:"Status"})]})}),n.jsx("th",{className:"text-right px-4 py-3",children:n.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white",children:J==null?void 0:J.payments.map((V,pe)=>{var ye,Ae;return n.jsxs(X.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:pe*.01},className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/40 hover:to-indigo-50/40 transition-all duration-200 group",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-100 rounded-md group-hover:bg-blue-200 transition-colors duration-200",children:n.jsx(bt,{className:"h-3 w-3 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:$e(new Date(V.createdAt),"UTC","dd.MM.yy")}),n.jsx("div",{className:"text-xs text-gray-500",children:$e(new Date(V.createdAt),"UTC","HH:mm")})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-1.5 bg-gray-100 rounded-md group-hover:bg-gray-200 transition-colors duration-200",children:n.jsx(Oa,{className:"h-3 w-3 text-gray-600"})}),n.jsxs("span",{className:"text-xs font-mono font-medium text-gray-900 bg-gray-100 px-2 py-1 rounded border",children:[V.id.slice(0,8),"..."]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-1.5 bg-green-100 rounded-md group-hover:bg-green-200 transition-colors duration-200",children:n.jsx(ga,{className:"h-3 w-3 text-green-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:V.shop.name}),n.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["@",V.shop.username]})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"flex items-center space-x-2",children:V.gateway==="Deposit"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-green-100 to-emerald-100 rounded-md group-hover:from-green-200 group-hover:to-emerald-200 transition-all duration-200",children:n.jsx(Mh,{className:"h-3 w-3 text-green-600"})}),n.jsx("span",{className:"text-xs font-medium text-green-700 bg-gradient-to-r from-green-100 to-emerald-100 px-2 py-1 rounded border border-green-300",children:"Deposit"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-purple-100 rounded-md group-hover:bg-purple-200 transition-colors duration-200",children:n.jsx(Sr,{className:"h-3 w-3 text-purple-600"})}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-purple-100 px-2 py-1 rounded border border-purple-200",children:V.gateway})]})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[V.gateway==="Deposit"?n.jsx("div",{className:"w-5 h-5 flex items-center justify-center bg-green-100 rounded-md group-hover:bg-green-200 transition-colors duration-200",children:n.jsx(Zr,{className:"h-3 w-3 text-green-600"})}):V.currency==="USDC"?n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"h-5 w-5 rounded"}):n.jsx("div",{className:"w-5 h-5 flex items-center justify-center bg-emerald-100 rounded-md group-hover:bg-emerald-200 transition-colors duration-200",children:["BTC","ETH","LTC","BCH","DOGE","USDT","TON"].includes(V.currency)?V.currency==="USDT"?n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"h-3 w-3 rounded"}):n.jsx(Ed,{className:"h-3 w-3 text-emerald-600"}):(()=>{const nt={USD:"$",EUR:"",GBP:"",JPY:"",CNY:"",TRY:"",RUB:"",UAH:"",ARS:"$",CLP:"$",COP:"$",INR:"",KRW:"",THB:"",PHP:"",VND:"",PKR:"",BDT:"",AED:".",SAR:"",PLN:"z"}[V.currency];return nt?n.jsx("span",{className:"text-xs font-bold text-emerald-600",children:nt}):n.jsx(Zr,{className:"h-3 w-3 text-emerald-600"})})()}),n.jsx("div",{children:n.jsxs("div",{className:"text-xs font-bold text-gray-900",children:[V.amount.toFixed(2)," ",V.currency]})})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-1.5 bg-indigo-100 rounded-md group-hover:bg-indigo-200 transition-colors duration-200",children:n.jsx(Dt,{className:"h-3 w-3 text-indigo-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:V.customerName||"Anonymous"}),V.customerEmail&&n.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[100px]",children:V.customerEmail})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"flex items-center space-x-2",children:V.gateway==="Deposit"?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"h-5 w-5 rounded"}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-green-100 px-2 py-1 rounded border border-green-200",children:"CRYPTO"})]}):V.gateway==="0001"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-orange-100 rounded-md group-hover:bg-orange-200 transition-colors duration-200",children:n.jsx(Ed,{className:"h-3 w-3 text-orange-600"})}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-orange-100 px-2 py-1 rounded border border-orange-200",children:"Crypto"})]}):V.remitterIban?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-blue-100 rounded-md group-hover:bg-blue-200 transition-colors duration-200",children:n.jsx(ga,{className:"h-3 w-3 text-blue-600"})}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-blue-100 px-2 py-1 rounded border border-blue-200",children:V.remitterIban.length>8?`${V.remitterIban.slice(0,8)}...`:V.remitterIban})]}):V.cardLast4?n.jsxs(n.Fragment,{children:[((ye=V.cardBrand)==null?void 0:ye.toLowerCase())==="mastercard"?n.jsx("img",{src:"/mcl.png",alt:"Mastercard",className:"h-6 w-auto"}):((Ae=V.cardBrand)==null?void 0:Ae.toLowerCase())==="visa"?n.jsx("img",{src:"/visal.png",alt:"Visa",className:"h-6 w-auto"}):n.jsx("div",{className:"p-1.5 bg-green-100 rounded-md group-hover:bg-green-200 transition-colors duration-200",children:n.jsx(St,{className:"h-3 w-3 text-green-600"})}),n.jsxs("span",{className:"text-xs font-medium text-gray-900 bg-green-100 px-2 py-1 rounded border border-green-200",children:["****",V.cardLast4]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-1.5 bg-gray-100 rounded-md group-hover:bg-gray-200 transition-colors duration-200",children:n.jsx(St,{className:"h-3 w-3 text-gray-600"})}),n.jsx("span",{className:"text-xs font-medium text-gray-900 bg-gray-100 px-2 py-1 rounded border border-gray-200",children:V.paymentMethod||"N/A"})]})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-start",children:[V.status==="PAID"&&n.jsxs("div",{className:"flex items-center space-x-1 text-emerald-700 bg-emerald-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(wt,{className:"h-3 w-3"}),n.jsx("span",{children:"Paid"})]}),V.status==="PENDING"&&n.jsxs("div",{className:"flex items-center space-x-1 text-amber-700 bg-amber-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(tr,{className:"h-3 w-3"}),n.jsx("span",{children:"Pending"})]}),V.status==="PROCESSING"&&n.jsxs("div",{className:"flex items-center space-x-1 text-blue-700 bg-blue-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(Es,{className:"h-3 w-3 animate-spin"}),n.jsx("span",{children:"Processing"})]}),V.status==="FAILED"&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-700 bg-red-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(Ct,{className:"h-3 w-3"}),n.jsx("span",{children:"Failed"})]}),V.status==="EXPIRED"&&n.jsxs("div",{className:"flex items-center space-x-1 text-gray-700 bg-gray-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(hr,{className:"h-3 w-3"}),n.jsx("span",{children:"Expired"})]}),V.status==="CHARGEBACK"&&n.jsxs("div",{className:"flex items-center space-x-1 text-purple-700 bg-purple-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(Bn,{className:"h-3 w-3"}),n.jsx("span",{children:"Chargeback"})]}),V.status==="REFUND"&&n.jsxs("div",{className:"flex items-center space-x-1 text-indigo-700 bg-indigo-100 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(dt,{className:"h-3 w-3"}),n.jsx("span",{children:"Refund"})]}),V.status==="BLOCKED"&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-800 bg-red-200 px-2 py-1 rounded-full text-xs font-medium",children:[n.jsx(hr,{className:"h-3 w-3"}),n.jsx("span",{children:"Blocked"})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[V.gateway!=="Deposit"&&n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(V),className:`group/btn p-2 rounded-lg transition-all duration-200 border ${(()=>{if(!V.fingerprint)return"border-gray-200 text-gray-400 hover:text-white hover:bg-gradient-to-r hover:from-gray-500 hover:to-gray-600 hover:border-gray-300";const Re=Uv(V.fingerprint);if(!Re)return"border-gray-200 text-gray-400 hover:text-white hover:bg-gradient-to-r hover:from-gray-500 hover:to-gray-600 hover:border-gray-300";const nt=cl(Re);return nt==="high"?"border-red-200 text-red-500 hover:text-white hover:bg-gradient-to-r hover:from-red-500 hover:to-rose-600 hover:border-red-300":nt==="mid"?"border-orange-200 text-orange-500 hover:text-white hover:bg-gradient-to-r hover:from-orange-500 hover:to-amber-600 hover:border-orange-300":"border-green-200 text-green-500 hover:text-white hover:bg-gradient-to-r hover:from-green-500 hover:to-emerald-600 hover:border-green-300"})()}`,children:n.jsx(Zd,{className:"h-4 w-4 group-hover/btn:text-white"})}),n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(V),className:"p-2 text-gray-400 hover:text-white hover:bg-gradient-to-r hover:from-blue-500 hover:to-indigo-600 rounded-lg transition-all duration-200 border border-gray-200 hover:border-blue-300",children:n.jsx(Ts,{className:"h-4 w-4"})})]})})]},V.id)})})]})}),(J==null?void 0:J.pagination)&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-gray-50 rounded-b-2xl",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(J.pagination.page-1)*J.pagination.limit+1," to"," ",Math.min(J.pagination.page*J.pagination.limit,J.pagination.total)," of"," ",J.pagination.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 bg-white px-3 py-1.5 rounded-lg border border-gray-200",children:[n.jsx(bl,{className:"h-3 w-3"}),n.jsxs("span",{children:["Sorted by ",y==="createdAt"?"Date":"Amount","(",b==="asc"?"Ascending":"Descending",")"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",J.pagination.page," of ",J.pagination.totalPages]}),n.jsx("button",{onClick:()=>x(Math.min(J.pagination.totalPages,p+1)),disabled:p===J.pagination.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),n.jsx(tt,{children:u&&n.jsx(EQ,{payment:u,onClose:()=>h(null),onUpdateStatus:ee})}),n.jsx(tt,{children:f&&n.jsx(PQ,{payment:f,onClose:()=>m(null)})})]})};var Lf={},DQ=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},H3={},Ga={};let Pw;const MQ=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ga.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ga.getSymbolTotalCodewords=function(e){return MQ[e]};Ga.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ga.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Pw=e};Ga.isKanjiModeEnabled=function(){return typeof Pw<"u"};Ga.toSJIS=function(e){return Pw(e)};var Qx={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},t.from=function(s,a){if(t.isValid(s))return s;try{return e(s)}catch{return a}}})(Qx);function z3(){this.buffer=[],this.length=0}z3.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var RQ=z3;function If(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}If.prototype.set=function(t,e,r,s){const a=t*this.size+e;this.data[a]=r,s&&(this.reservedBit[a]=!0)};If.prototype.get=function(t,e){return this.data[t*this.size+e]};If.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};If.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var FQ=If,W3={};(function(t){const e=Ga.getSymbolSize;t.getRowColCoords=function(s){if(s===1)return[];const a=Math.floor(s/7)+2,i=e(s),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(s){const a=[],i=t.getRowColCoords(s),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||a.push([i[l],i[c]]);return a}})(W3);var Y3={};const LQ=Ga.getSymbolSize,MC=7;Y3.getPositions=function(e){const r=LQ(e);return[[0,0],[r-MC,0],[0,r-MC]]};var V3={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const i=a.size;let o=0,l=0,c=0,d=null,u=null;for(let h=0;h<i;h++){l=c=0,d=u=null;for(let f=0;f<i;f++){let m=a.get(h,f);m===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=m,l=1),m=a.get(f,h),m===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=m,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(a){const i=a.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const d=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(d===4||d===0)&&o++}return o*e.N2},t.getPenaltyN3=function(a){const i=a.size;let o=0,l=0,c=0;for(let d=0;d<i;d++){l=c=0;for(let u=0;u<i;u++)l=l<<1&2047|a.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|a.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(a){let i=0;const o=a.data.length;for(let c=0;c<o;c++)i+=a.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function r(s,a,i){switch(s){case t.Patterns.PATTERN000:return(a+i)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(a+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return a*i%2+a*i%3===0;case t.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case t.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}t.applyMask=function(a,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,r(a,c,l))},t.getBestMask=function(a,i){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){i(d),t.applyMask(d,a);const u=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(d,a),u<c&&(c=u,l=d)}return l}})(V3);var Jx={};const yo=Qx,w0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],N0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Jx.getBlocksCount=function(e,r){switch(r){case yo.L:return w0[(e-1)*4+0];case yo.M:return w0[(e-1)*4+1];case yo.Q:return w0[(e-1)*4+2];case yo.H:return w0[(e-1)*4+3];default:return}};Jx.getTotalCodewordsCount=function(e,r){switch(r){case yo.L:return N0[(e-1)*4+0];case yo.M:return N0[(e-1)*4+1];case yo.Q:return N0[(e-1)*4+2];case yo.H:return N0[(e-1)*4+3];default:return}};var $3={},ep={};const ch=new Uint8Array(512),sx=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)ch[r]=e,sx[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)ch[r]=ch[r-255]})();ep.log=function(e){if(e<1)throw new Error("log("+e+")");return sx[e]};ep.exp=function(e){return ch[e]};ep.mul=function(e,r){return e===0||r===0?0:ch[sx[e]+sx[r]]};(function(t){const e=ep;t.mul=function(s,a){const i=new Uint8Array(s.length+a.length-1);for(let o=0;o<s.length;o++)for(let l=0;l<a.length;l++)i[o+l]^=e.mul(s[o],a[l]);return i},t.mod=function(s,a){let i=new Uint8Array(s);for(;i.length-a.length>=0;){const o=i[0];for(let c=0;c<a.length;c++)i[c]^=e.mul(a[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},t.generateECPolynomial=function(s){let a=new Uint8Array([1]);for(let i=0;i<s;i++)a=t.mul(a,new Uint8Array([1,e.exp(i)]));return a}})($3);const X3=$3;function _w(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}_w.prototype.initialize=function(e){this.degree=e,this.genPoly=X3.generateECPolynomial(this.degree)};_w.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const s=X3.mod(r,this.genPoly),a=this.degree-s.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(s,a),i}return s};var IQ=_w,G3={},Xo={},Dw={};Dw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ci={};const K3="[0-9]+",OQ="[A-Z $%*+\\-./:]+";let ef="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ef=ef.replace(/u/g,"\\u");const BQ="(?:(?![A-Z0-9 $%*+\\-./:]|"+ef+`)(?:.|[\r
]))+`;ci.KANJI=new RegExp(ef,"g");ci.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ci.BYTE=new RegExp(BQ,"g");ci.NUMERIC=new RegExp(K3,"g");ci.ALPHANUMERIC=new RegExp(OQ,"g");const UQ=new RegExp("^"+ef+"$"),HQ=new RegExp("^"+K3+"$"),zQ=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ci.testKanji=function(e){return UQ.test(e)};ci.testNumeric=function(e){return HQ.test(e)};ci.testAlphanumeric=function(e){return zQ.test(e)};(function(t){const e=Dw,r=ci;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return r.testNumeric(i)?t.NUMERIC:r.testAlphanumeric(i)?t.ALPHANUMERIC:r.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function s(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(i,o){if(t.isValid(i))return i;try{return s(i)}catch{return o}}})(Xo);(function(t){const e=Ga,r=Jx,s=Qx,a=Xo,i=Dw,o=7973,l=e.getBCHDigit(o);function c(f,m,p){for(let x=1;x<=40;x++)if(m<=t.getCapacity(x,p,f))return x}function d(f,m){return a.getCharCountIndicator(f,m)+4}function u(f,m){let p=0;return f.forEach(function(x){const g=d(x.mode,m);p+=g+x.getBitsLength()}),p}function h(f,m){for(let p=1;p<=40;p++)if(u(f,p)<=t.getCapacity(p,m,a.MIXED))return p}t.from=function(m,p){return i.isValid(m)?parseInt(m,10):p},t.getCapacity=function(m,p,x){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=a.BYTE);const g=e.getSymbolTotalCodewords(m),y=r.getTotalCodewordsCount(m,p),v=(g-y)*8;if(x===a.MIXED)return v;const b=v-d(x,m);switch(x){case a.NUMERIC:return Math.floor(b/10*3);case a.ALPHANUMERIC:return Math.floor(b/11*2);case a.KANJI:return Math.floor(b/13);case a.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(m,p){let x;const g=s.from(p,s.M);if(Array.isArray(m)){if(m.length>1)return h(m,g);if(m.length===0)return 1;x=m[0]}else x=m;return c(x.mode,x.getLength(),g)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let p=m<<12;for(;e.getBCHDigit(p)-l>=0;)p^=o<<e.getBCHDigit(p)-l;return m<<12|p}})(G3);var q3={};const Hv=Ga,Z3=1335,WQ=21522,RC=Hv.getBCHDigit(Z3);q3.getEncodedBits=function(e,r){const s=e.bit<<3|r;let a=s<<10;for(;Hv.getBCHDigit(a)-RC>=0;)a^=Z3<<Hv.getBCHDigit(a)-RC;return(s<<10|a)^WQ};var Q3={};const YQ=Xo;function Hd(t){this.mode=YQ.NUMERIC,this.data=t.toString()}Hd.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Hd.prototype.getLength=function(){return this.data.length};Hd.prototype.getBitsLength=function(){return Hd.getBitsLength(this.data.length)};Hd.prototype.write=function(e){let r,s,a;for(r=0;r+3<=this.data.length;r+=3)s=this.data.substr(r,3),a=parseInt(s,10),e.put(a,10);const i=this.data.length-r;i>0&&(s=this.data.substr(r),a=parseInt(s,10),e.put(a,i*3+1))};var VQ=Hd;const $Q=Xo,Mg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function zd(t){this.mode=$Q.ALPHANUMERIC,this.data=t}zd.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};zd.prototype.getLength=function(){return this.data.length};zd.prototype.getBitsLength=function(){return zd.getBitsLength(this.data.length)};zd.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let s=Mg.indexOf(this.data[r])*45;s+=Mg.indexOf(this.data[r+1]),e.put(s,11)}this.data.length%2&&e.put(Mg.indexOf(this.data[r]),6)};var XQ=zd;const GQ=Xo;function Wd(t){this.mode=GQ.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Wd.getBitsLength=function(e){return e*8};Wd.prototype.getLength=function(){return this.data.length};Wd.prototype.getBitsLength=function(){return Wd.getBitsLength(this.data.length)};Wd.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var KQ=Wd;const qQ=Xo,ZQ=Ga;function Yd(t){this.mode=qQ.KANJI,this.data=t}Yd.getBitsLength=function(e){return e*13};Yd.prototype.getLength=function(){return this.data.length};Yd.prototype.getBitsLength=function(){return Yd.getBitsLength(this.data.length)};Yd.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=ZQ.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var QQ=Yd,J3={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,s,a){var i={},o={};o[s]=0;var l=e.PriorityQueue.make();l.push(s,0);for(var c,d,u,h,f,m,p,x,g;!l.empty();){c=l.pop(),d=c.value,h=c.cost,f=r[d]||{};for(u in f)f.hasOwnProperty(u)&&(m=f[u],p=h+m,x=o[u],g=typeof o[u]>"u",(g||x>p)&&(o[u]=p,l.push(u,p),i[u]=d))}if(typeof a<"u"&&typeof o[a]>"u"){var y=["Could not find a path from ",s," to ",a,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(r,s){for(var a=[],i=s;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,s,a){var i=e.single_source_shortest_paths(r,s,a);return e.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var s=e.PriorityQueue,a={},i;r=r||{};for(i in s)s.hasOwnProperty(i)&&(a[i]=s[i]);return a.queue=[],a.sorter=r.sorter||s.default_sorter,a},default_sorter:function(r,s){return r.cost-s.cost},push:function(r,s){var a={value:r,cost:s};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(J3);var JQ=J3.exports;(function(t){const e=Xo,r=VQ,s=XQ,a=KQ,i=QQ,o=ci,l=Ga,c=JQ;function d(y){return unescape(encodeURIComponent(y)).length}function u(y,v,b){const w=[];let N;for(;(N=y.exec(b))!==null;)w.push({data:N[0],index:N.index,mode:v,length:N[0].length});return w}function h(y){const v=u(o.NUMERIC,e.NUMERIC,y),b=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let w,N;return l.isKanjiModeEnabled()?(w=u(o.BYTE,e.BYTE,y),N=u(o.KANJI,e.KANJI,y)):(w=u(o.BYTE_KANJI,e.BYTE,y),N=[]),v.concat(b,w,N).sort(function(S,k){return S.index-k.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function f(y,v){switch(v){case e.NUMERIC:return r.getBitsLength(y);case e.ALPHANUMERIC:return s.getBitsLength(y);case e.KANJI:return i.getBitsLength(y);case e.BYTE:return a.getBitsLength(y)}}function m(y){return y.reduce(function(v,b){const w=v.length-1>=0?v[v.length-1]:null;return w&&w.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}function p(y){const v=[];for(let b=0;b<y.length;b++){const w=y[b];switch(w.mode){case e.NUMERIC:v.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:v.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:v.push([w,{data:w.data,mode:e.BYTE,length:d(w.data)}]);break;case e.BYTE:v.push([{data:w.data,mode:e.BYTE,length:d(w.data)}])}}return v}function x(y,v){const b={},w={start:{}};let N=["start"];for(let C=0;C<y.length;C++){const S=y[C],k=[];for(let A=0;A<S.length;A++){const T=S[A],E=""+C+A;k.push(E),b[E]={node:T,lastCount:0},w[E]={};for(let D=0;D<N.length;D++){const _=N[D];b[_]&&b[_].node.mode===T.mode?(w[_][E]=f(b[_].lastCount+T.length,T.mode)-f(b[_].lastCount,T.mode),b[_].lastCount+=T.length):(b[_]&&(b[_].lastCount=T.length),w[_][E]=f(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,v))}}N=k}for(let C=0;C<N.length;C++)w[N[C]].end=0;return{map:w,table:b}}function g(y,v){let b;const w=e.getBestModeForData(y);if(b=e.from(v,w),b!==e.BYTE&&b.bit<w.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(w));switch(b===e.KANJI&&!l.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new r(y);case e.ALPHANUMERIC:return new s(y);case e.KANJI:return new i(y);case e.BYTE:return new a(y)}}t.fromArray=function(v){return v.reduce(function(b,w){return typeof w=="string"?b.push(g(w,null)):w.data&&b.push(g(w.data,w.mode)),b},[])},t.fromString=function(v,b){const w=h(v,l.isKanjiModeEnabled()),N=p(w),C=x(N,b),S=c.find_path(C.map,"start","end"),k=[];for(let A=1;A<S.length-1;A++)k.push(C.table[S[A]].node);return t.fromArray(m(k))},t.rawSplit=function(v){return t.fromArray(h(v,l.isKanjiModeEnabled()))}})(Q3);const tp=Ga,Rg=Qx,eJ=RQ,tJ=FQ,rJ=W3,sJ=Y3,zv=V3,Wv=Jx,aJ=IQ,ax=G3,nJ=q3,iJ=Xo,Fg=Q3;function oJ(t,e){const r=t.size,s=sJ.getPositions(e);for(let a=0;a<s.length;a++){const i=s[a][0],o=s[a][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(i+l,o+c,!0,!0):t.set(i+l,o+c,!1,!0))}}function lJ(t){const e=t.size;for(let r=8;r<e-8;r++){const s=r%2===0;t.set(r,6,s,!0),t.set(6,r,s,!0)}}function cJ(t,e){const r=rJ.getPositions(e);for(let s=0;s<r.length;s++){const a=r[s][0],i=r[s][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(a+o,i+l,!0,!0):t.set(a+o,i+l,!1,!0)}}function dJ(t,e){const r=t.size,s=ax.getEncodedBits(e);let a,i,o;for(let l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,o=(s>>l&1)===1,t.set(a,i,o,!0),t.set(i,a,o,!0)}function Lg(t,e,r){const s=t.size,a=nJ.getEncodedBits(e,r);let i,o;for(i=0;i<15;i++)o=(a>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(s-15+i,8,o,!0),i<8?t.set(8,s-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(s-8,8,1,!0)}function uJ(t,e){const r=t.size;let s=-1,a=r-1,i=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(a,l-c)){let d=!1;o<e.length&&(d=(e[o]>>>i&1)===1),t.set(a,l-c,d),i--,i===-1&&(o++,i=7)}if(a+=s,a<0||r<=a){a-=s,s=-s;break}}}function hJ(t,e,r){const s=new eJ;r.forEach(function(c){s.put(c.mode.bit,4),s.put(c.getLength(),iJ.getCharCountIndicator(c.mode,t)),c.write(s)});const a=tp.getSymbolTotalCodewords(t),i=Wv.getTotalCodewordsCount(t,e),o=(a-i)*8;for(s.getLengthInBits()+4<=o&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const l=(o-s.getLengthInBits())/8;for(let c=0;c<l;c++)s.put(c%2?17:236,8);return fJ(s,t,e)}function fJ(t,e,r){const s=tp.getSymbolTotalCodewords(e),a=Wv.getTotalCodewordsCount(e,r),i=s-a,o=Wv.getBlocksCount(e,r),l=s%o,c=o-l,d=Math.floor(s/o),u=Math.floor(i/o),h=u+1,f=d-u,m=new aJ(f);let p=0;const x=new Array(o),g=new Array(o);let y=0;const v=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const k=S<c?u:h;x[S]=v.slice(p,p+k),g[S]=m.encode(x[S]),p+=k,y=Math.max(y,k)}const b=new Uint8Array(s);let w=0,N,C;for(N=0;N<y;N++)for(C=0;C<o;C++)N<x[C].length&&(b[w++]=x[C][N]);for(N=0;N<f;N++)for(C=0;C<o;C++)b[w++]=g[C][N];return b}function mJ(t,e,r,s){let a;if(Array.isArray(t))a=Fg.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){const u=Fg.rawSplit(t);d=ax.getBestVersionForData(u,r)}a=Fg.fromString(t,d||40)}else throw new Error("Invalid data");const i=ax.getBestVersionForData(a,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=hJ(e,r,a),l=tp.getSymbolSize(e),c=new tJ(l);return oJ(c,e),lJ(c),cJ(c,e),Lg(c,r,0),e>=7&&dJ(c,e),uJ(c,o),isNaN(s)&&(s=zv.getBestMask(c,Lg.bind(null,c,r))),zv.applyMask(s,c),Lg(c,r,s),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:s,segments:a}}H3.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let s=Rg.M,a,i;return typeof r<"u"&&(s=Rg.from(r.errorCorrectionLevel,Rg.M),a=ax.from(r.version),i=zv.from(r.maskPattern),r.toSJISFunc&&tp.setToSJISFunction(r.toSJISFunc)),mJ(e,a,s,i)};var e_={},Mw={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let s=r.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+r);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(i){return[i,i]}))),s.length===6&&s.push("F","F");const a=parseInt(s.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+s.slice(0,6).join("")}}t.getOptions=function(s){s||(s={}),s.color||(s.color={});const a=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,i=s.width&&s.width>=21?s.width:void 0,o=s.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},t.getScale=function(s,a){return a.width&&a.width>=s+a.margin*2?a.width/(s+a.margin*2):a.scale},t.getImageWidth=function(s,a){const i=t.getScale(s,a);return Math.floor((s+a.margin*2)*i)},t.qrToImageData=function(s,a,i){const o=a.modules.size,l=a.modules.data,c=t.getScale(o,i),d=Math.floor((o+i.margin*2)*c),u=i.margin*c,h=[i.color.light,i.color.dark];for(let f=0;f<d;f++)for(let m=0;m<d;m++){let p=(f*d+m)*4,x=i.color.light;if(f>=u&&m>=u&&f<d-u&&m<d-u){const g=Math.floor((f-u)/c),y=Math.floor((m-u)/c);x=h[l[g*o+y]?1:0]}s[p++]=x.r,s[p++]=x.g,s[p++]=x.b,s[p]=x.a}}})(Mw);(function(t){const e=Mw;function r(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=s()),c=e.getOptions(c);const u=e.getImageWidth(i.modules.size,c),h=d.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,i,c),r(h,d,u),h.putImageData(f,0,0),d},t.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=t.render(i,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return d.toDataURL(u,h.quality)}})(e_);var t_={};const xJ=Mw;function FC(t,e){const r=t.a/255,s=e+'="'+t.hex+'"';return r<1?s+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':s}function Ig(t,e,r){let s=t+e;return typeof r<"u"&&(s+=" "+r),s}function pJ(t,e,r){let s="",a=0,i=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),d=Math.floor(l/e);!c&&!i&&(i=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(s+=i?Ig("M",c+r,.5+d+r):Ig("m",a,0),a=0,i=!1),c+1<e&&t[l+1]||(s+=Ig("h",o),o=0)):a++}return s}t_.render=function(e,r,s){const a=xJ.getOptions(r),i=e.modules.size,o=e.modules.data,l=i+a.margin*2,c=a.color.light.a?"<path "+FC(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+FC(a.color.dark,"stroke")+' d="'+pJ(o,i,a.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof s=="function"&&s(null,f),f};const gJ=DQ,Yv=H3,r_=e_,yJ=t_;function Rw(t,e,r,s,a){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!gJ())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(a=r,r=e,e=s=void 0):o===3&&(e.getContext&&typeof a>"u"?(a=s,s=void 0):(a=s,s=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=s=void 0):o===2&&!e.getContext&&(s=r,r=e,e=void 0),new Promise(function(c,d){try{const u=Yv.create(r,s);c(t(u,e,s))}catch(u){d(u)}})}try{const c=Yv.create(r,s);a(null,t(c,e,s))}catch(c){a(c)}}Lf.create=Yv.create;Lf.toCanvas=Rw.bind(null,r_.render);Lf.toDataURL=Rw.bind(null,r_.renderToDataURL);Lf.toString=Rw.bind(null,function(t,e,r){return yJ.render(t,r)});const vJ=({merchant:t,onClose:e,onCreatePayout:r})=>{const s=Math.min(t.currentBalance,t.prefilledAmount??t.currentBalance),[a,i]=P.useState(null),[o,l]=P.useState(""),[c,d]=P.useState(s.toString()),[u,h]=P.useState(t.prefilledNotes||""),[f,m]=P.useState(""),[p,x]=P.useState(t.prefilledPeriodFrom?new Date(t.prefilledPeriodFrom):null),[g,y]=P.useState(t.prefilledPeriodTo?new Date(t.prefilledPeriodTo):null),[v,b]=P.useState(!1),[w,N]=P.useState(!1),[C,S]=P.useState({});Le.useEffect(()=>{const D=Math.min(t.currentBalance,t.prefilledAmount??t.currentBalance);d(D.toString())},[t.currentBalance,t.prefilledAmount]);const k=(D,_)=>{navigator.clipboard.writeText(D),i(_),setTimeout(()=>i(null),2e3)},A={usdtPolygonWallet:"polygon",usdtTrcWallet:"trc20",usdtErcWallet:"erc20",usdcPolygonWallet:"polygon",usdcErcWallet:"erc20"},T=Object.entries(t.wallets).filter(([D,_])=>_&&_.trim()!=="").map(([D,_])=>({...{usdtPolygonWallet:{label:"USDT (Polygon)",value:"usdtPolygonWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdtTrcWallet:{label:"USDT (TRC-20)",value:"usdtTrcWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdtErcWallet:{label:"USDT (ERC-20)",value:"usdtErcWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdcPolygonWallet:{label:"USDC (Polygon)",value:"usdcPolygonWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdcErcWallet:{label:"USDC (ERC-20)",value:"usdcErcWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})}}[D],address:_})),E=()=>{const D={};if(o||(D.network="Network is required"),!c||c.trim()==="")D.amount="Amount is required";else{const q=parseFloat(c);isNaN(q)||q<=0?D.amount="Amount must be greater than 0":q>t.totalAmountAfterCommissionUSDT&&(D.amount=`Amount cannot exceed ${t.totalAmountAfterCommissionUSDT.toLocaleString()} USDC`)}if(p||(D.periodFrom="Start date is required"),g||(D.periodTo="End date is required"),p&&g&&(p>g&&(D.periodTo="End date must be after start date"),g>new Date&&(D.periodTo="End date cannot be in the future")),(!u||u.trim()==="")&&(D.notes="Notes are required"),!f||f.trim()===""?D.txid="Transaction ID is required":f.trim().length<10&&(D.txid="Transaction ID must be at least 10 characters long"),Object.keys(D).length>0){S(D),ce.error("Please fill in all required fields");return}S({});const _=parseFloat(c),z=T.find(q=>q.value===o);if(!z){ce.error("Selected network not found");return}const H={shopId:t.id,amount:_,network:A[o],wallet:z.address,notes:u.trim()||void 0,txid:f.trim()||void 0};if(p&&g){const q=new Date(Date.UTC(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0)),K=new Date(Date.UTC(g.getFullYear(),g.getMonth(),g.getDate(),23,59,59));H.periodFrom=q.toISOString(),H.periodTo=K.toISOString()}r(H)};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 sticky top-0 bg-white z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(Dt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Merchant Details"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.fullName})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Merchant Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),n.jsx("div",{className:"text-sm text-gray-900",children:t.fullName})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Username"}),n.jsxs("div",{className:"text-sm text-gray-900",children:["@",t.username]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Telegram"}),n.jsx("div",{className:"text-sm text-gray-900",children:t.telegramId})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Merchant URL"}),n.jsx("div",{className:"text-sm text-gray-900 break-all",children:n.jsx("a",{href:t.merchantUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary-dark",children:t.merchantUrl})})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payout Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[n.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Amount"}),n.jsxs("div",{className:"text-xl font-bold text-green-900",children:[t.totalAmountUSDT.toLocaleString()," USDC"]})]}),n.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[n.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"After Commission"}),n.jsxs("div",{className:"text-xl font-bold text-blue-900",children:[t.totalAmountAfterCommissionUSDT.toLocaleString()," USDC"]})]}),n.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:[n.jsx("div",{className:"text-sm font-medium text-purple-700 mb-1",children:"Payments Count"}),n.jsx("div",{className:"text-xl font-bold text-purple-900",children:t.paymentsCount})]}),n.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-200",children:[n.jsx("div",{className:"text-sm font-medium text-orange-700 mb-1",children:"Oldest Payment"}),n.jsx("div",{className:"text-sm font-medium text-orange-900",children:$e(new Date(t.oldestPaymentDate),"UTC","dd.MM.yy")})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Wallet Addresses"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map((D,_)=>n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex-shrink-0",children:D.icon}),n.jsx("span",{className:"font-medium text-gray-900",children:D.label})]}),n.jsx("button",{onClick:()=>k(D.address,`wallet-${_}`),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors",children:a===`wallet-${_}`?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"text-sm font-mono text-gray-600 break-all",children:D.address})]},_))})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Payout"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Network *"}),n.jsx(ir,{value:o,onChange:D=>{l(D),C.network&&S(_=>({..._,network:""}))},options:T.map(D=>({value:D.value,label:D.label,icon:n.jsx("span",{children:D.icon})})),placeholder:"Select network"}),C.network&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:C.network})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (USDC) *"}),n.jsx("input",{type:"number",value:c,onChange:D=>{d(D.target.value),C.amount&&S(_=>({..._,amount:""}))},className:`w-full px-4 py-2.5 rounded-lg border ${C.amount?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary"} focus:ring-2 focus:border-primary outline-none`,placeholder:"0.00",step:"0.01",min:"0",max:t.currentBalance}),C.amount?n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:C.amount})]}):n.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Maximum: ",t.currentBalance.toLocaleString()," USDC"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payout Period *"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From Date *"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>b(!0),className:`w-full px-4 py-2.5 bg-white border ${C.periodFrom?"border-red-300":"border-gray-300"} rounded-lg text-left flex items-center space-x-3 hover:border-primary transition-all duration-200`,children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:p?"text-gray-900":"text-gray-500",children:p?Ke(p,"dd.MM.yy"):"Select start date"})]}),n.jsx(tt,{children:v&&n.jsx(Yr,{value:p,onChange:D=>{x(D),b(!1),N(!0),C.periodFrom&&S(_=>({..._,periodFrom:""}))},onClose:()=>b(!1)})})]}),C.periodFrom&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:C.periodFrom})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To Date *"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>N(!0),className:`w-full px-4 py-2.5 bg-white border ${C.periodTo?"border-red-300":"border-gray-300"} rounded-lg text-left flex items-center space-x-3 hover:border-primary transition-all duration-200`,children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:g?"text-gray-900":"text-gray-500",children:g?Ke(g,"dd.MM.yy"):"Select end date"})]}),n.jsx(tt,{children:w&&n.jsx(Yr,{value:g,onChange:D=>{y(D),N(!1),C.periodTo&&S(_=>({..._,periodTo:""}))},onClose:()=>N(!1)})})]}),C.periodTo&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:C.periodTo})]})]})]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Specify the period this payout covers"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),n.jsx("textarea",{value:u,onChange:D=>{h(D.target.value),C.notes&&S(_=>({..._,notes:""}))},className:`w-full px-4 py-2.5 rounded-lg border ${C.notes?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary"} focus:ring-2 focus:border-primary outline-none`,placeholder:"Add notes for this payout...",rows:3}),C.notes&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:C.notes})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction ID *"}),n.jsx("input",{type:"text",value:f,onChange:D=>{m(D.target.value),C.txid&&S(_=>({..._,txid:""}))},className:`w-full px-4 py-2.5 rounded-lg border ${C.txid?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary"} focus:ring-2 focus:border-primary outline-none font-mono`,placeholder:"Enter transaction hash/ID"}),C.txid?n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:C.txid})]}):n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Transaction hash from the blockchain network"})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:E,className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-dark transition-colors",children:"Create Payout"})]})]})]})]})]})})},bJ=({payout:t,onClose:e,onUpdate:r})=>{const{useShopWallets:s}=su(),{data:a,isLoading:i}=s(t.shopId),[o,l]=P.useState(""),[c,d]=P.useState(t.amount.toString()),[u,h]=P.useState(""),[f,m]=P.useState(t.notes||""),[p,x]=P.useState(t.txid||""),[g,y]=P.useState(t.periodFrom?new Date(t.periodFrom):null),[v,b]=P.useState(t.periodTo?new Date(t.periodTo):null),[w,N]=P.useState(!1),[C,S]=P.useState(!1),[k,A]=P.useState({}),T={usdtPolygonWallet:"polygon",usdtTrcWallet:"trc20",usdtErcWallet:"erc20",usdcPolygonWallet:"polygon",usdcErcWallet:"erc20"},E=Le.useMemo(()=>a?Object.entries(a).filter(([_,z])=>z&&z.trim()!=="").map(([_,z])=>({...{usdtPolygonWallet:{label:"USDC (Polygon)",value:"usdtPolygonWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdtTrcWallet:{label:"USDT (TRC-20)",value:"usdtTrcWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdtErcWallet:{label:"USDT (ERC-20)",value:"usdtErcWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/tether.svg",alt:"USDT",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdcPolygonWallet:{label:"USDC (Polygon)",value:"usdcPolygonWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})},usdcErcWallet:{label:"USDC (ERC-20)",value:"usdcErcWallet",icon:n.jsxs("div",{className:"relative w-8 h-8",children:[n.jsx("img",{src:"/usd-coin.svg",alt:"USDC",className:"w-8 h-8 rounded-full"}),n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white"})]})}}[_],address:z})):[],[a]);Le.useEffect(()=>{if(a&&t.network&&t.wallet){const _={polygon:"Polygon",trc20:"TRC",erc20:"Erc"},z=E.find(H=>{const q=_[t.network];return H.address===t.wallet&&H.label.includes(q)});z&&(l(z.value),h(z.address))}},[a,t.network,t.wallet,E]);const D=()=>{const _={};if(!c||c.trim()==="")_.amount="Amount is required";else{const K=parseFloat(c);(isNaN(K)||K<=0)&&(_.amount="Amount must be greater than 0")}if(o||(_.network="Network is required"),g||(_.periodFrom="Start date is required"),v||(_.periodTo="End date is required"),g&&v&&(g>v&&(_.periodTo="End date must be after start date"),v>new Date&&(_.periodTo="End date cannot be in the future")),(!f||f.trim()==="")&&(_.notes="Notes are required"),!p||p.trim()===""?_.txid="Transaction ID is required":p.trim().length<10&&(_.txid="Transaction ID must be at least 10 characters long"),Object.keys(_).length>0){A(_),ce.error("Please fill in all required fields");return}const z=E.find(K=>K.value===o);if(!z){ce.error("Selected network not found");return}A({});const q={amount:parseFloat(c),network:T[o],wallet:z.address,notes:f.trim(),txid:p.trim()};if(g&&v){const K=new Date(Date.UTC(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0)),Y=new Date(Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59));q.periodFrom=K.toISOString(),q.periodTo=Y.toISOString()}r(t.id,q)};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 sticky top-0 bg-white z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(Hi,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Payout"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.shopName})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"p-6 space-y-4",children:i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Network *"}),n.jsx(ir,{value:o,onChange:_=>{l(_);const z=E.find(H=>H.value===_);z&&h(z.address),k.network&&A(H=>({...H,network:""}))},options:E.map(_=>({value:_.value,label:_.label,icon:n.jsx("span",{children:_.icon})})),placeholder:"Select network"}),k.network&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:k.network})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (USDC) *"}),n.jsx("input",{type:"number",value:c,onChange:_=>{d(_.target.value),k.amount&&A(z=>({...z,amount:""}))},className:`w-full px-4 py-2.5 rounded-lg border ${k.amount?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary"} focus:ring-2 focus:border-primary outline-none`,placeholder:"0.00",step:"0.01",min:"0"}),k.amount&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:k.amount})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payout Period *"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From Date *"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>N(!0),className:`w-full px-4 py-2.5 bg-white border ${k.periodFrom?"border-red-300":"border-gray-300"} rounded-lg text-left flex items-center space-x-3 hover:border-primary transition-all duration-200`,children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:g?"text-gray-900":"text-gray-500",children:g?Ke(g,"dd.MM.yy"):"Select start date"})]}),n.jsx(tt,{children:w&&n.jsx(Yr,{value:g,onChange:_=>{y(_),N(!1),S(!0),k.periodFrom&&A(z=>({...z,periodFrom:""}))},onClose:()=>N(!1)})})]}),k.periodFrom&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:k.periodFrom})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To Date *"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>S(!0),className:`w-full px-4 py-2.5 bg-white border ${k.periodTo?"border-red-300":"border-gray-300"} rounded-lg text-left flex items-center space-x-3 hover:border-primary transition-all duration-200`,children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:v?"text-gray-900":"text-gray-500",children:v?Ke(v,"dd.MM.yy"):"Select end date"})]}),n.jsx(tt,{children:C&&n.jsx(Yr,{value:v,onChange:_=>{b(_),S(!1),k.periodTo&&A(z=>({...z,periodTo:""}))},onClose:()=>S(!1)})})]}),k.periodTo&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:k.periodTo})]})]})]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Specify the period this payout covers"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),n.jsx("textarea",{value:f,onChange:_=>{m(_.target.value),k.notes&&A(z=>({...z,notes:""}))},className:`w-full px-4 py-2.5 rounded-lg border ${k.notes?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary"} focus:ring-2 focus:border-primary outline-none`,placeholder:"Add notes for this payout...",rows:3}),k.notes&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:k.notes})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction ID *"}),n.jsx("input",{type:"text",value:p,onChange:_=>{x(_.target.value),k.txid&&A(z=>({...z,txid:""}))},className:`w-full px-4 py-2.5 rounded-lg border ${k.txid?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary"} focus:ring-2 focus:border-primary outline-none font-mono`,placeholder:"Enter transaction hash/ID"}),k.txid?n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{children:k.txid})]}):n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Transaction hash from the blockchain network"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:D,className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-dark transition-colors",children:"Update Payout"})]})]})})]})})},wJ=({payout:t,onClose:e,onDelete:r,onEdit:s})=>{const[a,i]=P.useState(null),o=(c,d)=>{navigator.clipboard.writeText(c),i(d),setTimeout(()=>i(null),2e3)},l=()=>{window.confirm("Are you sure you want to delete this payout?")&&(r(t.id),e())};return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{marginTop:0},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-2xl overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:n.jsx(Hi,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payout Details"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.id})]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),n.jsxs("div",{className:"mt-1",children:[t.status==="COMPLETED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),t.status==="PENDING"&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(tr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Pending"})]}),t.status==="REJECTED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Network"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[t.network==="polygon"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"w-5 h-5 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"POLYGON"})]}),t.network==="trc20"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"w-5 h-5 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"TRC-20"})]}),t.network==="erc20"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"w-5 h-5 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"ERC-20"})]}),t.network==="bsc"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/binance.svg",alt:"BSC",className:"w-5 h-5 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"BSC"})]}),t.network==="avalanche"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/avalanche.svg",alt:"Avalanche",className:"w-5 h-5 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"AVALANCHE"})]}),t.network==="solana"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/solana.svg",alt:"Solana",className:"w-5 h-5 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"SOLANA"})]}),t.network==="arbitrum"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/arbitrum.svg",alt:"Arbitrum",className:"w-5 h-5 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"ARBITRUM"})]}),t.network==="optimism"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/optimism.svg",alt:"Optimism",className:"w-5 h-5 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"OPTIMISM"})]})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Wallet Address"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 font-mono break-all mr-2",children:t.wallet||t.walletAddress}),n.jsx("button",{onClick:()=>o(t.wallet||t.walletAddress,"wallet-address"),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:a==="wallet-address"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[$e(new Date(t.createdAt),"UTC","dd.MM.yy HH:mm")," UTC"]})]}),t.paidAt&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Paid At"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[$e(new Date(t.paidAt),"UTC","dd.MM.yy HH:mm")," UTC"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Amount"}),n.jsxs("div",{className:"text-2xl font-semibold text-gray-900",children:[t.amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USDC"]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Shop"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm text-gray-900",children:t.shopName}),n.jsxs("div",{className:"text-sm text-gray-600",children:["@",t.shopUsername]})]})]}),t.periodFrom&&t.periodTo&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[n.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"Payout Period"}),n.jsxs("div",{className:"text-sm text-blue-900",children:[n.jsxs("div",{children:["From: ",$e(new Date(t.periodFrom),"UTC","dd.MM.yy")]}),n.jsxs("div",{children:["To: ",$e(new Date(t.periodTo),"UTC","dd.MM.yy")]})]})]}),t.txid&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Transaction ID"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-900 font-mono break-all mr-2",children:t.txid}),n.jsx("button",{onClick:()=>o(t.txid,"txid"),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:a==="txid"?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),t.notes&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Notes"}),n.jsx("div",{className:"text-sm text-gray-900",children:t.notes})]})]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-6",children:n.jsxs("div",{className:"flex justify-between",children:[t.status==="PENDING"&&n.jsxs("button",{onClick:l,className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 flex items-center space-x-2",children:[n.jsx(Jb,{className:"h-4 w-4"}),n.jsx("span",{children:"Delete Payout"})]}),n.jsx("div",{className:"flex space-x-3 ml-auto",children:n.jsx("button",{onClick:()=>s(t),className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-dark transition-colors",children:"Edit Payout"})})]})})]})]})})},NJ=({amount:t,wallets:e})=>{const[r,s]=P.useState(!1),[a,i]=P.useState(null),[o,l]=P.useState(""),c=typeof navigator<"u"&&!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent),d=(f,m,p)=>{const g={usdtPolygonWallet:"c137_t0xc2132D05D31c914a87C6611C10748AEb04B58e8F",usdtTrcWallet:"c195_tTR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",usdtErcWallet:"c60_t0xdAC17F958D2ee523a2206206994597C13D831ec7",usdcPolygonWallet:"c137_t0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",usdcErcWallet:"c60_t0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"}[f];return g?`trust://send?asset=${g}&address=${m}&amount=${p}`:null},u=Object.entries(e).filter(([f,m])=>m&&m.trim()!=="").map(([f,m])=>({network:f,address:m,label:{usdtPolygonWallet:"USDT (Polygon)",usdtTrcWallet:"USDT (TRC-20)",usdtErcWallet:"USDT (ERC-20)",usdcPolygonWallet:"USDC (Polygon)",usdcErcWallet:"USDC (ERC-20)"}[f]})),h=(f,m)=>{const p=d(f,m,t);p&&(c?i({network:f,address:m,label:{usdtPolygonWallet:"USDT (Polygon)",usdtTrcWallet:"USDT (TRC-20)",usdtErcWallet:"USDT (ERC-20)",usdcPolygonWallet:"USDC (Polygon)",usdcErcWallet:"USDC (ERC-20)"}[f]||f}):window.location.href=p),c||s(!1)};return Le.useEffect(()=>{(async()=>{if(!a){l("");return}const m=d(a.network,a.address,t);if(!m){l("");return}try{const p=await Lf.toDataURL(m,{margin:1,width:240});l(p)}catch{l("")}})()},[a,t]),u.length===0?null:n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>s(!0),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Open in Trust Wallet",children:n.jsx(Sr,{className:"h-4 w-4"})}),n.jsx(tt,{children:r&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>s(!1),children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md",onClick:f=>f.stopPropagation(),children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Network"}),n.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-500",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:c?"Choose network to generate QR":"Choose network to open in Trust Wallet"}),u.map(({network:f,address:m,label:p})=>n.jsxs("button",{onClick:()=>h(f,m),className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors",children:[n.jsx("span",{className:"font-medium text-gray-900",children:p}),n.jsx(Sr,{className:"h-5 w-5 text-primary"})]},f)),c&&a&&n.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.label}),n.jsx("div",{className:"flex items-center justify-center",children:o?n.jsx("img",{src:o,alt:"QR",className:"w-60 h-60 rounded-lg border border-gray-200"}):n.jsx("div",{className:"w-60 h-60 rounded-lg border border-gray-200 flex items-center justify-center text-sm text-gray-500",children:"Generating QR..."})}),n.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[t.toFixed(2)," USDC"]}),n.jsx("div",{className:"text-xs text-gray-500",children:"Address"}),n.jsx("div",{className:"text-xs font-mono text-gray-700 break-all",children:a.address})]})]})]})})})]})},jJ=({report:t,useShopWallets:e,onOpenPayout:r})=>{const{data:s}=e(t.merchantId);return n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg",children:n.jsx(Dt,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:t.merchantName}),n.jsxs("div",{className:"text-sm text-gray-500",children:["@",t.merchantUsername]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-blue-50 text-blue-700",children:t.gateway})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-gray-700",children:[$e(new Date(t.periodFrom),"UTC","dd.MM.yy")," - ",$e(new Date(t.periodTo),"UTC","dd.MM.yy")]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsxs("span",{className:"font-semibold text-gray-900",children:[t.totalAmount.toFixed(2)," USDC"]}),n.jsx("button",{onClick:()=>r(t.merchantId,t.totalAmount,`Gateway - ${Bx(t.gateway)}`,t.periodFrom,t.periodTo),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Create Payout",children:n.jsx(Hi,{className:"h-4 w-4"})}),s&&Object.values(s).some(a=>a)&&n.jsx(NJ,{amount:t.totalAmount,wallets:s})]})})]})},SJ=()=>{const[t,e]=P.useState("merchants"),[r,s]=P.useState(""),[a,i]=P.useState("all"),[o,l]=P.useState("all"),[c,d]=P.useState("all"),[u,h]=P.useState(""),[f,m]=P.useState(null),[p,x]=P.useState(null),[g,y]=P.useState(!1),[v,b]=P.useState(!1),[w,N]=P.useState(null),[C,S]=P.useState(null),[k,A]=P.useState(null),[T,E]=P.useState(1),[D]=P.useState(20),[_,z]=P.useState(null),[H,q]=P.useState(null),[K,Y]=P.useState(""),[J,Z]=P.useState(!1),[ne,F]=P.useState(!1),Q=async()=>{console.log(" Export started, activeTab:",t);try{if(t==="merchants"){console.log(" Exporting merchants tab"),ce.loading("Exporting merchants data...");const we={page:1,limit:1e4};r&&(we.search=r),u&&(we.minAmount=parseFloat(u)),console.log(" Request params:",we);const qe=await Pe.get("/admin/payout/merchants",we);console.log(" API response:",qe),console.log(" Merchants array:",qe.merchants);const kt=qe.merchants||[];if(console.log(" Total merchants received:",kt.length),!kt||kt.length===0){console.log(" No merchants to export"),ce.dismiss(),ce.error("No merchants to export");return}const Dr=kt.map(At=>{var gt,la,Je,jt,Pt;return{"Merchant Name":At.name||"Unknown",Username:At.username||"","Current Balance":At.currentBalance||0,"Total Paid Out":At.totalPaidOut||0,"Last Payout":At.lastPayoutAt?$e(new Date(At.lastPayoutAt),"UTC","dd.MM.yy HH:mm")+" UTC":"Never","USDT Polygon Wallet":((gt=At.wallets)==null?void 0:gt.usdtPolygonWallet)||"","USDT TRC-20 Wallet":((la=At.wallets)==null?void 0:la.usdtTrcWallet)||"","USDT ERC-20 Wallet":((Je=At.wallets)==null?void 0:Je.usdtErcWallet)||"","USDC Polygon Wallet":((jt=At.wallets)==null?void 0:jt.usdcPolygonWallet)||"","USDC ERC-20 Wallet":((Pt=At.wallets)==null?void 0:Pt.usdcErcWallet)||""}}),ts=us.json_to_sheet(Dr),cs=us.book_new();us.book_append_sheet(cs,ts,"Merchants");const rs=`admin_merchants_${Ke(new Date,"dd.MM.yy")}.xlsx`;id(cs,rs),ce.dismiss(),ce.success(`Exported ${Dr.length} merchants to ${rs}`),console.log(" Merchants export completed")}else if(t==="payouts"){if(console.log(" Exporting payouts tab"),!f||!p){console.log(" Missing dates for payouts export"),ce.error("Please select both start and end dates for export");return}const we=iw(p,f);if(console.log(" Date range days:",we),we>31){ce.error("Export period cannot exceed 31 days. Please select a shorter period.");return}ce.loading("Fetching all payouts for export...");const qe={page:1,limit:1e4,dateFrom:Ke(f,"yyyy-MM-dd"),dateTo:Ke(p,"yyyy-MM-dd")};if(a!=="all"&&(qe.status=a),o!=="all"&&(qe.network=o),c!=="all"&&Xe){const gt=Xe.find(la=>la.id===c);gt&&(qe.search=gt.name)}else r&&(qe.search=r);console.log(" Request params:",qe);const kt=await Pe.get("/admin/payouts",qe);console.log(" API response:",kt),console.log(" Payouts array:",kt.payouts);const Dr=kt.payouts||[];if(console.log(" Total payouts received:",Dr.length),!Dr||Dr.length===0){console.log(" No payouts to export"),ce.dismiss(),ce.error("No payouts to export");return}const ts=Dr.map(gt=>{var la,Je;return{"Payout ID":gt.id,"Created At":$e(new Date(gt.createdAt),"UTC","dd.MM.yy HH:mm")+" UTC",Merchant:gt.shopName||gt.shopUsername||((la=gt.shop)==null?void 0:la.name)||((Je=gt.shop)==null?void 0:Je.username)||"Unknown",Status:gt.status,Amount:gt.amount,Network:gt.network,"Wallet Address":gt.wallet||"","Transaction ID":gt.txid||"","Period From":gt.periodFrom?$e(new Date(gt.periodFrom),"UTC","dd.MM.yy"):"","Period To":gt.periodTo?$e(new Date(gt.periodTo),"UTC","dd.MM.yy"):"",Notes:gt.notes||""}}),cs=us.json_to_sheet(ts),rs=us.book_new();us.book_append_sheet(rs,cs,"Payouts");const At=`admin_payouts_${Ke(f,"dd.MM.yy")}_${Ke(p,"dd.MM.yy")}.xlsx`;id(rs,At),ce.dismiss(),ce.success(`Exported ${ts.length} payouts to ${At}`),console.log(" Payouts export completed")}else if(t==="reports"){if(console.log(" Exporting reports tab"),!_||!H||!K){console.log(" Missing data for reports export:",{reportPeriodFrom:_,reportPeriodTo:H,reportGateway:K}),ce.error("Please select period dates and gateway for export");return}ce.loading("Exporting payout reports...");const we={periodFrom:Ke(_,"yyyy-MM-dd"),periodTo:Ke(H,"yyyy-MM-dd"),gateway:K};console.log(" Request params:",we);const qe=await Pe.get("/admin/payouts/reports",we);console.log(" API response:",qe),console.log(" Reports array:",qe.reports);const kt=qe.reports||[];if(console.log(" Total reports received:",kt.length),!kt||kt.length===0){console.log(" No reports to export"),ce.dismiss(),ce.error("No reports to export");return}const Dr=kt.map(At=>({"Merchant ID":At.merchantId||"",Merchant:At.merchantName||At.merchantUsername||"Unknown",Username:At.merchantUsername||"",Gateway:At.gateway,"Total Amount":At.totalAmount||0,"Period From":$e(new Date(At.periodFrom),"UTC","dd.MM.yy"),"Period To":$e(new Date(At.periodTo),"UTC","dd.MM.yy")})),ts=us.json_to_sheet(Dr),cs=us.book_new();us.book_append_sheet(cs,ts,"Reports");const rs=`admin_reports_${Ke(_,"dd.MM.yy")}_${Ke(H,"dd.MM.yy")}.xlsx`;id(cs,rs),ce.dismiss(),ce.success(`Exported ${Dr.length} reports to ${rs}`),console.log(" Reports export completed")}}catch(we){console.error(" Export error:",we),ce.dismiss(),ce.error("Failed to export data")}},{usePayoutStats:W,usePayoutMerchants:G,usePayouts:te,useCreatePayout:ee,useDeletePayout:I,useUpdatePayout:oe,useMerchantSelectionWithPayoutHistory:V,usePayoutReports:pe,useShopWallets:ye}=su(),{data:Ae,isLoading:Re,error:nt}=W(),{data:Xe}=V(),_e=ee(),Ye=I(),Ge=oe(),ze=P.useMemo(()=>({page:T,limit:D,search:r||void 0,minAmount:u?parseFloat(u):void 0}),[T,D,r,u]),lt=P.useMemo(()=>{const we={page:T,limit:D,network:o!=="all"?o:void 0,status:a!=="all"?a:void 0};if(f&&(we.dateFrom=Ke(f,"yyyy-MM-dd")),p&&(we.dateTo=Ke(p,"yyyy-MM-dd")),c!=="all"&&Xe){const qe=Xe.find(kt=>kt.id===c);qe&&(we.search=qe.name)}else r&&(we.search=r);return we},[T,D,r,o,a,f,p,c,Xe]),{data:$t,isLoading:gs}=G(ze),{data:xt,isLoading:Fs}=te(lt),wr=P.useMemo(()=>{if(!(!_||!H||!K))return{periodFrom:Ke(_,"yyyy-MM-dd"),periodTo:Ke(H,"yyyy-MM-dd"),gateway:K}},[_,H,K]),{data:Cr,isLoading:_r}=pe(wr),ys=P.useMemo(()=>{const we=[{value:"all",label:"All Merchants"}];return Xe&&Xe.forEach(qe=>{we.push({value:qe.id,label:qe.name})}),we},[Xe]),oa=[{value:"all",label:"All Status"},{value:"PENDING",label:"Pending",icon:n.jsx(tr,{className:"h-4 w-4 text-blue-600"})},{value:"COMPLETED",label:"Completed",icon:n.jsx(wt,{className:"h-4 w-4 text-green-600"})},{value:"REJECTED",label:"Rejected",icon:n.jsx(Ct,{className:"h-4 w-4 text-red-600"})}],Ta=[{value:"all",label:"All Networks"},{value:"polygon",label:"Polygon"},{value:"trc20",label:"TRC-20"},{value:"erc20",label:"ERC-20"}],fn=async we=>{try{await _e.mutateAsync(we),ce.success("Payout created successfully!"),N(null)}catch(qe){const kt=(qe==null?void 0:qe.message)||(qe==null?void 0:qe.toString())||"Failed to create payout";console.error("Create payout error:",qe),ce.error(kt)}},Se=async we=>{try{await Ye.mutateAsync(we),ce.success("Payout deleted successfully")}catch(qe){const kt=(qe==null?void 0:qe.message)||(qe==null?void 0:qe.toString())||"Failed to delete payout";console.error("Delete payout error:",qe),ce.error(kt)}},pt=async(we,qe)=>{try{await Ge.mutateAsync({id:we,data:qe}),ce.success("Payout updated successfully!"),A(null)}catch(kt){const Dr=(kt==null?void 0:kt.message)||(kt==null?void 0:kt.toString())||"Failed to update payout";console.error("Update payout error:",kt),ce.error(Dr)}};return nt?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-red-600 mb-2",children:n.jsx(dt,{className:"h-8 w-8 mx-auto"})}),n.jsx("p",{className:"text-gray-600",children:"Failed to load payout statistics. Please try again."})]}):n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Admin Payouts"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and process merchant payouts"})]}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Q,className:"inline-flex items-center px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200 w-full sm:w-auto justify-center",children:[n.jsx(uf,{className:"h-4 w-4 mr-2"}),"Export"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Re?Array.from({length:4}).map((we,qe)=>n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-200",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]})},qe)):Ae?n.jsxs(n.Fragment,{children:[n.jsxs(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-2 md:p-3 bg-green-50 rounded-xl",children:n.jsx(wt,{className:"h-5 w-5 md:h-6 md:w-6 text-green-600"})}),n.jsx("div",{className:"flex items-center space-x-1 text-green-600"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Payout"}),n.jsxs("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:[Ae.totalPayout.toLocaleString()," USDC"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"All paid to merchants"})]})]}),n.jsxs(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-2 md:p-3 bg-yellow-50 rounded-xl",children:n.jsx(tr,{className:"h-5 w-5 md:h-6 md:w-6 text-yellow-600"})}),n.jsx("div",{className:"flex items-center space-x-1 text-yellow-600"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Awaiting Payout"}),n.jsxs("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:[Ae.awaitingPayout.toLocaleString()," USDC"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Eligible for payout"})]})]}),n.jsxs(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-2 md:p-3 bg-blue-50 rounded-xl",children:n.jsx(Hi,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-600"})}),n.jsx("div",{className:"flex items-center space-x-1 text-blue-600"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"This Month"}),n.jsx("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:Ae.thisMonth.toLocaleString()}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Current month payouts"})]})]}),n.jsxs(X.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm p-4 md:p-6 border border-gray-100 hover:border-primary/20 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-2 md:p-3 bg-purple-50 rounded-xl",children:n.jsx(Sr,{className:"h-5 w-5 md:h-6 md:w-6 text-purple-600"})}),n.jsx("div",{className:"flex items-center space-x-1 text-purple-600"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Payments"}),n.jsx("p",{className:"text-lg md:text-2xl font-semibold text-gray-900",children:Ae.totalPayments.toLocaleString()}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Total payment amount"})]})]})]}):null}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("div",{className:"flex",children:[n.jsx("button",{onClick:()=>{e("merchants"),E(1),d("all")},className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${t==="merchants"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Merchants Awaiting Payout"}),n.jsx("button",{onClick:()=>{e("payouts"),E(1),d("all")},className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${t==="payouts"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Payout History"}),n.jsx("button",{onClick:()=>{e("reports"),E(1)},className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${t==="reports"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Payout Reports"})]})}),n.jsx("div",{className:"p-4 md:p-6 border-b border-gray-100",children:t==="reports"?n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>Z(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:_?"text-gray-900":"text-gray-500",children:_?$e(_,"UTC","dd.MM.yy"):"Period from"})]}),n.jsx(tt,{children:J&&n.jsx(Yr,{value:_,onChange:we=>{z(we),Z(!1),F(!0)},onClose:()=>Z(!1)})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>F(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:H?"text-gray-900":"text-gray-500",children:H?$e(H,"UTC","dd.MM.yy"):"Period to"})]}),n.jsx(tt,{children:ne&&n.jsx(Yr,{value:H,onChange:we=>{q(we),F(!1)},onClose:()=>F(!1)})})]}),n.jsx(ir,{value:K,onChange:Y,options:[{value:"",label:"Select Gateway"},{value:"rapyd",label:"Rapyd"},{value:"cointopay",label:"CoinToPay"},{value:"cointopay2",label:"CoinToPay2"},{value:"noda",label:"Noda"},{value:"klyme_eu",label:"KLYME EU"},{value:"klyme_gb",label:"KLYME GB"},{value:"klyme_de",label:"KLYME DE"},{value:"visa/mastercard",label:"Visa/MasterCard"},{value:"amer",label:"Amer"},{value:"myxspend",label:"MyXSpend"},{value:"ampay",label:"AmPay"},{value:"sepa",label:"SEPA"},{value:"interac",label:"Interac"},{value:"ampay_try",label:"AmPay TRY"},{value:"onramp",label:"OnRamp"},{value:"squirrelpay",label:"SquirrelPay"},{value:"instaxchange",label:"InstaXChange"},{value:"oxapay",label:"OxaPay"}],placeholder:"Select Gateway"})]}):n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:t==="merchants"?"Search merchants...":"Search payouts...",value:r,onChange:we=>{s(we.target.value),E(1),we.target.value&&t==="payouts"&&d("all")},className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:bg-white transition-all duration-200"})]})}),n.jsx("div",{className:"flex gap-4",children:t==="merchants"?n.jsx("div",{className:"relative",children:n.jsx("input",{type:"number",placeholder:"Min amount",value:u,onChange:we=>{h(we.target.value),E(1)},className:"w-[140px] px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-primary outline-none"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>y(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:f?"text-gray-900":"text-gray-500",children:f?$e(f,"UTC","dd.MM.yy"):"Start date"})]}),n.jsx(tt,{children:g&&n.jsx(Yr,{value:f,onChange:we=>{m(we),y(!1),b(!0),E(1)},onClose:()=>y(!1)})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>b(!0),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl text-left flex items-center space-x-3 hover:border-primary transition-all duration-200",children:[n.jsx(bt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:p?"text-gray-900":"text-gray-500",children:p?$e(p,"UTC","dd.MM.yy"):"End date"})]}),n.jsx(tt,{children:v&&n.jsx(Yr,{value:p,onChange:we=>{x(we),b(!1),E(1)},onClose:()=>b(!1)})})]}),n.jsx(ir,{value:a,onChange:we=>{i(we),E(1)},options:oa,placeholder:"All Status",className:"w-[180px]"}),n.jsx(ir,{value:o,onChange:we=>{l(we),E(1)},options:Ta,placeholder:"All Networks",className:"w-[180px]"}),n.jsx(ir,{value:c,onChange:we=>{d(we),E(1),we!=="all"&&s("")},options:ys,placeholder:"All Merchants",className:"w-[180px]"})]})})]})}),t==="reports"?_r?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):!wr||!(Cr!=null&&Cr.reports)?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[n.jsx(Uc,{className:"h-12 w-12 mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg font-medium",children:"Select Period and Gateway"}),n.jsx("p",{className:"text-sm",children:"Choose a date range and gateway to view payout reports"})]}):Cr.reports.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[n.jsx(Uc,{className:"h-12 w-12 mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg font-medium",children:"No Reports Found"}),n.jsx("p",{className:"text-sm",children:"No payouts found for the selected period and gateway"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Merchant"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Gateway"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Period"})}),n.jsx("th",{className:"text-right px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Payout Amount"})})]})}),n.jsx("tbody",{children:Cr.reports.map(we=>n.jsx(jJ,{report:we,useShopWallets:ye,onOpenPayout:(qe,kt,Dr,ts,cs)=>{const rs=$t==null?void 0:$t.merchants.find(At=>At.id===qe);rs&&N({...rs,prefilledAmount:kt,prefilledNotes:Dr,prefilledPeriodFrom:ts,prefilledPeriodTo:cs})}},`${we.merchantId}-${we.gateway}`))}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t-2 border-gray-200 bg-gray-50",children:[n.jsx("td",{colSpan:3,className:"px-6 py-4 text-right",children:n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Total:"})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[Cr.reports.reduce((we,qe)=>we+qe.totalAmount,0).toFixed(2)," USDC"]})})]})})]})}):t==="merchants"?gs?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Merchant"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Payout"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Awaiting Payout"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"This Month"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Payments"})}),n.jsx("th",{className:"text-right px-6 py-4"})]})}),n.jsx("tbody",{children:$t==null?void 0:$t.merchants.map(we=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:we.fullName}),n.jsx("div",{className:"text-xs text-gray-500",children:we.telegramId})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[we.totalPayout.toLocaleString()," USDC"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`text-sm font-medium ${we.currentBalance<0?"text-red-600":"text-green-600"}`,children:[we.currentBalance.toLocaleString()," USDC"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[we.thisMonth.toLocaleString()," USDC"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:we.paymentsCount})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-end space-x-2",children:n.jsx("button",{onClick:()=>N(we),className:"p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-all duration-200",children:n.jsx(Ts,{className:"h-4 w-4"})})})})]},we.id))})]})}):Fs?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("button",{className:"flex items-center space-x-2 text-sm font-medium text-gray-500",children:n.jsx("span",{children:"Date"})})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Payout ID"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"User"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("button",{className:"flex items-center space-x-2 text-sm font-medium text-gray-500",children:n.jsx("span",{children:"Amount"})})}),n.jsx("th",{className:"text-left px-8 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Network"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Wallet"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Status"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Period"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"})}),n.jsx("th",{className:"text-right px-6 py-4"})]})}),n.jsx("tbody",{children:xt==null?void 0:xt.payouts.map(we=>{var qe;return n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-500",children:$e(new Date(we.createdAt),"UTC","dd.MM.yy")})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-mono text-gray-900",children:[we.id.slice(0,8),"..."]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:we.shopName}),n.jsxs("div",{className:"text-xs text-gray-500",children:["@",we.shopUsername]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[we.amount.toFixed(2)," USDC"]})}),n.jsx("td",{className:"px-8 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[we.network==="polygon"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/polygon.svg",alt:"Polygon",className:"w-4 h-4 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-900 font-medium min-w-fit",children:"POLYGON"})]}),we.network==="trc20"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/tron.svg",alt:"TRON",className:"w-4 h-4 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-900 font-medium min-w-fit",children:"TRC-20"})]}),we.network==="erc20"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/ethereum.svg",alt:"Ethereum",className:"w-4 h-4 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-900 font-medium min-w-fit",children:"ERC-20"})]}),we.network==="bsc"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/binance.svg",alt:"BSC",className:"w-4 h-4 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-900 font-medium min-w-fit",children:"BSC"})]}),we.network==="avalanche"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/avalanche.svg",alt:"Avalanche",className:"w-4 h-4 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-900 font-medium",children:"AVALANCHE"})]}),we.network==="solana"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/solana.svg",alt:"Solana",className:"w-4 h-4 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-900 font-medium",children:"SOLANA"})]}),we.network==="arbitrum"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/arbitrum.svg",alt:"Arbitrum",className:"w-4 h-4 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-900 font-medium",children:"ARBITRUM"})]}),we.network==="optimism"&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/optimism.svg",alt:"Optimism",className:"w-4 h-4 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-900 font-medium",children:"OPTIMISM"})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-mono text-gray-600",children:[(qe=we.wallet||we.walletAddress)==null?void 0:qe.slice(0,8),"..."]})}),n.jsxs("td",{className:"px-6 py-4",children:[we.status==="COMPLETED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),we.status==="PENDING"&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(tr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Pending"})]}),we.status==="REJECTED"&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-1 rounded-lg w-fit",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Rejected"})]})]}),n.jsx("td",{className:"px-6 py-4",children:we.periodFrom&&we.periodTo?n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("div",{children:[$e(new Date(we.periodFrom),"UTC","dd.MM.yy")," -"]}),n.jsx("div",{className:"text-xs text-gray-400",children:$e(new Date(we.periodTo),"UTC","dd.MM.yy")})]}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4",children:we.txid?n.jsxs("span",{className:"text-sm font-mono text-gray-600",children:[we.txid.slice(0,8),"..."]}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-end space-x-2",children:n.jsx("button",{onClick:()=>S(we),className:"p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-all duration-200",children:n.jsx(Ts,{className:"h-4 w-4"})})})})]},we.id)})})]})}),t==="merchants"&&($t==null?void 0:$t.pagination)&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",($t.pagination.page-1)*$t.pagination.limit+1," to"," ",Math.min($t.pagination.page*$t.pagination.limit,$t.pagination.total)," of"," ",$t.pagination.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>E(Math.max(1,T-1)),disabled:T===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",$t.pagination.page," of ",$t.pagination.totalPages]}),n.jsx("button",{onClick:()=>E(Math.min($t.pagination.totalPages,T+1)),disabled:T===$t.pagination.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]}),t==="payouts"&&(xt==null?void 0:xt.pagination)&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(xt.pagination.page-1)*xt.pagination.limit+1," to"," ",Math.min(xt.pagination.page*xt.pagination.limit,xt.pagination.total)," of"," ",xt.pagination.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>E(Math.max(1,T-1)),disabled:T===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",xt.pagination.page," of ",xt.pagination.totalPages]}),n.jsx("button",{onClick:()=>E(Math.min(xt.pagination.totalPages,T+1)),disabled:T===xt.pagination.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),n.jsxs(tt,{children:[w&&n.jsx(vJ,{merchant:w,onClose:()=>N(null),onCreatePayout:fn}),k&&n.jsx(bJ,{payout:k,onClose:()=>A(null),onUpdate:pt}),C&&n.jsx(wJ,{payout:C,onClose:()=>S(null),onDelete:Se,onEdit:we=>{A(we),S(null)}})]})]})},CJ=()=>{const[t,e]=P.useState("security"),{data:r,isLoading:s}=UE(),a=a9(),i=n9(),o=i9(),l=o9(),[c,d]=P.useState(""),[u,h]=P.useState(""),[f,m]=P.useState(""),[p,x]=P.useState(!1),[g,y]=P.useState(!1),[v,b]=P.useState(!1),[w,N]=P.useState(!1),[C,S]=P.useState(""),[k,A]=P.useState(""),[T,E]=P.useState(""),[D,_]=P.useState(!1),[z,H]=P.useState(!1),[q,K]=P.useState("");P.useEffect(()=>{t==="bot"&&(async()=>{try{const lt=await Pe.get("/admin/admin-bot/settings");lt.success&&lt.result&&(A(lt.result.telegramId1||""),E(lt.result.telegramId2||""))}catch(lt){console.error("Failed to load admin bot settings:",lt)}})()},[t]);const[Y,J]=P.useState(!1),[Z,ne]=P.useState(null),[F,Q]=P.useState(null),[W,G]=P.useState([]),[te,ee]=P.useState(""),[I,oe]=P.useState(!1),V=[{id:"security",label:"Security",icon:Qd},{id:"2fa",label:"2FA",icon:xa},{id:"bot",label:"Admin Bot",icon:Ps}],pe=async ze=>{if(ze.preventDefault(),!c||!u||!f){ce.error("All password fields are required");return}if(u!==f){ce.error("New passwords do not match");return}if(u.length<8){ce.error("New password must be at least 8 characters");return}if(r!=null&&r.twoFactorEnabled){N(!0),S("");return}try{await a.mutateAsync({currentPassword:c,newPassword:u,confirmNewPassword:f}),ce.success("Password changed successfully"),d(""),h(""),m("")}catch(lt){ce.error(lt.message||"Failed to change password")}},ye=async()=>{if(C.length!==6){ce.error("Enter 6-digit code");return}try{await a.mutateAsync({currentPassword:c,newPassword:u,confirmNewPassword:f,twoFactorToken:C}),ce.success("Password changed successfully"),d(""),h(""),m(""),N(!1),S("")}catch(ze){ce.error(ze.message||"Failed to change password")}},Ae=async()=>{try{const ze=await i.mutateAsync(),lt=(ze==null?void 0:ze.result)||ze;lt!=null&&lt.qrCode&&(lt!=null&&lt.manualEntryKey)?(ne(lt.qrCode),Q(lt.manualEntryKey),G(lt.backupCodes||[]),J(!0),ee("")):ce.error("Invalid 2FA setup response")}catch(ze){ce.error(ze.message||"Failed to setup 2FA")}},Re=async()=>{if(!te||te.length!==6){ce.error("Please enter a valid 6-digit code");return}try{await o.mutateAsync({token:te}),ce.success("2FA enabled successfully"),J(!1),ee(""),ne(null),Q(null)}catch(ze){ce.error(ze.message||"Failed to enable 2FA. Please check your code.")}},nt=async()=>{try{await l.mutateAsync(),ce.success("2FA disabled successfully")}catch(ze){ce.error(ze.message||"Failed to disable 2FA")}},Xe=()=>{F&&(navigator.clipboard.writeText(F),oe(!0),setTimeout(()=>oe(!1),2e3),ce.success("Setup key copied"))},_e=async()=>{if(r!=null&&r.twoFactorEnabled){H(!0),K("");return}await Ye()},Ye=async ze=>{_(!0);try{(await Pe.post("/admin/admin-bot/settings",{telegramId1:k.trim(),telegramId2:T.trim(),twoFactorToken:ze})).success?(ce.success("Admin bot settings saved successfully"),H(!1),K("")):ce.error("Failed to save settings")}catch(lt){console.error("Error saving admin bot settings:",lt),ce.error(lt.message||"Failed to save admin bot settings")}finally{_(!1)}},Ge=async()=>{if(q.length!==6){ce.error("Enter 6-digit code");return}await Ye(q)};return n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Admin Settings"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your admin account settings and preferences"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("div",{className:"flex overflow-x-auto",children:V.map(ze=>n.jsxs("button",{onClick:()=>e(ze.id),className:`flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${t===ze.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(ze.icon,{className:"h-4 w-4"}),n.jsx("span",{children:ze.label})]},ze.id))})}),n.jsxs("div",{className:"p-6",children:[t==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Update your admin account password"})]}),n.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:p?"text":"password",id:"currentPassword",value:c,onChange:ze=>d(ze.target.value),className:"w-full px-4 py-2.5 pr-12 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Enter current password"}),n.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:p?n.jsx(ed,{className:"h-5 w-5"}):n.jsx(Ts,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:g?"text":"password",id:"newPassword",value:u,onChange:ze=>h(ze.target.value),className:"w-full px-4 py-2.5 pr-12 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Enter new password"}),n.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:g?n.jsx(ed,{className:"h-5 w-5"}):n.jsx(Ts,{className:"h-5 w-5"})})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v?"text":"password",id:"confirmPassword",value:f,onChange:ze=>m(ze.target.value),className:"w-full px-4 py-2.5 pr-12 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Confirm new password"}),n.jsx("button",{type:"button",onClick:()=>b(!v),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:v?n.jsx(ed,{className:"h-5 w-5"}):n.jsx(Ts,{className:"h-5 w-5"})})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:a.isPending,className:"px-6 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:a.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:"Changing Password..."})]}):n.jsx("span",{children:"Change Password"})})})]})]}),t==="2fa"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Add additional security to your admin account"})]}),n.jsx("div",{children:s?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Qe,{size:"lg"})}):r!=null&&r.twoFactorEnabled?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Ps,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:"2FA is currently enabled"}),n.jsxs("p",{className:"text-xs text-green-700 mt-0.5",children:["Required for password changes and sensitive operations",r.backupCodesCount>0&&`  ${r.backupCodesCount} backup codes remaining`]})]})]}),n.jsx("button",{onClick:nt,disabled:l.isPending,className:"px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:l.isPending?"Disabling...":"Disable 2FA"})]})}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"p-4 bg-primary/10 border border-primary/30 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Ps,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsx("p",{className:"font-medium",children:"Enhance Your Security"}),n.jsx("p",{className:"mt-1 text-gray-700",children:"Two-factor authentication adds an extra layer of security by requiring a code from your authenticator app."})]})]})}),n.jsx("button",{onClick:Ae,disabled:i.isPending,className:"w-full px-4 py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:i.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:"Setting up..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(xa,{className:"h-5 w-5"}),n.jsx("span",{children:"Enable 2FA"})]})})]})})]}),t==="bot"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Admin Bot"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure Telegram IDs for bot access"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(xa,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Setup Admin Bot"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Step 1: Start the bot"}),n.jsxs("a",{href:"https://t.me/trapayadmin_bot",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[n.jsx(xa,{className:"h-4 w-4"}),n.jsx("span",{children:"Open TRAPAY Admin Bot"}),n.jsx(Lt,{className:"h-4 w-4 rotate-45"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Step 2: Add your Telegram ID"}),n.jsxs("div",{className:"bg-primary/5 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-700 mb-2",children:'Add your Telegram ID below and click "Save Bot Settings"'}),n.jsx("p",{className:"text-xs text-gray-600",children:"After saving, start the bot in Telegram to receive admin notifications"})]})]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"telegramId1",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telegram ID #1"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Dt,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"telegramId1",value:k,onChange:ze=>A(ze.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Enter Telegram ID"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"First authorized Telegram user ID"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"telegramId2",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telegram ID #2"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Dt,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"telegramId2",value:T,onChange:ze=>E(ze.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Enter Telegram ID"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Second authorized Telegram user ID"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:_e,disabled:D,className:"px-6 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:D?n.jsxs(n.Fragment,{children:[n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:"Saving..."})]}):n.jsx("span",{children:"Save Bot Settings"})})})]})]})]})]})]}),n.jsxs(tt,{children:[w&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ze=>{ze.target===ze.currentTarget&&(N(!1),S(""))},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2FA Verification Required"}),n.jsx("button",{onClick:()=>{N(!1),S("")},className:"text-gray-400 hover:text-gray-500",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app to confirm password change."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Authentication Code"}),n.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:C,onChange:ze=>S(ze.target.value.replace(/\D/g,"")),className:"w-full px-4 py-2.5 text-center text-2xl tracking-widest rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"000000"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>{N(!1),S("")},className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:ye,disabled:a.isPending||C.length!==6,className:"flex-1 px-4 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.isPending?"Verifying...":"Confirm"})]})]})]})}),Y&&Z&&F&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ze=>{ze.target===ze.currentTarget&&(J(!1),ee(""),ne(null),Q(null))},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 sticky top-0 bg-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Setup Two-Factor Authentication"}),n.jsx("button",{onClick:()=>{J(!1),ee(""),ne(null),Q(null)},className:"text-gray-400 hover:text-gray-500",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"1. Scan QR Code"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Use Google Authenticator, Authy, or any TOTP app to scan this QR code:"}),n.jsx("div",{className:"flex justify-center p-4 bg-white border border-gray-200 rounded-lg",children:n.jsx("img",{src:Z,alt:"2FA QR Code",className:"w-48 h-48"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"2. Or Enter Setup Key Manually"}),n.jsx("p",{className:"text-sm text-gray-600",children:"If you can't scan the QR code, enter this key manually:"}),n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsx("code",{className:"flex-1 text-sm font-mono text-gray-900 break-all",children:F}),n.jsx("button",{onClick:Xe,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:I?n.jsx(Rt,{className:"h-4 w-4 text-green-500"}):n.jsx(ct,{className:"h-4 w-4"})})]})]}),W.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"3. Save Backup Codes"}),n.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[n.jsx(dt,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-sm text-amber-800",children:"Save these backup codes in a secure place. Each can be used once if you lose access to your authenticator."})]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:W.map((ze,lt)=>n.jsx("code",{className:"text-xs font-mono bg-white px-2 py-1 rounded border border-amber-200",children:ze},lt))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"4. Verify Setup"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app:"}),n.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:te,onChange:ze=>ee(ze.target.value.replace(/\D/g,"")),className:"w-full px-4 py-2.5 text-center text-2xl tracking-widest rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"000000"})]}),n.jsx("button",{onClick:Re,disabled:o.isPending||te.length!==6,className:"w-full px-4 py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:o.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Qe,{size:"sm"}),n.jsx("span",{children:"Enabling..."})]}):n.jsx("span",{children:"Enable 2FA"})})]})]})}),z&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ze=>{ze.target===ze.currentTarget&&(H(!1),K(""))},children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2FA Verification Required"}),n.jsx("button",{onClick:()=>{H(!1),K("")},className:"text-gray-400 hover:text-gray-500",children:n.jsx(Lt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app to confirm Admin Bot settings change."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Authentication Code"}),n.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:q,onChange:ze=>K(ze.target.value.replace(/\D/g,"")),className:"w-full px-4 py-2.5 text-center text-2xl tracking-widest rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"000000"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>{H(!1),K("")},className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Ge,disabled:D||q.length!==6,className:"flex-1 px-4 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:D?"Saving...":"Confirm"})]})]})]})})]})]})};function kJ(t,e={}){return Vt({queryKey:["loginLogs",t,e],queryFn:async()=>{const r=new URLSearchParams;return e.page&&r.append("page",e.page.toString()),e.limit&&r.append("limit",e.limit.toString()),(await Pe.get(`/admin/login-logs/${t}?${r.toString()}`)).result},enabled:!!t})}const s_=t=>{var e,r,s,a,i,o,l,c,d,u,h,f,m,p,x,g,y,v,b,w,N,C,S,k,A,T,E,D,_,z,H,q,K,Y,J,Z,ne,F,Q,W,G,te;if(!t)return null;if(t.products&&(t=t.products),t.identification&&t.bot!==void 0)return t;if((e=t.tor)!=null&&e.data||(r=t.vpn)!=null&&r.data||(s=t.identification)!=null&&s.data){const ee={};if((a=t.identification)!=null&&a.data&&(ee.identification={visitor_id:t.identification.data.visitorId,visitor_found:t.identification.data.visitorFound,confidence:t.identification.data.confidence,first_seen_at:new Date(((i=t.identification.data.firstSeenAt)==null?void 0:i.global)||0).getTime(),last_seen_at:new Date(((o=t.identification.data.lastSeenAt)==null?void 0:o.global)||0).getTime()},ee.event_id=t.identification.data.requestId,ee.timestamp=t.identification.data.timestamp,ee.ip_address=t.identification.data.ip,ee.url=t.identification.data.url,ee.user_agent=t.identification.data.userAgent,ee.replayed=t.identification.data.replayed,ee.incognito=t.identification.data.incognito,ee.environment_id=t.identification.data.environmentId,t.identification.data.browserDetails&&(ee.browser_details={browser_name:t.identification.data.browserDetails.browserName,browser_full_version:t.identification.data.browserDetails.browserFullVersion,browser_major_version:t.identification.data.browserDetails.browserMajorVersion,os:t.identification.data.browserDetails.os,os_version:t.identification.data.browserDetails.osVersion,device:t.identification.data.browserDetails.device}),t.identification.data.sdk&&(ee.sdk=t.identification.data.sdk)),(l=t.botd)!=null&&l.data&&(ee.bot=((c=t.botd.data.bot)==null?void 0:c.result)==="notDetected"?"not_detected":((d=t.botd.data.bot)==null?void 0:d.result)||"unknown"),(u=t.vpn)!=null&&u.data&&(ee.vpn=t.vpn.data.result,ee.vpn_confidence=t.vpn.data.confidence,ee.vpn_origin_timezone=t.vpn.data.originTimezone,t.vpn.data.methods&&(ee.vpn_methods={relay:t.vpn.data.methods.relay,public_vpn:t.vpn.data.methods.publicVPN,os_mismatch:t.vpn.data.methods.osMismatch,auxiliary_mobile:t.vpn.data.methods.auxiliaryMobile,timezone_mismatch:t.vpn.data.methods.timezoneMismatch})),(h=t.proxy)!=null&&h.data&&(ee.proxy=t.proxy.data.result,ee.proxy_confidence=t.proxy.data.confidence,t.proxy.data.details&&(ee.proxy_details={proxy_type:t.proxy.data.details.proxyType,provider:t.proxy.data.details.provider,last_seen_at:t.proxy.data.details.lastSeenAt?new Date(t.proxy.data.details.lastSeenAt).getTime():void 0})),(m=(f=t.ipInfo)==null?void 0:f.data)!=null&&m.v4){const I=t.ipInfo.data.v4;ee.ip_info={v4:{address:I.address,asn:(p=I.asn)==null?void 0:p.asn,asn_name:(x=I.asn)==null?void 0:x.name,asn_type:(g=I.asn)==null?void 0:g.type,asn_network:(y=I.asn)==null?void 0:y.network,datacenter_result:(v=I.datacenter)==null?void 0:v.result,datacenter_name:(b=I.datacenter)==null?void 0:b.name,geolocation:I.geolocation?{city_name:(w=I.geolocation.city)==null?void 0:w.name,country_name:(N=I.geolocation.country)==null?void 0:N.name,country_code:(C=I.geolocation.country)==null?void 0:C.code,timezone:I.geolocation.timezone,postal_code:I.geolocation.postalCode,latitude:I.geolocation.latitude,longitude:I.geolocation.longitude,accuracy_radius:I.geolocation.accuracyRadius,continent_code:(S=I.geolocation.continent)==null?void 0:S.code,continent_name:(k=I.geolocation.continent)==null?void 0:k.name,subdivisions:(A=I.geolocation.subdivisions)==null?void 0:A.map(oe=>({name:oe.name,iso_code:oe.isoCode}))}:void 0}}}if((T=t.ipBlocklist)!=null&&T.data&&(ee.ip_blocklist={tor_node:((D=(E=t.tor)==null?void 0:E.data)==null?void 0:D.result)||!1,email_spam:((_=t.ipBlocklist.data.details)==null?void 0:_.emailSpam)||!1,attack_source:((z=t.ipBlocklist.data.details)==null?void 0:z.attackSource)||!1}),(H=t.tampering)!=null&&H.data&&(ee.tampering=t.tampering.data.result,ee.tampering_details={anomaly_score:t.tampering.data.anomalyScore,anti_detect_browser:t.tampering.data.antiDetectBrowser}),(q=t.virtualMachine)!=null&&q.data&&(ee.virtual_machine=t.virtualMachine.data.result),(K=t.developerTools)!=null&&K.data&&(ee.developer_tools=t.developerTools.data.result),(Y=t.highActivity)!=null&&Y.data&&(ee.high_activity_device=t.highActivity.data.result),(J=t.suspectScore)!=null&&J.data&&(ee.suspect_score=t.suspectScore.data.result),(Z=t.incognito)!=null&&Z.data&&(ee.incognito=t.incognito.data.result),(ne=t.privacySettings)!=null&&ne.data&&(ee.privacy_settings=t.privacySettings.data.result),(F=t.velocity)!=null&&F.data){const I=t.velocity.data;ee.velocity={distinct_ip:(Q=I.distinctIp)!=null&&Q.intervals?{"5_minutes":I.distinctIp.intervals["5m"],"1_hour":I.distinctIp.intervals["1h"],"24_hours":I.distinctIp.intervals["24h"]}:void 0,distinct_country:(W=I.distinctCountry)!=null&&W.intervals?{"5_minutes":I.distinctCountry.intervals["5m"],"1_hour":I.distinctCountry.intervals["1h"],"24_hours":I.distinctCountry.intervals["24h"]}:void 0,events:(G=I.events)!=null&&G.intervals?{"5_minutes":I.events.intervals["5m"],"1_hour":I.events.intervals["1h"],"24_hours":I.events.intervals["24h"]}:void 0,ip_events:(te=I.ipEvents)!=null&&te.intervals?{"5_minutes":I.ipEvents.intervals["5m"],"1_hour":I.ipEvents.intervals["1h"],"24_hours":I.ipEvents.intervals["24h"]}:void 0}}return ee}return null},dl=t=>{var e,r,s,a;return(e=t.ip_blocklist)!=null&&e.tor_node||t.proxy&&t.vpn||(s=(r=t.ip_info)==null?void 0:r.v4)!=null&&s.datacenter_result||t.tampering||(a=t.tampering_details)!=null&&a.anti_detect_browser||t.bot&&t.bot!=="not_detected"||t.high_activity_device?"high":t.vpn||t.proxy||t.virtual_machine||t.developer_tools?"mid":"low"},el=({icon:t,title:e})=>n.jsxs("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-3 flex items-center gap-2 border-b border-gray-100 pb-2 mt-2",children:[t," ",e]}),ur=({icon:t,label:e,value:r,mono:s,small:a})=>n.jsxs("div",{className:`flex justify-between items-center ${a?"py-1":"py-1.5"} border-b border-gray-50 last:border-0`,children:[n.jsxs("span",{className:"text-gray-500 text-xs font-medium flex items-center gap-1.5",children:[t&&n.jsx("span",{className:"text-gray-400",children:t}),e]}),n.jsx("span",{className:`text-xs text-gray-800 ${s?"font-mono":"font-medium"} text-right truncate max-w-[180px]`,title:String(r),children:r??""})]}),Gr=({icon:t,label:e,value:r,inverse:s})=>{const i=(s?!r:r)?"text-red-600 bg-red-50 border-red-100":"text-green-600 bg-green-50 border-green-100",o=r?"Yes":"No";return n.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50 last:border-0",children:[n.jsxs("span",{className:"text-gray-500 text-xs font-medium flex items-center gap-1.5",children:[t&&n.jsx("span",{className:"text-gray-400",children:t}),e]}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${i}`,children:o})]})},AJ=({log:t,onClose:e})=>{var f,m,p,x,g,y,v,b,w,N,C,S,k,A,T,E,D,_,z,H,q,K,Y,J,Z,ne,F,Q,W,G,te,ee,I,oe,V,pe,ye,Ae,Re,nt;const[r,s]=P.useState(!1);let a=null,i=null;try{a=t.fingerprintData,i=s_(a)}catch{a=null,i=null}if(!i)return null;const o=(f=i.ip_info)==null?void 0:f.v4,l=o==null?void 0:o.geolocation,c=i.browser_details,d=i.velocity,u=i.suspect_score,h=(m=i.tampering_details)==null?void 0:m.anomaly_score;return n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:n.jsxs(X.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col shadow-2xl",onClick:Xe=>Xe.stopPropagation(),children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600 shadow-sm",children:n.jsx(Zd,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:["Visitor ID: ",n.jsx("span",{className:"font-mono text-indigo-600",children:(p=i.identification)==null?void 0:p.visitor_id})]}),n.jsxs("div",{className:"flex gap-3 text-xs text-gray-500 font-medium mt-0.5",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Rh,{className:"w-3 h-3 text-yellow-500"})," Confidence: ",(g=(x=i.identification)==null?void 0:x.confidence)==null?void 0:g.score]}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-3 h-3"})," ",new Date(i.timestamp||0).toLocaleString()]}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsxs("span",{className:"font-mono",children:["Event: ",i.event_id]})]})]})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:n.jsx("span",{className:"text-xl leading-none text-gray-500",children:""})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3 mb-6",children:[n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${dl(i)==="high"?"bg-red-50 border-red-200":dl(i)==="mid"?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"}`,children:[n.jsx(Ia,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Risk Level"}),n.jsx("div",{className:`text-lg font-bold ${dl(i)==="high"?"text-red-600":dl(i)==="mid"?"text-orange-600":"text-green-600"}`,children:u??""})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.bot==="not_detected"?"bg-white border-gray-200":"bg-red-50 border-red-200"}`,children:[n.jsx(os,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Bot Status"}),i.bot==="not_detected"?n.jsx(kn,{className:"w-5 h-5 text-green-500 mx-auto"}):n.jsx(Ad,{className:"w-5 h-5 text-red-500 mx-auto"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.vpn?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(wi,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"VPN"}),i.vpn?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.proxy?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(Js,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Proxy"}),i.proxy?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${(y=i.ip_blocklist)!=null&&y.tor_node?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[n.jsx(Et,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Tor"}),(v=i.ip_blocklist)!=null&&v.tor_node?n.jsx("span",{className:"text-sm font-bold text-red-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.virtual_machine?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[n.jsx(Ia,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"VM"}),i.virtual_machine?n.jsx("span",{className:"text-sm font-bold text-orange-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.developer_tools?"bg-yellow-50 border-yellow-200":"bg-white border-gray-200"}`,children:[n.jsx(ei,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"DevTools"}),i.developer_tools?n.jsx("span",{className:"text-sm font-bold text-yellow-600",children:"OPEN"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]}),n.jsxs("div",{className:`p-3 rounded-lg border text-center relative ${i.tampering?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[n.jsx(dt,{className:"absolute top-2 right-2 w-3 h-3 text-gray-400"}),n.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Tampering"}),i.tampering?n.jsx("span",{className:"text-sm font-bold text-red-600",children:"YES"}):n.jsx("span",{className:"text-sm font-bold text-gray-400",children:"NO"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(el,{icon:n.jsx(Et,{className:"w-4 h-4 text-blue-500"}),title:"Geolocation"}),n.jsx(ur,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"Address",value:o==null?void 0:o.address,mono:!0}),n.jsx(ur,{icon:n.jsx(Qb,{className:"w-3 h-3"}),label:"Coordinates",value:`${l==null?void 0:l.latitude}, ${l==null?void 0:l.longitude}`,mono:!0}),n.jsx(ur,{icon:n.jsx(os,{className:"w-3 h-3"}),label:"Accuracy",value:`${l==null?void 0:l.accuracy_radius} km`}),n.jsx(ur,{icon:n.jsx(Et,{className:"w-3 h-3"}),label:"Country",value:`${l==null?void 0:l.country_name} (${l==null?void 0:l.country_code})`}),n.jsx(ur,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"Region",value:`${(w=(b=l==null?void 0:l.subdivisions)==null?void 0:b[0])==null?void 0:w.name} (${(C=(N=l==null?void 0:l.subdivisions)==null?void 0:N[0])==null?void 0:C.iso_code})`}),n.jsx(ur,{icon:n.jsx(Rn,{className:"w-3 h-3"}),label:"City / Zip",value:`${l==null?void 0:l.city_name}, ${l==null?void 0:l.postal_code}`}),n.jsx(ur,{icon:n.jsx(tr,{className:"w-3 h-3"}),label:"Timezone",value:l==null?void 0:l.timezone}),n.jsx(ur,{icon:n.jsx(Et,{className:"w-3 h-3"}),label:"Continent",value:`${l==null?void 0:l.continent_name} (${l==null?void 0:l.continent_code})`})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(el,{icon:n.jsx(wi,{className:"w-4 h-4 text-indigo-500"}),title:"ISP & Network"}),n.jsx(ur,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"ASN Name",value:o==null?void 0:o.asn_name}),n.jsx(ur,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"ASN",value:o==null?void 0:o.asn,mono:!0}),n.jsx(ur,{icon:n.jsx(wi,{className:"w-3 h-3"}),label:"Network",value:o==null?void 0:o.asn_network,mono:!0}),n.jsx(ur,{icon:n.jsx(Ri,{className:"w-3 h-3"}),label:"Type",value:o==null?void 0:o.asn_type}),n.jsx(Gr,{icon:n.jsx(Js,{className:"w-3 h-3"}),label:"Datacenter IP",value:o==null?void 0:o.datacenter_result}),(o==null?void 0:o.datacenter_result)&&n.jsx(ur,{label:"DC Name",value:o.datacenter_name})]}),(l==null?void 0:l.latitude)&&(l==null?void 0:l.longitude)&&n.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:n.jsx("iframe",{width:"100%",height:"300",frameBorder:"0",style:{border:0},src:`https://www.openstreetmap.org/export/embed.html?bbox=${l.longitude-.1},${l.latitude-.1},${l.longitude+.1},${l.latitude+.1}&layer=mapnik&marker=${l.latitude},${l.longitude}`})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(el,{icon:n.jsx(Qd,{className:"w-4 h-4 text-red-500"}),title:"VPN & Proxy Analysis"}),n.jsx(Gr,{icon:n.jsx(t1,{className:"w-3 h-3"}),label:"VPN Detected",value:i.vpn}),n.jsx(ur,{label:"VPN Confidence",value:i.vpn_confidence}),n.jsx(ur,{label:"VPN Origin Time",value:i.vpn_origin_timezone}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx("p",{className:"text-[10px] text-gray-400 font-bold mb-1",children:"VPN METHODS"}),n.jsx(Gr,{label:"Timezone Mismatch",value:(S=i.vpn_methods)==null?void 0:S.timezone_mismatch}),n.jsx(Gr,{label:"Public VPN",value:(k=i.vpn_methods)==null?void 0:k.public_vpn}),n.jsx(Gr,{label:"OS Mismatch",value:(A=i.vpn_methods)==null?void 0:A.os_mismatch}),n.jsx(Gr,{label:"Auxiliary Mobile",value:(T=i.vpn_methods)==null?void 0:T.auxiliary_mobile}),n.jsx(Gr,{label:"Relay",value:(E=i.vpn_methods)==null?void 0:E.relay})]}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx(Gr,{icon:n.jsx(Ri,{className:"w-3 h-3"}),label:"Proxy Detected",value:i.proxy}),n.jsx(ur,{label:"Proxy Confidence",value:i.proxy_confidence}),n.jsx(ur,{label:"Proxy Type",value:(D=i.proxy_details)==null?void 0:D.proxy_type}),n.jsx(ur,{label:"Provider",value:(_=i.proxy_details)==null?void 0:_.provider}),n.jsx(ur,{label:"Last Seen",value:(z=i.proxy_details)!=null&&z.last_seen_at?new Date(i.proxy_details.last_seen_at).toLocaleDateString():""})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(el,{icon:n.jsx(Ia,{className:"w-4 h-4 text-purple-500"}),title:"Device & Software"}),n.jsx(ur,{icon:n.jsx(Ia,{className:"w-3 h-3"}),label:"Browser",value:`${c==null?void 0:c.browser_name} ${c==null?void 0:c.browser_full_version}`}),n.jsx(ur,{icon:n.jsx(qb,{className:"w-3 h-3"}),label:"OS",value:`${c==null?void 0:c.os} ${c==null?void 0:c.os_version}`}),n.jsx(ur,{icon:n.jsx(xa,{className:"w-3 h-3"}),label:"Device",value:c==null?void 0:c.device}),n.jsx(ur,{icon:n.jsx(ei,{className:"w-3 h-3"}),label:"User Agent",value:i.user_agent,small:!0}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[n.jsx(Gr,{icon:n.jsx(e1,{className:"w-3 h-3"}),label:"Incognito",value:i.incognito}),n.jsx(Gr,{icon:n.jsx(Ts,{className:"w-3 h-3"}),label:"Privacy Settings",value:i.privacy_settings}),n.jsx(Gr,{icon:n.jsx(Zb,{className:"w-3 h-3"}),label:"Virtual Machine",value:i.virtual_machine}),n.jsx(Gr,{icon:n.jsx(os,{className:"w-3 h-3"}),label:"High Activity",value:i.high_activity_device})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(el,{icon:n.jsx(os,{className:"w-4 h-4 text-orange-500"}),title:"Velocity & History"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 text-center",children:[n.jsx("div",{className:"text-[9px] text-gray-400 font-bold self-center text-left",children:"METRIC"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"5m"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"1h"}),n.jsx("div",{className:"text-[9px] text-gray-400 font-bold",children:"24h"}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Events"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((H=d==null?void 0:d.events)==null?void 0:H["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((q=d==null?void 0:d.events)==null?void 0:q["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((K=d==null?void 0:d.events)==null?void 0:K["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"IP Events"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Y=d==null?void 0:d.ip_events)==null?void 0:Y["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((J=d==null?void 0:d.ip_events)==null?void 0:J["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Z=d==null?void 0:d.ip_events)==null?void 0:Z["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Dst. IPs"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((ne=d==null?void 0:d.distinct_ip)==null?void 0:ne["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((F=d==null?void 0:d.distinct_ip)==null?void 0:F["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((Q=d==null?void 0:d.distinct_ip)==null?void 0:Q["24_hours"])||0}),n.jsx("div",{className:"text-[10px] text-gray-600 text-left",children:"Dst. Cntry"}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((W=d==null?void 0:d.distinct_country)==null?void 0:W["5_minutes"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((G=d==null?void 0:d.distinct_country)==null?void 0:G["1_hour"])||0}),n.jsx("div",{className:"text-xs font-bold text-gray-800",children:((te=d==null?void 0:d.distinct_country)==null?void 0:te["24_hours"])||0})]}),n.jsx(ur,{label:"First Seen",value:(ee=i.identification)!=null&&ee.first_seen_at?new Date(i.identification.first_seen_at).toLocaleDateString():""}),n.jsx(ur,{label:"Last Seen",value:(I=i.identification)!=null&&I.last_seen_at?new Date(i.identification.last_seen_at).toLocaleDateString():""}),n.jsx(Gr,{label:"Visitor Found",value:(oe=i.identification)==null?void 0:oe.visitor_found,inverse:!0})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(el,{icon:n.jsx(Ad,{className:"w-4 h-4 text-red-500"}),title:"Security Details"}),n.jsx(Gr,{label:"Replayed Request",value:i.replayed}),n.jsx(Gr,{label:"Tor Node",value:(V=i.ip_blocklist)==null?void 0:V.tor_node}),n.jsx(Gr,{label:"Email Spam",value:(pe=i.ip_blocklist)==null?void 0:pe.email_spam}),n.jsx(Gr,{label:"Attack Source",value:(ye=i.ip_blocklist)==null?void 0:ye.attack_source}),n.jsxs("div",{className:"my-2 border-t border-gray-100 pt-2",children:[n.jsx(Gr,{icon:n.jsx(ei,{className:"w-3 h-3"}),label:"Dev Tools",value:i.developer_tools}),n.jsx(Gr,{icon:n.jsx(dt,{className:"w-3 h-3"}),label:"Tampering",value:i.tampering}),n.jsxs("div",{className:"flex justify-between items-center py-1.5 border-b border-gray-50 last:border-0",children:[n.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Anomaly Score"}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${h===0?"text-green-700 bg-green-50 border-green-200":dl(i)==="high"?"text-red-700 bg-red-50 border-red-200":dl(i)==="mid"?"text-orange-700 bg-orange-50 border-orange-200":"text-green-700 bg-green-50 border-green-200"}`,children:h??""})]}),n.jsx(Gr,{label:"Anti-Detect Browser",value:(Ae=i.tampering_details)==null?void 0:Ae.anti_detect_browser})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(el,{icon:n.jsx(hf,{className:"w-4 h-4 text-gray-500"}),title:"Technical Meta"}),n.jsx(ur,{label:"Environment",value:i.environment_id,mono:!0}),n.jsx(ur,{label:"SDK",value:`${(Re=i.sdk)==null?void 0:Re.platform} ${(nt=i.sdk)==null?void 0:nt.version}`,mono:!0}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:"TARGET URL"}),n.jsx("div",{className:"text-[10px] bg-gray-50 border border-gray-100 p-1.5 rounded break-all font-mono text-gray-600 mt-1 leading-tight",children:i.url})]})]})]})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsxs("button",{onClick:()=>s(!r),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[n.jsxs("span",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider flex items-center gap-2",children:[n.jsx(Js,{className:"w-3 h-3"})," Raw JSON Payload"]}),n.jsx("span",{className:"text-xs text-indigo-600 font-medium",children:r?"Collapse":"Expand"})]}),n.jsx(tt,{children:r&&n.jsxs(X.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"relative group",children:[n.jsx("button",{onClick:()=>navigator.clipboard.writeText(JSON.stringify(i,null,2)),className:"absolute top-2 right-2 p-1.5 bg-white/10 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy",children:n.jsx(ct,{className:"w-3 h-3"})}),n.jsx("pre",{className:"p-4 text-[10px] leading-relaxed font-mono bg-gray-900 text-green-400 overflow-x-auto max-h-80",children:JSON.stringify(i,null,2)})]})})]})]}),n.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end",children:n.jsx("button",{onClick:e,className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 shadow-sm active:scale-95 transition-all",children:"Close Report"})})]})})},TJ=()=>{var d;const{shopId:t}=Sx(),e=ii(),[r,s]=P.useState(1),[a,i]=P.useState(null),o=20,{data:l,isLoading:c}=kJ(t,{page:r,limit:o});return n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e("/admin/users"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Gy,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Login History"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View login attempts and fingerprint data"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{size:"lg"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Time"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Status"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"IP Address"})}),n.jsx("th",{className:"text-left px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Location"})}),n.jsx("th",{className:"text-right px-6 py-4"})]})}),n.jsx("tbody",{children:(d=l==null?void 0:l.logs)==null?void 0:d.map(u=>{let h=null;try{h=s_(u.fingerprintData)}catch{}const f=h?dl(h):"low";return n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-900",children:$e(new Date(u.createdAt),"UTC","dd.MM.yy HH:mm:ss")})}),n.jsx("td",{className:"px-6 py-4",children:u.success?n.jsxs("div",{className:"flex items-center space-x-1 text-green-700 bg-green-100 px-2 py-1 rounded-full text-xs font-medium w-fit",children:[n.jsx(kn,{className:"h-3 w-3"}),n.jsx("span",{children:"Success"})]}):n.jsxs("div",{className:"flex items-center space-x-1 text-red-700 bg-red-100 px-2 py-1 rounded-full text-xs font-medium w-fit",children:[n.jsx(hr,{className:"h-3 w-3"}),n.jsx("span",{children:"Failed"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-600 font-mono",children:u.ipAddress||""})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:u.geo||""})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(u),className:`p-2 rounded-lg transition-all duration-200 border ${h?f==="low"?"text-green-500 hover:text-white hover:bg-gradient-to-r hover:from-green-500 hover:to-emerald-600 border-green-200 hover:border-green-300":f==="mid"?"text-orange-500 hover:text-white hover:bg-gradient-to-r hover:from-orange-500 hover:to-amber-600 border-orange-200 hover:border-orange-300":"text-red-500 hover:text-white hover:bg-gradient-to-r hover:from-red-500 hover:to-rose-600 border-red-200 hover:border-red-300":"text-gray-400 hover:text-white hover:bg-gradient-to-r hover:from-gray-400 hover:to-gray-500 border-gray-200 hover:border-gray-300"}`,title:"View Fingerprint",children:n.jsx(Zd,{className:"h-4 w-4"})})})})]},u.id)})})]})}),!c&&(!(l!=null&&l.logs)||l.logs.length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Dt,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No login logs found"})]}),(l==null?void 0:l.pagination)&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(l.pagination.page-1)*l.pagination.limit+1," to"," ",Math.min(l.pagination.page*l.pagination.limit,l.pagination.total)," of"," ",l.pagination.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>s(Math.max(1,r-1)),disabled:r===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",l.pagination.page," of ",l.pagination.totalPages]}),n.jsx("button",{onClick:()=>s(Math.min(l.pagination.totalPages,r+1)),disabled:r===l.pagination.totalPages,className:"px-3 py-1 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),n.jsx(tt,{children:a&&n.jsx(AJ,{log:a,onClose:()=>i(null)})})]})};function EJ(){const{data:t,isLoading:e,error:r}=n5(),s=uY(),[a,i]=P.useState(null),[o,l]=P.useState(null),[c,d]=P.useState(""),[u,h]=P.useState({}),f=P.useMemo(()=>{if(!t)return[];if(!c)return t;const g=c.toLowerCase();return t.filter(y=>y.displayName.toLowerCase().includes(g)||y.name.toLowerCase().includes(g)||y.id.includes(g))},[t,c]),m=g=>{i(g.id),h({[g.id]:{minAmount:g.settings.minAmount||0,maxAmount:g.settings.maxAmount||0,payoutDelay:g.settings.payoutDelay||0,gatewayCommission:g.settings.gatewayCommission||0}})},p=()=>{i(null),h({})},x=async g=>{const y=u[g];if(y)try{await s.mutateAsync({gatewayId:g,settings:{minAmount:y.minAmount,maxAmount:y.maxAmount,payoutDelay:y.payoutDelay,gatewayCommission:y.gatewayCommission}}),i(null),h({}),ce.success("Gateway settings updated successfully")}catch(v){console.error("Failed to update gateway settings:",v),ce.error("Failed to update gateway settings")}};return e?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(Qe,{})}):r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load gateway settings"}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:"Retry"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateways"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure global settings for all payment gateways"})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(oc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search gateways...",value:c,onChange:g=>d(g.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all"})]})}),n.jsx(PJ,{gatewayId:o,onClose:()=>l(null)}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:!f||f.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ri,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No gateways found"}),n.jsx("p",{className:"text-gray-400 text-xs mt-1",children:c?"Try adjusting your search criteria":"No payment gateways available"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Gateway"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Zr,{className:"h-4 w-4"}),n.jsx("span",{children:"Min Amount"})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Fn,{className:"h-4 w-4"}),n.jsx("span",{children:"Max Amount"})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(tr,{className:"h-4 w-4"}),n.jsx("span",{children:"Payout Delay"})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Fn,{className:"h-4 w-4"}),n.jsx("span",{children:"Commission"})]})}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:f==null?void 0:f.map((g,y)=>{var v,b,w,N;return n.jsxs(X.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:y*.02},className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-primary/10 to-primary/5 rounded-xl",children:n.jsx(Ri,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:g.displayName}),n.jsx("div",{className:"text-xs text-gray-500 font-mono",children:g.id})]})]})}),n.jsx("td",{className:"px-6 py-4",children:a===g.id?n.jsx("input",{type:"number",value:((v=u[g.id])==null?void 0:v.minAmount)??g.settings.minAmount??0,onChange:C=>h({...u,[g.id]:{...u[g.id]||{minAmount:g.settings.minAmount||0,maxAmount:g.settings.maxAmount||0,payoutDelay:g.settings.payoutDelay||0},minAmount:parseFloat(C.target.value)||0}}),className:"w-32 px-3 py-1.5 text-sm rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"0",min:"0",step:"0.01"}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",g.settings.minAmount||0]}),n.jsx("span",{className:"text-xs text-gray-400",children:"USDC"})]})}),n.jsx("td",{className:"px-6 py-4",children:a===g.id?n.jsx("input",{type:"number",value:((b=u[g.id])==null?void 0:b.maxAmount)??g.settings.maxAmount??0,onChange:C=>h({...u,[g.id]:{...u[g.id]||{minAmount:g.settings.minAmount||0,maxAmount:g.settings.maxAmount||0,payoutDelay:g.settings.payoutDelay||0},maxAmount:parseFloat(C.target.value)||0}}),className:"w-32 px-3 py-1.5 text-sm rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"0",min:"0",step:"0.01"}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",g.settings.maxAmount||0]}),n.jsx("span",{className:"text-xs text-gray-400",children:"USDC"})]})}),n.jsx("td",{className:"px-6 py-4",children:a===g.id?n.jsx("input",{type:"number",value:((w=u[g.id])==null?void 0:w.payoutDelay)??g.settings.payoutDelay??0,onChange:C=>h({...u,[g.id]:{...u[g.id]||{minAmount:g.settings.minAmount||0,maxAmount:g.settings.maxAmount||0,payoutDelay:g.settings.payoutDelay||0,gatewayCommission:g.settings.gatewayCommission||0},payoutDelay:parseInt(C.target.value)||0}}),className:"w-24 px-3 py-1.5 text-sm rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"0",min:"0",step:"1"}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:g.settings.payoutDelay||0}),n.jsx("span",{className:"text-xs text-gray-400",children:"days"})]})}),n.jsx("td",{className:"px-6 py-4",children:a===g.id?n.jsx("input",{type:"number",value:((N=u[g.id])==null?void 0:N.gatewayCommission)??g.settings.gatewayCommission??0,onChange:C=>h({...u,[g.id]:{...u[g.id]||{minAmount:g.settings.minAmount||0,maxAmount:g.settings.maxAmount||0,payoutDelay:g.settings.payoutDelay||0,gatewayCommission:g.settings.gatewayCommission||0},gatewayCommission:parseFloat(C.target.value)||0}}),className:"w-24 px-3 py-1.5 text-sm rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"0",min:"0",max:"100",step:"0.1"}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:g.settings.gatewayCommission||0}),n.jsx("span",{className:"text-xs text-gray-400",children:"%"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-end space-x-2",children:a===g.id?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:p,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all",title:"Cancel",children:n.jsx(Lt,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>x(g.id),disabled:s.isPending,className:"p-2 text-primary hover:text-primary-dark hover:bg-primary/10 rounded-lg transition-all disabled:opacity-50",title:"Save",children:n.jsx(kx,{className:"h-4 w-4"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>l(g.id),className:"p-2 text-primary hover:text-primary-dark hover:bg-primary/10 rounded-lg transition-all",title:"Statistics",children:n.jsx(Td,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>m(g),className:"p-2 text-gray-400 hover:text-primary hover:bg-gray-100 rounded-lg transition-all",title:"Edit",children:n.jsx(Pd,{className:"h-4 w-4"})})]})})})]},g.id)})})]})})})]})}function PJ({gatewayId:t,onClose:e}){const{data:r,isLoading:s}=hY(t||""),{data:a}=n5(),i=a==null?void 0:a.find(o=>o.id===t);return t?n.jsx(tt,{children:n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",onClick:e,children:n.jsxs(X.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:o=>o.stopPropagation(),className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-hidden",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[n.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg sm:rounded-xl flex-shrink-0",children:n.jsx(Td,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("h2",{className:"text-base sm:text-xl font-bold text-gray-900 truncate",children:[i==null?void 0:i.displayName," Statistics"]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:"All-time performance metrics"})]})]}),n.jsx("button",{onClick:e,className:"p-1.5 sm:p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all flex-shrink-0 ml-2",children:n.jsx(Lt,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}),n.jsx("div",{className:"p-4 sm:p-6 overflow-y-auto max-h-[calc(95vh-100px)] sm:max-h-[calc(90vh-140px)]",children:s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Qe,{})}):r?n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-xl sm:rounded-2xl bg-primary p-5 sm:p-8 shadow-xl",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 sm:w-64 sm:h-64 bg-white/5 rounded-full -mr-16 sm:-mr-32 -mt-16 sm:-mt-32"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 sm:w-48 sm:h-48 bg-white/5 rounded-full -ml-12 sm:-ml-24 -mb-12 sm:-mb-24"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-2",children:[n.jsx(Fn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white/60"}),n.jsx("p",{className:"text-white/60 text-xs font-medium uppercase tracking-wider",children:"Total Turnover"})]}),n.jsxs("div",{className:"flex items-baseline space-x-2 sm:space-x-3 flex-wrap",children:[n.jsxs("p",{className:"text-3xl sm:text-5xl font-black text-white tracking-tight",children:["$",r.totalTurnover.toLocaleString("en-US",{maximumFractionDigits:2})]}),n.jsx("span",{className:"text-white/80 text-base sm:text-lg font-semibold",children:"USDC"})]}),n.jsx("p",{className:"text-white/70 text-xs mt-2",children:"All successful payments combined"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[n.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"rounded-xl bg-white border border-gray-200 p-4 sm:p-5 hover:border-gray-300 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[n.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:n.jsx(Fn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),n.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Rate"})]}),n.jsx("h4",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide mb-1",children:"Gateway Commission"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:[(i==null?void 0:i.settings.gatewayCommission)||0,"%"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Global gateway fee rate"})]}),n.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.12},className:"rounded-xl bg-white border border-gray-200 p-4 sm:p-5 hover:border-gray-300 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[n.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:n.jsx(Zr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),n.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Gateway Fee"})]}),n.jsx("h4",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide mb-1",children:"Commission Paid"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["$",r.totalCommission.toLocaleString("en-US",{maximumFractionDigits:0})]}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[r.totalTurnover>0?(r.totalCommission/r.totalTurnover*100).toFixed(2):0,"% of turnover"]})]}),n.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.14},className:"rounded-xl bg-white border border-gray-200 p-4 sm:p-5 hover:border-gray-300 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[n.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:n.jsx(Td,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),n.jsx("span",{className:"text-xs text-gray-500 font-medium",children:" Success"})]}),n.jsx("h4",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide mb-1",children:"Completed"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r.successfulPayments.toLocaleString("en-US")}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Total successful transactions"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"rounded-xl bg-white border border-gray-200 p-4 sm:p-5 hover:border-gray-300 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[n.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:n.jsx(Fn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[r.chargebackRate.toFixed(2),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:"Chargeback"})]})]}),n.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-1000",style:{width:`${Math.min(r.chargebackRate*10,100)}%`}})}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("span",{className:"text-xs text-gray-600 font-medium",children:[r.chargebackCount," chargebacks"]}),n.jsxs("span",{className:"text-xs text-gray-400",children:["of ",r.successfulPayments]})]})]}),n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"rounded-xl bg-white border border-gray-200 p-4 sm:p-5 hover:border-gray-300 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[n.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:n.jsx(Lt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:r.refundCount}),n.jsx("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:"Refunds"})]})]}),n.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-1000",style:{width:`${r.successfulPayments>0?Math.min(r.refundCount/r.successfulPayments*100*10,100):0}%`}})}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("span",{className:"text-xs text-gray-600 font-medium",children:[r.successfulPayments>0?(r.refundCount/r.successfulPayments*100).toFixed(2):0,"% refund rate"]}),n.jsx("span",{className:"text-xs text-gray-400",children:"Reversed"})]})]})]})]}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No statistics available"})})})]})})}):null}const _J=rF([{path:"/",element:n.jsx(d9,{}),children:[{index:!0,element:n.jsx(Go,{to:"/dashboard/account",replace:!0})},{path:"dashboard",children:[{index:!0,element:n.jsx(Go,{to:"/dashboard/account",replace:!0})},{path:"account",element:n.jsx(xY,{})},{path:"integration",element:n.jsx(cY,{})},{path:"transactions",element:n.jsx(xQ,{})},{path:"payouts",element:n.jsx(gQ,{})},{path:"settings",element:n.jsx(bQ,{})},{path:"payment-links",element:n.jsx(TQ,{})},{path:"*",element:n.jsx(Go,{to:"/dashboard/account",replace:!0})}]},{path:"admin",children:[{index:!0,element:n.jsx(Go,{to:"/admin/dashboard",replace:!0})},{path:"dashboard",element:n.jsx(qo,{children:n.jsx(BW,{})})},{path:"users",element:n.jsx(qo,{children:n.jsx(ZW,{})})},{path:"users/:shopId/login-logs",element:n.jsx(qo,{children:n.jsx(TJ,{})})},{path:"payments",element:n.jsx(qo,{children:n.jsx(_Q,{})})},{path:"payouts",element:n.jsx(qo,{children:n.jsx(SJ,{})})},{path:"settings",element:n.jsx(qo,{children:n.jsx(CJ,{})})},{path:"gateways",element:n.jsx(qo,{children:n.jsx(EJ,{})})},{path:"*",element:n.jsx(Go,{to:"/admin/dashboard",replace:!0})}]},{path:"*",element:n.jsx(Go,{to:"/dashboard/account",replace:!0})}]},{path:"/login",element:n.jsx($9,{})},{path:"/payment/:id",element:n.jsx(t7,{})},{path:"/payment/success",element:n.jsx(r7,{})},{path:"/payment/pending",element:n.jsx(a7,{})},{path:"/payment/fail",element:n.jsx(iS,{})},{path:"/payment/failed",element:n.jsx(iS,{})},{path:"/link/:id",element:n.jsx(c7,{})},{path:"/p/:code",element:n.jsx(h7,{})},{path:"*",element:n.jsx(Go,{to:"/login",replace:!0})}]);function DJ(){return n.jsxs(IF,{client:N6,children:[n.jsx(uF,{router:_J}),n.jsx(w6,{position:"top-right",richColors:!0})]})}i4(document.getElementById("root")).render(n.jsx(P.StrictMode,{children:n.jsx(DJ,{})}));
